var VJ=Object.defineProperty;var o=(t,e)=>VJ(t,"name",{value:e,configurable:!0});const Fe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Dt=globalThis,Qc="10.32.1";function wp(){return Zv(Dt),Dt}o(wp,"getMainCarrier");function Zv(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||Qc,e[Qc]=e[Qc]||{}}o(Zv,"getSentryCarrier");function vp(t,e,n=Dt){const r=n.__SENTRY__=n.__SENTRY__||{},s=r[Qc]=r[Qc]||{};return s[t]||(s[t]=e())}o(vp,"getGlobalSingleton");const jJ=["debug","info","warn","error","log","assert","trace"],WJ="Sentry Logger ",A_={};function Ep(t){if(!("console"in Dt))return t();const e=Dt.console,n={},r=Object.keys(A_);r.forEach(s=>{const i=A_[s];n[s]=e[s],e[s]=i});try{return t()}finally{r.forEach(s=>{e[s]=n[s]})}}o(Ep,"consoleSandbox");function HJ(){xI().enabled=!0}o(HJ,"enable");function qJ(){xI().enabled=!1}o(qJ,"disable");function rB(){return xI().enabled}o(rB,"isEnabled");function GJ(...t){EI("log",...t)}o(GJ,"log$2");function KJ(...t){EI("warn",...t)}o(KJ,"warn$4");function YJ(...t){EI("error",...t)}o(YJ,"error$2");function EI(t,...e){Fe&&rB()&&Ep(()=>{Dt.console[t](`${WJ}[${t}]:`,...e)})}o(EI,"_maybeLog");function xI(){return Fe?vp("loggerSettings",()=>({enabled:!1})):{enabled:!1}}o(xI,"_getLoggerSettings");const Me={enable:HJ,disable:qJ,isEnabled:rB,log:GJ,warn:KJ,error:YJ},sB=50,df="?",HM=/\(error: (.*)\)/,qM=/captureMessage|captureException/;function iB(...t){const e=t.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],a=n.split(`
`);for(let l=r;l<a.length;l++){let u=a[l];u.length>1024&&(u=u.slice(0,1024));const c=HM.test(u)?u.replace(HM,"$1"):u;if(!c.match(/\S*Error: /)){for(const f of e){const h=f(c);if(h){i.push(h);break}}if(i.length>=sB+s)break}}return JJ(i.slice(s))}}o(iB,"createStackParser");function XJ(t){return Array.isArray(t)?iB(...t):t}o(XJ,"stackParserFromStackParserOptions");function JJ(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(L1(e).function||"")&&e.pop(),e.reverse(),qM.test(L1(e).function||"")&&(e.pop(),qM.test(L1(e).function||"")&&e.pop()),e.slice(0,sB).map(n=>({...n,filename:n.filename||L1(e).filename,function:n.function||df}))}o(JJ,"stripSentryFramesAndReverse");function L1(t){return t[t.length-1]||{}}o(L1,"getLastStackFrame");const n2="<anonymous>";function Mu(t){try{return!t||typeof t!="function"?n2:t.name||n2}catch{return n2}}o(Mu,"getFunctionName");function GM(t){const e=t.exception;if(e){const n=[];try{return e.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}o(GM,"getFramesFromEvent");function oB(t){return"__v_isVNode"in t&&t.__v_isVNode?"[VueVNode]":"[VueViewModel]"}o(oB,"getVueInternalName");const zb={},KM={};function Wf(t,e){zb[t]=zb[t]||[],zb[t].push(e)}o(Wf,"addHandler");function Hf(t,e){if(!KM[t]){KM[t]=!0;try{e()}catch(n){Fe&&Me.error(`Error while instrumenting ${t}`,n)}}}o(Hf,"maybeInstrument");function so(t,e){const n=t&&zb[t];if(n)for(const r of n)try{r(e)}catch(s){Fe&&Me.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Mu(r)}
Error:`,s)}}o(so,"triggerHandlers");let r2=null;function ZJ(t){const e="error";Wf(e,t),Hf(e,QJ)}o(ZJ,"addGlobalErrorInstrumentationHandler");function QJ(){r2=Dt.onerror,Dt.onerror=function(t,e,n,r,s){return so("error",{column:r,error:s,line:n,msg:t,url:e}),r2?r2.apply(this,arguments):!1},Dt.onerror.__SENTRY_INSTRUMENTED__=!0}o(QJ,"instrumentError");let s2=null;function eZ(t){const e="unhandledrejection";Wf(e,t),Hf(e,tZ)}o(eZ,"addGlobalUnhandledRejectionInstrumentationHandler");function tZ(){s2=Dt.onunhandledrejection,Dt.onunhandledrejection=function(t){return so("unhandledrejection",t),s2?s2.apply(this,arguments):!0},Dt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}o(tZ,"instrumentUnhandledRejection");const aB=Object.prototype.toString;function SI(t){switch(aB.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Du(t,Error)}}o(SI,"isError$1");function xp(t,e){return aB.call(t)===`[object ${e}]`}o(xp,"isBuiltin");function lB(t){return xp(t,"ErrorEvent")}o(lB,"isErrorEvent$1");function YM(t){return xp(t,"DOMError")}o(YM,"isDOMError");function nZ(t){return xp(t,"DOMException")}o(nZ,"isDOMException");function ul(t){return xp(t,"String")}o(ul,"isString$8");function TI(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}o(TI,"isParameterizedString");function Qv(t){return t===null||TI(t)||typeof t!="object"&&typeof t!="function"}o(Qv,"isPrimitive$1");function Zg(t){return xp(t,"Object")}o(Zg,"isPlainObject$5");function eE(t){return typeof Event<"u"&&Du(t,Event)}o(eE,"isEvent");function rZ(t){return typeof Element<"u"&&Du(t,Element)}o(rZ,"isElement$1");function sZ(t){return xp(t,"RegExp")}o(sZ,"isRegExp$5");function cy(t){return!!(t?.then&&typeof t.then=="function")}o(cy,"isThenable$1");function iZ(t){return Zg(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}o(iZ,"isSyntheticEvent");function Du(t,e){try{return t instanceof e}catch{return!1}}o(Du,"isInstanceOf");function uB(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue||t.__v_isVNode))}o(uB,"isVueViewModel");function cB(t){return typeof Request<"u"&&Du(t,Request)}o(cB,"isRequest$1");const kI=Dt,oZ=80;function fB(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,s=[];let i=0,a=0;const l=" > ",u=l.length;let c;const f=Array.isArray(e)?e:e.keyAttrs,h=!Array.isArray(e)&&e.maxStringLength||oZ;for(;n&&i++<r&&(c=aZ(n,f),!(c==="html"||i>1&&a+s.length*u+c.length>=h));)s.push(c),a+=c.length,n=n.parentNode;return s.reverse().join(l)}catch{return"<unknown>"}}o(fB,"htmlTreeAsString");function aZ(t,e){const n=t,r=[];if(!n?.tagName)return"";if(kI.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=e?.length?e.filter(a=>n.getAttribute(a)).map(a=>[a,n.getAttribute(a)]):null;if(s?.length)s.forEach(a=>{r.push(`[${a[0]}="${a[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const a=n.className;if(a&&ul(a)){const l=a.split(/\s+/);for(const u of l)r.push(`.${u}`)}}const i=["aria-label","type","name","title","alt"];for(const a of i){const l=n.getAttribute(a);l&&r.push(`[${a}="${l}"]`)}return r.join("")}o(aZ,"_htmlElementAsString");function AI(){try{return kI.document.location.href}catch{return""}}o(AI,"getLocationHref");function lZ(t){if(!kI.HTMLElement)return null;let e=t;const n=5;for(let r=0;r<n;r++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}o(lZ,"getComponentName$1");function Js(t,e,n){if(!(e in t))return;const r=t[e];if(typeof r!="function")return;const s=n(r);typeof s=="function"&&hB(s,r);try{t[e]=s}catch{Fe&&Me.log(`Failed to replace method "${e}" in object`,t)}}o(Js,"fill$2");function Mi(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{Fe&&Me.log(`Failed to add non-enumerable property "${e}" to object`,t)}}o(Mi,"addNonEnumerableProperty");function hB(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,Mi(t,"__sentry_original__",e)}catch{}}o(hB,"markFunctionWrapped");function CI(t){return t.__sentry_original__}o(CI,"getOriginalFunction");function dB(t){if(SI(t))return{message:t.message,name:t.name,stack:t.stack,...JM(t)};if(eE(t)){const e={type:t.type,target:XM(t.target),currentTarget:XM(t.currentTarget),...JM(t)};return typeof CustomEvent<"u"&&Du(t,CustomEvent)&&(e.detail=t.detail),e}else return t}o(dB,"convertToPlainObject");function XM(t){try{return rZ(t)?fB(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}o(XM,"serializeEventTarget");function JM(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}o(JM,"getOwnProperties");function uZ(t){const e=Object.keys(dB(t));return e.sort(),e[0]?e.join(", "):"[object has no keys]"}o(uZ,"extractExceptionKeysForMessage");function sk(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}o(sk,"truncate$1");function ZM(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const s=t[r];try{uB(s)?n.push(oB(s)):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}o(ZM,"safeJoin");function Vb(t,e,n=!1){return ul(t)?sZ(e)?e.test(t):ul(e)?n?t===e:t.includes(e):!1:!1}o(Vb,"isMatchingPattern");function tE(t,e=[],n=!1){return e.some(r=>Vb(t,r,n))}o(tE,"stringMatchesSomePattern");function cZ(){const t=Dt;return t.crypto||t.msCrypto}o(cZ,"getCrypto");let i2;function fZ(){return Math.random()*16}o(fZ,"getRandomByte");function Ai(t=cZ()){try{if(t?.randomUUID)return t.randomUUID().replace(/-/g,"")}catch{}return i2||(i2="10000000100040008000"+1e11),i2.replace(/[018]/g,e=>(e^(fZ()&15)>>e/4).toString(16))}o(Ai,"uuid4");function pB(t){return t.exception?.values?.[0]}o(pB,"getFirstException");function $c(t){const{message:e,event_id:n}=t;if(e)return e;const r=pB(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}o($c,"getEventDescription");function ik(t,e,n){const r=t.exception=t.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=e||""),i.type||(i.type="Error")}o(ik,"addExceptionTypeValue");function Md(t,e){const n=pB(t);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...e},e&&"data"in e){const i={...s?.data,...e.data};n.mechanism.data=i}}o(Md,"addExceptionMechanism");function QM(t){if(hZ(t))return!0;try{Mi(t,"__sentry_captured__",!0)}catch{}return!1}o(QM,"checkOrSetAlreadyCaught");function hZ(t){try{return t.__sentry_captured__}catch{}}o(hZ,"isAlreadyCaptured");const mB=1e3;function fy(){return Date.now()/mB}o(fy,"dateTimestampInSeconds");function dZ(){const{performance:t}=Dt;if(!t?.now||!t.timeOrigin)return fy;const e=t.timeOrigin;return()=>(e+t.now())/mB}o(dZ,"createUnixTimestampInSecondsFunc");let eD;function io(){return(eD??(eD=dZ()))()}o(io,"timestampInSeconds");function pZ(t){const e=io(),n={sid:Ai(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:o(()=>gZ(n),"toJSON")};return t&&Dd(n,t),n}o(pZ,"makeSession");function Dd(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||io(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Ai()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}o(Dd,"updateSession");function mZ(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),Dd(t,n)}o(mZ,"closeSession");function gZ(t){return{sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}}}o(gZ,"sessionToJSON");function hy(t,e,n=2){if(!e||typeof e!="object"||n<=0)return e;if(t&&Object.keys(e).length===0)return t;const r={...t};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=hy(r[s],e[s],n-1));return r}o(hy,"merge$2");function C_(){return Ai()}o(C_,"generateTraceId");function nE(){return Ai().substring(16)}o(nE,"generateSpanId");const ok="_sentrySpan";function ak(t,e){e?Mi(t,ok,e):delete t[ok]}o(ak,"_setSpanForScope");function I_(t){return t[ok]}o(I_,"_getSpanForScope");const yZ=100;class ua{static{o(this,"Scope")}constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:C_(),sampleRand:Math.random()}}clone(){const e=new ua;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._attributes={...this._attributes},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,ak(e,I_(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Dd(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this.setTags({[e]:n})}setAttributes(e){return this._attributes={...this._attributes,...e},this._notifyScopeListeners(),this}setAttribute(e,n){return this.setAttributes({[e]:n})}removeAttribute(e){return e in this._attributes&&(delete this._attributes[e],this._notifyScopeListeners()),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e,r=n instanceof ua?n.getScopeData():Zg(n)?e:void 0,{tags:s,attributes:i,extra:a,user:l,contexts:u,level:c,fingerprint:f=[],propagationContext:h}=r||{};return this._tags={...this._tags,...s},this._attributes={...this._attributes,...i},this._extra={...this._extra,...a},this._contexts={...this._contexts,...u},l&&Object.keys(l).length&&(this._user=l),c&&(this._level=c),f.length&&(this._fingerprint=f),h&&(this._propagationContext=h),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,ak(this,void 0),this._attachments=[],this.setPropagationContext({traceId:C_(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:yZ;if(r<=0)return this;const s={timestamp:fy(),...e,message:e.message?sk(e.message,2048):e.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:I_(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=hy(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n?.event_id||Ai();if(!this._client)return Fe&&Me.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...n,event_id:r},this),r}captureMessage(e,n,r){const s=r?.event_id||Ai();if(!this._client)return Fe&&Me.warn("No client configured on scope - will not capture message!"),s;const i=r?.syntheticException??new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:s},this),s}captureEvent(e,n){const r=n?.event_id||Ai();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(Fe&&Me.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}function bZ(){return vp("defaultCurrentScope",()=>new ua)}o(bZ,"getDefaultCurrentScope");function _Z(){return vp("defaultIsolationScope",()=>new ua)}o(_Z,"getDefaultIsolationScope");class wZ{static{o(this,"AsyncContextStack")}constructor(e,n){let r;e?r=e:r=new ua;let s;n?s=n:s=new ua,this._stack=[{scope:r}],this._isolationScope=s}withScope(e){const n=this._pushScope();let r;try{r=e(n)}catch(s){throw this._popScope(),s}return cy(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Pd(){const t=wp(),e=Zv(t);return e.stack=e.stack||new wZ(bZ(),_Z())}o(Pd,"getAsyncContextStack");function vZ(t){return Pd().withScope(t)}o(vZ,"withScope$1");function EZ(t,e){const n=Pd();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}o(EZ,"withSetScope");function tD(t){return Pd().withScope(()=>t(Pd().getIsolationScope()))}o(tD,"withIsolationScope");function xZ(){return{withIsolationScope:tD,withScope:vZ,withSetScope:EZ,withSetIsolationScope:o((t,e)=>tD(e),"withSetIsolationScope"),getCurrentScope:o(()=>Pd().getScope(),"getCurrentScope"),getIsolationScope:o(()=>Pd().getIsolationScope(),"getIsolationScope")}}o(xZ,"getStackAsyncContextStrategy");function dy(t){const e=Zv(t);return e.acs?e.acs:xZ()}o(dy,"getAsyncContextStrategy");function To(){const t=wp();return dy(t).getCurrentScope()}o(To,"getCurrentScope$1");function Sp(){const t=wp();return dy(t).getIsolationScope()}o(Sp,"getIsolationScope");function SZ(){return vp("globalScope",()=>new ua)}o(SZ,"getGlobalScope");function II(...t){const e=wp(),n=dy(e);if(t.length===2){const[r,s]=t;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(t[0])}o(II,"withScope");function Hn(){return To().getClient()}o(Hn,"getClient");function TZ(t){const e=t.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=e,i={trace_id:n,span_id:s||nE()};return r&&(i.parent_span_id=r),i}o(TZ,"getTraceContextFromScope");const R_="sentry.source",gB="sentry.sample_rate",kZ="sentry.previous_trace_sample_rate",lk="sentry.op",uk="sentry.origin",AZ="sentry.measurement_unit",CZ="sentry.measurement_value",nD="sentry.custom_span_name",RI="sentry.profile_id",OI="sentry.exclusive_time",IZ=0,RZ=1,yB="_sentryScope",bB="_sentryIsolationScope";function OZ(t){try{const e=Dt.WeakRef;if(typeof e=="function")return new e(t)}catch{}return t}o(OZ,"wrapScopeWithWeakRef");function NZ(t){if(t){if(typeof t=="object"&&"deref"in t&&typeof t.deref=="function")try{return t.deref()}catch{return}return t}}o(NZ,"unwrapScopeFromWeakRef");function MZ(t,e,n){t&&(Mi(t,bB,OZ(n)),Mi(t,yB,e))}o(MZ,"setCapturedScopesOnSpan");function O_(t){const e=t;return{scope:e[yB],isolationScope:NZ(e[bB])}}o(O_,"getCapturedScopesOnSpan");const DZ="sentry-",PZ=/^sentry-/;function $Z(t){const e=LZ(t);if(!e)return;const n=Object.entries(e).reduce((r,[s,i])=>{if(s.match(PZ)){const a=s.slice(DZ.length);r[a]=i}return r},{});if(Object.keys(n).length>0)return n}o($Z,"baggageHeaderToDynamicSamplingContext");function LZ(t){if(!(!t||!ul(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,n)=>{const r=rD(n);return Object.entries(r).forEach(([s,i])=>{e[s]=i}),e},{}):rD(t)}o(LZ,"parseBaggageHeader");function rD(t){return t.split(",").map(e=>{const n=e.indexOf("=");if(n===-1)return[];const r=e.slice(0,n),s=e.slice(n+1);return[r,s].map(i=>{try{return decodeURIComponent(i.trim())}catch{return}})}).reduce((e,[n,r])=>(n&&r&&(e[n]=r),e),{})}o(rD,"baggageHeaderToObject");const FZ=/^o(\d+)\./,BZ=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function UZ(t){return t==="http"||t==="https"}o(UZ,"isValidProtocol");function Tp(t,e=!1){const{host:n,path:r,pass:s,port:i,projectId:a,protocol:l,publicKey:u}=t;return`${l}://${u}${e&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${a}`}o(Tp,"dsnToString");function zZ(t){const e=BZ.exec(t);if(!e){Ep(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[n,r,s="",i="",a="",l=""]=e.slice(1);let u="",c=l;const f=c.split("/");if(f.length>1&&(u=f.slice(0,-1).join("/"),c=f.pop()),c){const h=c.match(/^\d+/);h&&(c=h[0])}return _B({host:i,pass:s,path:u,projectId:c,port:a,protocol:n,publicKey:r})}o(zZ,"dsnFromString");function _B(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}o(_B,"dsnFromComponents");function VZ(t){if(!Fe)return!0;const{port:e,projectId:n,protocol:r}=t;return["protocol","publicKey","host","projectId"].find(a=>t[a]?!1:(Me.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:n.match(/^\d+$/)?UZ(r)?e&&isNaN(parseInt(e,10))?(Me.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(Me.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(Me.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}o(VZ,"validateDsn");function jZ(t){return t.match(FZ)?.[1]}o(jZ,"extractOrgIdFromDsnHost");function WZ(t){const e=t.getOptions(),{host:n}=t.getDsn()||{};let r;return e.orgId?r=String(e.orgId):n&&(r=jZ(n)),r}o(WZ,"extractOrgIdFromClient");function HZ(t){const e=typeof t=="string"?zZ(t):_B(t);if(!(!e||!VZ(e)))return e}o(HZ,"makeDsn");function NI(t){if(typeof t=="boolean")return Number(t);const e=typeof t=="string"?parseFloat(t):t;if(!(typeof e!="number"||isNaN(e)||e<0||e>1))return e}o(NI,"parseSampleRate");const wB=0,MI=1;let sD=!1;function qZ(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:s,parent_span_id:i,status:a,origin:l,links:u}=Ci(t);return{parent_span_id:i,span_id:e,trace_id:n,data:r,op:s,status:a,origin:l,links:u}}o(qZ,"spanToTransactionTraceContext");function GZ(t){const{spanId:e,traceId:n,isRemote:r}=t.spanContext(),s=r?e:Ci(t).parent_span_id,i=O_(t).scope,a=r?i?.getPropagationContext().propagationSpanId||nE():e;return{parent_span_id:s,span_id:a,trace_id:n}}o(GZ,"spanToTraceContext");function vB(t){if(t&&t.length>0)return t.map(({context:{spanId:e,traceId:n,traceFlags:r,...s},attributes:i})=>({span_id:e,trace_id:n,sampled:r===MI,attributes:i,...s}))}o(vB,"convertSpanLinksForEnvelope");function ud(t){return typeof t=="number"?iD(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?iD(t.getTime()):io()}o(ud,"spanTimeInputToSeconds");function iD(t){return t>9999999999?t/1e3:t}o(iD,"ensureTimestampInSeconds");function Ci(t){if(YZ(t))return t.getSpanJSON();const{spanId:e,traceId:n}=t.spanContext();if(KZ(t)){const{attributes:r,startTime:s,name:i,endTime:a,status:l,links:u}=t,c="parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?t.parentSpanContext?.spanId:void 0;return{span_id:e,trace_id:n,data:r,description:i,parent_span_id:c,start_timestamp:ud(s),timestamp:ud(a)||void 0,status:EB(l),op:r[lk],origin:r[uk],links:vB(u)}}return{span_id:e,trace_id:n,start_timestamp:0,data:{}}}o(Ci,"spanToJSON");function KZ(t){const e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}o(KZ,"spanIsOpenTelemetrySdkTraceBaseSpan");function YZ(t){return typeof t.getSpanJSON=="function"}o(YZ,"spanIsSentrySpan");function py(t){const{traceFlags:e}=t.spanContext();return e===MI}o(py,"spanIsSampled");function EB(t){if(!(!t||t.code===IZ))return t.code===RZ?"ok":t.message||"internal_error"}o(EB,"getStatusMessage");const cg="_sentryChildSpans",ck="_sentryRootSpan";function xB(t,e){const n=t[ck]||t;Mi(e,ck,n),t[cg]?t[cg].add(e):Mi(t,cg,new Set([e]))}o(xB,"addChildSpanToSpan");function XZ(t){const e=new Set;function n(r){if(!e.has(r)&&py(r)){e.add(r);const s=r[cg]?Array.from(r[cg]):[];for(const i of s)n(i)}}return o(n,"addSpanChildren"),n(t),Array.from(e)}o(XZ,"getSpanDescendants");function xu(t){return t[ck]||t}o(xu,"getRootSpan");function h9e(){const t=wp(),e=dy(t);return e.getActiveSpan?e.getActiveSpan():I_(To())}o(h9e,"getActiveSpan");function fk(){sD||(Ep(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),sD=!0)}o(fk,"showSpanDropWarning");function DI(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=t||Hn()?.getOptions();return!!e&&(e.tracesSampleRate!=null||!!e.tracesSampler)}o(DI,"hasSpansEnabled");function oD(t){Me.log(`Ignoring span ${t.op} - ${t.description} because it matches \`ignoreSpans\`.`)}o(oD,"logIgnoredSpan");function hk(t,e){if(!e?.length||!t.description)return!1;for(const n of e){if(ZZ(n)){if(Vb(t.description,n))return Fe&&oD(t),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?Vb(t.description,n.name):!0,s=n.op?t.op&&Vb(t.op,n.op):!0;if(r&&s)return Fe&&oD(t),!0}return!1}o(hk,"shouldIgnoreSpan");function JZ(t,e){const n=e.parent_span_id,r=e.span_id;if(n)for(const s of t)s.parent_span_id===r&&(s.parent_span_id=n)}o(JZ,"reparentChildSpans");function ZZ(t){return typeof t=="string"||t instanceof RegExp}o(ZZ,"isStringOrRegExp");const PI="production",SB="_frozenDsc";function o2(t,e){Mi(t,SB,e)}o(o2,"freezeDscOnSpan");function TB(t,e){const n=e.getOptions(),{publicKey:r}=e.getDsn()||{},s={environment:n.environment||PI,release:n.release,public_key:r,trace_id:t,org_id:WZ(e)};return e.emit("createDsc",s),s}o(TB,"getDynamicSamplingContextFromClient");function QZ(t,e){const n=e.getPropagationContext();return n.dsc||TB(n.traceId,t)}o(QZ,"getDynamicSamplingContextFromScope");function Qg(t){const e=Hn();if(!e)return{};const n=xu(t),r=Ci(n),s=r.data,i=n.spanContext().traceState,a=i?.get("sentry.sample_rate")??s[gB]??s[kZ];function l(m){return(typeof a=="number"||typeof a=="string")&&(m.sample_rate=`${a}`),m}o(l,"applyLocalSampleRateToDsc");const u=n[SB];if(u)return l(u);const c=i?.get("sentry.dsc"),f=c&&$Z(c);if(f)return l(f);const h=TB(t.spanContext().traceId,e),d=s[R_],p=r.description;return d!=="url"&&p&&(h.transaction=p),DI()&&(h.sampled=String(py(n)),h.sample_rand=i?.get("sentry.sample_rand")??O_(n).scope?.getPropagationContext().sampleRand.toString()),l(h),e.emit("createDsc",h,n),h}o(Qg,"getDynamicSamplingContextFromSpan");class $I{static{o(this,"SentryNonRecordingSpan")}constructor(e={}){this._traceId=e.traceId||C_(),this._spanId=e.spanId||nE()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:wB}}end(e){}setAttribute(e,n){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,n,r){return this}addLink(e){return this}addLinks(e){return this}recordException(e,n){}}function Ga(t,e=100,n=1/0){try{return dk("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}o(Ga,"normalize$2");function kB(t,e=3,n=100*1024){const r=Ga(t,e);return rQ(r)>n?kB(t,e-1,n):r}o(kB,"normalizeToSize");function dk(t,e,n=1/0,r=1/0,s=sQ()){const[i,a]=s;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const l=eQ(t,e);if(!l.startsWith("[object "))return l;if(e.__sentry_skip_normalization__)return e;const u=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(u===0)return l.replace("object ","");if(i(e))return"[Circular ~]";const c=e;if(c&&typeof c.toJSON=="function")try{const p=c.toJSON();return dk("",p,u-1,r,s)}catch{}const f=Array.isArray(e)?[]:{};let h=0;const d=dB(e);for(const p in d){if(!Object.prototype.hasOwnProperty.call(d,p))continue;if(h>=r){f[p]="[MaxProperties ~]";break}const m=d[p];f[p]=dk(p,m,u-1,r,s),h++}return a(e),f}o(dk,"visit");function eQ(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(uB(e))return oB(e);if(iZ(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${Mu(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=tQ(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}o(eQ,"stringifyValue");function tQ(t){const e=Object.getPrototypeOf(t);return e?.constructor?e.constructor.name:"null prototype"}o(tQ,"getConstructorName");function nQ(t){return~-encodeURI(t).split(/%..|./).length}o(nQ,"utf8Length");function rQ(t){return nQ(JSON.stringify(t))}o(rQ,"jsonSize");function sQ(){const t=new WeakSet;function e(r){return t.has(r)?!0:(t.add(r),!1)}o(e,"memoize");function n(r){t.delete(r)}return o(n,"unmemoize"),[e,n]}o(sQ,"memoBuilder");function qf(t,e=[]){return[t,e]}o(qf,"createEnvelope");function iQ(t,e){const[n,r]=t;return[n,[...r,e]]}o(iQ,"addItemToEnvelope");function aD(t,e){const n=t[1];for(const r of n){const s=r[0].type;if(e(r,s))return!0}return!1}o(aD,"forEachEnvelopeItem");function pk(t){const e=Zv(Dt);return e.encodePolyfill?e.encodePolyfill(t):new TextEncoder().encode(t)}o(pk,"encodeUTF8");function oQ(t){const[e,n]=t;let r=JSON.stringify(e);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[pk(r),i]:r.push(typeof i=="string"?pk(i):i)}o(s,"append");for(const i of n){const[a,l]=i;if(s(`
${JSON.stringify(a)}
`),typeof l=="string"||l instanceof Uint8Array)s(l);else{let u;try{u=JSON.stringify(l)}catch{u=JSON.stringify(Ga(l))}s(u)}}return typeof r=="string"?r:aQ(r)}o(oQ,"serializeEnvelope");function aQ(t){const e=t.reduce((s,i)=>s+i.length,0),n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}o(aQ,"concatBuffers");function lQ(t){return[{type:"span"},t]}o(lQ,"createSpanEnvelopeItem");function uQ(t){const e=typeof t.data=="string"?pk(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}o(uQ,"createAttachmentEnvelopeItem");const cQ={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function lD(t){return cQ[t]}o(lD,"envelopeItemTypeToDataCategory");function AB(t){if(!t?.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}o(AB,"getSdkMetadataForEnvelopeHeader");function fQ(t,e,n,r){const s=t.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:Tp(r)},...s&&{trace:s}}}o(fQ,"createEventEnvelopeHeaders");function hQ(t,e){if(!e)return t;const n=t.sdk||{};return t.sdk={...n,name:n.name||e.name,version:n.version||e.version,integrations:[...t.sdk?.integrations||[],...e.integrations||[]],packages:[...t.sdk?.packages||[],...e.packages||[]],settings:t.sdk?.settings||e.settings?{...t.sdk?.settings,...e.settings}:void 0},t}o(hQ,"_enhanceEventWithSdkInfo");function dQ(t,e,n,r){const s=AB(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&e&&{dsn:Tp(e)}},a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return qf(i,[a])}o(dQ,"createSessionEnvelope");function pQ(t,e,n,r){const s=AB(n),i=t.type&&t.type!=="replay_event"?t.type:"event";hQ(t,n?.sdk);const a=fQ(t,s,r,e);return delete t.sdkProcessingMetadata,qf(a,[[{type:i},t]])}o(pQ,"createEventEnvelope");function mQ(t,e){function n(p){return!!p.trace_id&&!!p.public_key}o(n,"dscHasRequiredProps");const r=Qg(t[0]),s=e?.getDsn(),i=e?.getOptions().tunnel,a={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&s&&{dsn:Tp(s)}},{beforeSendSpan:l,ignoreSpans:u}=e?.getOptions()||{},c=u?.length?t.filter(p=>!hk(Ci(p),u)):t,f=t.length-c.length;f&&e?.recordDroppedEvent("before_send","span",f);const h=l?p=>{const m=Ci(p),y=l(m);return y||(fk(),m)}:Ci,d=[];for(const p of c){const m=h(p);m&&d.push(lQ(m))}return qf(a,d)}o(mQ,"createSpanEnvelope");function gQ(t){if(!Fe)return;const{description:e="< unknown name >",op:n="< unknown op >",parent_span_id:r}=Ci(t),{spanId:s}=t.spanContext(),i=py(t),a=xu(t),l=a===t,u=`[Tracing] Starting ${i?"sampled":"unsampled"} ${l?"root ":""}span`,c=[`op: ${n}`,`name: ${e}`,`ID: ${s}`];if(r&&c.push(`parent ID: ${r}`),!l){const{op:f,description:h}=Ci(a);c.push(`root ID: ${a.spanContext().spanId}`),f&&c.push(`root op: ${f}`),h&&c.push(`root description: ${h}`)}Me.log(`${u}
  ${c.join(`
  `)}`)}o(gQ,"logSpanStart");function yQ(t){if(!Fe)return;const{description:e="< unknown name >",op:n="< unknown op >"}=Ci(t),{spanId:r}=t.spanContext(),i=xu(t)===t,a=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${e}" with ID ${r}`;Me.log(a)}o(yQ,"logSpanEnd");function uD(t){if(!t||t.length===0)return;const e={};return t.forEach(n=>{const r=n.attributes||{},s=r[AZ],i=r[CZ];typeof s=="string"&&typeof i=="number"&&(e[n.name]={value:i,unit:s})}),e}o(uD,"timedEventsToMeasurements");const cD=1e3;class LI{static{o(this,"SentrySpan")}constructor(e={}){this._traceId=e.traceId||C_(),this._spanId=e.spanId||nE(),this._startTime=e.startTimestamp||io(),this._links=e.links,this._attributes={},this.setAttributes({[uk]:"manual",[lk]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this._links?this._links.push(e):this._links=[e],this}addLinks(e){return this._links?this._links.push(...e):this._links=e,this}recordException(e,n){}spanContext(){const{_spanId:e,_traceId:n,_sampled:r}=this;return{spanId:e,traceId:n,traceFlags:r?MI:wB}}setAttribute(e,n){return n===void 0?delete this._attributes[e]:this._attributes[e]=n,this}setAttributes(e){return Object.keys(e).forEach(n=>this.setAttribute(n,e[n])),this}updateStartTime(e){this._startTime=ud(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(R_,"custom"),this}end(e){this._endTime||(this._endTime=ud(e),yQ(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[lk],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:EB(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[uk],profile_id:this._attributes[RI],exclusive_time:this._attributes[OI],measurements:uD(this._events),is_segment:this._isStandaloneSpan&&xu(this)===this||void 0,segment_id:this._isStandaloneSpan?xu(this).spanContext().spanId:void 0,links:vB(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,n,r){Fe&&Me.log("[Tracing] Adding an event to span:",e);const s=fD(n)?n:r||io(),i=fD(n)?{}:n||{},a={name:e,time:ud(s),attributes:i};return this._events.push(a),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=Hn();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===xu(this)))return;if(this._isStandaloneSpan){this._sampled?_Q(mQ([this],e)):(Fe&&Me.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(O_(this).scope||To()).captureEvent(r)}_convertSpanToTransaction(){if(!hD(Ci(this)))return;this._name||(Fe&&Me.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:n}=O_(this),r=e?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const i=XZ(this).filter(f=>f!==this&&!bQ(f)).map(f=>Ci(f)).filter(hD),a=this._attributes[R_];delete this._attributes[nD],i.forEach(f=>{delete f.data[nD]});const l={contexts:{trace:qZ(this)},spans:i.length>cD?i.sort((f,h)=>f.start_timestamp-h.start_timestamp).slice(0,cD):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:n,dynamicSamplingContext:Qg(this)},request:r,...a&&{transaction_info:{source:a}}},u=uD(this._events);return u&&Object.keys(u).length&&(Fe&&Me.log("[Measurements] Adding measurements to transaction event",JSON.stringify(u,void 0,2)),l.measurements=u),l}}function fD(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}o(fD,"isSpanTimeInput");function hD(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}o(hD,"isFullFinishedSpan");function bQ(t){return t instanceof LI&&t.isStandaloneSpan()}o(bQ,"isStandaloneSpan");function _Q(t){const e=Hn();if(!e)return;const n=t[1];if(!n||n.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}o(_Q,"sendSpanEnvelope");function wQ(t,e,n){if(!DI(t))return[!1];let r,s;typeof t.tracesSampler=="function"?(s=t.tracesSampler({...e,inheritOrSampleWith:o(l=>typeof e.parentSampleRate=="number"?e.parentSampleRate:typeof e.parentSampled=="boolean"?Number(e.parentSampled):l,"inheritOrSampleWith")}),r=!0):e.parentSampled!==void 0?s=e.parentSampled:typeof t.tracesSampleRate<"u"&&(s=t.tracesSampleRate,r=!0);const i=NI(s);if(i===void 0)return Fe&&Me.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!i)return Fe&&Me.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];const a=n<i;return a||Fe&&Me.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[a,i,r]}o(wQ,"sampleSpan");const CB="__SENTRY_SUPPRESS_TRACING__";function d9e(t){const e=IB();if(e.startInactiveSpan)return e.startInactiveSpan(t);const n=xQ(t),{forceTransaction:r,parentSpan:s}=t;return(t.scope?a=>II(t.scope,a):s!==void 0?a=>vQ(s,a):a=>a())(()=>{const a=To(),l=TQ(a,s);return t.onlyIfParent&&!l?new $I:EQ({parentSpan:l,spanArguments:n,forceTransaction:r,scope:a})})}o(d9e,"startInactiveSpan");function vQ(t,e){const n=IB();return n.withActiveSpan?n.withActiveSpan(t,e):II(r=>(ak(r,t||void 0),e(r)))}o(vQ,"withActiveSpan");function EQ({parentSpan:t,spanArguments:e,forceTransaction:n,scope:r}){if(!DI()){const a=new $I;if(n||!t){const l={sampled:"false",sample_rate:"0",transaction:e.name,...Qg(a)};o2(a,l)}return a}const s=Sp();let i;if(t&&!n)i=SQ(t,r,e),xB(t,i);else if(t){const a=Qg(t),{traceId:l,spanId:u}=t.spanContext(),c=py(t);i=dD({traceId:l,parentSpanId:u,...e},r,c),o2(i,a)}else{const{traceId:a,dsc:l,parentSpanId:u,sampled:c}={...s.getPropagationContext(),...r.getPropagationContext()};i=dD({traceId:a,parentSpanId:u,...e},r,c),l&&o2(i,l)}return gQ(i),MZ(i,r,s),i}o(EQ,"createChildOrRootSpan");function xQ(t){const n={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){const r={...n};return r.startTimestamp=ud(t.startTime),delete r.startTime,r}return n}o(xQ,"parseSentrySpanArguments");function IB(){const t=wp();return dy(t)}o(IB,"getAcs");function dD(t,e,n){const r=Hn(),s=r?.getOptions()||{},{name:i=""}=t,a={spanAttributes:{...t.attributes},spanName:i,parentSampled:n};r?.emit("beforeSampling",a,{decision:!1});const l=a.parentSampled??n,u=a.spanAttributes,c=e.getPropagationContext(),[f,h,d]=e.getScopeData().sdkProcessingMetadata[CB]?[!1]:wQ(s,{name:i,parentSampled:l,attributes:u,parentSampleRate:NI(c.dsc?.sample_rate)},c.sampleRand),p=new LI({...t,attributes:{[R_]:"custom",[gB]:h!==void 0&&d?h:void 0,...u},sampled:f});return!f&&r&&(Fe&&Me.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",p),p}o(dD,"_startRootSpan");function SQ(t,e,n){const{spanId:r,traceId:s}=t.spanContext(),i=e.getScopeData().sdkProcessingMetadata[CB]?!1:py(t),a=i?new LI({...n,parentSpanId:r,traceId:s,sampled:i}):new $I({traceId:s});xB(t,a);const l=Hn();return l&&(l.emit("spanStart",a),n.endTimestamp&&l.emit("spanEnd",a)),a}o(SQ,"_startChildSpan");function TQ(t,e){if(e)return e;if(e===null)return;const n=I_(t);if(!n)return;const r=Hn();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?xu(n):n}o(TQ,"getParentSpan");const a2=0,pD=1,mD=2;function rE(t){return new e0(e=>{e(t)})}o(rE,"resolvedSyncPromise");function FI(t){return new e0((e,n)=>{n(t)})}o(FI,"rejectedSyncPromise");class e0{static{o(this,"SyncPromise")}constructor(e){this._state=a2,this._handlers=[],this._runExecutor(e)}then(e,n){return new e0((r,s)=>{this._handlers.push([!1,i=>{if(!e)r(i);else try{r(e(i))}catch(a){s(a)}},i=>{if(!n)s(i);else try{r(n(i))}catch(a){s(a)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new e0((n,r)=>{let s,i;return this.then(a=>{i=!1,s=a,e&&e()},a=>{i=!0,s=a,e&&e()}).then(()=>{if(i){r(s);return}n(s)})})}_executeHandlers(){if(this._state===a2)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===pD&&n[1](this._value),this._state===mD&&n[2](this._value),n[0]=!0)})}_runExecutor(e){const n=o((i,a)=>{if(this._state===a2){if(cy(a)){a.then(r,s);return}this._state=i,this._value=a,this._executeHandlers()}},"setResult"),r=o(i=>{n(pD,i)},"resolve"),s=o(i=>{n(mD,i)},"reject");try{e(r,s)}catch(i){s(i)}}}function kQ(t,e,n,r=0){try{const s=mk(e,n,t,r);return cy(s)?s:rE(s)}catch(s){return FI(s)}}o(kQ,"notifyEventProcessors");function mk(t,e,n,r){const s=n[r];if(!t||!s)return t;const i=s({...t},e);return Fe&&i===null&&Me.log(`Event processor "${s.id||"?"}" dropped event`),cy(i)?i.then(a=>mk(a,e,n,r+1)):mk(i,e,n,r+1)}o(mk,"_notifyEventProcessors");function AQ(t,e){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=e;CQ(t,e),r&&OQ(t,r),NQ(t,n),IQ(t,s),RQ(t,i)}o(AQ,"applyScopeDataToEvent");function gD(t,e){const{extra:n,tags:r,attributes:s,user:i,contexts:a,level:l,sdkProcessingMetadata:u,breadcrumbs:c,fingerprint:f,eventProcessors:h,attachments:d,propagationContext:p,transactionName:m,span:y}=e;gm(t,"extra",n),gm(t,"tags",r),gm(t,"attributes",s),gm(t,"user",i),gm(t,"contexts",a),t.sdkProcessingMetadata=hy(t.sdkProcessingMetadata,u,2),l&&(t.level=l),m&&(t.transactionName=m),y&&(t.span=y),c.length&&(t.breadcrumbs=[...t.breadcrumbs,...c]),f.length&&(t.fingerprint=[...t.fingerprint,...f]),h.length&&(t.eventProcessors=[...t.eventProcessors,...h]),d.length&&(t.attachments=[...t.attachments,...d]),t.propagationContext={...t.propagationContext,...p}}o(gD,"mergeScopeData");function gm(t,e,n){t[e]=hy(t[e],n,1)}o(gm,"mergeAndOverwriteScopeData");function CQ(t,e){const{extra:n,tags:r,user:s,contexts:i,level:a,transactionName:l}=e;Object.keys(n).length&&(t.extra={...n,...t.extra}),Object.keys(r).length&&(t.tags={...r,...t.tags}),Object.keys(s).length&&(t.user={...s,...t.user}),Object.keys(i).length&&(t.contexts={...i,...t.contexts}),a&&(t.level=a),l&&t.type!=="transaction"&&(t.transaction=l)}o(CQ,"applyDataToEvent");function IQ(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}o(IQ,"applyBreadcrumbsToEvent");function RQ(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}o(RQ,"applySdkMetadataToEvent");function OQ(t,e){t.contexts={trace:GZ(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:Qg(e),...t.sdkProcessingMetadata};const n=xu(e),r=Ci(n).description;r&&!t.transaction&&t.type==="transaction"&&(t.transaction=r)}o(OQ,"applySpanToEvent");function NQ(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint.length||delete t.fingerprint}o(NQ,"applyFingerprintToEvent");let vc,yD,bD,zl;function MQ(t){const e=Dt._sentryDebugIds,n=Dt._debugIds;if(!e&&!n)return{};const r=e?Object.keys(e):[],s=n?Object.keys(n):[];if(zl&&r.length===yD&&s.length===bD)return zl;yD=r.length,bD=s.length,zl={},vc||(vc={});const i=o((a,l)=>{for(const u of a){const c=l[u],f=vc?.[u];if(f&&zl&&c)zl[f[0]]=c,vc&&(vc[u]=[f[0],c]);else if(c){const h=t(u);for(let d=h.length-1;d>=0;d--){const m=h[d]?.filename;if(m&&zl&&vc){zl[m]=c,vc[u]=[m,c];break}}}}},"processDebugIds");return e&&i(r,e),n&&i(s,n),zl}o(MQ,"getFilenameToDebugIdMap");function DQ(t,e,n,r,s,i){const{normalizeDepth:a=3,normalizeMaxBreadth:l=1e3}=t,u={...e,event_id:e.event_id||n.event_id||Ai(),timestamp:e.timestamp||fy()},c=n.integrations||t.integrations.map(b=>b.name);PQ(u,t),FQ(u,c),s&&s.emit("applyFrameMetadata",e),e.type===void 0&&$Q(u,t.stackParser);const f=UQ(r,n.captureContext);n.mechanism&&Md(u,n.mechanism);const h=s?s.getEventProcessors():[],d=SZ().getScopeData();if(i){const b=i.getScopeData();gD(d,b)}if(f){const b=f.getScopeData();gD(d,b)}const p=[...n.attachments||[],...d.attachments];p.length&&(n.attachments=p),AQ(u,d);const m=[...h,...d.eventProcessors];return kQ(m,u,n).then(b=>(b&&LQ(b),typeof a=="number"&&a>0?BQ(b,a,l):b))}o(DQ,"prepareEvent");function PQ(t,e){const{environment:n,release:r,dist:s,maxValueLength:i}=e;t.environment=t.environment||n||PI,!t.release&&r&&(t.release=r),!t.dist&&s&&(t.dist=s);const a=t.request;a?.url&&i&&(a.url=sk(a.url,i)),i&&t.exception?.values?.forEach(l=>{l.value&&(l.value=sk(l.value,i))})}o(PQ,"applyClientOptions");function $Q(t,e){const n=MQ(e);t.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(s=>{s.filename&&(s.debug_id=n[s.filename])})})}o($Q,"applyDebugIds");function LQ(t){const e={};if(t.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(s=>{s.debug_id&&(s.abs_path?e[s.abs_path]=s.debug_id:s.filename&&(e[s.filename]=s.debug_id),delete s.debug_id)})}),Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.entries(e).forEach(([r,s])=>{n.push({type:"sourcemap",code_file:r,debug_id:s})})}o(LQ,"applyDebugMeta");function FQ(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}o(FQ,"applyIntegrationsMetadata");function BQ(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(s=>({...s,...s.data&&{data:Ga(s.data,e,n)}}))},...t.user&&{user:Ga(t.user,e,n)},...t.contexts&&{contexts:Ga(t.contexts,e,n)},...t.extra&&{extra:Ga(t.extra,e,n)}};return t.contexts?.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=Ga(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(s=>({...s,...s.data&&{data:Ga(s.data,e,n)}}))),t.contexts?.flags&&r.contexts&&(r.contexts.flags=Ga(t.contexts.flags,3,n)),r}o(BQ,"normalizeEvent");function UQ(t,e){if(!e)return t;const n=t?t.clone():new ua;return n.update(e),n}o(UQ,"getFinalScope");function zQ(t){if(t)return VQ(t)?{captureContext:t}:WQ(t)?{captureContext:t}:t}o(zQ,"parseEventHintOrCaptureContext");function VQ(t){return t instanceof ua||typeof t=="function"}o(VQ,"hintIsScopeOrFunction");const jQ=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function WQ(t){return Object.keys(t).some(e=>jQ.includes(e))}o(WQ,"hintIsScopeContext");function HQ(t,e){return To().captureException(t,zQ(e))}o(HQ,"captureException");function RB(t,e){return To().captureEvent(t,e)}o(RB,"captureEvent");function _D(t){const e=Sp(),n=To(),{userAgent:r}=Dt.navigator||{},s=pZ({user:n.getUser()||e.getUser(),...r&&{userAgent:r},...t}),i=e.getSession();return i?.status==="ok"&&Dd(i,{status:"exited"}),OB(),e.setSession(s),s}o(_D,"startSession");function OB(){const t=Sp(),n=To().getSession()||t.getSession();n&&mZ(n),NB(),t.setSession()}o(OB,"endSession");function NB(){const t=Sp(),e=Hn(),n=t.getSession();n&&e&&e.captureSession(n)}o(NB,"_sendSessionUpdate");function wD(t=!1){if(t){OB();return}NB()}o(wD,"captureSession");const qQ="7";function GQ(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}o(GQ,"getBaseApiEndpoint");function KQ(t){return`${GQ(t)}${t.projectId}/envelope/`}o(KQ,"_getIngestEndpoint");function YQ(t,e){const n={sentry_version:qQ};return t.publicKey&&(n.sentry_key=t.publicKey),e&&(n.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(n).toString()}o(YQ,"_encodedAuth");function XQ(t,e,n){return e||`${KQ(t)}?${YQ(t,n)}`}o(XQ,"getEnvelopeEndpointWithUrlEncodedAuth");const vD=[];function JQ(t){const e={};return t.forEach(n=>{const{name:r}=n,s=e[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(e[r]=n)}),Object.values(e)}o(JQ,"filterDuplicates");function ZQ(t){const e=t.defaultIntegrations||[],n=t.integrations;e.forEach(s=>{s.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...e,...n];else if(typeof n=="function"){const s=n(e);r=Array.isArray(s)?s:[s]}else r=e;return JQ(r)}o(ZQ,"getIntegrationsToSetup");function QQ(t,e){const n={};return e.forEach(r=>{r&&MB(t,r,n)}),n}o(QQ,"setupIntegrations");function ED(t,e){for(const n of e)n?.afterAllSetup&&n.afterAllSetup(t)}o(ED,"afterSetupIntegrations");function MB(t,e,n){if(n[e.name]){Fe&&Me.log(`Integration skipped because it was already installed: ${e.name}`);return}if(n[e.name]=e,!vD.includes(e.name)&&typeof e.setupOnce=="function"&&(e.setupOnce(),vD.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",(s,i)=>r(s,i,t))}if(typeof e.processEvent=="function"){const r=e.processEvent.bind(e),s=Object.assign((i,a)=>r(i,a,t),{id:e.name});t.addEventProcessor(s)}Fe&&Me.log(`Integration installed: ${e.name}`)}o(MB,"setupIntegration");function p9e(t){return t}o(p9e,"defineIntegration");function eee(t){return[{type:"log",item_count:t.length,content_type:"application/vnd.sentry.items.log+json"},{items:t}]}o(eee,"createLogContainerEnvelopeItem");function tee(t,e,n,r){const s={};return e?.sdk&&(s.sdk={name:e.sdk.name,version:e.sdk.version}),n&&r&&(s.dsn=Tp(r)),qf(s,[eee(t)])}o(tee,"createLogEnvelope");function DB(t,e){const n=e??nee(t)??[];if(n.length===0)return;const r=t.getOptions(),s=tee(n,r._metadata,r.tunnel,t.getDsn());PB().set(t,[]),t.emit("flushLogs"),t.sendEnvelope(s)}o(DB,"_INTERNAL_flushLogsBuffer");function nee(t){return PB().get(t)}o(nee,"_INTERNAL_getLogBuffer");function PB(){return vp("clientToLogBufferMap",()=>new WeakMap)}o(PB,"_getBufferMap$1");function ree(t){return[{type:"trace_metric",item_count:t.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:t}]}o(ree,"createMetricContainerEnvelopeItem");function see(t,e,n,r){const s={};return e?.sdk&&(s.sdk={name:e.sdk.name,version:e.sdk.version}),n&&r&&(s.dsn=Tp(r)),qf(s,[ree(t)])}o(see,"createMetricEnvelope");function $B(t,e){const n=e??iee(t)??[];if(n.length===0)return;const r=t.getOptions(),s=see(n,r._metadata,r.tunnel,t.getDsn());LB().set(t,[]),t.emit("flushMetrics"),t.sendEnvelope(s)}o($B,"_INTERNAL_flushMetricsBuffer");function iee(t){return LB().get(t)}o(iee,"_INTERNAL_getMetricBuffer");function LB(){return vp("clientToMetricBufferMap",()=>new WeakMap)}o(LB,"_getBufferMap");const BI=Symbol.for("SentryBufferFullError");function UI(t=100){const e=new Set;function n(){return e.size<t}o(n,"isReady");function r(a){e.delete(a)}o(r,"remove");function s(a){if(!n())return FI(BI);const l=a();return e.add(l),l.then(()=>r(l),()=>r(l)),l}o(s,"add");function i(a){if(!e.size)return rE(!0);const l=Promise.allSettled(Array.from(e)).then(()=>!0);if(!a)return l;const u=[l,new Promise(c=>setTimeout(()=>c(!1),a))];return Promise.race(u)}return o(i,"drain"),{get $(){return Array.from(e)},add:s,drain:i}}o(UI,"makePromiseBuffer");const oee=60*1e3;function aee(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${t}`);return isNaN(r)?oee:r-e}o(aee,"parseRetryAfterHeader");function lee(t,e){return t[e]||t.all||0}o(lee,"disabledUntil");function uee(t,e,n=Date.now()){return lee(t,e)>n}o(uee,"isRateLimited");function cee(t,{statusCode:e,headers:n},r=Date.now()){const s={...t},i=n?.["x-sentry-rate-limits"],a=n?.["retry-after"];if(i)for(const l of i.trim().split(",")){const[u,c,,,f]=l.split(":",5),h=parseInt(u,10),d=(isNaN(h)?60:h)*1e3;if(!c)s.all=r+d;else for(const p of c.split(";"))p==="metric_bucket"?(!f||f.split(";").includes("custom"))&&(s[p]=r+d):s[p]=r+d}else a?s.all=r+aee(a,r):e===429&&(s.all=r+60*1e3);return s}o(cee,"updateRateLimits");const FB=64;function fee(t,e,n=UI(t.bufferSize||FB)){let r={};const s=o(a=>n.drain(a),"flush");function i(a){const l=[];if(aD(a,(h,d)=>{const p=lD(d);uee(r,p)?t.recordDroppedEvent("ratelimit_backoff",p):l.push(h)}),l.length===0)return Promise.resolve({});const u=qf(a[0],l),c=o(h=>{aD(u,(d,p)=>{t.recordDroppedEvent(h,lD(p))})},"recordEnvelopeLoss"),f=o(()=>e({body:oQ(u)}).then(h=>(h.statusCode!==void 0&&(h.statusCode<200||h.statusCode>=300)&&Fe&&Me.warn(`Sentry responded with status code ${h.statusCode} to sent event.`),r=cee(r,h),h),h=>{throw c("network_error"),Fe&&Me.error("Encountered error running transport request:",h),h}),"requestTask");return n.add(f).then(h=>h,h=>{if(h===BI)return Fe&&Me.error("Skipped sending event because buffer is full."),c("queue_overflow"),Promise.resolve({});throw h})}return o(i,"send"),{send:i,flush:s}}o(fee,"createTransport");function hee(t,e,n){const r=[{type:"client_report"},{timestamp:fy(),discarded_events:t}];return qf(e?{dsn:e}:{},[r])}o(hee,"createClientReportEnvelope");function BB(t){const e=[];t.message&&e.push(t.message);try{const n=t.exception.values[t.exception.values.length-1];n?.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`))}catch{}return e}o(BB,"getPossibleEventMessages");function dee(t){const{trace_id:e,parent_span_id:n,span_id:r,status:s,origin:i,data:a,op:l}=t.contexts?.trace??{};return{data:a??{},description:t.transaction,op:l,parent_span_id:n,span_id:r??"",start_timestamp:t.start_timestamp??0,status:s,timestamp:t.timestamp,trace_id:e??"",origin:i,profile_id:a?.[RI],exclusive_time:a?.[OI],measurements:t.measurements,is_segment:!0}}o(dee,"convertTransactionEventToSpanJson");function pee(t){return{type:"transaction",timestamp:t.timestamp,start_timestamp:t.start_timestamp,transaction:t.description,contexts:{trace:{trace_id:t.trace_id,span_id:t.span_id,parent_span_id:t.parent_span_id,op:t.op,status:t.status,origin:t.origin,data:{...t.data,...t.profile_id&&{[RI]:t.profile_id},...t.exclusive_time&&{[OI]:t.exclusive_time}}}},measurements:t.measurements}}o(pee,"convertSpanJsonToTransactionEvent");const xD="Not capturing exception because it's already been captured.",SD="Discarded session because of missing or non-string release",UB=Symbol.for("SentryInternalError"),zB=Symbol.for("SentryDoNotSendEventError"),mee=5e3;function jb(t){return{message:t,[UB]:!0}}o(jb,"_makeInternalError");function l2(t){return{message:t,[zB]:!0}}o(l2,"_makeDoNotSendEventError");function TD(t){return!!t&&typeof t=="object"&&UB in t}o(TD,"_isInternalError");function kD(t){return!!t&&typeof t=="object"&&zB in t}o(kD,"_isDoNotSendEventError");function AD(t,e,n,r,s){let i=0,a,l=!1;t.on(n,()=>{i=0,clearTimeout(a),l=!1}),t.on(e,u=>{i+=r(u),i>=8e5?s(t):l||(l=!0,a=setTimeout(()=>{s(t)},mee))}),t.on("flush",()=>{s(t)})}o(AD,"setupWeightBasedFlushing");class gee{static{o(this,"Client")}constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=UI(e.transportOptions?.bufferSize??FB),e.dsn?this._dsn=HZ(e.dsn):Fe&&Me.warn("No DSN provided, client will not send events."),this._dsn){const r=XQ(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:r})}this._options.enableLogs=this._options.enableLogs??this._options._experiments?.enableLogs,this._options.enableLogs&&AD(this,"afterCaptureLog","flushLogs",wee,DB),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&AD(this,"afterCaptureMetric","flushMetrics",_ee,$B)}captureException(e,n,r){const s=Ai();if(QM(e))return Fe&&Me.log(xD),s;const i={event_id:s,...n};return this._process(()=>this.eventFromException(e,i).then(a=>this._captureEvent(a,i,r)).then(a=>a),"error"),i.event_id}captureMessage(e,n,r,s){const i={event_id:Ai(),...r},a=TI(e)?e:String(e),l=Qv(e),u=l?this.eventFromMessage(a,n,i):this.eventFromException(e,i);return this._process(()=>u.then(c=>this._captureEvent(c,i,s)),l?"unknown":"error"),i.event_id}captureEvent(e,n,r){const s=Ai();if(n?.originalException&&QM(n.originalException))return Fe&&Me.log(xD),s;const i={event_id:s,...n},a=e.sdkProcessingMetadata||{},l=a.capturedSpanScope,u=a.capturedSpanIsolationScope,c=CD(e.type);return this._process(()=>this._captureEvent(e,i,l||r,u),c),i.event_id}captureSession(e){this.sendSession(e),Dd(e,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(e){const n=this._transport;if(!n)return!0;this.emit("flush");const r=await this._isClientDoneProcessing(e),s=await n.flush(e);return r&&s}async close(e){const n=await this.flush(e);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const n=this._integrations[e.name];MB(this,e,this._integrations),n||ED(this,[e])}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let r=pQ(e,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=iQ(r,uQ(s));this.sendEnvelope(r).then(s=>this.emit("afterSendEvent",e,s))}sendSession(e){const{release:n,environment:r=PI}=this._options;if("aggregates"in e){const i=e.attrs||{};if(!i.release&&!n){Fe&&Me.warn(SD);return}i.release=i.release||n,i.environment=i.environment||r,e.attrs=i}else{if(!e.release&&!n){Fe&&Me.warn(SD);return}e.release=e.release||n,e.environment=e.environment||r}this.emit("beforeSendSession",e);const s=dQ(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(e,n,r=1){if(this._options.sendClientReports){const s=`${e}:${n}`;Fe&&Me.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(e,n){const r=this._hooks[e]=this._hooks[e]||new Set,s=o((...i)=>n(...i),"uniqueCallback");return r.add(s),()=>{r.delete(s)}}emit(e,...n){const r=this._hooks[e];r&&r.forEach(s=>s(...n))}async sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)try{return await this._transport.send(e)}catch(n){return Fe&&Me.error("Error while sending envelope:",n),{}}return Fe&&Me.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=QQ(this,e),ED(this,e)}_updateSessionFromEvent(e,n){let r=n.level==="fatal",s=!1;const i=n.exception?.values;if(i){s=!0,r=!1;for(const u of i)if(u.mechanism?.handled===!1){r=!0;break}}const a=e.status==="ok";(a&&e.errors===0||a&&r)&&(Dd(e,{...r&&{status:"crashed"},errors:e.errors||Number(s||r)}),this.captureSession(e))}async _isClientDoneProcessing(e){let n=0;for(;!e||n<e;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,r,s){const i=this.getOptions(),a=Object.keys(this._integrations);return!n.integrations&&a?.length&&(n.integrations=a),this.emit("preprocessEvent",e,n),e.type||s.setLastEventId(e.event_id||n.event_id),DQ(i,e,n,r,this,s).then(l=>{if(l===null)return l;this.emit("postprocessEvent",l,n),l.contexts={trace:TZ(r),...l.contexts};const u=QZ(this,r);return l.sdkProcessingMetadata={dynamicSamplingContext:u,...l.sdkProcessingMetadata},l})}_captureEvent(e,n={},r=To(),s=Sp()){return Fe&&gk(e)&&Me.log(`Captured error event \`${BB(e)[0]||"<unknown>"}\``),this._processEvent(e,n,r,s).then(i=>i.event_id,i=>{Fe&&(kD(i)?Me.log(i.message):TD(i)?Me.warn(i.message):Me.warn(i))})}_processEvent(e,n,r,s){const i=this.getOptions(),{sampleRate:a}=i,l=VB(e),u=gk(e),f=`before send for type \`${e.type||"error"}\``,h=typeof a>"u"?void 0:NI(a);if(u&&typeof h=="number"&&Math.random()>h)return this.recordDroppedEvent("sample_rate","error"),FI(l2(`Discarding event because it's not included in the random sample (sampling rate = ${a})`));const d=CD(e.type);return this._prepareEvent(e,n,r,s).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",d),l2("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return p;const y=bee(this,i,p,n);return yee(y,f)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",d),l){const _=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",_)}throw l2(`${f} returned \`null\`, will not send event.`)}const m=r.getSession()||s.getSession();if(u&&m&&this._updateSessionFromEvent(m,p),l){const b=p.sdkProcessingMetadata?.spanCountBeforeProcessing||0,_=p.spans?p.spans.length:0,S=b-_;S>0&&this.recordDroppedEvent("before_send","span",S)}const y=p.transaction_info;if(l&&y&&p.transaction!==e.transaction){const b="custom";p.transaction_info={...y,source:b}}return this.sendEvent(p,n),p}).then(null,p=>{throw kD(p)||TD(p)?p:(this.captureException(p,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:p}),jb(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(e,n){this._numProcessing++,this._promiseBuffer.add(e).then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r===BI&&this.recordDroppedEvent("queue_overflow",n),r))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){Fe&&Me.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){Fe&&Me.log("No outcomes to send");return}if(!this._dsn){Fe&&Me.log("No dsn provided, will not send outcomes");return}Fe&&Me.log("Sending outcomes:",e);const n=hee(e,this._options.tunnel&&Tp(this._dsn));this.sendEnvelope(n)}}function CD(t){return t==="replay_event"?"replay":t||"error"}o(CD,"getDataCategoryByType");function yee(t,e){const n=`${e} must return \`null\` or a valid event.`;if(cy(t))return t.then(r=>{if(!Zg(r)&&r!==null)throw jb(n);return r},r=>{throw jb(`${e} rejected with ${r}`)});if(!Zg(t)&&t!==null)throw jb(n);return t}o(yee,"_validateBeforeSendResult");function bee(t,e,n,r){const{beforeSend:s,beforeSendTransaction:i,beforeSendSpan:a,ignoreSpans:l}=e;let u=n;if(gk(u)&&s)return s(u,r);if(VB(u)){if(a||l){const c=dee(u);if(l?.length&&hk(c,l))return null;if(a){const f=a(c);f?u=hy(n,pee(f)):fk()}if(u.spans){const f=[],h=u.spans;for(const p of h){if(l?.length&&hk(p,l)){JZ(h,p);continue}if(a){const m=a(p);m?f.push(m):(fk(),f.push(p))}else f.push(p)}const d=u.spans.length-f.length;d&&t.recordDroppedEvent("before_send","span",d),u.spans=f}}if(i){if(u.spans){const c=u.spans.length;u.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return i(u,r)}}return u}o(bee,"processBeforeSend");function gk(t){return t.type===void 0}o(gk,"isErrorEvent");function VB(t){return t.type==="transaction"}o(VB,"isTransactionEvent");function _ee(t){let e=0;return t.name&&(e+=t.name.length*2),e+=8,e+jB(t.attributes)}o(_ee,"estimateMetricSizeInBytes");function wee(t){let e=0;return t.message&&(e+=t.message.length*2),e+jB(t.attributes)}o(wee,"estimateLogSizeInBytes");function jB(t){if(!t)return 0;let e=0;return Object.values(t).forEach(n=>{Array.isArray(n)?e+=n.length*ID(n[0]):Qv(n)?e+=ID(n):e+=100}),e}o(jB,"estimateAttributesSizeInBytes");function ID(t){return typeof t=="string"?t.length*2:typeof t=="number"?8:typeof t=="boolean"?4:0}o(ID,"estimatePrimitiveSizeInBytes");function vee(t,e){e.debug===!0&&(Fe?Me.enable():Ep(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),To().update(e.initialScope);const r=new t(e);return Eee(r),r.init(),r}o(vee,"initAndBind");function Eee(t){To().setClient(t)}o(Eee,"setCurrentClient");function u2(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}o(u2,"parseUrl");function xee(t){"aggregates"in t?t.attrs?.ip_address===void 0&&(t.attrs={...t.attrs,ip_address:"{{auto}}"}):t.ipAddress===void 0&&(t.ipAddress="{{auto}}")}o(xee,"addAutoIpAddressToSession");function See(t,e,n=[e],r="npm"){const s=t._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${e}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:Qc})),version:Qc}),t._metadata=s}o(See,"applySdkMetadata");const Tee=100;function pf(t,e){const n=Hn(),r=Sp();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=Tee}=n.getOptions();if(i<=0)return;const l={timestamp:fy(),...t},u=s?Ep(()=>s(l,e)):l;u!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",u,e),r.addBreadcrumb(u,i))}o(pf,"addBreadcrumb");let RD;const kee="FunctionToString",OD=new WeakMap,Aee=o((()=>({name:kee,setupOnce(){RD=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=CI(this),n=OD.has(Hn())&&e!==void 0?e:this;return RD.apply(n,t)}}catch{}},setup(t){OD.set(t,!0)}})),"_functionToStringIntegration"),Cee=Aee,Iee=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],Ree="EventFilters",Oee=(t={})=>{let e;return{name:Ree,setup(n){const r=n.getOptions();e=ND(t,r)},processEvent(n,r,s){if(!e){const i=s.getOptions();e=ND(t,i)}return Mee(n,e)?null:n}}},Nee=((t={})=>({...Oee(t),name:"InboundFilters"}));function ND(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:Iee],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]]}}o(ND,"_mergeOptions");function Mee(t,e){if(t.type){if(t.type==="transaction"&&Pee(t,e.ignoreTransactions))return Fe&&Me.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${$c(t)}`),!0}else{if(Dee(t,e.ignoreErrors))return Fe&&Me.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${$c(t)}`),!0;if(Bee(t))return Fe&&Me.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${$c(t)}`),!0;if($ee(t,e.denyUrls))return Fe&&Me.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${$c(t)}.
Url: ${N_(t)}`),!0;if(!Lee(t,e.allowUrls))return Fe&&Me.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${$c(t)}.
Url: ${N_(t)}`),!0}return!1}o(Mee,"_shouldDropEvent$1");function Dee(t,e){return e?.length?BB(t).some(n=>tE(n,e)):!1}o(Dee,"_isIgnoredError");function Pee(t,e){if(!e?.length)return!1;const n=t.transaction;return n?tE(n,e):!1}o(Pee,"_isIgnoredTransaction");function $ee(t,e){if(!e?.length)return!1;const n=N_(t);return n?tE(n,e):!1}o($ee,"_isDeniedUrl");function Lee(t,e){if(!e?.length)return!0;const n=N_(t);return n?tE(n,e):!0}o(Lee,"_isAllowedUrl");function Fee(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}o(Fee,"_getLastValidUrl");function N_(t){try{const n=[...t.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?Fee(n):null}catch{return Fe&&Me.error(`Cannot extract url for event ${$c(t)}`),null}}o(N_,"_getEventFilterUrl");function Bee(t){return t.exception?.values?.length?!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value):!1}o(Bee,"_isUselessError");function Uee(t,e,n,r,s,i){if(!s.exception?.values||!i||!Du(i.originalException,Error))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=yk(t,e,r,i.originalException,n,s.exception.values,a,0))}o(Uee,"applyAggregateErrorsToEvent");function yk(t,e,n,r,s,i,a,l){if(i.length>=n+1)return i;let u=[...i];if(Du(r[s],Error)){MD(a,l);const c=t(e,r[s]),f=u.length;DD(c,s,f,l),u=yk(t,e,n,r[s],s,[c,...u],c,f)}return Array.isArray(r.errors)&&r.errors.forEach((c,f)=>{if(Du(c,Error)){MD(a,l);const h=t(e,c),d=u.length;DD(h,`errors[${f}]`,d,l),u=yk(t,e,n,c,s,[h,...u],h,d)}}),u}o(yk,"aggregateExceptionsFromError");function MD(t,e){t.mechanism={handled:!0,type:"auto.core.linked_errors",...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}o(MD,"applyExceptionGroupFieldsForParentException");function DD(t,e,n,r){t.mechanism={handled:!0,...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}o(DD,"applyExceptionGroupFieldsForChildException");function zee(t){const e="console";Wf(e,t),Hf(e,Vee)}o(zee,"addConsoleInstrumentationHandler");function Vee(){"console"in Dt&&jJ.forEach(function(t){t in Dt.console&&Js(Dt.console,t,function(e){return A_[t]=e,function(...n){so("console",{args:n,level:t}),A_[t]?.apply(Dt.console,n)}})})}o(Vee,"instrumentConsole");function jee(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}o(jee,"severityLevelFromString");const Wee="Dedupe",Hee=o((()=>{let t;return{name:Wee,processEvent(e){if(e.type)return e;try{if(Gee(e,t))return Fe&&Me.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}}),"_dedupeIntegration"),qee=Hee;function Gee(t,e){return e?!!(Kee(t,e)||Yee(t,e)):!1}o(Gee,"_shouldDropEvent");function Kee(t,e){const n=t.message,r=e.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!HB(t,e)||!WB(t,e))}o(Kee,"_isSameMessageEvent");function Yee(t,e){const n=PD(e),r=PD(t);return!(!n||!r||n.type!==r.type||n.value!==r.value||!HB(t,e)||!WB(t,e))}o(Yee,"_isSameExceptionEvent");function WB(t,e){let n=GM(t),r=GM(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],a=n[s];if(i.filename!==a.filename||i.lineno!==a.lineno||i.colno!==a.colno||i.function!==a.function)return!1}return!0}o(WB,"_isSameStacktrace");function HB(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}o(HB,"_isSameFingerprint");function PD(t){return t.exception?.values?.[0]}o(PD,"_getExceptionFromEvent");function qB(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}o(qB,"getBreadcrumbLogLevelFromHttpStatusCode");const t0=Dt;function Xee(){return"history"in t0&&!!t0.history}o(Xee,"supportsHistory");function Jee(){if(!("fetch"in t0))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}o(Jee,"_isFetchSupported");function bk(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}o(bk,"isNativeFunction");function Zee(){if(typeof EdgeRuntime=="string")return!0;if(!Jee())return!1;if(bk(t0.fetch))return!0;let t=!1;const e=t0.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow?.fetch&&(t=bk(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){Fe&&Me.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}o(Zee,"supportsNativeFetch");function Qee(t,e){const n="fetch";Wf(n,t),Hf(n,()=>ete(void 0,e))}o(Qee,"addFetchInstrumentationHandler");function ete(t,e=!1){e&&!Zee()||Js(Dt,"fetch",function(n){return function(...r){const s=new Error,{method:i,url:a}=tte(r),l={args:r,fetchData:{method:i,url:a},startTimestamp:io()*1e3,virtualError:s,headers:nte(r)};return so("fetch",{...l}),n.apply(Dt,r).then(async u=>(so("fetch",{...l,endTimestamp:io()*1e3,response:u}),u),u=>{if(so("fetch",{...l,endTimestamp:io()*1e3,error:u}),SI(u)&&u.stack===void 0&&(u.stack=s.stack,Mi(u,"framesToPop",1)),u instanceof TypeError&&(u.message==="Failed to fetch"||u.message==="Load failed"||u.message==="NetworkError when attempting to fetch resource."))try{const c=new URL(l.fetchData.url);u.message=`${u.message} (${c.host})`}catch{}throw u})}})}o(ete,"instrumentFetch");function Wb(t,e){return!!t&&typeof t=="object"&&!!t[e]}o(Wb,"hasProp");function $D(t){return typeof t=="string"?t:t?Wb(t,"url")?t.url:t.toString?t.toString():"":""}o($D,"getUrlFromResource");function tte(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[n,r]=t;return{url:$D(n),method:Wb(r,"method")?String(r.method).toUpperCase():cB(n)&&Wb(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:$D(e),method:Wb(e,"method")?String(e.method).toUpperCase():"GET"}}o(tte,"parseFetchArgs");function nte(t){const[e,n]=t;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(cB(e))return new Headers(e.headers)}catch{}}o(nte,"getHeadersFromFetchArgs");function rte(){return"npm"}o(rte,"getSDKSource");const Dn=Dt;let _k=0;function GB(){return _k>0}o(GB,"shouldIgnoreOnError");function ste(){_k++,setTimeout(()=>{_k--})}o(ste,"ignoreNextOnError");function $d(t,e={}){function n(s){return typeof s=="function"}if(o(n,"isFunction"),!n(t))return t;try{const s=t.__sentry_wrapped__;if(s)return typeof s=="function"?s:t;if(CI(t))return t}catch{return t}const r=o(function(...s){try{const i=s.map(a=>$d(a,e));return t.apply(this,i)}catch(i){throw ste(),II(a=>{a.addEventProcessor(l=>(e.mechanism&&(ik(l,void 0),Md(l,e.mechanism)),l.extra={...l.extra,arguments:s},l)),HQ(i)}),i}},"sentryWrapped");try{for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}catch{}hB(r,t),Mi(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch{}return r}o($d,"wrap$5");function ite(){const t=AI(),{referrer:e}=Dn.document||{},{userAgent:n}=Dn.navigator||{},r={...e&&{Referer:e},...n&&{"User-Agent":n}};return{url:t,headers:r}}o(ite,"getHttpRequestData");function zI(t,e){const n=VI(t,e),r={type:cte(e),value:fte(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}o(zI,"exceptionFromError");function ote(t,e,n,r){const i=Hn()?.getOptions().normalizeDepth,a=gte(e),l={__serialized__:kB(e,i)};if(a)return{exception:{values:[zI(t,a)]},extra:l};const u={exception:{values:[{type:eE(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:pte(e,{isUnhandledRejection:r})}]},extra:l};if(n){const c=VI(t,n);c.length&&(u.exception.values[0].stacktrace={frames:c})}return u}o(ote,"eventFromPlainObject");function c2(t,e){return{exception:{values:[zI(t,e)]}}}o(c2,"eventFromError");function VI(t,e){const n=e.stacktrace||e.stack||"",r=lte(e),s=ute(e);try{return t(n,r,s)}catch{}return[]}o(VI,"parseStackFrames");const ate=/Minified React error #\d+;/i;function lte(t){return t&&ate.test(t.message)?1:0}o(lte,"getSkipFirstStackStringLines");function ute(t){return typeof t.framesToPop=="number"?t.framesToPop:0}o(ute,"getPopFirstTopFrames");function KB(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}o(KB,"isWebAssemblyException");function cte(t){const e=t?.name;return!e&&KB(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}o(cte,"extractType");function fte(t){const e=t?.message;return KB(t)?Array.isArray(t.message)&&t.message.length==2?t.message[1]:"wasm exception":e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}o(fte,"extractMessage");function hte(t,e,n,r){const s=n?.syntheticException||void 0,i=jI(t,e,s,r);return Md(i),i.level="error",n?.event_id&&(i.event_id=n.event_id),rE(i)}o(hte,"eventFromException");function dte(t,e,n="info",r,s){const i=r?.syntheticException||void 0,a=wk(t,e,i,s);return a.level=n,r?.event_id&&(a.event_id=r.event_id),rE(a)}o(dte,"eventFromMessage");function jI(t,e,n,r,s){let i;if(lB(e)&&e.error)return c2(t,e.error);if(YM(e)||nZ(e)){const a=e;if("stack"in e)i=c2(t,e);else{const l=a.name||(YM(a)?"DOMError":"DOMException"),u=a.message?`${l}: ${a.message}`:l;i=wk(t,u,n,r),ik(i,u)}return"code"in a&&(i.tags={...i.tags,"DOMException.code":`${a.code}`}),i}return SI(e)?c2(t,e):Zg(e)||eE(e)?(i=ote(t,e,n,s),Md(i,{synthetic:!0}),i):(i=wk(t,e,n,r),ik(i,`${e}`),Md(i,{synthetic:!0}),i)}o(jI,"eventFromUnknownInput");function wk(t,e,n,r){const s={};if(r&&n){const i=VI(t,n);i.length&&(s.exception={values:[{value:e,stacktrace:{frames:i}}]}),Md(s,{synthetic:!0})}if(TI(e)){const{__sentry_template_string__:i,__sentry_template_values__:a}=e;return s.logentry={message:i,params:a},s}return s.message=e,s}o(wk,"eventFromString");function pte(t,{isUnhandledRejection:e}){const n=uZ(t),r=e?"promise rejection":"exception";return lB(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:eE(t)?`Event \`${mte(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}o(pte,"getNonErrorObjectExceptionValue");function mte(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}o(mte,"getObjectClassName");function gte(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];if(n instanceof Error)return n}}o(gte,"getErrorPropertyFromObject");class yte extends gee{static{o(this,"BrowserClient")}constructor(e){const n=bte(e),r=Dn.SENTRY_SDK_SOURCE||rte();See(n,"browser",["browser"],r),n._metadata?.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:s,sendClientReports:i,enableLogs:a,_experiments:l,enableMetrics:u}=this._options,c=u??l?.enableMetrics??!0;Dn.document&&(i||a||c)&&Dn.document.addEventListener("visibilitychange",()=>{Dn.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),a&&DB(this),c&&$B(this))}),s&&this.on("beforeSendSession",xee)}eventFromException(e,n){return hte(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return dte(this._options.stackParser,e,n,r,this._options.attachStacktrace)}_prepareEvent(e,n,r,s){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r,s)}}function bte(t){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:Dn.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...t}}o(bte,"applyDefaultOptions");const _te=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,fs=Dt,wte=1e3;let LD,vk,Ek;function vte(t){Wf("dom",t),Hf("dom",Ete)}o(vte,"addClickKeypressInstrumentationHandler");function Ete(){if(!fs.document)return;const t=so.bind(null,"dom"),e=FD(t,!0);fs.document.addEventListener("click",e,!1),fs.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{const s=fs[n]?.prototype;s?.hasOwnProperty?.("addEventListener")&&(Js(s,"addEventListener",function(i){return function(a,l,u){if(a==="click"||a=="keypress")try{const c=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},f=c[a]=c[a]||{refCount:0};if(!f.handler){const h=FD(t);f.handler=h,i.call(this,a,h,u)}f.refCount++}catch{}return i.call(this,a,l,u)}}),Js(s,"removeEventListener",function(i){return function(a,l,u){if(a==="click"||a=="keypress")try{const c=this.__sentry_instrumentation_handlers__||{},f=c[a];f&&(f.refCount--,f.refCount<=0&&(i.call(this,a,f.handler,u),f.handler=void 0,delete c[a]),Object.keys(c).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,a,l,u)}}))})}o(Ete,"instrumentDOM");function xte(t){if(t.type!==vk)return!1;try{if(!t.target||t.target._sentryId!==Ek)return!1}catch{}return!0}o(xte,"isSimilarToLastCapturedEvent");function Ste(t,e){return t!=="keypress"?!1:e?.tagName?!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable):!0}o(Ste,"shouldSkipDOMEvent");function FD(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=Tte(n);if(Ste(n.type,r))return;Mi(n,"_sentryCaptured",!0),r&&!r._sentryId&&Mi(r,"_sentryId",Ai());const s=n.type==="keypress"?"input":n.type;xte(n)||(t({event:n,name:s,global:e}),vk=n.type,Ek=r?r._sentryId:void 0),clearTimeout(LD),LD=fs.setTimeout(()=>{Ek=void 0,vk=void 0},wte)}}o(FD,"makeDOMEventHandler");function Tte(t){try{return t.target}catch{return null}}o(Tte,"getEventTarget");let F1;function YB(t){const e="history";Wf(e,t),Hf(e,kte)}o(YB,"addHistoryInstrumentationHandler");function kte(){if(fs.addEventListener("popstate",()=>{const e=fs.location.href,n=F1;if(F1=e,n===e)return;so("history",{from:n,to:e})}),!Xee())return;function t(e){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const s=F1,i=Ate(String(r));if(F1=i,s===i)return e.apply(this,n);so("history",{from:s,to:i})}return e.apply(this,n)}}o(t,"historyReplacementFunction"),Js(fs.history,"pushState",t),Js(fs.history,"replaceState",t)}o(kte,"instrumentHistory");function Ate(t){try{return new URL(t,fs.location.origin).toString()}catch{return t}}o(Ate,"getAbsoluteUrl");const Hb={};function Cte(t){const e=Hb[t];if(e)return e;let n=fs[t];if(bk(n))return Hb[t]=n.bind(fs);const r=fs.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const i=s.contentWindow;i?.[t]&&(n=i[t]),r.head.removeChild(s)}catch(s){_te&&Me.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,s)}return n&&(Hb[t]=n.bind(fs))}o(Cte,"getNativeImplementation");function Ite(t){Hb[t]=void 0}o(Ite,"clearCachedImplementation");const qm="__sentry_xhr_v3__";function Rte(t){Wf("xhr",t),Hf("xhr",Ote)}o(Rte,"addXhrInstrumentationHandler");function Ote(){if(!fs.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,n,r){const s=new Error,i=io()*1e3,a=ul(r[0])?r[0].toUpperCase():void 0,l=Nte(r[1]);if(!a||!l)return e.apply(n,r);n[qm]={method:a,url:l,request_headers:{}},a==="POST"&&l.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const u=o(()=>{const c=n[qm];if(c&&n.readyState===4){try{c.status_code=n.status}catch{}const f={endTimestamp:io()*1e3,startTimestamp:i,xhr:n,virtualError:s};so("xhr",f)}},"onreadystatechangeHandler");return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(c,f,h){return u(),c.apply(f,h)}}):n.addEventListener("readystatechange",u),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(c,f,h){const[d,p]=h,m=f[qm];return m&&ul(d)&&ul(p)&&(m.request_headers[d.toLowerCase()]=p),c.apply(f,h)}}),e.apply(n,r)}}),t.send=new Proxy(t.send,{apply(e,n,r){const s=n[qm];if(!s)return e.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const i={startTimestamp:io()*1e3,xhr:n};return so("xhr",i),e.apply(n,r)}})}o(Ote,"instrumentXHR");function Nte(t){if(ul(t))return t;try{return t.toString()}catch{}}o(Nte,"parseXhrUrlArg");const Mte=40;function Dte(t,e=Cte("fetch")){let n=0,r=0;async function s(i){const a=i.body.length;n+=a,r++;const l={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};try{const u=await e(t.url,l);return{statusCode:u.status,headers:{"x-sentry-rate-limits":u.headers.get("X-Sentry-Rate-Limits"),"retry-after":u.headers.get("Retry-After")}}}catch(u){throw Ite("fetch"),u}finally{n-=a,r--}}return o(s,"makeRequest"),fee(t,s,UI(t.bufferSize||Mte))}o(Dte,"makeFetchTransport");const sE=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Pte=30,$te=50;function xk(t,e,n,r){const s={filename:t,function:e==="<anonymous>"?df:e,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}o(xk,"createFrame");const Lte=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Fte=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Bte=/\((\S*)(?::(\d+))(?::(\d+))\)/,Ute=/at (.+?) ?\(data:(.+?),/,zte=o(t=>{const e=t.match(Ute);if(e)return{filename:`<data:${e[2]}>`,function:e[1]};const n=Lte.exec(t);if(n){const[,s,i,a]=n;return xk(s,df,+i,+a)}const r=Fte.exec(t);if(r){if(r[2]&&r[2].indexOf("eval")===0){const l=Bte.exec(r[2]);l&&(r[2]=l[1],r[3]=l[2],r[4]=l[3])}const[i,a]=XB(r[1]||df,r[2]);return xk(a,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},"chromeStackParserFn"),Vte=[Pte,zte],jte=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Wte=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Hte=o(t=>{const e=jte.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const i=Wte.exec(e[3]);i&&(e[1]=e[1]||"eval",e[3]=i[1],e[4]=i[2],e[5]="")}let r=e[3],s=e[1]||df;return[s,r]=XB(s,r),xk(r,s,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},"gecko$1"),qte=[$te,Hte],Gte=[Vte,qte],Kte=iB(...Gte),XB=o((t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:df,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},"extractSafariExtensionDetails"),B1=1024,Yte="Breadcrumbs",Xte=o(((t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:Yte,setup(n){e.console&&zee(ene(n)),e.dom&&vte(Qte(n,e.dom)),e.xhr&&Rte(tne(n)),e.fetch&&Qee(nne(n)),e.history&&YB(rne(n)),e.sentry&&n.on("beforeSendEvent",Zte(n))}}}),"_breadcrumbsIntegration"),Jte=Xte;function Zte(t){return o(function(n){Hn()===t&&pf({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:$c(n)},{event:n})},"addSentryBreadcrumb")}o(Zte,"_getSentryBreadcrumbHandler");function Qte(t,e){return o(function(r){if(Hn()!==t)return;let s,i,a=typeof e=="object"?e.serializeAttribute:void 0,l=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;l&&l>B1&&(sE&&Me.warn(`\`dom.maxStringLength\` cannot exceed ${B1}, but a value of ${l} was configured. Sentry will use ${B1} instead.`),l=B1),typeof a=="string"&&(a=[a]);try{const c=r.event,f=sne(c)?c.target:c;s=fB(f,{keyAttrs:a,maxStringLength:l}),i=lZ(f)}catch{s="<unknown>"}if(s.length===0)return;const u={category:`ui.${r.name}`,message:s};i&&(u.data={"ui.component_name":i}),pf(u,{event:r.event,name:r.name,global:r.global})},"_innerDomBreadcrumb")}o(Qte,"_getDomBreadcrumbHandler");function ene(t){return o(function(n){if(Hn()!==t)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:jee(n.level),message:ZM(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${ZM(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;pf(r,{input:n.args,level:n.level})},"_consoleBreadcrumb")}o(ene,"_getConsoleBreadcrumbHandler");function tne(t){return o(function(n){if(Hn()!==t)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[qm];if(!r||!s||!i)return;const{method:a,url:l,status_code:u,body:c}=i,f={method:a,url:l,status_code:u},h={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:s},d={category:"xhr",data:f,type:"http",level:qB(u)};t.emit("beforeOutgoingRequestBreadcrumb",d,h),pf(d,h)},"_xhrBreadcrumb")}o(tne,"_getXhrBreadcrumbHandler");function nne(t){return o(function(n){if(Hn()!==t)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const i=n.fetchData,a={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s},l={category:"fetch",data:i,level:"error",type:"http"};t.emit("beforeOutgoingRequestBreadcrumb",l,a),pf(l,a)}else{const i=n.response,a={...n.fetchData,status_code:i?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i?.status;const l={input:n.args,response:i,startTimestamp:r,endTimestamp:s},u={category:"fetch",data:a,type:"http",level:qB(a.status_code)};t.emit("beforeOutgoingRequestBreadcrumb",u,l),pf(u,l)}},"_fetchBreadcrumb")}o(nne,"_getFetchBreadcrumbHandler");function rne(t){return o(function(n){if(Hn()!==t)return;let r=n.from,s=n.to;const i=u2(Dn.location.href);let a=r?u2(r):void 0;const l=u2(s);a?.path||(a=i),i.protocol===l.protocol&&i.host===l.host&&(s=l.relative),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),pf({category:"navigation",data:{from:r,to:s}})},"_historyBreadcrumb")}o(rne,"_getHistoryBreadcrumbHandler");function sne(t){return!!t&&!!t.target}o(sne,"_isEvent");const ine=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],one="BrowserApiErrors",ane=o(((t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...t};return{name:one,setupOnce(){e.setTimeout&&Js(Dn,"setTimeout",BD),e.setInterval&&Js(Dn,"setInterval",BD),e.requestAnimationFrame&&Js(Dn,"requestAnimationFrame",une),e.XMLHttpRequest&&"XMLHttpRequest"in Dn&&Js(XMLHttpRequest.prototype,"send",cne);const n=e.eventTarget;n&&(Array.isArray(n)?n:ine).forEach(s=>fne(s,e))}}}),"_browserApiErrorsIntegration"),lne=ane;function BD(t){return function(...e){const n=e[0];return e[0]=$d(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${Mu(t)}`}}),t.apply(this,e)}}o(BD,"_wrapTimeFunction");function une(t){return function(e){return t.apply(this,[$d(e,{mechanism:{data:{handler:Mu(t)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}o(une,"_wrapRAF");function cne(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&Js(n,s,function(i){const a={mechanism:{data:{handler:Mu(i)},handled:!1,type:`auto.browser.browserapierrors.xhr.${s}`}},l=CI(i);return l&&(a.mechanism.data.handler=Mu(l)),$d(i,a)})}),t.apply(this,e)}}o(cne,"_wrapXHR");function fne(t,e){const r=Dn[t]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(Js(r,"addEventListener",function(s){return function(i,a,l){try{hne(a)&&(a.handleEvent=$d(a.handleEvent,{mechanism:{data:{handler:Mu(a),target:t},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return e.unregisterOriginalCallbacks&&dne(this,i,a),s.apply(this,[i,$d(a,{mechanism:{data:{handler:Mu(a),target:t},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),l])}}),Js(r,"removeEventListener",function(s){return function(i,a,l){try{const u=a.__sentry_wrapped__;u&&s.call(this,i,u,l)}catch{}return s.call(this,i,a,l)}}))}o(fne,"_wrapEventTarget");function hne(t){return typeof t.handleEvent=="function"}o(hne,"isEventListenerObject");function dne(t,e,n){t&&typeof t=="object"&&"removeEventListener"in t&&typeof t.removeEventListener=="function"&&t.removeEventListener(e,n)}o(dne,"unregisterOriginalCallback");const pne=()=>({name:"BrowserSession",setupOnce(){if(typeof Dn.document>"u"){sE&&Me.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}_D({ignoreDuration:!0}),wD(),YB(({from:t,to:e})=>{t!==void 0&&t!==e&&(_D({ignoreDuration:!0}),wD())})}}),mne="GlobalHandlers",gne=o(((t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:mne,setupOnce(){Error.stackTraceLimit=50},setup(n){e.onerror&&(bne(n),UD("onerror")),e.onunhandledrejection&&(_ne(n),UD("onunhandledrejection"))}}}),"_globalHandlersIntegration"),yne=gne;function bne(t){ZJ(e=>{const{stackParser:n,attachStacktrace:r}=JB();if(Hn()!==t||GB())return;const{msg:s,url:i,line:a,column:l,error:u}=e,c=Ene(jI(n,u||s,void 0,r,!1),i,a,l);c.level="error",RB(c,{originalException:u,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}o(bne,"_installGlobalOnErrorHandler");function _ne(t){eZ(e=>{const{stackParser:n,attachStacktrace:r}=JB();if(Hn()!==t||GB())return;const s=wne(e),i=Qv(s)?vne(s):jI(n,s,void 0,r,!0);i.level="error",RB(i,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}o(_ne,"_installGlobalOnUnhandledRejectionHandler");function wne(t){if(Qv(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}o(wne,"_getUnhandledRejectionError");function vne(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}o(vne,"_eventFromRejectionWithPrimitive");function Ene(t,e,n,r){const s=t.exception=t.exception||{},i=s.values=s.values||[],a=i[0]=i[0]||{},l=a.stacktrace=a.stacktrace||{},u=l.frames=l.frames||[],c=r,f=n,h=xne(e)??AI();return u.length===0&&u.push({colno:c,filename:h,function:df,in_app:!0,lineno:f}),t}o(Ene,"_enhanceEventWithInitialFrame");function UD(t){sE&&Me.log(`Global Handler attached: ${t}`)}o(UD,"globalHandlerLog");function JB(){return Hn()?.getOptions()||{stackParser:o(()=>[],"stackParser"),attachStacktrace:!1}}o(JB,"getOptions");function xne(t){if(!(!ul(t)||t.length===0)){if(t.startsWith("data:")){const e=t.match(/^data:([^;]+)/),n=e?e[1]:"text/javascript",r=t.includes("base64,");return`<data:${n}${r?",base64":""}>`}return t}}o(xne,"getFilenameFromUrl");const Sne=()=>({name:"HttpContext",preprocessEvent(t){if(!Dn.navigator&&!Dn.location&&!Dn.document)return;const e=ite(),n={...e.headers,...t.request?.headers};t.request={...e,...t.request,headers:n}}}),Tne="cause",kne=5,Ane="LinkedErrors",Cne=o(((t={})=>{const e=t.limit||kne,n=t.key||Tne;return{name:Ane,preprocessEvent(r,s,i){const a=i.getOptions();Uee(zI,a.stackParser,n,e,r,s)}}}),"_linkedErrorsIntegration"),Ine=Cne;function Rne(){return One()?(sE&&Ep(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}o(Rne,"checkAndWarnIfIsEmbeddedBrowserExtension");function One(){if(typeof Dn.window>"u")return!1;const t=Dn;if(t.nw||!(t.chrome||t.browser)?.runtime?.id)return!1;const n=AI(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(Dn===Dn.top&&r.some(i=>n.startsWith(`${i}://`)))}o(One,"_isEmbeddedBrowserExtension");function Nne(t){return[Nee(),Cee(),lne(),Jte(),yne(),Ine(),qee(),Sne(),pne()]}o(Nne,"getDefaultIntegrations");function m9e(t={}){const e=!t.skipBrowserExtensionCheck&&Rne();let n=t.defaultIntegrations==null?Nne():t.defaultIntegrations;const r={...t,enabled:e?!1:t.enabled,stackParser:XJ(t.stackParser||Kte),integrations:ZQ({integrations:t.integrations,defaultIntegrations:n}),transport:t.transport||Dte};return vee(yte,r)}o(m9e,"init$3");const Mne=o(()=>{},"getDefaultsFromPostinstall");var zD={};const ZB={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const xe=o(function(t,e){if(!t)throw kp(e)},"assert"),kp=o(function(t){return new Error("Firebase Database ("+ZB.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},"assertionError");const QB=o(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},"stringToByteArray$1"),Dne=o(function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},"byteArrayToString"),iE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,l=a?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,f=i>>2,h=(i&3)<<4|l>>4;let d=(l&15)<<2|c>>6,p=c&63;u||(p=64,a||(d=64)),r.push(n[f],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Dne(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||c==null||h==null)throw new Pne;const d=i<<2|l>>4;if(r.push(d),c!==64){const p=l<<4&240|c>>2;if(r.push(p),h!==64){const m=c<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Pne extends Error{static{o(this,"DecodeBase64StringError")}constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eU=o(function(t){const e=QB(t);return iE.encodeByteArray(e,!0)},"base64Encode"),tU=o(function(t){return eU(t).replace(/\./g,"")},"base64urlEncodeWithoutPadding"),M_=o(function(t){try{return iE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},"base64Decode");function $ne(t){return nU(void 0,t)}o($ne,"deepCopy$1");function nU(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Lne(n)||(t[n]=nU(t[n],e[n]));return t}o(nU,"deepExtend");function Lne(t){return t!=="__proto__"}o(Lne,"isValidKey$1");function Fne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}o(Fne,"getGlobal$1");const Bne=o(()=>Fne().__FIREBASE_DEFAULTS__,"getDefaultsFromGlobal"),Une=o(()=>{if(typeof process>"u"||typeof zD>"u")return;const t=zD.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},"getDefaultsFromEnvVariable"),zne=o(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&M_(t[1]);return e&&JSON.parse(e)},"getDefaultsFromCookie"),rU=o(()=>{try{return Mne()||Bne()||Une()||zne()}catch(t){`${t}`;return}},"getDefaults"),sU=o(()=>{var t;return(t=rU())===null||t===void 0?void 0:t.config},"getDefaultAppConfig"),Vne=o(t=>{var e;return(e=rU())===null||e===void 0?void 0:e[`_${t}`]},"getExperimentalSetting");class n0{static{o(this,"Deferred")}constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function ms(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}o(ms,"getUA");function WI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ms())}o(WI,"isMobileCordova");function jne(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}o(jne,"isCloudflareWorker");function Wne(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}o(Wne,"isBrowserExtension");function iU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}o(iU,"isReactNative");function Hne(){const t=ms();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}o(Hne,"isIE");function qne(){return ZB.NODE_ADMIN===!0}o(qne,"isNodeSdk");function oU(){try{return typeof indexedDB=="object"}catch{return!1}}o(oU,"isIndexedDBAvailable");function Gne(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}o(Gne,"validateIndexedDBOpenable");const Kne="FirebaseError";class Ta extends Error{static{o(this,"FirebaseError")}constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Kne,Object.setPrototypeOf(this,Ta.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ap.prototype.create)}}class Ap{static{o(this,"ErrorFactory")}constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?Yne(i,r):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Ta(s,l,r)}}function Yne(t,e){return t.replace(Xne,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}o(Yne,"replaceTemplate");const Xne=/\{\$([^}]+)}/g;function r0(t){return JSON.parse(t)}o(r0,"jsonEval");function Er(t){return JSON.stringify(t)}o(Er,"stringify");const aU=o(function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=r0(M_(i[0])||""),n=r0(M_(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},"decode$2"),Jne=o(function(t){const e=aU(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},"isValidFormat"),Zne=o(function(t){const e=aU(t).claims;return typeof e=="object"&&e.admin===!0},"isAdmin");function kl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}o(kl,"contains");function Ld(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}o(Ld,"safeGet");function Sk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}o(Sk,"isEmpty$3");function D_(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}o(D_,"map$5");function P_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(VD(i)&&VD(a)){if(!P_(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}o(P_,"deepEqual");function VD(t){return t!==null&&typeof t=="object"}o(VD,"isObject$8");function Cp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}o(Cp,"querystring");function Gm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}o(Gm,"querystringDecode");function Km(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}o(Km,"extractQuerystring");class Qne{static{o(this,"Sha1")}constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const d=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(d<<1|d>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],a=this.chain_[2],l=this.chain_[3],u=this.chain_[4],c,f;for(let h=0;h<80;h++){h<40?h<20?(c=l^i&(a^l),f=1518500249):(c=i^a^l,f=1859775393):h<60?(c=i&a|l&(i|a),f=2400959708):(c=i^a^l,f=3395469782);const d=(s<<5|s>>>27)+c+u+f+r[h]&4294967295;u=l,l=a,a=(i<<30|i>>>2)&4294967295,i=s,s=d}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let a=this.inbuf_;for(;s<n;){if(a===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[a]=e.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(i),a=0;break}}else for(;s<n;)if(i[a]=e[s],++a,++s,a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function ere(t,e){const n=new tre(t,e);return n.subscribe.bind(n)}o(ere,"createSubscribe");class tre{static{o(this,"ObserverProxy")}constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nre(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=f2),s.error===void 0&&(s.error=f2),s.complete===void 0&&(s.complete=f2);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nre(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}o(nre,"implementsAnyMethods");function f2(){}o(f2,"noop$6");function rre(t,e){return`${t} failed: ${e} argument `}o(rre,"errorPrefix");const sre=o(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,xe(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;s=65536+(i<<10)+a}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},"stringToByteArray"),oE=o(function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},"stringLength");function Bi(t){return t&&t._delegate?t._delegate:t}o(Bi,"getModularInstance");class yo{static{o(this,"Component")}constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Oc="[DEFAULT]";class ire{static{o(this,"Provider")}constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new n0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(are(e))try{this.getOrInitializeService({instanceIdentifier:Oc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Oc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oc){return this.instances.has(e)}getOptions(e=Oc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ore(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oc){return this.component?this.component.multipleInstances?e:Oc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ore(t){return t===Oc?void 0:t}o(ore,"normalizeIdentifierForFactory");function are(t){return t.instantiationMode==="EAGER"}o(are,"isComponentEager");class lre{static{o(this,"ComponentContainer")}constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ire(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var It;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(It||(It={}));const ure={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},cre=It.INFO,fre={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},hre=o((t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=fre[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},"defaultLogHandler");class my{static{o(this,"Logger")}constructor(e){this.name=e,this._logLevel=cre,this._logHandler=hre,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in It))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ure[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...e),this._logHandler(this,It.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...e),this._logHandler(this,It.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,It.INFO,...e),this._logHandler(this,It.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,It.WARN,...e),this._logHandler(this,It.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...e),this._logHandler(this,It.ERROR,...e)}}const dre=o((t,e)=>e.some(n=>t instanceof n),"instanceOfAny");let jD,WD;function pre(){return jD||(jD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}o(pre,"getIdbProxyableTypes");function mre(){return WD||(WD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}o(mre,"getCursorAdvanceMethods");const lU=new WeakMap,Tk=new WeakMap,uU=new WeakMap,h2=new WeakMap,HI=new WeakMap;function gre(t){const e=new Promise((n,r)=>{const s=o(()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},"unlisten"),i=o(()=>{n(Su(t.result)),s()},"success"),a=o(()=>{r(t.error),s()},"error");t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&lU.set(n,t)}).catch(()=>{}),HI.set(e,t),e}o(gre,"promisifyRequest");function yre(t){if(Tk.has(t))return;const e=new Promise((n,r)=>{const s=o(()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},"unlisten"),i=o(()=>{n(),s()},"complete"),a=o(()=>{r(t.error||new DOMException("AbortError","AbortError")),s()},"error");t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Tk.set(t,e)}o(yre,"cacheDonePromiseForTransaction");let kk={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tk.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Su(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bre(t){kk=t(kk)}o(bre,"replaceTraps");function _re(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(d2(this),e,...n);return uU.set(r,e.sort?e.sort():[e]),Su(r)}:mre().includes(t)?function(...e){return t.apply(d2(this),e),Su(lU.get(this))}:function(...e){return Su(t.apply(d2(this),e))}}o(_re,"wrapFunction");function wre(t){return typeof t=="function"?_re(t):(t instanceof IDBTransaction&&yre(t),dre(t,pre())?new Proxy(t,kk):t)}o(wre,"transformCachableValue");function Su(t){if(t instanceof IDBRequest)return gre(t);if(h2.has(t))return h2.get(t);const e=wre(t);return e!==t&&(h2.set(t,e),HI.set(e,t)),e}o(Su,"wrap$4");const d2=o(t=>HI.get(t),"unwrap");function vre(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),l=Su(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Su(a.result),u.oldVersion,u.newVersion,Su(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}o(vre,"openDB");const Ere=["get","getKey","getAll","getAllKeys","count"],xre=["put","add","delete","clear"],p2=new Map;function HD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(p2.get(e))return p2.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=xre.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Ere.includes(n)))return;const i=o(async function(a,...l){const u=this.transaction(a,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&u.done]))[0]},"method");return p2.set(e,i),i}o(HD,"getMethod");bre(t=>({...t,get:o((e,n,r)=>HD(e,n)||t.get(e,n,r),"get"),has:o((e,n)=>!!HD(e,n)||t.has(e,n),"has")}));class Sre{static{o(this,"PlatformLoggerServiceImpl")}constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Tre(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Tre(t){const e=t.getComponent();return e?.type==="VERSION"}o(Tre,"isVersionServiceProvider");const Ak="@firebase/app",qD="0.11.4";const ml=new my("@firebase/app"),kre="@firebase/app-compat",Are="@firebase/analytics-compat",Cre="@firebase/analytics",Ire="@firebase/app-check-compat",Rre="@firebase/app-check",Ore="@firebase/auth",Nre="@firebase/auth-compat",Mre="@firebase/database",Dre="@firebase/data-connect",Pre="@firebase/database-compat",$re="@firebase/functions",Lre="@firebase/functions-compat",Fre="@firebase/installations",Bre="@firebase/installations-compat",Ure="@firebase/messaging",zre="@firebase/messaging-compat",Vre="@firebase/performance",jre="@firebase/performance-compat",Wre="@firebase/remote-config",Hre="@firebase/remote-config-compat",qre="@firebase/storage",Gre="@firebase/storage-compat",Kre="@firebase/firestore",Yre="@firebase/vertexai",Xre="@firebase/firestore-compat",Jre="firebase",Zre="11.6.0";const Ck="[DEFAULT]",Qre={[Ak]:"fire-core",[kre]:"fire-core-compat",[Cre]:"fire-analytics",[Are]:"fire-analytics-compat",[Rre]:"fire-app-check",[Ire]:"fire-app-check-compat",[Ore]:"fire-auth",[Nre]:"fire-auth-compat",[Mre]:"fire-rtdb",[Dre]:"fire-data-connect",[Pre]:"fire-rtdb-compat",[$re]:"fire-fn",[Lre]:"fire-fn-compat",[Fre]:"fire-iid",[Bre]:"fire-iid-compat",[Ure]:"fire-fcm",[zre]:"fire-fcm-compat",[Vre]:"fire-perf",[jre]:"fire-perf-compat",[Wre]:"fire-rc",[Hre]:"fire-rc-compat",[qre]:"fire-gcs",[Gre]:"fire-gcs-compat",[Kre]:"fire-fst",[Xre]:"fire-fst-compat",[Yre]:"fire-vertex","fire-js":"fire-js",[Jre]:"fire-js-all"};const $_=new Map,ese=new Map,Ik=new Map;function GD(t,e){try{t.container.addComponent(e)}catch(n){ml.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}o(GD,"_addComponent");function ca(t){const e=t.name;if(Ik.has(e))return ml.debug(`There were multiple attempts to register component ${e}.`),!1;Ik.set(e,t);for(const n of $_.values())GD(n,t);for(const n of ese.values())GD(n,t);return!0}o(ca,"_registerComponent");function tse(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}o(tse,"_getProvider");function as(t){return t==null?!1:t.settings!==void 0}o(as,"_isFirebaseServerApp");const nse={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tu=new Ap("app","Firebase",nse);class rse{static{o(this,"FirebaseAppImpl")}constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tu.create("app-deleted",{appName:this._name})}}const ec=Zre;function sse(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ck,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Tu.create("bad-app-name",{appName:String(s)});if(n||(n=sU()),!n)throw Tu.create("no-options");const i=$_.get(s);if(i){if(P_(n,i.options)&&P_(r,i.config))return i;throw Tu.create("duplicate-app",{appName:s})}const a=new lre(s);for(const u of Ik.values())a.addComponent(u);const l=new rse(n,r,a);return $_.set(s,l),l}o(sse,"initializeApp");function g9e(t=Ck){const e=$_.get(t);if(!e&&t===Ck&&sU())return sse();if(!e)throw Tu.create("no-app",{appName:t});return e}o(g9e,"getApp");function Qs(t,e,n){var r;let s=(r=Qre[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ml.warn(l.join(" "));return}ca(new yo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}o(Qs,"registerVersion");const ise="firebase-heartbeat-database",ose=1,s0="firebase-heartbeat-store";let m2=null;function cU(){return m2||(m2=vre(ise,ose,{upgrade:o((t,e)=>{switch(e){case 0:try{t.createObjectStore(s0)}catch(n){console.warn(n)}}},"upgrade")}).catch(t=>{throw Tu.create("idb-open",{originalErrorMessage:t.message})})),m2}o(cU,"getDbPromise");async function ase(t){try{const n=(await cU()).transaction(s0),r=await n.objectStore(s0).get(fU(t));return await n.done,r}catch(e){if(e instanceof Ta)ml.warn(e.message);else{const n=Tu.create("idb-get",{originalErrorMessage:e?.message});ml.warn(n.message)}}}o(ase,"readHeartbeatsFromIndexedDB");async function KD(t,e){try{const r=(await cU()).transaction(s0,"readwrite");await r.objectStore(s0).put(e,fU(t)),await r.done}catch(n){if(n instanceof Ta)ml.warn(n.message);else{const r=Tu.create("idb-set",{originalErrorMessage:n?.message});ml.warn(r.message)}}}o(KD,"writeHeartbeatsToIndexedDB");function fU(t){return`${t.name}!${t.options.appId}`}o(fU,"computeKey$1");const lse=1024,use=30;class cse{static{o(this,"HeartbeatServiceImpl")}constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hse(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=YD();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>use){const a=dse(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ml.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=YD(),{heartbeatsToSend:r,unsentEntries:s}=fse(this._heartbeatsCache.heartbeats),i=tU(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ml.warn(n),""}}}function YD(){return new Date().toISOString().substring(0,10)}o(YD,"getUTCDateString");function fse(t,e=lse){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),XD(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),XD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}o(fse,"extractHeartbeatsForHeader");class hse{static{o(this,"HeartbeatStorageImpl")}constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oU()?Gne().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ase(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return KD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return KD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function XD(t){return tU(JSON.stringify({version:2,heartbeats:t})).length}o(XD,"countBytes");function dse(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}o(dse,"getEarliestHeartbeatIdx");function pse(t){ca(new yo("platform-logger",e=>new Sre(e),"PRIVATE")),ca(new yo("heartbeat",e=>new cse(e),"PRIVATE")),Qs(Ak,qD,t),Qs(Ak,qD,"esm2017"),Qs("fire-js","")}o(pse,"registerCoreComponents");pse("");var mse="firebase",gse="11.6.0";Qs(mse,gse,"app");function qI(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}o(qI,"makeMap");const Tt={},cd=[],oo=o(()=>{},"NOOP"),yse=o(()=>!1,"NO"),aE=o(t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),"isOn"),GI=o(t=>t.startsWith("onUpdate:"),"isModelListener"),zn=Object.assign,KI=o((t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},"remove$2"),bse=Object.prototype.hasOwnProperty,Ct=o((t,e)=>bse.call(t,e),"hasOwn$2"),Le=Array.isArray,fd=o(t=>lE(t)==="[object Map]","isMap$2"),hU=o(t=>lE(t)==="[object Set]","isSet$2"),ze=o(t=>typeof t=="function","isFunction$6"),dn=o(t=>typeof t=="string","isString$7"),Al=o(t=>typeof t=="symbol","isSymbol$2"),Zt=o(t=>t!==null&&typeof t=="object","isObject$7"),dU=o(t=>(Zt(t)||ze(t))&&ze(t.then)&&ze(t.catch),"isPromise$1"),pU=Object.prototype.toString,lE=o(t=>pU.call(t),"toTypeString$1"),_se=o(t=>lE(t).slice(8,-1),"toRawType"),mU=o(t=>lE(t)==="[object Object]","isPlainObject$4"),YI=o(t=>dn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,"isIntegerKey"),fg=qI(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),uE=o(t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},"cacheStringFunction"),wse=/-(\w)/g,gs=uE(t=>t.replace(wse,(e,n)=>n?n.toUpperCase():"")),vse=/\B([A-Z])/g,Cl=uE(t=>t.replace(vse,"-$1").toLowerCase()),cE=uE(t=>t.charAt(0).toUpperCase()+t.slice(1)),hg=uE(t=>t?`on${cE(t)}`:""),Is=o((t,e)=>!Object.is(t,e),"hasChanged"),qb=o((t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},"invokeArrayFns"),gU=o((t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},"def$1"),Rk=o(t=>{const e=parseFloat(t);return isNaN(e)?t:e},"looseToNumber"),yU=o(t=>{const e=dn(t)?Number(t):NaN;return isNaN(e)?t:e},"toNumber$1");let JD;const fE=o(()=>JD||(JD=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),"getGlobalThis$1");function Gf(t){if(Le(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=dn(r)?Tse(r):Gf(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(dn(t)||Zt(t))return t}o(Gf,"normalizeStyle");const Ese=/;(?![^(]*\))/g,xse=/:([^]+)/,Sse=/\/\*[^]*?\*\//g;function Tse(t){const e={};return t.replace(Sse,"").split(Ese).forEach(n=>{if(n){const r=n.split(xse);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}o(Tse,"parseStringStyle");function hE(t){let e="";if(dn(t))e=t;else if(Le(t))for(let n=0;n<t.length;n++){const r=hE(t[n]);r&&(e+=r+" ")}else if(Zt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}o(hE,"normalizeClass");function y9e(t){if(!t)return null;let{class:e,style:n}=t;return e&&!dn(e)&&(t.class=hE(e)),n&&(t.style=Gf(n)),t}o(y9e,"normalizeProps");const kse="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ase=qI(kse);function bU(t){return!!t||t===""}o(bU,"includeBooleanAttr");const _U=o(t=>!!(t&&t.__v_isRef===!0),"isRef$1"),Cse=o(t=>dn(t)?t:t==null?"":Le(t)||Zt(t)&&(t.toString===pU||!ze(t.toString))?_U(t)?Cse(t.value):JSON.stringify(t,wU,2):String(t),"toDisplayString$1"),wU=o((t,e)=>_U(e)?wU(t,e.value):fd(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[g2(r,i)+" =>"]=s,n),{})}:hU(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>g2(n))}:Al(e)?g2(e):Zt(e)&&!Le(e)&&!mU(e)?String(e):e,"replacer"),g2=o((t,e="")=>{var n;return Al(t)?`Symbol(${(n=t.description)!=null?n:e})`:t},"stringifySymbol");let ss;class vU{static{o(this,"EffectScope")}constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ss,!e&&ss&&(this.index=(ss.scopes||(ss.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=ss;try{return ss=this,e()}finally{ss=n}}}on(){ss=this}off(){ss=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Ise(t){return new vU(t)}o(Ise,"effectScope");function EU(){return ss}o(EU,"getCurrentScope");function Rse(t,e=!1){ss&&ss.cleanups.push(t)}o(Rse,"onScopeDispose");let Gt;const y2=new WeakSet;class xU{static{o(this,"ReactiveEffect")}constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ss&&ss.active&&ss.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,y2.has(this)&&(y2.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||TU(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ZD(this),kU(this);const e=Gt,n=ao;Gt=this,ao=!0;try{return this.fn()}finally{AU(this),Gt=e,ao=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ZI(e);this.deps=this.depsTail=void 0,ZD(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?y2.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ok(this)&&this.run()}get dirty(){return Ok(this)}}let SU=0,dg,pg;function TU(t,e=!1){if(t.flags|=8,e){t.next=pg,pg=t;return}t.next=dg,dg=t}o(TU,"batch");function XI(){SU++}o(XI,"startBatch");function JI(){if(--SU>0)return;if(pg){let e=pg;for(pg=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;dg;){let e=dg;for(dg=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}o(JI,"endBatch");function kU(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}o(kU,"prepareDeps");function AU(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),ZI(r),Ose(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}o(AU,"cleanupDeps");function Ok(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(CU(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}o(Ok,"isDirty$1");function CU(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===i0))return;t.globalVersion=i0;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Ok(t)){t.flags&=-3;return}const n=Gt,r=ao;Gt=t,ao=!0;try{kU(t);const s=t.fn(t._value);(e.version===0||Is(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Gt=n,ao=r,AU(t),t.flags&=-3}}o(CU,"refreshComputed");function ZI(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)ZI(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}o(ZI,"removeSub");function Ose(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}o(Ose,"removeDep");let ao=!0;const IU=[];function tc(){IU.push(ao),ao=!1}o(tc,"pauseTracking");function nc(){const t=IU.pop();ao=t===void 0?!0:t}o(nc,"resetTracking");function ZD(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Gt;Gt=void 0;try{e()}finally{Gt=n}}}o(ZD,"cleanupEffect");let i0=0;class Nse{static{o(this,"Link")}constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class dE{static{o(this,"Dep")}constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Gt||!ao||Gt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Gt)n=this.activeLink=new Nse(Gt,this),Gt.deps?(n.prevDep=Gt.depsTail,Gt.depsTail.nextDep=n,Gt.depsTail=n):Gt.deps=Gt.depsTail=n,RU(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Gt.depsTail,n.nextDep=void 0,Gt.depsTail.nextDep=n,Gt.depsTail=n,Gt.deps===n&&(Gt.deps=r)}return n}trigger(e){this.version++,i0++,this.notify(e)}notify(e){XI();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{JI()}}}function RU(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)RU(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}o(RU,"addSub");const L_=new WeakMap,ef=Symbol(""),Nk=Symbol(""),o0=Symbol("");function Mr(t,e,n){if(ao&&Gt){let r=L_.get(t);r||L_.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new dE),s.map=r,s.key=n),s.track()}}o(Mr,"track");function nl(t,e,n,r,s,i){const a=L_.get(t);if(!a){i0++;return}const l=o(u=>{u&&u.trigger()},"run");if(XI(),e==="clear")a.forEach(l);else{const u=Le(t),c=u&&YI(n);if(u&&n==="length"){const f=Number(r);a.forEach((h,d)=>{(d==="length"||d===o0||!Al(d)&&d>=f)&&l(h)})}else switch((n!==void 0||a.has(void 0))&&l(a.get(n)),c&&l(a.get(o0)),e){case"add":u?c&&l(a.get("length")):(l(a.get(ef)),fd(t)&&l(a.get(Nk)));break;case"delete":u||(l(a.get(ef)),fd(t)&&l(a.get(Nk)));break;case"set":fd(t)&&l(a.get(ef));break}}JI()}o(nl,"trigger");function Mse(t,e){const n=L_.get(t);return n&&n.get(e)}o(Mse,"getDepFromReactive");function Th(t){const e=bt(t);return e===t?e:(Mr(e,"iterate",o0),Ii(t)?e:e.map(Dr))}o(Th,"reactiveReadArray");function pE(t){return Mr(t=bt(t),"iterate",o0),t}o(pE,"shallowReadArray");const Dse={__proto__:null,[Symbol.iterator](){return b2(this,Symbol.iterator,Dr)},concat(...t){return Th(this).concat(...t.map(e=>Le(e)?Th(e):e))},entries(){return b2(this,"entries",t=>(t[1]=Dr(t[1]),t))},every(t,e){return La(this,"every",t,e,void 0,arguments)},filter(t,e){return La(this,"filter",t,e,n=>n.map(Dr),arguments)},find(t,e){return La(this,"find",t,e,Dr,arguments)},findIndex(t,e){return La(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return La(this,"findLast",t,e,Dr,arguments)},findLastIndex(t,e){return La(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return La(this,"forEach",t,e,void 0,arguments)},includes(...t){return _2(this,"includes",t)},indexOf(...t){return _2(this,"indexOf",t)},join(t){return Th(this).join(t)},lastIndexOf(...t){return _2(this,"lastIndexOf",t)},map(t,e){return La(this,"map",t,e,void 0,arguments)},pop(){return ym(this,"pop")},push(...t){return ym(this,"push",t)},reduce(t,...e){return QD(this,"reduce",t,e)},reduceRight(t,...e){return QD(this,"reduceRight",t,e)},shift(){return ym(this,"shift")},some(t,e){return La(this,"some",t,e,void 0,arguments)},splice(...t){return ym(this,"splice",t)},toReversed(){return Th(this).toReversed()},toSorted(t){return Th(this).toSorted(t)},toSpliced(...t){return Th(this).toSpliced(...t)},unshift(...t){return ym(this,"unshift",t)},values(){return b2(this,"values",Dr)}};function b2(t,e,n){const r=pE(t),s=r[e]();return r!==t&&!Ii(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}o(b2,"iterator$1");const Pse=Array.prototype;function La(t,e,n,r,s,i){const a=pE(t),l=a!==t&&!Ii(t),u=a[e];if(u!==Pse[e]){const h=u.apply(t,i);return l?Dr(h):h}let c=n;a!==t&&(l?c=o(function(h,d){return n.call(this,Dr(h),d,t)},"wrappedFn"):n.length>2&&(c=o(function(h,d){return n.call(this,h,d,t)},"wrappedFn")));const f=u.call(a,c,r);return l&&s?s(f):f}o(La,"apply$2");function QD(t,e,n,r){const s=pE(t);let i=n;return s!==t&&(Ii(t)?n.length>3&&(i=o(function(a,l,u){return n.call(this,a,l,u,t)},"wrappedFn")):i=o(function(a,l,u){return n.call(this,a,Dr(l),u,t)},"wrappedFn")),s[e](i,...r)}o(QD,"reduce$1");function _2(t,e,n){const r=bt(t);Mr(r,"iterate",o0);const s=r[e](...n);return(s===-1||s===!1)&&t3(n[0])?(n[0]=bt(n[0]),r[e](...n)):s}o(_2,"searchProxy");function ym(t,e,n=[]){tc(),XI();const r=bt(t)[e].apply(t,n);return JI(),nc(),r}o(ym,"noTracking");const $se=qI("__proto__,__v_isRef,__isVue"),OU=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Al));function Lse(t){Al(t)||(t=String(t));const e=bt(this);return Mr(e,"has",t),e.hasOwnProperty(t)}o(Lse,"hasOwnProperty$2");class NU{static{o(this,"BaseReactiveHandler")}constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Gse:$U:i?PU:DU).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=Le(e);if(!s){let u;if(a&&(u=Dse[n]))return u;if(n==="hasOwnProperty")return Lse}const l=Reflect.get(e,n,on(e)?e:r);return(Al(n)?OU.has(n):$se(n))||(s||Mr(e,"get",n),i)?l:on(l)?a&&YI(n)?l:l.value:Zt(l)?s?Ip(l):mf(l):l}}class MU extends NU{static{o(this,"MutableReactiveHandler")}constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const u=gf(i);if(!Ii(r)&&!gf(r)&&(i=bt(i),r=bt(r)),!Le(e)&&on(i)&&!on(r))return u?!1:(i.value=r,!0)}const a=Le(e)&&YI(n)?Number(n)<e.length:Ct(e,n),l=Reflect.set(e,n,r,on(e)?e:s);return e===bt(s)&&(a?Is(r,i)&&nl(e,"set",n,r):nl(e,"add",n,r)),l}deleteProperty(e,n){const r=Ct(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&nl(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Al(n)||!OU.has(n))&&Mr(e,"has",n),r}ownKeys(e){return Mr(e,"iterate",Le(e)?"length":ef),Reflect.ownKeys(e)}}class Fse extends NU{static{o(this,"ReadonlyReactiveHandler")}constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const Bse=new MU,Use=new Fse,zse=new MU(!0);const Mk=o(t=>t,"toShallow"),U1=o(t=>Reflect.getPrototypeOf(t),"getProto");function Vse(t,e,n){return function(...r){const s=this.__v_raw,i=bt(s),a=fd(i),l=t==="entries"||t===Symbol.iterator&&a,u=t==="keys"&&a,c=s[t](...r),f=n?Mk:e?Dk:Dr;return!e&&Mr(i,"iterate",u?Nk:ef),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:l?[f(h[0]),f(h[1])]:f(h),done:d}},[Symbol.iterator](){return this}}}}o(Vse,"createIterableMethod");function z1(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}o(z1,"createReadonlyMethod");function jse(t,e){const n={get(s){const i=this.__v_raw,a=bt(i),l=bt(s);t||(Is(s,l)&&Mr(a,"get",s),Mr(a,"get",l));const{has:u}=U1(a),c=e?Mk:t?Dk:Dr;if(u.call(a,s))return c(i.get(s));if(u.call(a,l))return c(i.get(l));i!==a&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Mr(bt(s),"iterate",ef),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,a=bt(i),l=bt(s);return t||(Is(s,l)&&Mr(a,"has",s),Mr(a,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const a=this,l=a.__v_raw,u=bt(l),c=e?Mk:t?Dk:Dr;return!t&&Mr(u,"iterate",ef),l.forEach((f,h)=>s.call(i,c(f),c(h),a))}};return zn(n,t?{add:z1("add"),set:z1("set"),delete:z1("delete"),clear:z1("clear")}:{add(s){!e&&!Ii(s)&&!gf(s)&&(s=bt(s));const i=bt(this);return U1(i).has.call(i,s)||(i.add(s),nl(i,"add",s,s)),this},set(s,i){!e&&!Ii(i)&&!gf(i)&&(i=bt(i));const a=bt(this),{has:l,get:u}=U1(a);let c=l.call(a,s);c||(s=bt(s),c=l.call(a,s));const f=u.call(a,s);return a.set(s,i),c?Is(i,f)&&nl(a,"set",s,i):nl(a,"add",s,i),this},delete(s){const i=bt(this),{has:a,get:l}=U1(i);let u=a.call(i,s);u||(s=bt(s),u=a.call(i,s)),l&&l.call(i,s);const c=i.delete(s);return u&&nl(i,"delete",s,void 0),c},clear(){const s=bt(this),i=s.size!==0,a=s.clear();return i&&nl(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=Vse(s,t,e)}),n}o(jse,"createInstrumentations");function QI(t,e){const n=jse(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Ct(n,s)&&s in r?n:r,s,i)}o(QI,"createInstrumentationGetter");const Wse={get:QI(!1,!1)},Hse={get:QI(!1,!0)},qse={get:QI(!0,!1)};const DU=new WeakMap,PU=new WeakMap,$U=new WeakMap,Gse=new WeakMap;function Kse(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}o(Kse,"targetTypeMap");function Yse(t){return t.__v_skip||!Object.isExtensible(t)?0:Kse(_se(t))}o(Yse,"getTargetType");function mf(t){return gf(t)?t:e3(t,!1,Bse,Wse,DU)}o(mf,"reactive");function Xse(t){return e3(t,!1,zse,Hse,PU)}o(Xse,"shallowReactive");function Ip(t){return e3(t,!0,Use,qse,$U)}o(Ip,"readonly");function e3(t,e,n,r,s){if(!Zt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const a=Yse(t);if(a===0)return t;const l=new Proxy(t,a===2?r:n);return s.set(t,l),l}o(e3,"createReactiveObject");function hd(t){return gf(t)?hd(t.__v_raw):!!(t&&t.__v_isReactive)}o(hd,"isReactive");function gf(t){return!!(t&&t.__v_isReadonly)}o(gf,"isReadonly");function Ii(t){return!!(t&&t.__v_isShallow)}o(Ii,"isShallow");function t3(t){return t?!!t.__v_raw:!1}o(t3,"isProxy");function bt(t){const e=t&&t.__v_raw;return e?bt(e):t}o(bt,"toRaw");function LU(t){return!Ct(t,"__v_skip")&&Object.isExtensible(t)&&gU(t,"__v_skip",!0),t}o(LU,"markRaw");const Dr=o(t=>Zt(t)?mf(t):t,"toReactive$1"),Dk=o(t=>Zt(t)?Ip(t):t,"toReadonly");function on(t){return t?t.__v_isRef===!0:!1}o(on,"isRef");function Ie(t){return FU(t,!1)}o(Ie,"ref");function a0(t){return FU(t,!0)}o(a0,"shallowRef");function FU(t,e){return on(t)?t:new Jse(t,e)}o(FU,"createRef");class Jse{static{o(this,"RefImpl")}constructor(e,n){this.dep=new dE,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:bt(e),this._value=n?e:Dr(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Ii(e)||gf(e);e=r?e:bt(e),Is(e,n)&&(this._rawValue=e,this._value=r?e:Dr(e),this.dep.trigger())}}function b9e(t){t.dep&&t.dep.trigger()}o(b9e,"triggerRef");function Ae(t){return on(t)?t.value:t}o(Ae,"unref");function Vo(t){return ze(t)?t():Ae(t)}o(Vo,"toValue$3");const Zse={get:o((t,e,n)=>e==="__v_raw"?t:Ae(Reflect.get(t,e,n)),"get"),set:o((t,e,n,r)=>{const s=t[e];return on(s)&&!on(n)?(s.value=n,!0):Reflect.set(t,e,n,r)},"set")};function BU(t){return hd(t)?t:new Proxy(t,Zse)}o(BU,"proxyRefs");class Qse{static{o(this,"CustomRefImpl")}constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new dE,{get:r,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function mE(t){return new Qse(t)}o(mE,"customRef");function Fd(t){const e=Le(t)?new Array(t.length):{};for(const n in t)e[n]=zU(t,n);return e}o(Fd,"toRefs$1");class eie{static{o(this,"ObjectRefImpl")}constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Mse(bt(this._object),this._key)}}class tie{static{o(this,"GetterRefImpl")}constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function UU(t,e,n){return on(t)?t:ze(t)?new tie(t):Zt(t)&&arguments.length>1?zU(t,e,n):Ie(t)}o(UU,"toRef$1");function zU(t,e,n){const r=t[e];return on(r)?r:new eie(t,e,n)}o(zU,"propertyToRef");class nie{static{o(this,"ComputedRefImpl")}constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new dE(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=i0-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Gt!==this)return TU(this,!0),!0}get value(){const e=this.dep.track();return CU(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function rie(t,e,n=!1){let r,s;return ze(t)?r=t:(r=t.get,s=t.set),new nie(r,s,n)}o(rie,"computed$1");const V1={},F_=new WeakMap;let Nc;function sie(t,e=!1,n=Nc){if(n){let r=F_.get(n);r||F_.set(n,r=[]),r.push(t)}}o(sie,"onWatcherCleanup");function iie(t,e,n=Tt){const{immediate:r,deep:s,once:i,scheduler:a,augmentJob:l,call:u}=n,c=o(k=>s?k:Ii(k)||s===!1||s===0?rl(k,1):rl(k),"reactiveGetter");let f,h,d,p,m=!1,y=!1;if(on(t)?(h=o(()=>t.value,"getter"),m=Ii(t)):hd(t)?(h=o(()=>c(t),"getter"),m=!0):Le(t)?(y=!0,m=t.some(k=>hd(k)||Ii(k)),h=o(()=>t.map(k=>{if(on(k))return k.value;if(hd(k))return c(k);if(ze(k))return u?u(k,2):k()}),"getter")):ze(t)?e?h=u?()=>u(t,2):t:h=o(()=>{if(d){tc();try{d()}finally{nc()}}const k=Nc;Nc=f;try{return u?u(t,3,[p]):t(p)}finally{Nc=k}},"getter"):h=oo,e&&s){const k=h,C=s===!0?1/0:s;h=o(()=>rl(k(),C),"getter")}const b=EU(),_=o(()=>{f.stop(),b&&b.active&&KI(b.effects,f)},"watchHandle");if(i&&e){const k=e;e=o((...C)=>{k(...C),_()},"cb")}let S=y?new Array(t.length).fill(V1):V1;const v=o(k=>{if(!(!(f.flags&1)||!f.dirty&&!k))if(e){const C=f.run();if(s||m||(y?C.some((I,x)=>Is(I,S[x])):Is(C,S))){d&&d();const I=Nc;Nc=f;try{const x=[C,S===V1?void 0:y&&S[0]===V1?[]:S,p];u?u(e,3,x):e(...x),S=C}finally{Nc=I}}}else f.run()},"job");return l&&l(v),f=new xU(h),f.scheduler=a?()=>a(v,!1):v,p=o(k=>sie(k,!1,f),"boundCleanup"),d=f.onStop=()=>{const k=F_.get(f);if(k){if(u)u(k,4);else for(const C of k)C();F_.delete(f)}},e?r?v(!0):S=f.run():a?a(v.bind(null,!0),!0):f.run(),_.pause=f.pause.bind(f),_.resume=f.resume.bind(f),_.stop=_,_}o(iie,"watch$1");function rl(t,e=1/0,n){if(e<=0||!Zt(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,on(t))rl(t.value,e,n);else if(Le(t))for(let r=0;r<t.length;r++)rl(t[r],e,n);else if(hU(t)||fd(t))t.forEach(r=>{rl(r,e,n)});else if(mU(t)){for(const r in t)rl(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&rl(t[r],e,n)}return t}o(rl,"traverse");function gy(t,e,n,r){try{return r?t(...r):t()}catch(s){Rp(s,e,n)}}o(gy,"callWithErrorHandling");function bo(t,e,n,r){if(ze(t)){const s=gy(t,e,n,r);return s&&dU(s)&&s.catch(i=>{Rp(i,e,n)}),s}if(Le(t)){const s=[];for(let i=0;i<t.length;i++)s.push(bo(t[i],e,n,r));return s}}o(bo,"callWithAsyncErrorHandling");function Rp(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Tt;if(e){let l=e.parent;const u=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const f=l.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](t,u,c)===!1)return}l=l.parent}if(i){tc(),gy(i,null,10,[t,u,c]),nc();return}}oie(t,n,s,r,a)}o(Rp,"handleError");function oie(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}o(oie,"logError");const is=[];let jo=-1;const dd=[];let Zl=null,Hh=0;const VU=Promise.resolve();let B_=null;function yf(t){const e=B_||VU;return t?e.then(this?t.bind(this):t):e}o(yf,"nextTick");function aie(t){let e=jo+1,n=is.length;for(;e<n;){const r=e+n>>>1,s=is[r],i=l0(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}o(aie,"findInsertionIndex");function n3(t){if(!(t.flags&1)){const e=l0(t),n=is[is.length-1];!n||!(t.flags&2)&&e>=l0(n)?is.push(t):is.splice(aie(e),0,t),t.flags|=1,jU()}}o(n3,"queueJob");function jU(){B_||(B_=VU.then(HU))}o(jU,"queueFlush");function U_(t){Le(t)?dd.push(...t):Zl&&t.id===-1?Zl.splice(Hh+1,0,t):t.flags&1||(dd.push(t),t.flags|=1),jU()}o(U_,"queuePostFlushCb");function e4(t,e,n=jo+1){for(;n<is.length;n++){const r=is[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;is.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}o(e4,"flushPreFlushCbs");function WU(t){if(dd.length){const e=[...new Set(dd)].sort((n,r)=>l0(n)-l0(r));if(dd.length=0,Zl){Zl.push(...e);return}for(Zl=e,Hh=0;Hh<Zl.length;Hh++){const n=Zl[Hh];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Zl=null,Hh=0}}o(WU,"flushPostFlushCbs");const l0=o(t=>t.id==null?t.flags&2?-1:1/0:t.id,"getId");function HU(t){try{for(jo=0;jo<is.length;jo++){const e=is[jo];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),gy(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;jo<is.length;jo++){const e=is[jo];e&&(e.flags&=-2)}jo=-1,is.length=0,WU(),B_=null,(is.length||dd.length)&&HU()}}o(HU,"flushJobs");let Yn=null,qU=null;function z_(t){const e=Yn;return Yn=t,qU=t&&t.type.__scopeId||null,e}o(z_,"setCurrentRenderingInstance");function Di(t,e=Yn,n){if(!e||t._n)return t;const r=o((...s)=>{r._d&&m4(-1);const i=z_(e);let a;try{a=t(...s)}finally{z_(i),r._d&&m4(1)}return a},"renderFnWithContext");return r._n=!0,r._c=!0,r._d=!0,r}o(Di,"withCtx");function _9e(t,e){if(Yn===null)return t;const n=vE(Yn),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,a,l,u=Tt]=e[s];i&&(ze(i)&&(i={mounted:i,updated:i}),i.deep&&rl(a),r.push({dir:i,instance:n,value:a,oldValue:void 0,arg:l,modifiers:u}))}return t}o(_9e,"withDirectives");function Ec(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let a=0;a<s.length;a++){const l=s[a];i&&(l.oldValue=i[a].value);let u=l.dir[r];u&&(tc(),bo(u,n,8,[t.el,l,t,e]),nc())}}o(Ec,"invokeDirectiveHook");const GU=Symbol("_vte"),KU=o(t=>t.__isTeleport,"isTeleport"),mg=o(t=>t&&(t.disabled||t.disabled===""),"isTeleportDisabled"),t4=o(t=>t&&(t.defer||t.defer===""),"isTeleportDeferred"),n4=o(t=>typeof SVGElement<"u"&&t instanceof SVGElement,"isTargetSVG"),r4=o(t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,"isTargetMathML"),Pk=o((t,e)=>{const n=t&&t.to;return dn(n)?e?e(n):null:n},"resolveTarget"),YU={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,a,l,u,c){const{mc:f,pc:h,pbc:d,o:{insert:p,querySelector:m,createText:y,createComment:b}}=c,_=mg(e.props);let{shapeFlag:S,children:v,dynamicChildren:k}=e;if(t==null){const C=e.el=y(""),I=e.anchor=y("");p(C,n,r),p(I,n,r);const x=o((T,O)=>{S&16&&(s&&s.isCE&&(s.ce._teleportTarget=T),f(v,T,O,s,i,a,l,u))},"mount"),E=o(()=>{const T=e.target=Pk(e.props,m),O=XU(T,e,y,p);T&&(a!=="svg"&&n4(T)?a="svg":a!=="mathml"&&r4(T)&&(a="mathml"),_||(x(T,O),Gb(e,!1)))},"mountToTarget");_&&(x(n,I),Gb(e,!0)),t4(e.props)?rs(()=>{E(),e.el.__isMounted=!0},i):E()}else{if(t4(e.props)&&!t.el.__isMounted){rs(()=>{YU.process(t,e,n,r,s,i,a,l,u,c),delete t.el.__isMounted},i);return}e.el=t.el,e.targetStart=t.targetStart;const C=e.anchor=t.anchor,I=e.target=t.target,x=e.targetAnchor=t.targetAnchor,E=mg(t.props),T=E?n:I,O=E?C:x;if(a==="svg"||n4(I)?a="svg":(a==="mathml"||r4(I))&&(a="mathml"),k?(d(t.dynamicChildren,k,T,s,i,a,l),c3(t,e,!0)):u||h(t,e,T,O,s,i,a,l,!1),_)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):j1(e,n,C,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const N=e.target=Pk(e.props,m);N&&j1(e,N,null,c,0)}else E&&j1(e,I,x,c,1);Gb(e,_)}},remove(t,e,n,{um:r,o:{remove:s}},i){const{shapeFlag:a,children:l,anchor:u,targetStart:c,targetAnchor:f,target:h,props:d}=t;if(h&&(s(c),s(f)),i&&s(u),a&16){const p=i||!mg(d);for(let m=0;m<l.length;m++){const y=l[m];r(y,e,n,p,!!y.dynamicChildren)}}},move:j1,hydrate:lie};function j1(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:a,anchor:l,shapeFlag:u,children:c,props:f}=t,h=i===2;if(h&&r(a,e,n),(!h||mg(f))&&u&16)for(let d=0;d<c.length;d++)s(c[d],e,n,2);h&&r(l,e,n)}o(j1,"moveTeleport");function lie(t,e,n,r,s,i,{o:{nextSibling:a,parentNode:l,querySelector:u,insert:c,createText:f}},h){const d=e.target=Pk(e.props,u);if(d){const p=mg(e.props),m=d._lpa||d.firstChild;if(e.shapeFlag&16)if(p)e.anchor=h(a(t),e,l(t),n,r,s,i),e.targetStart=m,e.targetAnchor=m&&a(m);else{e.anchor=a(t);let y=m;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")e.targetStart=y;else if(y.data==="teleport anchor"){e.targetAnchor=y,d._lpa=e.targetAnchor&&a(e.targetAnchor);break}}y=a(y)}e.targetAnchor||XU(d,e,f,c),h(m&&a(m),e,d,n,r,s,i)}Gb(e,p)}return e.anchor&&a(e.anchor)}o(lie,"hydrateTeleport");const w9e=YU;function Gb(t,e){const n=t.ctx;if(n&&n.ut){let r,s;for(e?(r=t.el,s=t.anchor):(r=t.targetStart,s=t.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}o(Gb,"updateCssVars");function XU(t,e,n,r){const s=e.targetStart=n(""),i=e.targetAnchor=n("");return s[GU]=i,t&&(r(s,t),r(i,t)),i}o(XU,"prepareAnchor");const Ql=Symbol("_leaveCb"),W1=Symbol("_enterCb");function JU(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return rc(()=>{t.isMounted=!0}),i3(()=>{t.isUnmounting=!0}),t}o(JU,"useTransitionState");const ci=[Function,Array],ZU={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ci,onEnter:ci,onAfterEnter:ci,onEnterCancelled:ci,onBeforeLeave:ci,onLeave:ci,onAfterLeave:ci,onLeaveCancelled:ci,onBeforeAppear:ci,onAppear:ci,onAfterAppear:ci,onAppearCancelled:ci},QU=o(t=>{const e=t.subTree;return e.component?QU(e.component):e},"recursiveGetSubtree"),uie={name:"BaseTransition",props:ZU,setup(t,{slots:e}){const n=Bs(),r=JU();return()=>{const s=e.default&&r3(e.default(),!0);if(!s||!s.length)return;const i=e9(s),a=bt(t),{mode:l}=a;if(r.isLeaving)return w2(i);const u=s4(i);if(!u)return w2(i);let c=u0(u,a,r,n,h=>c=h);u.type!==lr&&bf(u,c);let f=n.subTree&&s4(n.subTree);if(f&&f.type!==lr&&!Jo(u,f)&&QU(n).type!==lr){let h=u0(f,a,r,n);if(bf(f,h),l==="out-in"&&u.type!==lr)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,f=void 0},w2(i);l==="in-out"&&u.type!==lr?h.delayLeave=(d,p,m)=>{const y=t9(r,f);y[String(f.key)]=f,d[Ql]=()=>{p(),d[Ql]=void 0,delete c.delayedLeave,f=void 0},c.delayedLeave=()=>{m(),delete c.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return i}}};function e9(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==lr){e=n;break}}return e}o(e9,"findNonCommentChild");const cie=uie;function t9(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}o(t9,"getLeavingNodesForType");function u0(t,e,n,r,s){const{appear:i,mode:a,persisted:l=!1,onBeforeEnter:u,onEnter:c,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:d,onLeave:p,onAfterLeave:m,onLeaveCancelled:y,onBeforeAppear:b,onAppear:_,onAfterAppear:S,onAppearCancelled:v}=e,k=String(t.key),C=t9(n,t),I=o((T,O)=>{T&&bo(T,r,9,O)},"callHook2"),x=o((T,O)=>{const N=O[1];I(T,O),Le(T)?T.every(R=>R.length<=1)&&N():T.length<=1&&N()},"callAsyncHook"),E={mode:a,persisted:l,beforeEnter(T){let O=u;if(!n.isMounted)if(i)O=b||u;else return;T[Ql]&&T[Ql](!0);const N=C[k];N&&Jo(t,N)&&N.el[Ql]&&N.el[Ql](),I(O,[T])},enter(T){let O=c,N=f,R=h;if(!n.isMounted)if(i)O=_||c,N=S||f,R=v||h;else return;let M=!1;const B=T[W1]=z=>{M||(M=!0,z?I(R,[T]):I(N,[T]),E.delayedLeave&&E.delayedLeave(),T[W1]=void 0)};O?x(O,[T,B]):B()},leave(T,O){const N=String(t.key);if(T[W1]&&T[W1](!0),n.isUnmounting)return O();I(d,[T]);let R=!1;const M=T[Ql]=B=>{R||(R=!0,O(),B?I(y,[T]):I(m,[T]),T[Ql]=void 0,C[N]===t&&delete C[N])};C[N]=t,p?x(p,[T,M]):M()},clone(T){const O=u0(T,e,n,r,s);return s&&s(O),O}};return E}o(u0,"resolveTransitionHooks");function w2(t){if(yy(t))return t=gl(t),t.children=null,t}o(w2,"emptyPlaceholder");function s4(t){if(!yy(t))return KU(t.type)&&t.children?e9(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&ze(n.default))return n.default()}}o(s4,"getInnerChild$1");function bf(t,e){t.shapeFlag&6&&t.component?(t.transition=e,bf(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}o(bf,"setTransitionHooks");function r3(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let a=t[i];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:i);a.type===ar?(a.patchFlag&128&&s++,r=r.concat(r3(a.children,e,l))):(e||a.type!==lr)&&r.push(l!=null?gl(a,{key:l}):a)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}o(r3,"getTransitionRawChildren");function jr(t,e){return ze(t)?zn({name:t.name},e,{setup:t}):t}o(jr,"defineComponent");function v9e(){const t=Bs();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}o(v9e,"useId");function s3(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}o(s3,"markAsyncBoundary");function E9e(t){const e=Bs(),n=a0(null);if(e){const s=e.refs===Tt?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:o(()=>n.value,"get"),set:o(i=>n.value=i,"set")})}return n}o(E9e,"useTemplateRef");function V_(t,e,n,r,s=!1){if(Le(t)){t.forEach((m,y)=>V_(m,e&&(Le(e)?e[y]:e),n,r,s));return}if(pd(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&V_(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?vE(r.component):r.el,a=s?null:i,{i:l,r:u}=t,c=e&&e.r,f=l.refs===Tt?l.refs={}:l.refs,h=l.setupState,d=bt(h),p=h===Tt?()=>!1:m=>Ct(d,m);if(c!=null&&c!==u&&(dn(c)?(f[c]=null,p(c)&&(h[c]=null)):on(c)&&(c.value=null)),ze(u))gy(u,l,12,[a,f]);else{const m=dn(u),y=on(u);if(m||y){const b=o(()=>{if(t.f){const _=m?p(u)?h[u]:f[u]:u.value;s?Le(_)&&KI(_,i):Le(_)?_.includes(i)||_.push(i):m?(f[u]=[i],p(u)&&(h[u]=f[u])):(u.value=[i],t.k&&(f[t.k]=u.value))}else m?(f[u]=a,p(u)&&(h[u]=a)):y&&(u.value=a,t.k&&(f[t.k]=a))},"doSet");a?(b.id=-1,rs(b,n)):b()}}}o(V_,"setRef");const i4=o(t=>t.nodeType===8,"isComment");fE().requestIdleCallback;fE().cancelIdleCallback;function fie(t,e){if(i4(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(i4(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}o(fie,"forEachElement");const pd=o(t=>!!t.type.__asyncLoader,"isAsyncWrapper");function x9e(t){ze(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:a,suspensible:l=!0,onError:u}=t;let c=null,f,h=0;const d=o(()=>(h++,c=null,p()),"retry"),p=o(()=>{let m;return c||(m=c=e().catch(y=>{if(y=y instanceof Error?y:new Error(String(y)),u)return new Promise((b,_)=>{u(y,o(()=>b(d()),"userRetry"),o(()=>_(y),"userFail"),h+1)});throw y}).then(y=>m!==c&&c?c:(y&&(y.__esModule||y[Symbol.toStringTag]==="Module")&&(y=y.default),f=y,y)))},"load");return jr({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(m,y,b){const _=i?()=>{const S=i(b,v=>fie(m,v));S&&(y.bum||(y.bum=[])).push(S)}:b;f?_():p().then(()=>!y.isUnmounted&&_())},get __asyncResolved(){return f},setup(){const m=Kn;if(s3(m),f)return()=>v2(f,m);const y=o(v=>{c=null,Rp(v,m,13,!r)},"onError");if(l&&m.suspense||zd)return p().then(v=>()=>v2(v,m)).catch(v=>(y(v),()=>r?kn(r,{error:v}):null));const b=Ie(!1),_=Ie(),S=Ie(!!s);return s&&setTimeout(()=>{S.value=!1},s),a!=null&&setTimeout(()=>{if(!b.value&&!_.value){const v=new Error(`Async component timed out after ${a}ms.`);y(v),_.value=v}},a),p().then(()=>{b.value=!0,m.parent&&yy(m.parent.vnode)&&m.parent.update()}).catch(v=>{y(v),_.value=v}),()=>{if(b.value&&f)return v2(f,m);if(_.value&&r)return kn(r,{error:_.value});if(n&&!S.value)return kn(n)}}})}o(x9e,"defineAsyncComponent");function v2(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,a=kn(t,r,s);return a.ref=n,a.ce=i,delete e.vnode.ce,a}o(v2,"createInnerComp");const yy=o(t=>t.type.__isKeepAlive,"isKeepAlive");function hie(t,e){n9(t,"a",e)}o(hie,"onActivated");function die(t,e){n9(t,"da",e)}o(die,"onDeactivated");function n9(t,e,n=Kn){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(gE(e,r,n),n){let s=n.parent;for(;s&&s.parent;)yy(s.parent.vnode)&&pie(r,e,n,s),s=s.parent}}o(n9,"registerKeepAliveHook");function pie(t,e,n,r){const s=gE(e,t,r,!0);yE(()=>{KI(r[e],s)},n)}o(pie,"injectToKeepAliveRoot");function gE(t,e,n=Kn,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...a)=>{tc();const l=by(n),u=bo(e,n,t,a);return l(),nc(),u});return r?s.unshift(i):s.push(i),i}}o(gE,"injectHook");const Il=o(t=>(e,n=Kn)=>{(!zd||t==="sp")&&gE(t,(...r)=>e(...r),n)},"createHook"),mie=Il("bm"),rc=Il("m"),r9=Il("bu"),s9=Il("u"),i3=Il("bum"),yE=Il("um"),gie=Il("sp"),yie=Il("rtg"),bie=Il("rtc");function _ie(t,e=Kn){gE("ec",t,e)}o(_ie,"onErrorCaptured");const o3="components",wie="directives";function S9e(t,e){return a3(o3,t,!0,e)||t}o(S9e,"resolveComponent");const i9=Symbol.for("v-ndc");function vie(t){return dn(t)?a3(o3,t,!1)||t:t||i9}o(vie,"resolveDynamicComponent");function T9e(t){return a3(wie,t)}o(T9e,"resolveDirective");function a3(t,e,n=!0,r=!1){const s=Yn||Kn;if(s){const i=s.type;if(t===o3){const l=hoe(i,!1);if(l&&(l===e||l===gs(e)||l===cE(gs(e))))return i}const a=o4(s[t]||i[t],e)||o4(s.appContext[t],e);return!a&&r?i:a}}o(a3,"resolveAsset");function o4(t,e){return t&&(t[e]||t[gs(e)]||t[cE(gs(e))])}o(o4,"resolve");function Eie(t,e,n,r){let s;const i=n,a=Le(t);if(a||dn(t)){const l=a&&hd(t);let u=!1;l&&(u=!Ii(t),t=pE(t)),s=new Array(t.length);for(let c=0,f=t.length;c<f;c++)s[c]=e(u?Dr(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let l=0;l<t;l++)s[l]=e(l+1,l,void 0,i)}else if(Zt(t))if(t[Symbol.iterator])s=Array.from(t,(l,u)=>e(l,u,void 0,i));else{const l=Object.keys(t);s=new Array(l.length);for(let u=0,c=l.length;u<c;u++){const f=l[u];s[u]=e(t[f],f,u,i)}}else s=[];return s}o(Eie,"renderList");function k9e(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(Le(r))for(let s=0;s<r.length;s++)t[r[s].name]=r[s].fn;else r&&(t[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return t}o(k9e,"createSlots");function Rl(t,e,n={},r,s){if(Yn.ce||Yn.parent&&pd(Yn.parent)&&Yn.parent.ce)return e!=="default"&&(n.name=e),Fn(),Sr(ar,null,[kn("slot",n,r&&r())],64);let i=t[e];i&&i._c&&(i._d=!1),Fn();const a=i&&o9(i(n)),l=n.key||a&&a.key,u=Sr(ar,{key:(l&&!Al(l)?l:`_${e}`)+(!a&&r?"_fb":"")},a||(r?r():[]),a&&t._===1?64:-2);return!s&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),i&&i._c&&(i._d=!0),u}o(Rl,"renderSlot");function o9(t){return t.some(e=>Ud(e)?!(e.type===lr||e.type===ar&&!o9(e.children)):!0)?t:null}o(o9,"ensureValidVNode");function A9e(t,e){const n={};for(const r in t)n[/[A-Z]/.test(r)?`on:${r}`:hg(r)]=t[r];return n}o(A9e,"toHandlers");const $k=o(t=>t?N9(t)?vE(t):$k(t.parent):null,"getPublicInstance"),gg=zn(Object.create(null),{$:o(t=>t,"$"),$el:o(t=>t.vnode.el,"$el"),$data:o(t=>t.data,"$data"),$props:o(t=>t.props,"$props"),$attrs:o(t=>t.attrs,"$attrs"),$slots:o(t=>t.slots,"$slots"),$refs:o(t=>t.refs,"$refs"),$parent:o(t=>$k(t.parent),"$parent"),$root:o(t=>$k(t.root),"$root"),$host:o(t=>t.ce,"$host"),$emit:o(t=>t.emit,"$emit"),$options:o(t=>u9(t),"$options"),$forceUpdate:o(t=>t.f||(t.f=()=>{n3(t.update)}),"$forceUpdate"),$nextTick:o(t=>t.n||(t.n=yf.bind(t.proxy)),"$nextTick"),$watch:o(t=>Wie.bind(t),"$watch")}),E2=o((t,e)=>t!==Tt&&!t.__isScriptSetup&&Ct(t,e),"hasSetupBinding"),xie={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:a,type:l,appContext:u}=t;let c;if(e[0]!=="$"){const p=a[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(E2(r,e))return a[e]=1,r[e];if(s!==Tt&&Ct(s,e))return a[e]=2,s[e];if((c=t.propsOptions[0])&&Ct(c,e))return a[e]=3,i[e];if(n!==Tt&&Ct(n,e))return a[e]=4,n[e];Lk&&(a[e]=0)}}const f=gg[e];let h,d;if(f)return e==="$attrs"&&Mr(t.attrs,"get",""),f(t);if((h=l.__cssModules)&&(h=h[e]))return h;if(n!==Tt&&Ct(n,e))return a[e]=4,n[e];if(d=u.config.globalProperties,Ct(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return E2(s,e)?(s[e]=n,!0):r!==Tt&&Ct(r,e)?(r[e]=n,!0):Ct(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},a){let l;return!!n[a]||t!==Tt&&Ct(t,a)||E2(e,a)||(l=i[0])&&Ct(l,a)||Ct(r,a)||Ct(gg,a)||Ct(s.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ct(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function C9e(){return a9().slots}o(C9e,"useSlots");function I9e(){return a9().attrs}o(I9e,"useAttrs");function a9(){const t=Bs();return t.setupContext||(t.setupContext=D9(t))}o(a9,"getContext");function j_(t){return Le(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}o(j_,"normalizePropsOrEmits");function R9e(t,e){return!t||!e?t||e:Le(t)&&Le(e)?t.concat(e):zn({},j_(t),j_(e))}o(R9e,"mergeModels");let Lk=!0;function Sie(t){const e=u9(t),n=t.proxy,r=t.ctx;Lk=!1,e.beforeCreate&&a4(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:a,watch:l,provide:u,inject:c,created:f,beforeMount:h,mounted:d,beforeUpdate:p,updated:m,activated:y,deactivated:b,beforeDestroy:_,beforeUnmount:S,destroyed:v,unmounted:k,render:C,renderTracked:I,renderTriggered:x,errorCaptured:E,serverPrefetch:T,expose:O,inheritAttrs:N,components:R,directives:M,filters:B}=e;if(c&&Tie(c,r,null),a)for(const K in a){const ee=a[K];ze(ee)&&(r[K]=ee.bind(n))}if(s){const K=s.call(n,n);Zt(K)&&(t.data=mf(K))}if(Lk=!0,i)for(const K in i){const ee=i[K],Z=ze(ee)?ee.bind(n,n):ze(ee.get)?ee.get.bind(n,n):oo,ue=!ze(ee)&&ze(ee.set)?ee.set.bind(n):oo,ae=qe({get:Z,set:ue});Object.defineProperty(r,K,{enumerable:!0,configurable:!0,get:o(()=>ae.value,"get"),set:o(he=>ae.value=he,"set")})}if(l)for(const K in l)l9(l[K],r,n,K);if(u){const K=ze(u)?u.call(n):u;Reflect.ownKeys(K).forEach(ee=>{l3(ee,K[ee])})}f&&a4(f,t,"c");function V(K,ee){Le(ee)?ee.forEach(Z=>K(Z.bind(n))):ee&&K(ee.bind(n))}if(o(V,"registerLifecycleHook"),V(mie,h),V(rc,d),V(r9,p),V(s9,m),V(hie,y),V(die,b),V(_ie,E),V(bie,I),V(yie,x),V(i3,S),V(yE,k),V(gie,T),Le(O))if(O.length){const K=t.exposed||(t.exposed={});O.forEach(ee=>{Object.defineProperty(K,ee,{get:o(()=>n[ee],"get"),set:o(Z=>n[ee]=Z,"set")})})}else t.exposed||(t.exposed={});C&&t.render===oo&&(t.render=C),N!=null&&(t.inheritAttrs=N),R&&(t.components=R),M&&(t.directives=M),T&&s3(t)}o(Sie,"applyOptions");function Tie(t,e,n=oo){Le(t)&&(t=Fk(t));for(const r in t){const s=t[r];let i;Zt(s)?"default"in s?i=md(s.from||r,s.default,!0):i=md(s.from||r):i=md(s),on(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:o(()=>i.value,"get"),set:o(a=>i.value=a,"set")}):e[r]=i}}o(Tie,"resolveInjections");function a4(t,e,n){bo(Le(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}o(a4,"callHook$1");function l9(t,e,n,r){let s=r.includes(".")?E9(n,r):()=>n[r];if(dn(t)){const i=e[t];ze(i)&&Jt(s,i)}else if(ze(t))Jt(s,t.bind(n));else if(Zt(t))if(Le(t))t.forEach(i=>l9(i,e,n,r));else{const i=ze(t.handler)?t.handler.bind(n):e[t.handler];ze(i)&&Jt(s,i,t)}}o(l9,"createWatcher");function u9(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:a}}=t.appContext,l=i.get(e);let u;return l?u=l:!s.length&&!n&&!r?u=e:(u={},s.length&&s.forEach(c=>W_(u,c,a,!0)),W_(u,e,a)),Zt(e)&&i.set(e,u),u}o(u9,"resolveMergedOptions");function W_(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&W_(t,i,n,!0),s&&s.forEach(a=>W_(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const l=kie[a]||n&&n[a];t[a]=l?l(t[a],e[a]):e[a]}return t}o(W_,"mergeOptions");const kie={data:l4,props:u4,emits:u4,methods:Ym,computed:Ym,beforeCreate:ts,created:ts,beforeMount:ts,mounted:ts,beforeUpdate:ts,updated:ts,beforeDestroy:ts,beforeUnmount:ts,destroyed:ts,unmounted:ts,activated:ts,deactivated:ts,errorCaptured:ts,serverPrefetch:ts,components:Ym,directives:Ym,watch:Cie,provide:l4,inject:Aie};function l4(t,e){return e?t?o(function(){return zn(ze(t)?t.call(this,this):t,ze(e)?e.call(this,this):e)},"mergedDataFn"):e:t}o(l4,"mergeDataFn");function Aie(t,e){return Ym(Fk(t),Fk(e))}o(Aie,"mergeInject");function Fk(t){if(Le(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}o(Fk,"normalizeInject");function ts(t,e){return t?[...new Set([].concat(t,e))]:e}o(ts,"mergeAsArray");function Ym(t,e){return t?zn(Object.create(null),t,e):e}o(Ym,"mergeObjectOptions");function u4(t,e){return t?Le(t)&&Le(e)?[...new Set([...t,...e])]:zn(Object.create(null),j_(t),j_(e??{})):e}o(u4,"mergeEmitsOrPropsOptions");function Cie(t,e){if(!t)return e;if(!e)return t;const n=zn(Object.create(null),t);for(const r in e)n[r]=ts(t[r],e[r]);return n}o(Cie,"mergeWatchOptions");function c9(){return{app:null,config:{isNativeTag:yse,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}o(c9,"createAppContext");let Iie=0;function Rie(t,e){return o(function(r,s=null){ze(r)||(r=zn({},r)),s!=null&&!Zt(s)&&(s=null);const i=c9(),a=new WeakSet,l=[];let u=!1;const c=i.app={_uid:Iie++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:poe,get config(){return i.config},set config(f){},use(f,...h){return a.has(f)||(f&&ze(f.install)?(a.add(f),f.install(c,...h)):ze(f)&&(a.add(f),f(c,...h))),c},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),c},component(f,h){return h?(i.components[f]=h,c):i.components[f]},directive(f,h){return h?(i.directives[f]=h,c):i.directives[f]},mount(f,h,d){if(!u){const p=c._ceVNode||kn(r,s);return p.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),t(p,f,d),u=!0,c._container=f,f.__vue_app__=c,vE(p.component)}},onUnmount(f){l.push(f)},unmount(){u&&(bo(l,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(f,h){return i.provides[f]=h,c},runWithContext(f){const h=tf;tf=c;try{return f()}finally{tf=h}}};return c},"createApp")}o(Rie,"createAppAPI");let tf=null;function l3(t,e){if(Kn){let n=Kn.provides;const r=Kn.parent&&Kn.parent.provides;r===n&&(n=Kn.provides=Object.create(r)),n[t]=e}}o(l3,"provide");function md(t,e,n=!1){const r=Kn||Yn;if(r||tf){const s=tf?tf._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&ze(e)?e.call(r&&r.proxy):e}}o(md,"inject");function O9e(){return!!(Kn||Yn||tf)}o(O9e,"hasInjectionContext");const f9={},h9=o(()=>Object.create(f9),"createInternalObject"),d9=o(t=>Object.getPrototypeOf(t)===f9,"isInternalObject");function Oie(t,e,n,r=!1){const s={},i=h9();t.propsDefaults=Object.create(null),p9(t,e,s,i);for(const a in t.propsOptions[0])a in s||(s[a]=void 0);n?t.props=r?s:Xse(s):t.type.props?t.props=s:t.props=i,t.attrs=i}o(Oie,"initProps");function Nie(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:a}}=t,l=bt(s),[u]=t.propsOptions;let c=!1;if((r||a>0)&&!(a&16)){if(a&8){const f=t.vnode.dynamicProps;for(let h=0;h<f.length;h++){let d=f[h];if(_E(t.emitsOptions,d))continue;const p=e[d];if(u)if(Ct(i,d))p!==i[d]&&(i[d]=p,c=!0);else{const m=gs(d);s[m]=Bk(u,l,m,p,t,!1)}else p!==i[d]&&(i[d]=p,c=!0)}}}else{p9(t,e,s,i)&&(c=!0);let f;for(const h in l)(!e||!Ct(e,h)&&((f=Cl(h))===h||!Ct(e,f)))&&(u?n&&(n[h]!==void 0||n[f]!==void 0)&&(s[h]=Bk(u,l,h,void 0,t,!0)):delete s[h]);if(i!==l)for(const h in i)(!e||!Ct(e,h))&&(delete i[h],c=!0)}c&&nl(t.attrs,"set","")}o(Nie,"updateProps");function p9(t,e,n,r){const[s,i]=t.propsOptions;let a=!1,l;if(e)for(let u in e){if(fg(u))continue;const c=e[u];let f;s&&Ct(s,f=gs(u))?!i||!i.includes(f)?n[f]=c:(l||(l={}))[f]=c:_E(t.emitsOptions,u)||(!(u in r)||c!==r[u])&&(r[u]=c,a=!0)}if(i){const u=bt(n),c=l||Tt;for(let f=0;f<i.length;f++){const h=i[f];n[h]=Bk(s,u,h,c[h],t,!Ct(c,h))}}return a}o(p9,"setFullProps");function Bk(t,e,n,r,s,i){const a=t[n];if(a!=null){const l=Ct(a,"default");if(l&&r===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&ze(u)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const f=by(s);r=c[n]=u.call(null,e),f()}}else r=u;s.ce&&s.ce._setProp(n,r)}a[0]&&(i&&!l?r=!1:a[1]&&(r===""||r===Cl(n))&&(r=!0))}return r}o(Bk,"resolvePropValue");const Mie=new WeakMap;function m9(t,e,n=!1){const r=n?Mie:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,a={},l=[];let u=!1;if(!ze(t)){const f=o(h=>{u=!0;const[d,p]=m9(h,e,!0);zn(a,d),p&&l.push(...p)},"extendProps");!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!i&&!u)return Zt(t)&&r.set(t,cd),cd;if(Le(i))for(let f=0;f<i.length;f++){const h=gs(i[f]);c4(h)&&(a[h]=Tt)}else if(i)for(const f in i){const h=gs(f);if(c4(h)){const d=i[f],p=a[h]=Le(d)||ze(d)?{type:d}:zn({},d),m=p.type;let y=!1,b=!0;if(Le(m))for(let _=0;_<m.length;++_){const S=m[_],v=ze(S)&&S.name;if(v==="Boolean"){y=!0;break}else v==="String"&&(b=!1)}else y=ze(m)&&m.name==="Boolean";p[0]=y,p[1]=b,(y||Ct(p,"default"))&&l.push(h)}}const c=[a,l];return Zt(t)&&r.set(t,c),c}o(m9,"normalizePropsOptions");function c4(t){return t[0]!=="$"&&!fg(t)}o(c4,"validatePropName");const g9=o(t=>t[0]==="_"||t==="$stable","isInternalKey"),u3=o(t=>Le(t)?t.map(Gi):[Gi(t)],"normalizeSlotValue"),Die=o((t,e,n)=>{if(e._n)return e;const r=Di((...s)=>u3(e(...s)),n);return r._c=!1,r},"normalizeSlot"),y9=o((t,e,n)=>{const r=t._ctx;for(const s in t){if(g9(s))continue;const i=t[s];if(ze(i))e[s]=Die(s,i,r);else if(i!=null){const a=u3(i);e[s]=()=>a}}},"normalizeObjectSlots"),b9=o((t,e)=>{const n=u3(e);t.slots.default=()=>n},"normalizeVNodeSlots"),_9=o((t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},"assignSlots"),Pie=o((t,e,n)=>{const r=t.slots=h9();if(t.vnode.shapeFlag&32){const s=e._;s?(_9(r,e,n),n&&gU(r,"_",s,!0)):y9(e,r)}else e&&b9(t,e)},"initSlots"),$ie=o((t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,a=Tt;if(r.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:_9(s,e,n):(i=!e.$stable,y9(e,s)),a=e}else e&&(b9(t,e),a={default:1});if(i)for(const l in s)!g9(l)&&a[l]==null&&delete s[l]},"updateSlots"),rs=toe;function Lie(t){return Fie(t)}o(Lie,"createRenderer");function Fie(t,e){const n=fE();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:a,createText:l,createComment:u,setText:c,setElementText:f,parentNode:h,nextSibling:d,setScopeId:p=oo,insertStaticContent:m}=t,y=o((L,F,X,W=null,G=null,te=null,le=void 0,re=null,D=!!F.dynamicChildren)=>{if(L===F)return;L&&!Jo(L,F)&&(W=Mt(L),he(L,G,te,!0),L=null),F.patchFlag===-2&&(D=!1,F.dynamicChildren=null);const{type:$,ref:H,shapeFlag:J}=F;switch($){case wE:b(L,F,X,W);break;case lr:_(L,F,X,W);break;case yg:L==null&&S(F,X,W,le);break;case ar:R(L,F,X,W,G,te,le,re,D);break;default:J&1?C(L,F,X,W,G,te,le,re,D):J&6?M(L,F,X,W,G,te,le,re,D):(J&64||J&128)&&$.process(L,F,X,W,G,te,le,re,D,Ln)}H!=null&&G&&V_(H,L&&L.ref,te,F||L,!F)},"patch"),b=o((L,F,X,W)=>{if(L==null)r(F.el=l(F.children),X,W);else{const G=F.el=L.el;F.children!==L.children&&c(G,F.children)}},"processText"),_=o((L,F,X,W)=>{L==null?r(F.el=u(F.children||""),X,W):F.el=L.el},"processCommentNode"),S=o((L,F,X,W)=>{[L.el,L.anchor]=m(L.children,F,X,W,L.el,L.anchor)},"mountStaticNode"),v=o(({el:L,anchor:F},X,W)=>{let G;for(;L&&L!==F;)G=d(L),r(L,X,W),L=G;r(F,X,W)},"moveStaticNode"),k=o(({el:L,anchor:F})=>{let X;for(;L&&L!==F;)X=d(L),s(L),L=X;s(F)},"removeStaticNode"),C=o((L,F,X,W,G,te,le,re,D)=>{F.type==="svg"?le="svg":F.type==="math"&&(le="mathml"),L==null?I(F,X,W,G,te,le,re,D):T(L,F,G,te,le,re,D)},"processElement"),I=o((L,F,X,W,G,te,le,re)=>{let D,$;const{props:H,shapeFlag:J,transition:me,dirs:ye}=L;if(D=L.el=a(L.type,te,H&&H.is,H),J&8?f(D,L.children):J&16&&E(L.children,D,null,W,G,x2(L,te),le,re),ye&&Ec(L,null,W,"created"),x(D,L,L.scopeId,le,W),H){for(const $e in H)$e!=="value"&&!fg($e)&&i(D,$e,null,H[$e],te,W);"value"in H&&i(D,"value",null,H.value,te),($=H.onVnodeBeforeMount)&&Mo($,W,L)}ye&&Ec(L,null,W,"beforeMount");const Te=Bie(G,me);Te&&me.beforeEnter(D),r(D,F,X),(($=H&&H.onVnodeMounted)||Te||ye)&&rs(()=>{$&&Mo($,W,L),Te&&me.enter(D),ye&&Ec(L,null,W,"mounted")},G)},"mountElement"),x=o((L,F,X,W,G)=>{if(X&&p(L,X),W)for(let te=0;te<W.length;te++)p(L,W[te]);if(G){let te=G.subTree;if(F===te||T9(te.type)&&(te.ssContent===F||te.ssFallback===F)){const le=G.vnode;x(L,le,le.scopeId,le.slotScopeIds,G.parent)}}},"setScopeId"),E=o((L,F,X,W,G,te,le,re,D=0)=>{for(let $=D;$<L.length;$++){const H=L[$]=re?eu(L[$]):Gi(L[$]);y(null,H,F,X,W,G,te,le,re)}},"mountChildren"),T=o((L,F,X,W,G,te,le)=>{const re=F.el=L.el;let{patchFlag:D,dynamicChildren:$,dirs:H}=F;D|=L.patchFlag&16;const J=L.props||Tt,me=F.props||Tt;let ye;if(X&&xc(X,!1),(ye=me.onVnodeBeforeUpdate)&&Mo(ye,X,F,L),H&&Ec(F,L,X,"beforeUpdate"),X&&xc(X,!0),(J.innerHTML&&me.innerHTML==null||J.textContent&&me.textContent==null)&&f(re,""),$?O(L.dynamicChildren,$,re,X,W,x2(F,G),te):le||ee(L,F,re,null,X,W,x2(F,G),te,!1),D>0){if(D&16)N(re,J,me,X,G);else if(D&2&&J.class!==me.class&&i(re,"class",null,me.class,G),D&4&&i(re,"style",J.style,me.style,G),D&8){const Te=F.dynamicProps;for(let $e=0;$e<Te.length;$e++){const ut=Te[$e],qn=J[ut],Rn=me[ut];(Rn!==qn||ut==="value")&&i(re,ut,qn,Rn,G,X)}}D&1&&L.children!==F.children&&f(re,F.children)}else!le&&$==null&&N(re,J,me,X,G);((ye=me.onVnodeUpdated)||H)&&rs(()=>{ye&&Mo(ye,X,F,L),H&&Ec(F,L,X,"updated")},W)},"patchElement"),O=o((L,F,X,W,G,te,le)=>{for(let re=0;re<F.length;re++){const D=L[re],$=F[re],H=D.el&&(D.type===ar||!Jo(D,$)||D.shapeFlag&70)?h(D.el):X;y(D,$,H,null,W,G,te,le,!0)}},"patchBlockChildren"),N=o((L,F,X,W,G)=>{if(F!==X){if(F!==Tt)for(const te in F)!fg(te)&&!(te in X)&&i(L,te,F[te],null,G,W);for(const te in X){if(fg(te))continue;const le=X[te],re=F[te];le!==re&&te!=="value"&&i(L,te,re,le,G,W)}"value"in X&&i(L,"value",F.value,X.value,G)}},"patchProps"),R=o((L,F,X,W,G,te,le,re,D)=>{const $=F.el=L?L.el:l(""),H=F.anchor=L?L.anchor:l("");let{patchFlag:J,dynamicChildren:me,slotScopeIds:ye}=F;ye&&(re=re?re.concat(ye):ye),L==null?(r($,X,W),r(H,X,W),E(F.children||[],X,H,G,te,le,re,D)):J>0&&J&64&&me&&L.dynamicChildren?(O(L.dynamicChildren,me,X,G,te,le,re),(F.key!=null||G&&F===G.subTree)&&c3(L,F,!0)):ee(L,F,X,H,G,te,le,re,D)},"processFragment"),M=o((L,F,X,W,G,te,le,re,D)=>{F.slotScopeIds=re,L==null?F.shapeFlag&512?G.ctx.activate(F,X,W,le,D):B(F,X,W,G,te,le,D):z(L,F,D)},"processComponent"),B=o((L,F,X,W,G,te,le)=>{const re=L.component=loe(L,W,G);if(yy(L)&&(re.ctx.renderer=Ln),uoe(re,!1,le),re.asyncDep){if(G&&G.registerDep(re,V,le),!L.el){const D=re.subTree=kn(lr);_(null,D,F,X)}}else V(re,L,F,X,G,te,le)},"mountComponent"),z=o((L,F,X)=>{const W=F.component=L.component;if(Yie(L,F,X))if(W.asyncDep&&!W.asyncResolved){K(W,F,X);return}else W.next=F,W.update();else F.el=L.el,W.vnode=F},"updateComponent"),V=o((L,F,X,W,G,te,le)=>{const re=o(()=>{if(L.isMounted){let{next:J,bu:me,u:ye,parent:Te,vnode:$e}=L;{const On=w9(L);if(On){J&&(J.el=$e.el,K(L,J,le)),On.asyncDep.then(()=>{L.isUnmounted||re()});return}}let ut=J,qn;xc(L,!1),J?(J.el=$e.el,K(L,J,le)):J=$e,me&&qb(me),(qn=J.props&&J.props.onVnodeBeforeUpdate)&&Mo(qn,Te,J,$e),xc(L,!0);const Rn=h4(L),Jr=L.subTree;L.subTree=Rn,y(Jr,Rn,h(Jr.el),Mt(Jr),L,G,te),J.el=Rn.el,ut===null&&f3(L,Rn.el),ye&&rs(ye,G),(qn=J.props&&J.props.onVnodeUpdated)&&rs(()=>Mo(qn,Te,J,$e),G)}else{let J;const{el:me,props:ye}=F,{bm:Te,m:$e,parent:ut,root:qn,type:Rn}=L,Jr=pd(F);xc(L,!1),Te&&qb(Te),!Jr&&(J=ye&&ye.onVnodeBeforeMount)&&Mo(J,ut,F),xc(L,!0);{qn.ce&&qn.ce._injectChildStyle(Rn);const On=L.subTree=h4(L);y(null,On,X,W,L,G,te),F.el=On.el}if($e&&rs($e,G),!Jr&&(J=ye&&ye.onVnodeMounted)){const On=F;rs(()=>Mo(J,ut,On),G)}(F.shapeFlag&256||ut&&pd(ut.vnode)&&ut.vnode.shapeFlag&256)&&L.a&&rs(L.a,G),L.isMounted=!0,F=X=W=null}},"componentUpdateFn");L.scope.on();const D=L.effect=new xU(re);L.scope.off();const $=L.update=D.run.bind(D),H=L.job=D.runIfDirty.bind(D);H.i=L,H.id=L.uid,D.scheduler=()=>n3(H),xc(L,!0),$()},"setupRenderEffect"),K=o((L,F,X)=>{F.component=L;const W=L.vnode.props;L.vnode=F,L.next=null,Nie(L,F.props,W,X),$ie(L,F.children,X),tc(),e4(L),nc()},"updateComponentPreRender"),ee=o((L,F,X,W,G,te,le,re,D=!1)=>{const $=L&&L.children,H=L?L.shapeFlag:0,J=F.children,{patchFlag:me,shapeFlag:ye}=F;if(me>0){if(me&128){ue($,J,X,W,G,te,le,re,D);return}else if(me&256){Z($,J,X,W,G,te,le,re,D);return}}ye&8?(H&16&&Ke($,G,te),J!==$&&f(X,J)):H&16?ye&16?ue($,J,X,W,G,te,le,re,D):Ke($,G,te,!0):(H&8&&f(X,""),ye&16&&E(J,X,W,G,te,le,re,D))},"patchChildren"),Z=o((L,F,X,W,G,te,le,re,D)=>{L=L||cd,F=F||cd;const $=L.length,H=F.length,J=Math.min($,H);let me;for(me=0;me<J;me++){const ye=F[me]=D?eu(F[me]):Gi(F[me]);y(L[me],ye,X,null,G,te,le,re,D)}$>H?Ke(L,G,te,!0,!1,J):E(F,X,W,G,te,le,re,D,J)},"patchUnkeyedChildren"),ue=o((L,F,X,W,G,te,le,re,D)=>{let $=0;const H=F.length;let J=L.length-1,me=H-1;for(;$<=J&&$<=me;){const ye=L[$],Te=F[$]=D?eu(F[$]):Gi(F[$]);if(Jo(ye,Te))y(ye,Te,X,null,G,te,le,re,D);else break;$++}for(;$<=J&&$<=me;){const ye=L[J],Te=F[me]=D?eu(F[me]):Gi(F[me]);if(Jo(ye,Te))y(ye,Te,X,null,G,te,le,re,D);else break;J--,me--}if($>J){if($<=me){const ye=me+1,Te=ye<H?F[ye].el:W;for(;$<=me;)y(null,F[$]=D?eu(F[$]):Gi(F[$]),X,Te,G,te,le,re,D),$++}}else if($>me)for(;$<=J;)he(L[$],G,te,!0),$++;else{const ye=$,Te=$,$e=new Map;for($=Te;$<=me;$++){const ln=F[$]=D?eu(F[$]):Gi(F[$]);ln.key!=null&&$e.set(ln.key,$)}let ut,qn=0;const Rn=me-Te+1;let Jr=!1,On=0;const Vs=new Array(Rn);for($=0;$<Rn;$++)Vs[$]=0;for($=ye;$<=J;$++){const ln=L[$];if(qn>=Rn){he(ln,G,te,!0);continue}let Cr;if(ln.key!=null)Cr=$e.get(ln.key);else for(ut=Te;ut<=me;ut++)if(Vs[ut-Te]===0&&Jo(ln,F[ut])){Cr=ut;break}Cr===void 0?he(ln,G,te,!0):(Vs[Cr-Te]=$+1,Cr>=On?On=Cr:Jr=!0,y(ln,F[Cr],X,null,G,te,le,re,D),qn++)}const Zr=Jr?Uie(Vs):cd;for(ut=Zr.length-1,$=Rn-1;$>=0;$--){const ln=Te+$,Cr=F[ln],$l=ln+1<H?F[ln+1].el:W;Vs[$]===0?y(null,Cr,X,$l,G,te,le,re,D):Jr&&(ut<0||$!==Zr[ut]?ae(Cr,X,$l,2):ut--)}}},"patchKeyedChildren"),ae=o((L,F,X,W,G=null)=>{const{el:te,type:le,transition:re,children:D,shapeFlag:$}=L;if($&6){ae(L.component.subTree,F,X,W);return}if($&128){L.suspense.move(F,X,W);return}if($&64){le.move(L,F,X,Ln);return}if(le===ar){r(te,F,X);for(let J=0;J<D.length;J++)ae(D[J],F,X,W);r(L.anchor,F,X);return}if(le===yg){v(L,F,X);return}if(W!==2&&$&1&&re)if(W===0)re.beforeEnter(te),r(te,F,X),rs(()=>re.enter(te),G);else{const{leave:J,delayLeave:me,afterLeave:ye}=re,Te=o(()=>r(te,F,X),"remove22"),$e=o(()=>{J(te,()=>{Te(),ye&&ye()})},"performLeave");me?me(te,Te,$e):$e()}else r(te,F,X)},"move"),he=o((L,F,X,W=!1,G=!1)=>{const{type:te,props:le,ref:re,children:D,dynamicChildren:$,shapeFlag:H,patchFlag:J,dirs:me,cacheIndex:ye}=L;if(J===-2&&(G=!1),re!=null&&V_(re,null,X,L,!0),ye!=null&&(F.renderCache[ye]=void 0),H&256){F.ctx.deactivate(L);return}const Te=H&1&&me,$e=!pd(L);let ut;if($e&&(ut=le&&le.onVnodeBeforeUnmount)&&Mo(ut,F,L),H&6)Re(L.component,X,W);else{if(H&128){L.suspense.unmount(X,W);return}Te&&Ec(L,null,F,"beforeUnmount"),H&64?L.type.remove(L,F,X,Ln,W):$&&!$.hasOnce&&(te!==ar||J>0&&J&64)?Ke($,F,X,!1,!0):(te===ar&&J&384||!G&&H&16)&&Ke(D,F,X),W&&ve(L)}($e&&(ut=le&&le.onVnodeUnmounted)||Te)&&rs(()=>{ut&&Mo(ut,F,L),Te&&Ec(L,null,F,"unmounted")},X)},"unmount"),ve=o(L=>{const{type:F,el:X,anchor:W,transition:G}=L;if(F===ar){lt(X,W);return}if(F===yg){k(L);return}const te=o(()=>{s(X),G&&!G.persisted&&G.afterLeave&&G.afterLeave()},"performRemove");if(L.shapeFlag&1&&G&&!G.persisted){const{leave:le,delayLeave:re}=G,D=o(()=>le(X,te),"performLeave");re?re(L.el,te,D):D()}else te()},"remove2"),lt=o((L,F)=>{let X;for(;L!==F;)X=d(L),s(L),L=X;s(F)},"removeFragment"),Re=o((L,F,X)=>{const{bum:W,scope:G,job:te,subTree:le,um:re,m:D,a:$}=L;f4(D),f4($),W&&qb(W),G.stop(),te&&(te.flags|=8,he(le,L,F,X)),re&&rs(re,F),rs(()=>{L.isUnmounted=!0},F),F&&F.pendingBranch&&!F.isUnmounted&&L.asyncDep&&!L.asyncResolved&&L.suspenseId===F.pendingId&&(F.deps--,F.deps===0&&F.resolve())},"unmountComponent"),Ke=o((L,F,X,W=!1,G=!1,te=0)=>{for(let le=te;le<L.length;le++)he(L[le],F,X,W,G)},"unmountChildren"),Mt=o(L=>{if(L.shapeFlag&6)return Mt(L.component.subTree);if(L.shapeFlag&128)return L.suspense.next();const F=d(L.anchor||L.el),X=F&&F[GU];return X?d(X):F},"getNextHostNode");let Xr=!1;const As=o((L,F,X)=>{L==null?F._vnode&&he(F._vnode,null,null,!0):y(F._vnode||null,L,F,null,null,null,X),F._vnode=L,Xr||(Xr=!0,e4(),WU(),Xr=!1)},"render"),Ln={p:y,um:he,m:ae,r:ve,mt:B,mc:E,pc:ee,pbc:O,n:Mt,o:t};return{render:As,hydrate:void 0,createApp:Rie(As)}}o(Fie,"baseCreateRenderer");function x2({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}o(x2,"resolveChildrenNamespace");function xc({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}o(xc,"toggleRecurse");function Bie(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}o(Bie,"needTransition");function c3(t,e,n=!1){const r=t.children,s=e.children;if(Le(r)&&Le(s))for(let i=0;i<r.length;i++){const a=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=eu(s[i]),l.el=a.el),!n&&l.patchFlag!==-2&&c3(a,l)),l.type===wE&&(l.el=a.el)}}o(c3,"traverseStaticChildren");function Uie(t){const e=t.slice(),n=[0];let r,s,i,a,l;const u=t.length;for(r=0;r<u;r++){const c=t[r];if(c!==0){if(s=n[n.length-1],t[s]<c){e[r]=s,n.push(r);continue}for(i=0,a=n.length-1;i<a;)l=i+a>>1,t[n[l]]<c?i=l+1:a=l;c<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=e[a];return n}o(Uie,"getSequence");function w9(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:w9(e)}o(w9,"locateNonHydratedAsyncRoot");function f4(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}o(f4,"invalidateMount");const zie=Symbol.for("v-scx"),Vie=o(()=>md(zie),"useSSRContext");function v9(t,e){return bE(t,null,e)}o(v9,"watchEffect");function jie(t,e){return bE(t,null,{flush:"sync"})}o(jie,"watchSyncEffect");function Jt(t,e,n){return bE(t,e,n)}o(Jt,"watch");function bE(t,e,n=Tt){const{immediate:r,deep:s,flush:i,once:a}=n,l=zn({},n),u=e&&r||!e&&i!=="post";let c;if(zd){if(i==="sync"){const p=Vie();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!u){const p=o(()=>{},"watchStopHandle");return p.stop=oo,p.resume=oo,p.pause=oo,p}}const f=Kn;l.call=(p,m,y)=>bo(p,f,m,y);let h=!1;i==="post"?l.scheduler=p=>{rs(p,f&&f.suspense)}:i!=="sync"&&(h=!0,l.scheduler=(p,m)=>{m?p():n3(p)}),l.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,f&&(p.id=f.uid,p.i=f))};const d=iie(t,e,l);return zd&&(c?c.push(d):u&&d()),d}o(bE,"doWatch");function Wie(t,e,n){const r=this.proxy,s=dn(t)?t.includes(".")?E9(r,t):()=>r[t]:t.bind(r,r);let i;ze(e)?i=e:(i=e.handler,n=e);const a=by(this),l=bE(s,i.bind(r),n);return a(),l}o(Wie,"instanceWatch");function E9(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}o(E9,"createPathGetter");function N9e(t,e,n=Tt){const r=Bs(),s=gs(e),i=Cl(e),a=x9(t,s),l=mE((u,c)=>{let f,h=Tt,d;return jie(()=>{const p=t[s];Is(f,p)&&(f=p,c())}),{get(){return u(),n.get?n.get(f):f},set(p){const m=n.set?n.set(p):p;if(!Is(m,f)&&!(h!==Tt&&Is(p,h)))return;const y=r.vnode.props;y&&(e in y||s in y||i in y)&&(`onUpdate:${e}`in y||`onUpdate:${s}`in y||`onUpdate:${i}`in y)||(f=p,c()),r.emit(`update:${e}`,m),Is(p,m)&&Is(p,h)&&!Is(m,d)&&c(),h=p,d=m}}});return l[Symbol.iterator]=()=>{let u=0;return{next(){return u<2?{value:u++?a||Tt:l,done:!1}:{done:!0}}}},l}o(N9e,"useModel");const x9=o((t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${gs(e)}Modifiers`]||t[`${Cl(e)}Modifiers`],"getModelModifiers");function Hie(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Tt;let s=n;const i=e.startsWith("update:"),a=i&&x9(r,e.slice(7));a&&(a.trim&&(s=n.map(f=>dn(f)?f.trim():f)),a.number&&(s=n.map(Rk)));let l,u=r[l=hg(e)]||r[l=hg(gs(e))];!u&&i&&(u=r[l=hg(Cl(e))]),u&&bo(u,t,6,s);const c=r[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,bo(c,t,6,s)}}o(Hie,"emit");function S9(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let a={},l=!1;if(!ze(t)){const u=o(c=>{const f=S9(c,e,!0);f&&(l=!0,zn(a,f))},"extendEmits");!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!l?(Zt(t)&&r.set(t,null),null):(Le(i)?i.forEach(u=>a[u]=null):zn(a,i),Zt(t)&&r.set(t,a),a)}o(S9,"normalizeEmitsOptions");function _E(t,e){return!t||!aE(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ct(t,e[0].toLowerCase()+e.slice(1))||Ct(t,Cl(e))||Ct(t,e))}o(_E,"isEmitListener");function h4(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:a,attrs:l,emit:u,render:c,renderCache:f,props:h,data:d,setupState:p,ctx:m,inheritAttrs:y}=t,b=z_(t);let _,S;try{if(n.shapeFlag&4){const k=s||r,C=k;_=Gi(c.call(C,k,f,h,p,d,m)),S=l}else{const k=e;_=Gi(k.length>1?k(h,{attrs:l,slots:a,emit:u}):k(h,null)),S=e.props?l:Gie(l)}}catch(k){bg.length=0,Rp(k,t,1),_=kn(lr)}let v=_;if(S&&y!==!1){const k=Object.keys(S),{shapeFlag:C}=v;k.length&&C&7&&(i&&k.some(GI)&&(S=Kie(S,i)),v=gl(v,S,!1,!0))}return n.dirs&&(v=gl(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&bf(v,n.transition),_=v,z_(b),_}o(h4,"renderComponentRoot");function qie(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(Ud(s)){if(s.type!==lr||s.children==="v-if"){if(n)return;n=s}}else return}return n}o(qie,"filterSingleRoot");const Gie=o(t=>{let e;for(const n in t)(n==="class"||n==="style"||aE(n))&&((e||(e={}))[n]=t[n]);return e},"getFunctionalFallthrough"),Kie=o((t,e)=>{const n={};for(const r in t)(!GI(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n},"filterModelListeners");function Yie(t,e,n){const{props:r,children:s,component:i}=t,{props:a,children:l,patchFlag:u}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?d4(r,a,c):!!a;if(u&8){const f=e.dynamicProps;for(let h=0;h<f.length;h++){const d=f[h];if(a[d]!==r[d]&&!_E(c,d))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?d4(r,a,c):!0:!!a;return!1}o(Yie,"shouldUpdateComponent");function d4(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!_E(n,i))return!0}return!1}o(d4,"hasPropsChanged");function f3({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}o(f3,"updateHOCHostEl");const T9=o(t=>t.__isSuspense,"isSuspense");let Uk=0;const Xie={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,a,l,u,c){if(t==null)Jie(e,n,r,s,i,a,l,u,c);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}Zie(t,e,n,r,s,a,l,u,c)}},hydrate:Qie,normalize:eoe},M9e=Xie;function c0(t,e){const n=t.props&&t.props[e];ze(n)&&n()}o(c0,"triggerEvent");function Jie(t,e,n,r,s,i,a,l,u){const{p:c,o:{createElement:f}}=u,h=f("div"),d=t.suspense=k9(t,s,r,e,h,n,i,a,l,u);c(null,d.pendingBranch=t.ssContent,h,null,r,d,i,a),d.deps>0?(c0(t,"onPending"),c0(t,"onFallback"),c(null,t.ssFallback,e,n,r,null,i,a),gd(d,t.ssFallback)):d.resolve(!1,!0)}o(Jie,"mountSuspense");function Zie(t,e,n,r,s,i,a,l,{p:u,um:c,o:{createElement:f}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const d=e.ssContent,p=e.ssFallback,{activeBranch:m,pendingBranch:y,isInFallback:b,isHydrating:_}=h;if(y)h.pendingBranch=d,Jo(d,y)?(u(y,d,h.hiddenContainer,null,s,h,i,a,l),h.deps<=0?h.resolve():b&&(_||(u(m,p,n,r,s,null,i,a,l),gd(h,p)))):(h.pendingId=Uk++,_?(h.isHydrating=!1,h.activeBranch=y):c(y,s,h),h.deps=0,h.effects.length=0,h.hiddenContainer=f("div"),b?(u(null,d,h.hiddenContainer,null,s,h,i,a,l),h.deps<=0?h.resolve():(u(m,p,n,r,s,null,i,a,l),gd(h,p))):m&&Jo(d,m)?(u(m,d,n,r,s,h,i,a,l),h.resolve(!0)):(u(null,d,h.hiddenContainer,null,s,h,i,a,l),h.deps<=0&&h.resolve()));else if(m&&Jo(d,m))u(m,d,n,r,s,h,i,a,l),gd(h,d);else if(c0(e,"onPending"),h.pendingBranch=d,d.shapeFlag&512?h.pendingId=d.component.suspenseId:h.pendingId=Uk++,u(null,d,h.hiddenContainer,null,s,h,i,a,l),h.deps<=0)h.resolve();else{const{timeout:S,pendingId:v}=h;S>0?setTimeout(()=>{h.pendingId===v&&h.fallback(p)},S):S===0&&h.fallback(p)}}o(Zie,"patchSuspense");function k9(t,e,n,r,s,i,a,l,u,c,f=!1){const{p:h,m:d,um:p,n:m,o:{parentNode:y,remove:b}}=c;let _;const S=noe(t);S&&e&&e.pendingBranch&&(_=e.pendingId,e.deps++);const v=t.props?yU(t.props.timeout):void 0,k=i,C={vnode:t,parent:e,parentComponent:n,namespace:a,container:r,hiddenContainer:s,deps:0,pendingId:Uk++,timeout:typeof v=="number"?v:-1,activeBranch:null,pendingBranch:null,isInFallback:!f,isHydrating:f,isUnmounted:!1,effects:[],resolve(I=!1,x=!1){const{vnode:E,activeBranch:T,pendingBranch:O,pendingId:N,effects:R,parentComponent:M,container:B}=C;let z=!1;C.isHydrating?C.isHydrating=!1:I||(z=T&&O.transition&&O.transition.mode==="out-in",z&&(T.transition.afterLeave=()=>{N===C.pendingId&&(d(O,B,i===k?m(T):i,0),U_(R))}),T&&(y(T.el)===B&&(i=m(T)),p(T,M,C,!0)),z||d(O,B,i,0)),gd(C,O),C.pendingBranch=null,C.isInFallback=!1;let V=C.parent,K=!1;for(;V;){if(V.pendingBranch){V.effects.push(...R),K=!0;break}V=V.parent}!K&&!z&&U_(R),C.effects=[],S&&e&&e.pendingBranch&&_===e.pendingId&&(e.deps--,e.deps===0&&!x&&e.resolve()),c0(E,"onResolve")},fallback(I){if(!C.pendingBranch)return;const{vnode:x,activeBranch:E,parentComponent:T,container:O,namespace:N}=C;c0(x,"onFallback");const R=m(E),M=o(()=>{C.isInFallback&&(h(null,I,O,R,T,null,N,l,u),gd(C,I))},"mountFallback"),B=I.transition&&I.transition.mode==="out-in";B&&(E.transition.afterLeave=M),C.isInFallback=!0,p(E,T,null,!0),B||M()},move(I,x,E){C.activeBranch&&d(C.activeBranch,I,x,E),C.container=I},next(){return C.activeBranch&&m(C.activeBranch)},registerDep(I,x,E){const T=!!C.pendingBranch;T&&C.deps++;const O=I.vnode.el;I.asyncDep.catch(N=>{Rp(N,I,0)}).then(N=>{if(I.isUnmounted||C.isUnmounted||C.pendingId!==I.suspenseId)return;I.asyncResolved=!0;const{vnode:R}=I;Vk(I,N),O&&(R.el=O);const M=!O&&I.subTree.el;x(I,R,y(O||I.subTree.el),O?null:m(I.subTree),C,a,E),M&&b(M),f3(I,R.el),T&&--C.deps===0&&C.resolve()})},unmount(I,x){C.isUnmounted=!0,C.activeBranch&&p(C.activeBranch,n,I,x),C.pendingBranch&&p(C.pendingBranch,n,I,x)}};return C}o(k9,"createSuspenseBoundary");function Qie(t,e,n,r,s,i,a,l,u){const c=e.suspense=k9(e,r,n,t.parentNode,document.createElement("div"),null,s,i,a,l,!0),f=u(t,c.pendingBranch=e.ssContent,n,c,i,a);return c.deps===0&&c.resolve(!1,!0),f}o(Qie,"hydrateSuspense");function eoe(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=p4(r?n.default:n),t.ssFallback=r?p4(n.fallback):kn(lr)}o(eoe,"normalizeSuspenseChildren");function p4(t){let e;if(ze(t)){const n=Bd&&t._c;n&&(t._d=!1,Fn()),t=t(),n&&(t._d=!0,e=Os,A9())}return Le(t)&&(t=qie(t)),t=Gi(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}o(p4,"normalizeSuspenseSlot");function toe(t,e){e&&e.pendingBranch?Le(t)?e.effects.push(...t):e.effects.push(t):U_(t)}o(toe,"queueEffectWithSuspense");function gd(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,f3(r,s))}o(gd,"setActiveBranch");function noe(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}o(noe,"isVNodeSuspensible");const ar=Symbol.for("v-fgt"),wE=Symbol.for("v-txt"),lr=Symbol.for("v-cmt"),yg=Symbol.for("v-stc"),bg=[];let Os=null;function Fn(t=!1){bg.push(Os=t?null:[])}o(Fn,"openBlock");function A9(){bg.pop(),Os=bg[bg.length-1]||null}o(A9,"closeBlock");let Bd=1;function m4(t,e=!1){Bd+=t,t<0&&Os&&e&&(Os.hasOnce=!0)}o(m4,"setBlockTracking");function C9(t){return t.dynamicChildren=Bd>0?Os||cd:null,A9(),Bd>0&&Os&&Os.push(t),t}o(C9,"setupBlock");function g4(t,e,n,r,s,i){return C9(R9(t,e,n,r,s,i,!0))}o(g4,"createElementBlock");function Sr(t,e,n,r,s){return C9(kn(t,e,n,r,s,!0))}o(Sr,"createBlock");function Ud(t){return t?t.__v_isVNode===!0:!1}o(Ud,"isVNode");function Jo(t,e){return t.type===e.type&&t.key===e.key}o(Jo,"isSameVNodeType");const I9=o(({key:t})=>t??null,"normalizeKey"),Kb=o(({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?dn(t)||on(t)||ze(t)?{i:Yn,r:t,k:e,f:!!n}:t:null),"normalizeRef");function R9(t,e=null,n=null,r=0,s=null,i=t===ar?0:1,a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&I9(e),ref:e&&Kb(e),scopeId:qU,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Yn};return l?(h3(u,n),i&128&&t.normalize(u)):n&&(u.shapeFlag|=dn(n)?8:16),Bd>0&&!a&&Os&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&Os.push(u),u}o(R9,"createBaseVNode");const kn=roe;function roe(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===i9)&&(t=lr),Ud(t)){const l=gl(t,e,!0);return n&&h3(l,n),Bd>0&&!i&&Os&&(l.shapeFlag&6?Os[Os.indexOf(t)]=l:Os.push(l)),l.patchFlag=-2,l}if(doe(t)&&(t=t.__vccOpts),e){e=soe(e);let{class:l,style:u}=e;l&&!dn(l)&&(e.class=hE(l)),Zt(u)&&(t3(u)&&!Le(u)&&(u=zn({},u)),e.style=Gf(u))}const a=dn(t)?1:T9(t)?128:KU(t)?64:Zt(t)?4:ze(t)?2:0;return R9(t,e,n,r,s,a,i,!0)}o(roe,"_createVNode");function soe(t){return t?t3(t)||d9(t)?zn({},t):t:null}o(soe,"guardReactiveProps");function gl(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:a,children:l,transition:u}=t,c=e?yl(s||{},e):s,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&I9(c),ref:e&&e.ref?n&&i?Le(i)?i.concat(Kb(e)):[i,Kb(e)]:Kb(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ar?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&gl(t.ssContent),ssFallback:t.ssFallback&&gl(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&r&&bf(f,u.clone(f)),f}o(gl,"cloneVNode");function ioe(t=" ",e=0){return kn(wE,null,t,e)}o(ioe,"createTextVNode");function D9e(t,e){const n=kn(yg,null,t);return n.staticCount=e,n}o(D9e,"createStaticVNode");function O9(t="",e=!1){return e?(Fn(),Sr(lr,null,t)):kn(lr,null,t)}o(O9,"createCommentVNode");function Gi(t){return t==null||typeof t=="boolean"?kn(lr):Le(t)?kn(ar,null,t.slice()):Ud(t)?eu(t):kn(wE,null,String(t))}o(Gi,"normalizeVNode");function eu(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:gl(t)}o(eu,"cloneIfMounted");function h3(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Le(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),h3(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!d9(e)?e._ctx=Yn:s===3&&Yn&&(Yn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ze(e)?(e={default:e,_ctx:Yn},n=32):(e=String(e),r&64?(n=16,e=[ioe(e)]):n=8);t.children=e,t.shapeFlag|=n}o(h3,"normalizeChildren");function yl(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=hE([e.class,r.class]));else if(s==="style")e.style=Gf([e.style,r.style]);else if(aE(s)){const i=e[s],a=r[s];a&&i!==a&&!(Le(i)&&i.includes(a))&&(e[s]=i?[].concat(i,a):a)}else s!==""&&(e[s]=r[s])}return e}o(yl,"mergeProps");function Mo(t,e,n,r=null){bo(t,e,7,[n,r])}o(Mo,"invokeVNodeHook");const ooe=c9();let aoe=0;function loe(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||ooe,i={uid:aoe++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new vU(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:m9(r,s),emitsOptions:S9(r,s),emit:null,emitted:null,propsDefaults:Tt,inheritAttrs:r.inheritAttrs,ctx:Tt,data:Tt,props:Tt,attrs:Tt,slots:Tt,refs:Tt,setupState:Tt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Hie.bind(null,i),t.ce&&t.ce(i),i}o(loe,"createComponentInstance");let Kn=null;const Bs=o(()=>Kn||Yn,"getCurrentInstance");let H_,zk;{const t=fE(),e=o((n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(a=>a(i)):s[0](i)}},"registerGlobalSetter");H_=e("__VUE_INSTANCE_SETTERS__",n=>Kn=n),zk=e("__VUE_SSR_SETTERS__",n=>zd=n)}const by=o(t=>{const e=Kn;return H_(t),t.scope.on(),()=>{t.scope.off(),H_(e)}},"setCurrentInstance"),y4=o(()=>{Kn&&Kn.scope.off(),H_(null)},"unsetCurrentInstance");function N9(t){return t.vnode.shapeFlag&4}o(N9,"isStatefulComponent");let zd=!1;function uoe(t,e=!1,n=!1){e&&zk(e);const{props:r,children:s}=t.vnode,i=N9(t);Oie(t,r,i,e),Pie(t,s,n);const a=i?coe(t,e):void 0;return e&&zk(!1),a}o(uoe,"setupComponent");function coe(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,xie);const{setup:r}=n;if(r){tc();const s=t.setupContext=r.length>1?D9(t):null,i=by(t),a=gy(r,t,0,[t.props,s]),l=dU(a);if(nc(),i(),(l||t.sp)&&!pd(t)&&s3(t),l){if(a.then(y4,y4),e)return a.then(u=>{Vk(t,u)}).catch(u=>{Rp(u,t,0)});t.asyncDep=a}else Vk(t,a)}else M9(t)}o(coe,"setupStatefulComponent");function Vk(t,e,n){ze(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Zt(e)&&(t.setupState=BU(e)),M9(t)}o(Vk,"handleSetupResult");function M9(t,e,n){const r=t.type;t.render||(t.render=r.render||oo);{const s=by(t);tc();try{Sie(t)}finally{nc(),s()}}}o(M9,"finishComponentSetup");const foe={get(t,e){return Mr(t,"get",""),t[e]}};function D9(t){const e=o(n=>{t.exposed=n||{}},"expose");return{attrs:new Proxy(t.attrs,foe),slots:t.slots,emit:t.emit,expose:e}}o(D9,"createSetupContext");function vE(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(BU(LU(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in gg)return gg[n](t)},has(e,n){return n in e||n in gg}})):t.proxy}o(vE,"getComponentPublicInstance");function hoe(t,e=!0){return ze(t)?t.displayName||t.name:t.name||e&&t.__name}o(hoe,"getComponentName");function doe(t){return ze(t)&&"__vccOpts"in t}o(doe,"isClassComponent");const qe=o((t,e)=>rie(t,e,zd),"computed");function yd(t,e,n){const r=arguments.length;return r===2?Zt(e)&&!Le(e)?Ud(e)?kn(t,null,[e]):kn(t,e):kn(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ud(n)&&(n=[n]),kn(t,e,n))}o(yd,"h$2");const poe="3.5.13";let jk;const b4=typeof window<"u"&&window.trustedTypes;if(b4)try{jk=b4.createPolicy("vue",{createHTML:o(t=>t,"createHTML")})}catch{}const P9=jk?t=>jk.createHTML(t):t=>t,moe="http://www.w3.org/2000/svg",goe="http://www.w3.org/1998/Math/MathML",Ka=typeof document<"u"?document:null,_4=Ka&&Ka.createElement("template"),yoe={insert:o((t,e,n)=>{e.insertBefore(t,n||null)},"insert"),remove:o(t=>{const e=t.parentNode;e&&e.removeChild(t)},"remove"),createElement:o((t,e,n,r)=>{const s=e==="svg"?Ka.createElementNS(moe,t):e==="mathml"?Ka.createElementNS(goe,t):n?Ka.createElement(t,{is:n}):Ka.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},"createElement"),createText:o(t=>Ka.createTextNode(t),"createText"),createComment:o(t=>Ka.createComment(t),"createComment"),setText:o((t,e)=>{t.nodeValue=e},"setText"),setElementText:o((t,e)=>{t.textContent=e},"setElementText"),parentNode:o(t=>t.parentNode,"parentNode"),nextSibling:o(t=>t.nextSibling,"nextSibling"),querySelector:o(t=>Ka.querySelector(t),"querySelector"),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const a=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{_4.innerHTML=P9(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const l=_4.content;if(r==="svg"||r==="mathml"){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Vl="transition",bm="animation",Vd=Symbol("_vtc"),$9={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},L9=zn({},ZU,$9),boe=o(t=>(t.displayName="Transition",t.props=L9,t),"decorate$1"),P9e=boe((t,{slots:e})=>yd(cie,F9(t),e)),Sc=o((t,e=[])=>{Le(t)?t.forEach(n=>n(...e)):t&&t(...e)},"callHook"),w4=o(t=>t?Le(t)?t.some(e=>e.length>1):t.length>1:!1,"hasExplicitCallback");function F9(t){const e={};for(const R in t)R in $9||(e[R]=t[R]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:c=a,appearToClass:f=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,m=_oe(s),y=m&&m[0],b=m&&m[1],{onBeforeEnter:_,onEnter:S,onEnterCancelled:v,onLeave:k,onLeaveCancelled:C,onBeforeAppear:I=_,onAppear:x=S,onAppearCancelled:E=v}=e,T=o((R,M,B,z)=>{R._enterCancelled=z,Xl(R,M?f:l),Xl(R,M?c:a),B&&B()},"finishEnter"),O=o((R,M)=>{R._isLeaving=!1,Xl(R,h),Xl(R,p),Xl(R,d),M&&M()},"finishLeave"),N=o(R=>(M,B)=>{const z=R?x:S,V=o(()=>T(M,R,B),"resolve");Sc(z,[M,V]),v4(()=>{Xl(M,R?u:i),Lo(M,R?f:l),w4(z)||E4(M,r,y,V)})},"makeEnterHook");return zn(e,{onBeforeEnter(R){Sc(_,[R]),Lo(R,i),Lo(R,a)},onBeforeAppear(R){Sc(I,[R]),Lo(R,u),Lo(R,c)},onEnter:N(!1),onAppear:N(!0),onLeave(R,M){R._isLeaving=!0;const B=o(()=>O(R,M),"resolve");Lo(R,h),R._enterCancelled?(Lo(R,d),Wk()):(Wk(),Lo(R,d)),v4(()=>{R._isLeaving&&(Xl(R,h),Lo(R,p),w4(k)||E4(R,r,b,B))}),Sc(k,[R,B])},onEnterCancelled(R){T(R,!1,void 0,!0),Sc(v,[R])},onAppearCancelled(R){T(R,!0,void 0,!0),Sc(E,[R])},onLeaveCancelled(R){O(R),Sc(C,[R])}})}o(F9,"resolveTransitionProps");function _oe(t){if(t==null)return null;if(Zt(t))return[S2(t.enter),S2(t.leave)];{const e=S2(t);return[e,e]}}o(_oe,"normalizeDuration");function S2(t){return yU(t)}o(S2,"NumberOf");function Lo(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Vd]||(t[Vd]=new Set)).add(e)}o(Lo,"addTransitionClass");function Xl(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Vd];n&&(n.delete(e),n.size||(t[Vd]=void 0))}o(Xl,"removeTransitionClass");function v4(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}o(v4,"nextFrame");let woe=0;function E4(t,e,n,r){const s=t._endId=++woe,i=o(()=>{s===t._endId&&r()},"resolveIfNotStale");if(n!=null)return setTimeout(i,n);const{type:a,timeout:l,propCount:u}=B9(t,e);if(!a)return r();const c=a+"end";let f=0;const h=o(()=>{t.removeEventListener(c,d),i()},"end"),d=o(p=>{p.target===t&&++f>=u&&h()},"onEnd");setTimeout(()=>{f<u&&h()},l+1),t.addEventListener(c,d)}o(E4,"whenTransitionEnds");function B9(t,e){const n=window.getComputedStyle(t),r=o(m=>(n[m]||"").split(", "),"getStyleProperties"),s=r(`${Vl}Delay`),i=r(`${Vl}Duration`),a=x4(s,i),l=r(`${bm}Delay`),u=r(`${bm}Duration`),c=x4(l,u);let f=null,h=0,d=0;e===Vl?a>0&&(f=Vl,h=a,d=i.length):e===bm?c>0&&(f=bm,h=c,d=u.length):(h=Math.max(a,c),f=h>0?a>c?Vl:bm:null,d=f?f===Vl?i.length:u.length:0);const p=f===Vl&&/\b(transform|all)(,|$)/.test(r(`${Vl}Property`).toString());return{type:f,timeout:h,propCount:d,hasTransform:p}}o(B9,"getTransitionInfo");function x4(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>S4(n)+S4(t[r])))}o(x4,"getTimeout");function S4(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}o(S4,"toMs");function Wk(){return document.body.offsetHeight}o(Wk,"forceReflow");function voe(t,e,n){const r=t[Vd];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}o(voe,"patchClass");const q_=Symbol("_vod"),U9=Symbol("_vsh"),$9e={beforeMount(t,{value:e},{transition:n}){t[q_]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):_m(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),_m(t,!0),r.enter(t)):r.leave(t,()=>{_m(t,!1)}):_m(t,e))},beforeUnmount(t,{value:e}){_m(t,e)}};function _m(t,e){t.style.display=e?t[q_]:"none",t[U9]=!e}o(_m,"setDisplay");const z9=Symbol("");function L9e(t){const e=Bs();if(!e)return;const n=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>G_(i,s))},r=o(()=>{const s=t(e.proxy);e.ce?G_(e.ce,s):Hk(e.subTree,s),n(s)},"setVars");r9(()=>{U_(r)}),rc(()=>{Jt(r,oo,{flush:"post"});const s=new MutationObserver(r);s.observe(e.subTree.el.parentNode,{childList:!0}),yE(()=>s.disconnect())})}o(L9e,"useCssVars");function Hk(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Hk(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)G_(t.el,e);else if(t.type===ar)t.children.forEach(n=>Hk(n,e));else if(t.type===yg){let{el:n,anchor:r}=t;for(;n&&(G_(n,e),n!==r);)n=n.nextSibling}}o(Hk,"setVarsOnVNode");function G_(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const s in e)n.setProperty(`--${s}`,e[s]),r+=`--${s}: ${e[s]};`;n[z9]=r}}o(G_,"setVarsOnNode");const Eoe=/(^|;)\s*display\s*:/;function xoe(t,e,n){const r=t.style,s=dn(n);let i=!1;if(n&&!s){if(e)if(dn(e))for(const a of e.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&Yb(r,l,"")}else for(const a in e)n[a]==null&&Yb(r,a,"");for(const a in n)a==="display"&&(i=!0),Yb(r,a,n[a])}else if(s){if(e!==n){const a=r[z9];a&&(n+=";"+a),r.cssText=n,i=Eoe.test(n)}}else e&&t.removeAttribute("style");q_ in t&&(t[q_]=i?r.display:"",t[U9]&&(r.display="none"))}o(xoe,"patchStyle");const T4=/\s*!important$/;function Yb(t,e,n){if(Le(n))n.forEach(r=>Yb(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Soe(t,e);T4.test(n)?t.setProperty(Cl(r),n.replace(T4,""),"important"):t[r]=n}}o(Yb,"setStyle");const k4=["Webkit","Moz","ms"],T2={};function Soe(t,e){const n=T2[e];if(n)return n;let r=gs(e);if(r!=="filter"&&r in t)return T2[e]=r;r=cE(r);for(let s=0;s<k4.length;s++){const i=k4[s]+r;if(i in t)return T2[e]=i}return e}o(Soe,"autoPrefix");const A4="http://www.w3.org/1999/xlink";function C4(t,e,n,r,s,i=Ase(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(A4,e.slice(6,e.length)):t.setAttributeNS(A4,e,n):n==null||i&&!bU(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Al(n)?String(n):n)}o(C4,"patchAttr");function I4(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?P9(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,u=n==null?t.type==="checkbox"?"on":"":String(n);(l!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=bU(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(s||e)}o(I4,"patchDOMProp");function qh(t,e,n,r){t.addEventListener(e,n,r)}o(qh,"addEventListener");function Toe(t,e,n,r){t.removeEventListener(e,n,r)}o(Toe,"removeEventListener");const R4=Symbol("_vei");function koe(t,e,n,r,s=null){const i=t[R4]||(t[R4]={}),a=i[e];if(r&&a)a.value=r;else{const[l,u]=Aoe(e);if(r){const c=i[e]=Roe(r,s);qh(t,l,c,u)}else a&&(Toe(t,l,a,u),i[e]=void 0)}}o(koe,"patchEvent");const O4=/(?:Once|Passive|Capture)$/;function Aoe(t){let e;if(O4.test(t)){e={};let r;for(;r=t.match(O4);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Cl(t.slice(2)),e]}o(Aoe,"parseName");let k2=0;const Coe=Promise.resolve(),Ioe=o(()=>k2||(Coe.then(()=>k2=0),k2=Date.now()),"getNow");function Roe(t,e){const n=o(r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;bo(Ooe(r,n.value),e,5,[r])},"invoker");return n.value=t,n.attached=Ioe(),n}o(Roe,"createInvoker");function Ooe(t,e){if(Le(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}o(Ooe,"patchStopImmediatePropagation");const N4=o(t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,"isNativeOn"),Noe=o((t,e,n,r,s,i)=>{const a=s==="svg";e==="class"?voe(t,r,a):e==="style"?xoe(t,n,r):aE(e)?GI(e)||koe(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Moe(t,e,r,a))?(I4(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&C4(t,e,r,a,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!dn(r))?I4(t,gs(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),C4(t,e,r,a))},"patchProp");function Moe(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&N4(e)&&ze(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return N4(e)&&dn(n)?!1:e in t}o(Moe,"shouldSetAsProp");const V9=new WeakMap,j9=new WeakMap,K_=Symbol("_moveCb"),M4=Symbol("_enterCb"),Doe=o(t=>(delete t.props.mode,t),"decorate"),Poe=Doe({name:"TransitionGroup",props:zn({},L9,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Bs(),r=JU();let s,i;return s9(()=>{if(!s.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!Boe(s[0].el,n.vnode.el,a))return;s.forEach($oe),s.forEach(Loe);const l=s.filter(Foe);Wk(),l.forEach(u=>{const c=u.el,f=c.style;Lo(c,a),f.transform=f.webkitTransform=f.transitionDuration="";const h=c[K_]=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",h),c[K_]=null,Xl(c,a))};c.addEventListener("transitionend",h)})}),()=>{const a=bt(t),l=F9(a);let u=a.tag||ar;if(s=[],i)for(let c=0;c<i.length;c++){const f=i[c];f.el&&f.el instanceof Element&&(s.push(f),bf(f,u0(f,l,r,n)),V9.set(f,f.el.getBoundingClientRect()))}i=e.default?r3(e.default()):[];for(let c=0;c<i.length;c++){const f=i[c];f.key!=null&&bf(f,u0(f,l,r,n))}return kn(u,null,i)}}}),F9e=Poe;function $oe(t){const e=t.el;e[K_]&&e[K_](),e[M4]&&e[M4]()}o($oe,"callPendingCbs");function Loe(t){j9.set(t,t.el.getBoundingClientRect())}o(Loe,"recordPosition");function Foe(t){const e=V9.get(t),n=j9.get(t),r=e.left-n.left,s=e.top-n.top;if(r||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",t}}o(Foe,"applyTranslation");function Boe(t,e,n){const r=t.cloneNode(),s=t[Vd];s&&s.forEach(l=>{l.split(/\s+/).forEach(u=>u&&r.classList.remove(u))}),n.split(/\s+/).forEach(l=>l&&r.classList.add(l)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:a}=B9(r);return i.removeChild(r),a}o(Boe,"hasCSSTransform");const D4=o(t=>{const e=t.props["onUpdate:modelValue"]||!1;return Le(e)?n=>qb(e,n):e},"getModelAssigner");function Uoe(t){t.target.composing=!0}o(Uoe,"onCompositionStart");function P4(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}o(P4,"onCompositionEnd");const A2=Symbol("_assign"),B9e={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[A2]=D4(s);const i=r||s.props&&s.props.type==="number";qh(t,e?"change":"input",a=>{if(a.target.composing)return;let l=t.value;n&&(l=l.trim()),i&&(l=Rk(l)),t[A2](l)}),n&&qh(t,"change",()=>{t.value=t.value.trim()}),e||(qh(t,"compositionstart",Uoe),qh(t,"compositionend",P4),qh(t,"change",P4))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},a){if(t[A2]=D4(a),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?Rk(t.value):t.value,u=e??"";l!==u&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===u)||(t.value=u))}},zoe=["ctrl","shift","alt","meta"],Voe={stop:o(t=>t.stopPropagation(),"stop"),prevent:o(t=>t.preventDefault(),"prevent"),self:o(t=>t.target!==t.currentTarget,"self"),ctrl:o(t=>!t.ctrlKey,"ctrl"),shift:o(t=>!t.shiftKey,"shift"),alt:o(t=>!t.altKey,"alt"),meta:o(t=>!t.metaKey,"meta"),left:o(t=>"button"in t&&t.button!==0,"left"),middle:o(t=>"button"in t&&t.button!==1,"middle"),right:o(t=>"button"in t&&t.button!==2,"right"),exact:o((t,e)=>zoe.some(n=>t[`${n}Key`]&&!e.includes(n)),"exact")},U9e=o((t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let a=0;a<e.length;a++){const l=Voe[e[a]];if(l&&l(s,e))return}return t(s,...i)})},"withModifiers"),joe={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},z9e=o((t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=Cl(s.key);if(e.some(a=>a===i||joe[a]===i))return t(s)})},"withKeys"),Woe=zn({patchProp:Noe},yoe);let $4;function W9(){return $4||($4=Lie(Woe))}o(W9,"ensureRenderer");const V9e=o((...t)=>{W9().render(...t)},"render"),j9e=o((...t)=>{const e=W9().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=qoe(r);if(!s)return;const i=e._component;!ze(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=n(s,!1,Hoe(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e},"createApp");function Hoe(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}o(Hoe,"resolveRootNamespace");function qoe(t){return dn(t)?document.querySelector(t):t}o(qoe,"normalizeContainer");function d3(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}o(d3,"__rest");function H9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}o(H9,"_prodErrorMap");const Goe=H9,q9=new Ap("auth","Firebase",H9()),W9e={CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",NETWORK_REQUEST_FAILED:"auth/network-request-failed"};const Y_=new my("@firebase/auth");function Koe(t,...e){Y_.logLevel<=It.WARN&&Y_.warn(`Auth (${ec}): ${t}`,...e)}o(Koe,"_logWarn");function Xb(t,...e){Y_.logLevel<=It.ERROR&&Y_.error(`Auth (${ec}): ${t}`,...e)}o(Xb,"_logError");function Pi(t,...e){throw m3(t,...e)}o(Pi,"_fail");function lo(t,...e){return m3(t,...e)}o(lo,"_createError");function p3(t,e,n){const r=Object.assign(Object.assign({},Goe()),{[e]:n});return new Ap("auth","Firebase",r).create(e,{appName:t.name})}o(p3,"_errorWithCustomMessage");function cl(t){return p3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}o(cl,"_serverAppCurrentUserOperationNotSupportedError");function Yoe(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Pi(t,"argument-error"),p3(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}o(Yoe,"_assertInstanceOf");function m3(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return q9.create(t,...e)}o(m3,"createErrorInternal");function He(t,e,...n){if(!t)throw m3(e,...n)}o(He,"_assert");function sl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xb(e),new Error(e)}o(sl,"debugFail");function bl(t,e){t||sl(e)}o(bl,"debugAssert");function qk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}o(qk,"_getCurrentUrl");function Xoe(){return L4()==="http:"||L4()==="https:"}o(Xoe,"_isHttpOrHttps");function L4(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}o(L4,"_getCurrentScheme");function Joe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Xoe()||Wne()||"connection"in navigator)?navigator.onLine:!0}o(Joe,"_isOnline");function Zoe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}o(Zoe,"_getUserLanguage");class _y{static{o(this,"Delay")}constructor(e,n){this.shortDelay=e,this.longDelay=n,bl(n>e,"Short delay should be less than long delay!"),this.isMobile=WI()||iU()}get(){return Joe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function g3(t,e){bl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}o(g3,"_emulatorUrl");class G9{static{o(this,"FetchProvider")}static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qoe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const eae=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tae=new _y(3e4,6e4);function Ol(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}o(Ol,"_addTidIfNecessary");async function ka(t,e,n,r,s={}){return K9(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const l=Cp(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},i);return jne()||(c.referrerPolicy="no-referrer"),G9.fetch()(await Y9(t,t.config.apiHost,n,l),c)})}o(ka,"_performApiRequest");async function K9(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Qoe),e);try{const s=new rae(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw H1(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw H1(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw H1(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw H1(t,"user-disabled",a);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw p3(t,f,c);Pi(t,f)}}catch(s){if(s instanceof Ta)throw s;Pi(t,"network-request-failed",{message:String(s)})}}o(K9,"_performFetchWithErrorHandling");async function wy(t,e,n,r,s={}){const i=await ka(t,e,n,r,s);return"mfaPendingCredential"in i&&Pi(t,"multi-factor-auth-required",{_serverResponse:i}),i}o(wy,"_performSignInRequest");async function Y9(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?g3(t.config,s):`${t.config.apiScheme}://${s}`;return eae.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}o(Y9,"_getFinalTarget");function nae(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}o(nae,"_parseEnforcementState");class rae{static{o(this,"NetworkTimeout")}clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lo(this.auth,"network-request-failed")),tae.get())})}}function H1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=lo(t,e,r);return s.customData._tokenResponse=n,s}o(H1,"_makeTaggedError");function F4(t){return t!==void 0&&t.enterprise!==void 0}o(F4,"isEnterprise");class sae{static{o(this,"RecaptchaConfig")}constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nae(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iae(t,e){return ka(t,"GET","/v2/recaptchaConfig",Ol(t,e))}o(iae,"getRecaptchaConfig");async function oae(t,e){return ka(t,"POST","/v1/accounts:delete",e)}o(oae,"deleteAccount");async function X_(t,e){return ka(t,"POST","/v1/accounts:lookup",e)}o(X_,"getAccountInfo");function _g(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}o(_g,"utcTimestampToDateString");async function aae(t,e=!1){const n=Bi(t),r=await n.getIdToken(e),s=y3(r);He(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i?.sign_in_provider;return{claims:s,token:r,authTime:_g(C2(s.auth_time)),issuedAtTime:_g(C2(s.iat)),expirationTime:_g(C2(s.exp)),signInProvider:a||null,signInSecondFactor:i?.sign_in_second_factor||null}}o(aae,"getIdTokenResult");function C2(t){return Number(t)*1e3}o(C2,"secondsStringToMilliseconds");function y3(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xb("JWT malformed, contained fewer than 3 sections"),null;try{const s=M_(n);return s?JSON.parse(s):(Xb("Failed to decode base64 JWT payload"),null)}catch(s){return Xb("Caught error parsing JWT payload as JSON",s?.toString()),null}}o(y3,"_parseToken");function B4(t){const e=y3(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}o(B4,"_tokenExpiresIn");async function jd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ta&&lae(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}o(jd,"_logoutIfInvalidated");function lae({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}o(lae,"isUserInvalidated");class uae{static{o(this,"ProactiveRefresh")}constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gk{static{o(this,"UserMetadata")}constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_g(this.lastLoginAt),this.creationTime=_g(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function J_(t){var e;const n=t.auth,r=await t.getIdToken(),s=await jd(t,X_(n,{idToken:r}));He(s?.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?X9(i.providerUserInfo):[],l=fae(t.providerData,a),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!l?.length,f=u?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Gk(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}o(J_,"_reloadWithoutSaving");async function cae(t){const e=Bi(t);await J_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}o(cae,"reload");function fae(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}o(fae,"mergeProviderData");function X9(t){return t.map(e=>{var{providerId:n}=e,r=d3(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}o(X9,"extractProviderData");async function hae(t,e){const n=await K9(t,{},async()=>{const r=Cp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await Y9(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",G9.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}o(hae,"requestStsToken");async function dae(t,e){return ka(t,"POST","/v2/accounts:revokeToken",Ol(t,e))}o(dae,"revokeToken");class bd{static{o(this,"StsTokenManager")}constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=B4(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await hae(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new bd;return r&&(He(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(He(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(He(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bd,this.toJSON())}_performRefresh(){return sl("not implemented")}}function jl(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}o(jl,"assertStringOrUndefined");class Qi{static{o(this,"UserImpl")}constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=d3(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Gk(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await jd(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aae(this,e)}reload(){return cae(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await J_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(as(this.auth.app))return Promise.reject(cl(this.auth));const e=await this.getIdToken();return await jd(this,oae(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,l,u,c,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(a=n.photoURL)!==null&&a!==void 0?a:void 0,y=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,S=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:v,emailVerified:k,isAnonymous:C,providerData:I,stsTokenManager:x}=n;He(v&&x,e,"internal-error");const E=bd.fromJSON(this.name,x);He(typeof v=="string",e,"internal-error"),jl(h,e.name),jl(d,e.name),He(typeof k=="boolean",e,"internal-error"),He(typeof C=="boolean",e,"internal-error"),jl(p,e.name),jl(m,e.name),jl(y,e.name),jl(b,e.name),jl(_,e.name),jl(S,e.name);const T=new Qi({uid:v,auth:e,email:d,emailVerified:k,displayName:h,isAnonymous:C,photoURL:m,phoneNumber:p,tenantId:y,stsTokenManager:E,createdAt:_,lastLoginAt:S});return I&&Array.isArray(I)&&(T.providerData=I.map(O=>Object.assign({},O))),b&&(T._redirectEventId=b),T}static async _fromIdTokenResponse(e,n,r=!1){const s=new bd;s.updateFromServerResponse(n);const i=new Qi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await J_(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];He(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?X9(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!i?.length,l=new bd;l.updateFromIdToken(r);const u=new Qi({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Gk(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!i?.length};return Object.assign(u,c),u}}const U4=new Map;function il(t){bl(t instanceof Function,"Expected a class definition");let e=U4.get(t);return e?(bl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,U4.set(t,e),e)}o(il,"_getInstance");class J9{static{o(this,"InMemoryPersistence")}constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}J9.type="NONE";const z4=J9;function Jb(t,e,n){return`firebase:${t}:${e}:${n}`}o(Jb,"_persistenceKeyName");class _d{static{o(this,"PersistenceUserManager")}constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Jb(this.userKey,s.apiKey,i),this.fullPersistenceKey=Jb("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await X_(this.auth,{idToken:e}).catch(()=>{});return n?Qi._fromGetAccountInfoResponse(this.auth,n,e):null}return Qi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _d(il(z4),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||il(z4);const a=Jb(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const f=await c._get(a);if(f){let h;if(typeof f=="string"){const d=await X_(e,{idToken:f}).catch(()=>{});if(!d)break;h=await Qi._fromGetAccountInfoResponse(e,d,f)}else h=Qi._fromJSON(e,f);c!==i&&(l=h),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new _d(i,e,r):(i=u[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(a)}catch{}})),new _d(i,e,r))}}function V4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rz(e))return"Blackberry";if(sz(e))return"Webos";if(Q9(e))return"Safari";if((e.includes("chrome/")||ez(e))&&!e.includes("edge/"))return"Chrome";if(nz(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}o(V4,"_getBrowserName");function Z9(t=ms()){return/firefox\//i.test(t)}o(Z9,"_isFirefox");function Q9(t=ms()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}o(Q9,"_isSafari");function ez(t=ms()){return/crios\//i.test(t)}o(ez,"_isChromeIOS");function tz(t=ms()){return/iemobile/i.test(t)}o(tz,"_isIEMobile");function nz(t=ms()){return/android/i.test(t)}o(nz,"_isAndroid");function rz(t=ms()){return/blackberry/i.test(t)}o(rz,"_isBlackBerry");function sz(t=ms()){return/webos/i.test(t)}o(sz,"_isWebOS");function b3(t=ms()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}o(b3,"_isIOS");function pae(t=ms()){var e;return b3(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}o(pae,"_isIOSStandalone");function mae(){return Hne()&&document.documentMode===10}o(mae,"_isIE10");function iz(t=ms()){return b3(t)||nz(t)||sz(t)||rz(t)||/windows phone/i.test(t)||tz(t)}o(iz,"_isMobileBrowser");function oz(t,e=[]){let n;switch(t){case"Browser":n=V4(ms());break;case"Worker":n=`${V4(ms())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ec}/${r}`}o(oz,"_getClientVersion");class gae{static{o(this,"AuthMiddlewareQueue")}constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o(i=>new Promise((a,l)=>{try{const u=e(i);a(u)}catch(u){l(u)}}),"wrappedCallback");r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function yae(t,e={}){return ka(t,"GET","/v2/passwordPolicy",Ol(t,e))}o(yae,"_getPasswordPolicy");const bae=6;class _ae{static{o(this,"PasswordPolicyImpl")}constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:bae,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class wae{static{o(this,"AuthImpl")}constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j4(this),this.idTokenSubscription=new j4(this),this.beforeStateQueue=new gae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=il(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await _d.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await X_(this,{idToken:e}),r=await Qi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(as(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s?._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&u?.user&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await J_(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Zoe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(as(this.app))return Promise.reject(cl(this));const n=e?Bi(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return as(this.app)?Promise.reject(cl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return as(this.app)?Promise.reject(cl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(il(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yae(this),n=new _ae(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ap("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dae(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&il(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await _d.create(this,[il(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(as(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&Koe(`Error while retrieving App Check token: ${n.error}`),n?.token}}function sc(t){return Bi(t)}o(sc,"_castAuth");class j4{static{o(this,"Subscription")}constructor(e){this.auth=e,this.observer=null,this.addObserver=ere(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let EE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vae(t){EE=t}o(vae,"_setExternalJSProvider");function az(t){return EE.loadJS(t)}o(az,"_loadJS");function Eae(){return EE.recaptchaEnterpriseScript}o(Eae,"_recaptchaEnterpriseScriptUrl");function xae(){return EE.gapiScript}o(xae,"_gapiScriptUrl");function Sae(t){return`__${t}${Math.floor(Math.random()*1e6)}`}o(Sae,"_generateCallbackName");class Tae{static{o(this,"MockGreCAPTCHATopLevel")}constructor(){this.enterprise=new kae}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class kae{static{o(this,"MockGreCAPTCHA")}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Aae="recaptcha-enterprise",lz="NO_RECAPTCHA";class Cae{static{o(this,"RecaptchaEnterpriseVerifier")}constructor(e){this.type=Aae,this.auth=sc(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{iae(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new sae(u);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,a(c.siteKey)}}).catch(u=>{l(u)})})}o(r,"retrieveSiteKey");function s(i,a,l){const u=window.grecaptcha;F4(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(c=>{a(c)}).catch(()=>{a(lz)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return o(s,"retrieveRecaptchaToken"),this.auth.settings.appVerificationDisabledForTesting?new Tae().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(l=>{if(!n&&F4(window.grecaptcha))s(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Eae();u.length!==0&&(u+=l),az(u).then(()=>{s(l,i,a)}).catch(c=>{a(c)})}}).catch(l=>{a(l)})})}}async function W4(t,e,n,r=!1,s=!1){const i=new Cae(t);let a;if(s)a=lz;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}o(W4,"injectRecaptchaFields");async function Z_(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await W4(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){`${n}`;const l=await W4(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}o(Z_,"handleRecaptchaFlow");function H9e(t,e){const n=tse(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(P_(i,e??{}))return s;Pi(s,"already-initialized")}return n.initialize({options:e})}o(H9e,"initializeAuth");function Iae(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(il);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}o(Iae,"_initializeAuthInstance");class _3{static{o(this,"AuthCredential")}constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sl("not implemented")}_getIdTokenResponse(e){return sl("not implemented")}_linkToIdToken(e,n){return sl("not implemented")}_getReauthenticationResolver(e){return sl("not implemented")}}async function Rae(t,e){return ka(t,"POST","/v1/accounts:update",e)}o(Rae,"updateEmailPassword");async function Oae(t,e){return ka(t,"POST","/v1/accounts:signUp",e)}o(Oae,"linkEmailPassword");async function Nae(t,e){return wy(t,"POST","/v1/accounts:signInWithPassword",Ol(t,e))}o(Nae,"signInWithPassword");async function Mae(t,e){return ka(t,"POST","/v1/accounts:sendOobCode",Ol(t,e))}o(Mae,"sendOobCode");async function Dae(t,e){return Mae(t,e)}o(Dae,"sendPasswordResetEmail$1");async function Pae(t,e){return wy(t,"POST","/v1/accounts:signInWithEmailLink",Ol(t,e))}o(Pae,"signInWithEmailLink$1");async function $ae(t,e){return wy(t,"POST","/v1/accounts:signInWithEmailLink",Ol(t,e))}o($ae,"signInWithEmailLinkForLinking");class f0 extends _3{static{o(this,"EmailAuthCredential")}constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new f0(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new f0(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Z_(e,n,"signInWithPassword",Nae);case"emailLink":return Pae(e,{email:this._email,oobCode:this._password});default:Pi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Z_(e,r,"signUpPassword",Oae);case"emailLink":return $ae(e,{idToken:n,email:this._email,oobCode:this._password});default:Pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function wd(t,e){return wy(t,"POST","/v1/accounts:signInWithIdp",Ol(t,e))}o(wd,"signInWithIdp");const Lae="http://localhost";class _f extends _3{static{o(this,"OAuthCredential")}constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _f(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=d3(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new _f(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return wd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wd(e,n)}buildRequest(){const e={requestUri:Lae,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cp(n)}return e}}function Fae(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}o(Fae,"parseMode");function Bae(t){const e=Gm(Km(t)).link,n=e?Gm(Km(e)).deep_link_id:null,r=Gm(Km(t)).deep_link_id;return(r?Gm(Km(r)).link:null)||r||n||e||t}o(Bae,"parseDeepLink");class w3{static{o(this,"ActionCodeURL")}constructor(e){var n,r,s,i,a,l;const u=Gm(Km(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,h=Fae((s=u.mode)!==null&&s!==void 0?s:null);He(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Bae(e);try{return new w3(n)}catch{return null}}}class Op{static{o(this,"EmailAuthProvider")}constructor(){this.providerId=Op.PROVIDER_ID}static credential(e,n){return f0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=w3.parseLink(n);return He(r,"argument-error"),f0._fromEmailAndCode(e,r.code,r.tenantId)}}Op.PROVIDER_ID="password";Op.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Op.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class v3{static{o(this,"FederatedAuthProvider")}constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vy extends v3{static{o(this,"BaseOAuthProvider")}constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ou extends vy{static{o(this,"FacebookAuthProvider")}constructor(){super("facebook.com")}static credential(e){return _f._fromParams({providerId:ou.PROVIDER_ID,signInMethod:ou.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ou.credentialFromTaggedObject(e)}static credentialFromError(e){return ou.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ou.credential(e.oauthAccessToken)}catch{return null}}}ou.FACEBOOK_SIGN_IN_METHOD="facebook.com";ou.PROVIDER_ID="facebook.com";class au extends vy{static{o(this,"GoogleAuthProvider")}constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _f._fromParams({providerId:au.PROVIDER_ID,signInMethod:au.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return au.credentialFromTaggedObject(e)}static credentialFromError(e){return au.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return au.credential(n,r)}catch{return null}}}au.GOOGLE_SIGN_IN_METHOD="google.com";au.PROVIDER_ID="google.com";class lu extends vy{static{o(this,"GithubAuthProvider")}constructor(){super("github.com")}static credential(e){return _f._fromParams({providerId:lu.PROVIDER_ID,signInMethod:lu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lu.credentialFromTaggedObject(e)}static credentialFromError(e){return lu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lu.credential(e.oauthAccessToken)}catch{return null}}}lu.GITHUB_SIGN_IN_METHOD="github.com";lu.PROVIDER_ID="github.com";class uu extends vy{static{o(this,"TwitterAuthProvider")}constructor(){super("twitter.com")}static credential(e,n){return _f._fromParams({providerId:uu.PROVIDER_ID,signInMethod:uu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return uu.credentialFromTaggedObject(e)}static credentialFromError(e){return uu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return uu.credential(n,r)}catch{return null}}}uu.TWITTER_SIGN_IN_METHOD="twitter.com";uu.PROVIDER_ID="twitter.com";async function Uae(t,e){return wy(t,"POST","/v1/accounts:signUp",Ol(t,e))}o(Uae,"signUp");class wf{static{o(this,"UserCredentialImpl")}constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Qi._fromIdTokenResponse(e,r,s),a=H4(r);return new wf({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=H4(r);return new wf({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function H4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}o(H4,"providerIdForResponse");class Q_ extends Ta{static{o(this,"MultiFactorError")}constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Q_.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Q_(e,n,r,s)}}function uz(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Q_._fromErrorAndOperation(t,i,e,r):i})}o(uz,"_processCredentialSavingMfaContextIfNecessary");async function zae(t,e,n=!1){const r=await jd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wf._forOperation(t,"link",r)}o(zae,"_link$1");async function Vae(t,e,n=!1){const{auth:r}=t;if(as(r.app))return Promise.reject(cl(r));const s="reauthenticate";try{const i=await jd(t,uz(r,s,e,t),n);He(i.idToken,r,"internal-error");const a=y3(i.idToken);He(a,r,"internal-error");const{sub:l}=a;return He(t.uid===l,r,"user-mismatch"),wf._forOperation(t,s,i)}catch(i){throw i?.code==="auth/user-not-found"&&Pi(r,"user-mismatch"),i}}o(Vae,"_reauthenticate");async function cz(t,e,n=!1){if(as(t.app))return Promise.reject(cl(t));const r="signIn",s=await uz(t,r,e),i=await wf._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}o(cz,"_signInWithCredential");async function jae(t,e){return cz(sc(t),e)}o(jae,"signInWithCredential");async function fz(t){const e=sc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}o(fz,"recachePasswordPolicy");async function q9e(t,e,n){const r=sc(t);await Z_(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Dae)}o(q9e,"sendPasswordResetEmail");async function G9e(t,e,n){if(as(t.app))return Promise.reject(cl(t));const r=sc(t),a=await Z_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Uae).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&fz(t),u}),l=await wf._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}o(G9e,"createUserWithEmailAndPassword");function K9e(t,e,n){return as(t.app)?Promise.reject(cl(t)):jae(Bi(t),Op.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fz(t),r})}o(K9e,"signInWithEmailAndPassword");function Y9e(t,e){return Wae(Bi(t),null,e)}o(Y9e,"updatePassword");async function Wae(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const a=await jd(t,Rae(r,i));await t._updateTokensIfNecessary(a,!0)}o(Wae,"updateEmailOrPassword");function X9e(t,e){return Bi(t).setPersistence(e)}o(X9e,"setPersistence");function J9e(t,e,n,r){return Bi(t).onIdTokenChanged(e,n,r)}o(J9e,"onIdTokenChanged");function Z9e(t,e,n,r){return Bi(t).onAuthStateChanged(e,n,r)}o(Z9e,"onAuthStateChanged");function Q9e(t){return Bi(t).signOut()}o(Q9e,"signOut");async function eze(t){return Bi(t).delete()}o(eze,"deleteUser");const ew="__sak";class hz{static{o(this,"BrowserPersistenceClass")}constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ew,"1"),this.storage.removeItem(ew),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Hae=1e3,qae=10;class dz extends hz{static{o(this,"BrowserLocalPersistence")}constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=o(()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},"triggerListeners"),i=this.storage.getItem(r);mae()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,qae):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Hae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dz.type="LOCAL";const tze=dz;class pz extends hz{static{o(this,"BrowserSessionPersistence")}constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pz.type="SESSION";const Gae=pz;function Kae(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}o(Kae,"_allSettled");class xE{static{o(this,"Receiver")}constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new xE(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(a).map(async c=>c(n.origin,i)),u=await Kae(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xE.receivers=[];function E3(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}o(E3,"_generateEventId");class Yae{static{o(this,"Sender")}constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((l,u)=>{const c=E3("",20);s.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(d.data.response);break;default:clearTimeout(f),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function oa(){return window}o(oa,"_window");function Xae(t){oa().location.href=t}o(Xae,"_setWindowLocation");function mz(){return typeof oa().WorkerGlobalScope<"u"&&typeof oa().importScripts=="function"}o(mz,"_isWorker");async function Jae(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}o(Jae,"_getActiveServiceWorker");function Zae(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}o(Zae,"_getServiceWorkerController");function Qae(){return mz()?self:null}o(Qae,"_getWorkerGlobalScope");const gz="firebaseLocalStorageDb",ele=1,tw="firebaseLocalStorage",yz="fbase_key";class Ey{static{o(this,"DBPromise")}constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function SE(t,e){return t.transaction([tw],e?"readwrite":"readonly").objectStore(tw)}o(SE,"getObjectStore");function tle(){const t=indexedDB.deleteDatabase(gz);return new Ey(t).toPromise()}o(tle,"_deleteDatabase");function Kk(){const t=indexedDB.open(gz,ele);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(tw,{keyPath:yz})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(tw)?e(r):(r.close(),await tle(),e(await Kk()))})})}o(Kk,"_openDatabase");async function q4(t,e,n){const r=SE(t,!0).put({[yz]:e,value:n});return new Ey(r).toPromise()}o(q4,"_putObject");async function nle(t,e){const n=SE(t,!1).get(e),r=await new Ey(n).toPromise();return r===void 0?null:r.value}o(nle,"getObject");function G4(t,e){const n=SE(t,!0).delete(e);return new Ey(n).toPromise()}o(G4,"_deleteObject");const rle=800,sle=3;class bz{static{o(this,"IndexedDBLocalPersistence")}constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kk(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>sle)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xE._getInstance(Qae()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Jae(),!this.activeServiceWorker)return;this.sender=new Yae(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Zae()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kk();return await q4(e,ew,"1"),await G4(e,ew),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>q4(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nle(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>G4(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=SE(s,!1).getAll();return new Ey(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rle)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bz.type="LOCAL";const nze=bz;new _y(3e4,6e4);function _z(t,e){return e?il(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}o(_z,"_withDefaultResolver");class x3 extends _3{static{o(this,"IdpCredential")}constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ile(t){return cz(t.auth,new x3(t),t.bypassAuthState)}o(ile,"_signIn");function ole(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),Vae(n,new x3(t),t.bypassAuthState)}o(ole,"_reauth");async function ale(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),zae(n,new x3(t),t.bypassAuthState)}o(ale,"_link");class wz{static{o(this,"AbstractPopupRedirectOperation")}constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ile;case"linkViaPopup":case"linkViaRedirect":return ale;case"reauthViaPopup":case"reauthViaRedirect":return ole;default:Pi(this.auth,"internal-error")}}resolve(e){bl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lle=new _y(2e3,1e4);async function rze(t,e,n){if(as(t.app))return Promise.reject(lo(t,"operation-not-supported-in-this-environment"));const r=sc(t);Yoe(t,e,v3);const s=_z(r,n);return new Vc(r,"signInViaPopup",e,s).executeNotNull()}o(rze,"signInWithPopup");class Vc extends wz{static{o(this,"PopupOperation")}constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Vc.currentPopupAction&&Vc.currentPopupAction.cancel(),Vc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){bl(this.filter.length===1,"Popup operations only handle one event");const e=E3();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vc.currentPopupAction=null}pollUserCancellation(){const e=o(()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lle.get())},"poll");e()}}Vc.currentPopupAction=null;const ule="pendingRedirect",Zb=new Map;class cle extends wz{static{o(this,"RedirectAction")}constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zb.get(this.auth._key());if(!e){try{const r=await fle(this.resolver,this.auth)?await super.execute():null;e=o(()=>Promise.resolve(r),"readyOutcome")}catch(n){e=o(()=>Promise.reject(n),"readyOutcome")}Zb.set(this.auth._key(),e)}return this.bypassAuthState||Zb.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fle(t,e){const n=ple(e),r=dle(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}o(fle,"_getAndClearPendingRedirectStatus");function hle(t,e){Zb.set(t._key(),e)}o(hle,"_overrideRedirectResult");function dle(t){return il(t._redirectPersistence)}o(dle,"resolverPersistence");function ple(t){return Jb(ule,t.config.apiKey,t.name)}o(ple,"pendingRedirectKey");async function mle(t,e,n=!1){if(as(t.app))return Promise.reject(cl(t));const r=sc(t),s=_z(r,e),a=await new cle(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}o(mle,"_getRedirectResult");const gle=600*1e3;class yle{static{o(this,"AuthEventManager")}constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ble(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vz(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(lo(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gle&&this.cachedEventUids.clear(),this.cachedEventUids.has(K4(e))}saveEventToCache(e){this.cachedEventUids.add(K4(e)),this.lastProcessedEventTime=Date.now()}}function K4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}o(K4,"eventUid");function vz({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}o(vz,"isNullRedirectEvent");function ble(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vz(t);default:return!1}}o(ble,"isRedirectEvent");async function _le(t,e={}){return ka(t,"GET","/v1/projects",e)}o(_le,"_getProjectConfig");const wle=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vle=/^https?/;async function Ele(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _le(t);for(const n of e)try{if(xle(n))return}catch{}Pi(t,"unauthorized-domain")}o(Ele,"_validateOrigin");function xle(t){const e=qk(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!vle.test(n))return!1;if(wle.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}o(xle,"matchDomain");const Sle=new _y(3e4,6e4);function Y4(){const t=oa().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}o(Y4,"resetUnloadedGapiModules");function Tle(t){return new Promise((e,n)=>{var r,s,i;function a(){Y4(),gapi.load("gapi.iframes",{callback:o(()=>{e(gapi.iframes.getContext())},"callback"),ontimeout:o(()=>{Y4(),n(lo(t,"network-request-failed"))},"ontimeout"),timeout:Sle.get()})}if(o(a,"loadGapiIframe"),!((s=(r=oa().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=oa().gapi)===null||i===void 0)&&i.load)a();else{const l=Sae("iframefcb");return oa()[l]=()=>{gapi.load?a():n(lo(t,"network-request-failed"))},az(`${xae()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Qb=null,e})}o(Tle,"loadGapi");let Qb=null;function kle(t){return Qb=Qb||Tle(t),Qb}o(kle,"_loadGapi");const Ale=new _y(5e3,15e3),Cle="__/auth/iframe",Ile="emulator/auth/iframe",Rle={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ole=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nle(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?g3(e,Ile):`https://${t.config.authDomain}/${Cle}`,r={apiKey:e.apiKey,appName:t.name,v:ec},s=Ole.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Cp(r).slice(1)}`}o(Nle,"getIframeUrl");async function Mle(t){const e=await kle(t),n=oa().gapi;return He(n,t,"internal-error"),e.open({where:document.body,url:Nle(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rle,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=lo(t,"network-request-failed"),l=oa().setTimeout(()=>{i(a)},Ale.get());function u(){oa().clearTimeout(l),s(r)}o(u,"clearTimerAndResolve"),r.ping(u).then(u,()=>{i(a)})}))}o(Mle,"_openIframe");const Dle={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ple=500,$le=600,Lle="_blank",Fle="http://localhost";class X4{static{o(this,"AuthPopup")}constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ble(t,e,n,r=Ple,s=$le){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},Dle),{width:r.toString(),height:s.toString(),top:i,left:a}),c=ms().toLowerCase();n&&(l=ez(c)?Lle:n),Z9(c)&&(e=e||Fle,u.scrollbars="yes");const f=Object.entries(u).reduce((d,[p,m])=>`${d}${p}=${m},`,"");if(pae(c)&&l!=="_self")return Ule(e||"",l),new X4(null);const h=window.open(e||"",l,f);He(h,t,"popup-blocked");try{h.focus()}catch{}return new X4(h)}o(Ble,"_open");function Ule(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}o(Ule,"openAsNewWindowIOS");const zle="__/auth/handler",Vle="emulator/auth/handler",jle=encodeURIComponent("fac");async function J4(t,e,n,r,s,i){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ec,eventId:s};if(e instanceof v3){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Sk(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))a[f]=h}if(e instanceof vy){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),c=u?`#${jle}=${encodeURIComponent(u)}`:"";return`${Wle(t)}?${Cp(l).slice(1)}${c}`}o(J4,"_getRedirectUrl");function Wle({config:t}){return t.emulator?g3(t,Vle):`https://${t.authDomain}/${zle}`}o(Wle,"getHandlerBase");const I2="webStorageSupport";class Hle{static{o(this,"BrowserPopupRedirectResolver")}constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gae,this._completeRedirectFn=mle,this._overrideRedirectResult=hle}async _openPopup(e,n,r,s){var i;bl((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await J4(e,n,r,qk(),s);return Ble(e,a,E3())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await J4(e,n,r,qk(),s);return Xae(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(bl(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Mle(e),r=new yle(e);return n.register("authEvent",s=>(He(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(I2,{type:I2},s=>{var i;const a=(i=s?.[0])===null||i===void 0?void 0:i[I2];a!==void 0&&n(!!a),Pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ele(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iz()||Q9()||b3()}}const sze=Hle;var Z4="@firebase/auth",Q4="1.10.0";class qle{static{o(this,"AuthInterop")}constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Gle(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}o(Gle,"getVersionForPlatform");function Kle(t){ca(new yo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;He(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oz(t)},c=new wae(r,s,i,u);return Iae(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ca(new yo("auth-internal",e=>{const n=sc(e.getProvider("auth").getImmediate());return(r=>new qle(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qs(Z4,Q4,Gle(t)),Qs(Z4,Q4,"esm2017")}o(Kle,"registerAuth");const Yle=300;Vne("authIdTokenMaxAge");function Xle(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}o(Xle,"getScriptParentElement");vae({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=lo("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Xle().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kle("Browser");const Jle=new Map,Zle={activated:!1,tokenObservers:[]};function _o(t){return Jle.get(t)||Object.assign({},Zle)}o(_o,"getStateReference");const eP={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3};class Qle{static{o(this,"Refresher")}constructor(e,n,r,s,i){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=s,s>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new n0,this.pending.promise.catch(n=>{}),await eue(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new n0,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function eue(t){return new Promise(e=>{setTimeout(e,t)})}o(eue,"sleep");const tue={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},nw=new Ap("appCheck","AppCheck",tue);function Ez(t){if(!_o(t).activated)throw nw.create("use-before-activation",{appName:t.name})}o(Ez,"ensureActivated");const nue="firebase-app-check-database",rue=1,Yk="firebase-app-check-store";let q1=null;function sue(){return q1||(q1=new Promise((t,e)=>{try{const n=indexedDB.open(nue,rue);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var s;e(nw.create("storage-open",{originalErrorMessage:(s=r.target.error)===null||s===void 0?void 0:s.message}))},n.onupgradeneeded=r=>{const s=r.target.result;switch(r.oldVersion){case 0:s.createObjectStore(Yk,{keyPath:"compositeKey"})}}}catch(n){e(nw.create("storage-open",{originalErrorMessage:n?.message}))}}),q1)}o(sue,"getDBPromise");function iue(t,e){return oue(aue(t),e)}o(iue,"writeTokenToIndexedDB");async function oue(t,e){const r=(await sue()).transaction(Yk,"readwrite"),i=r.objectStore(Yk).put({compositeKey:t,value:e});return new Promise((a,l)=>{i.onsuccess=u=>{a()},r.onerror=u=>{var c;l(nw.create("storage-set",{originalErrorMessage:(c=u.target.error)===null||c===void 0?void 0:c.message}))}})}o(oue,"write$1");function aue(t){return`${t.options.appId}-${t.name}`}o(aue,"computeKey");const Xk=new my("@firebase/app-check");function tP(t,e){return oU()?iue(t,e).catch(n=>{Xk.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}o(tP,"writeTokenToStorage");const lue={error:"UNKNOWN_ERROR"};function uue(t){return iE.encodeString(JSON.stringify(t),!1)}o(uue,"formatDummyToken");async function Jk(t,e=!1,n=!1){const r=t.app;Ez(r);const s=_o(r);let i=s.token,a;if(i&&!Xm(i)&&(s.token=void 0,i=void 0),!i){const c=await s.cachedTokenPromise;c&&(Xm(c)?i=c:await tP(r,void 0))}if(!e&&i&&Xm(i))return{token:i.token};let l=!1;try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),l=!0),i=await _o(r).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?Xk.warn(c.message):n&&Xk.error(c),a=c}let u;return i?a?Xm(i)?u={token:i.token,internalError:a}:u=rP(a):(u={token:i.token},s.token=i,await tP(r,i)):u=rP(a),l&&due(r,u),u}o(Jk,"getToken$2");async function cue(t){const e=t.app;Ez(e);const{provider:n}=_o(e);{const{token:r}=await n.getToken();return{token:r}}}o(cue,"getLimitedUseToken$1");function fue(t,e,n,r){const{app:s}=t,i=_o(s),a={next:n,error:r,type:e};if(i.tokenObservers=[...i.tokenObservers,a],i.token&&Xm(i.token)){const l=i.token;Promise.resolve().then(()=>{n({token:l.token}),nP(t)}).catch(()=>{})}i.cachedTokenPromise.then(()=>nP(t))}o(fue,"addTokenListener");function xz(t,e){const n=_o(t),r=n.tokenObservers.filter(s=>s.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}o(xz,"removeTokenListener");function nP(t){const{app:e}=t,n=_o(e);let r=n.tokenRefresher;r||(r=hue(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}o(nP,"initTokenRefresher");function hue(t){const{app:e}=t;return new Qle(async()=>{const n=_o(e);let r;if(n.token?r=await Jk(t,!0):r=await Jk(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=_o(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const s=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,s),Math.max(0,r-Date.now())}else return 0},eP.RETRIAL_MIN_WAIT,eP.RETRIAL_MAX_WAIT)}o(hue,"createTokenRefresher");function due(t,e){const n=_o(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}o(due,"notifyTokenListeners");function Xm(t){return t.expireTimeMillis-Date.now()>0}o(Xm,"isValid$1");function rP(t){return{token:uue(lue),error:t}}o(rP,"makeDummyTokenResult");class pue{static{o(this,"AppCheckService")}constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=_o(this.app);for(const n of e)xz(this.app,n.next);return Promise.resolve()}}function mue(t,e){return new pue(t,e)}o(mue,"factory$2");function gue(t){return{getToken:o(e=>Jk(t,e),"getToken"),getLimitedUseToken:o(()=>cue(t),"getLimitedUseToken"),addTokenListener:o(e=>fue(t,"INTERNAL",e),"addTokenListener"),removeTokenListener:o(e=>xz(t.app,e),"removeTokenListener")}}o(gue,"internalFactory");const yue="@firebase/app-check",bue="0.8.13",_ue="app-check",sP="app-check-internal";function wue(){ca(new yo(_ue,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return mue(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(sP).initialize()})),ca(new yo(sP,t=>{const e=t.getProvider("app-check").getImmediate();return gue(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Qs(yue,bue)}o(wue,"registerAppCheck");wue();var iP={};const oP="@firebase/database",aP="1.0.14";let Sz="";function vue(t){Sz=t}o(vue,"setSDKVersion");class Eue{static{o(this,"DOMStorageWrapper")}constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Er(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:r0(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class xue{static{o(this,"MemoryStorage")}constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return kl(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Tz=o(function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Eue(e)}}catch{}return new xue},"createStoragefor"),jc=Tz("localStorage"),Sue=Tz("sessionStorage");const vd=new my("@firebase/database"),Tue=(function(){let t=1;return function(){return t++}})(),kz=o(function(t){const e=sre(t),n=new Qne;n.update(e);const r=n.digest();return iE.encodeByteArray(r)},"sha1"),xy=o(function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=xy.apply(null,r):typeof r=="object"?e+=Er(r):e+=r,e+=" "}return e},"buildLogMessage_");let wg=null,lP=!0;const kue=o(function(t,e){xe(!0,"Can't turn on custom loggers persistently."),vd.logLevel=It.VERBOSE,wg=vd.log.bind(vd)},"enableLogging$1"),Pr=o(function(...t){if(lP===!0&&(lP=!1,wg===null&&Sue.get("logging_enabled")===!0&&kue()),wg){const e=xy.apply(null,t);wg(e)}},"log$1"),Sy=o(function(t){return function(...e){Pr(t,...e)}},"logWrapper"),Zk=o(function(...t){const e="FIREBASE INTERNAL ERROR: "+xy(...t);vd.error(e)},"error$1"),vf=o(function(...t){const e=`FIREBASE FATAL ERROR: ${xy(...t)}`;throw vd.error(e),new Error(e)},"fatal"),ei=o(function(...t){const e="FIREBASE WARNING: "+xy(...t);vd.warn(e)},"warn$3"),Aue=o(function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ei("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},"warnIfPageIsSecure"),Az=o(function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},"isInvalidJSONNumber"),Cue=o(function(t){if(document.readyState==="complete")t();else{let e=!1;const n=o(function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())},"wrappedFn");document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},"executeWhenDOMReady"),Wd="[MIN_NAME]",Ef="[MAX_NAME]",Np=o(function(t,e){if(t===e)return 0;if(t===Wd||e===Ef)return-1;if(e===Wd||t===Ef)return 1;{const n=uP(t),r=uP(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},"nameCompare"),Iue=o(function(t,e){return t===e?0:t<e?-1:1},"stringCompare"),wm=o(function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Er(e))},"requireKey"),S3=o(function(t){if(typeof t!="object"||t===null)return Er(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Er(e[r]),n+=":",n+=S3(t[e[r]]);return n+="}",n},"ObjectToUniqueKey"),Cz=o(function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r},"splitStringBySize");function $i(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}o($i,"each");const Iz=o(function(t){xe(!Az(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,a,l,u;t===0?(i=0,a=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=l+r,a=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(i=0,a=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(u=n;u;u-=1)c.push(a%2?1:0),a=Math.floor(a/2);for(u=e;u;u-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const f=c.join("");let h="";for(u=0;u<64;u+=8){let d=parseInt(f.substr(u,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},"doubleToIEEE754String"),Rue=o(function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},"isChromeExtensionContentScript"),Oue=o(function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},"isWindowsStoreApp"),Nue=new RegExp("^-?(0*)\\d{1,10}$"),Mue=-2147483648,Due=2147483647,uP=o(function(t){if(Nue.test(t)){const e=Number(t);if(e>=Mue&&e<=Due)return e}return null},"tryParseInt"),Ty=o(function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ei("Exception was thrown by user callback.",n),e},Math.floor(0))}},"exceptionGuard"),Pue=o(function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},"beingCrawled"),vg=o(function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n},"setTimeoutNonBlocking");class $ue{static{o(this,"AppCheckTokenProvider")}constructor(e,n){this.appCheckProvider=n,this.appName=e.name,as(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ei(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Lue{static{o(this,"FirebaseAuthTokenProvider")}constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Pr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ei(e)}}const T3="5",Rz="v",Oz="s",Nz="r",Mz="f",Dz=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Pz="ls",$z="p",Qk="ac",Lz="websocket",Fz="long_polling";class Fue{static{o(this,"RepoInfo")}constructor(e,n,r,s,i=!1,a="",l=!1,u=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=u,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=jc.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&jc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Bue(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}o(Bue,"repoInfoNeedsQueryParam");function Bz(t,e,n){xe(typeof e=="string","typeof type must == string"),xe(typeof n=="object","typeof params must == object");let r;if(e===Lz)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Fz)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Bue(t)&&(n.ns=t.namespace);const s=[];return $i(n,(i,a)=>{s.push(i+"="+a)}),r+s.join("&")}o(Bz,"repoInfoConnectionURL");class Uue{static{o(this,"StatsCollection")}constructor(){this.counters_={}}incrementCounter(e,n=1){kl(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return $ne(this.counters_)}}const R2={},O2={};function k3(t){const e=t.toString();return R2[e]||(R2[e]=new Uue),R2[e]}o(k3,"statsManagerGetCollection");function zue(t,e){const n=t.toString();return O2[n]||(O2[n]=e()),O2[n]}o(zue,"statsManagerGetOrCreateReporter");class Vue{static{o(this,"PacketReceiver")}constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Ty(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const cP="start",jue="close",Wue="pLPCommand",Hue="pRTLPCB",Uz="id",zz="pw",Vz="ser",que="cb",Gue="seg",Kue="ts",Yue="d",Xue="dframe",jz=1870,Wz=30,Jue=jz-Wz,Zue=25e3,Que=3e4;class td{static{o(this,"BrowserPollConnection")}constructor(e,n,r,s,i,a,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sy(e),this.stats_=k3(n),this.urlFn=u=>(this.appCheckToken&&(u[Qk]=this.appCheckToken),Bz(n,Fz,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Vue(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Que)),Cue(()=>{if(this.isClosed_)return;this.scriptTagHolder=new A3((...i)=>{const[a,l,u,c,f]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===cP)this.id=l,this.password=u;else if(a===jue)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...i)=>{const[a,l]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(a,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[cP]="t",r[Vz]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[que]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Rz]=T3,this.transportSessionId&&(r[Oz]=this.transportSessionId),this.lastSessionId&&(r[Pz]=this.lastSessionId),this.applicationId&&(r[$z]=this.applicationId),this.appCheckToken&&(r[Qk]=this.appCheckToken),typeof location<"u"&&location.hostname&&Dz.test(location.hostname)&&(r[Nz]=Mz);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){td.forceAllow_=!0}static forceDisallow(){td.forceDisallow_=!0}static isAvailable(){return td.forceAllow_?!0:!td.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Rue()&&!Oue()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Er(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=eU(n),s=Cz(r,Jue);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Xue]="t",r[Uz]=e,r[zz]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Er(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class A3{static{o(this,"FirebaseIFrameScriptHolder")}constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Tue(),window[Wue+this.uniqueCallbackIdentifier]=e,window[Hue+this.uniqueCallbackIdentifier]=n,this.myIFrame=A3.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){Pr("frame writing exception"),l.stack&&Pr(l.stack),Pr(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Pr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Uz]=this.myID,e[zz]=this.myPW,e[Vz]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Wz+r.length<=jz;){const a=this.pendingSegs.shift();r=r+"&"+Gue+s+"="+a.seg+"&"+Kue+s+"="+a.ts+"&"+Yue+s+"="+a.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=o(()=>{this.outstandingRequests.delete(n),this.newRequest_()},"doNewRequest"),s=setTimeout(r,Math.floor(Zue)),i=o(()=>{clearTimeout(s),r()},"readyStateCB");this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Pr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const ece=16384,tce=45e3;let rw=null;typeof MozWebSocket<"u"?rw=MozWebSocket:typeof WebSocket<"u"&&(rw=WebSocket);class Yi{static{o(this,"WebSocketConnection")}constructor(e,n,r,s,i,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sy(this.connId),this.stats_=k3(n),this.connURL=Yi.connectionURL_(n,a,l,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const a={};return a[Rz]=T3,typeof location<"u"&&location.hostname&&Dz.test(location.hostname)&&(a[Nz]=Mz),n&&(a[Oz]=n),r&&(a[Pz]=r),s&&(a[Qk]=s),i&&(a[$z]=i),Bz(e,Lz,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,jc.set("previous_websocket_failure",!0);try{let r;qne(),this.mySock=new rw(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Yi.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&rw!==null&&!Yi.forceDisallow_}static previouslyFailed(){return jc.isInMemoryStorage||jc.get("previous_websocket_failure")===!0}markConnectionHealthy(){jc.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=r0(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(xe(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Er(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Cz(n,ece);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(tce))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Yi.responsesRequiredToBeHealthy=2;Yi.healthyTimeout=3e4;class h0{static{o(this,"TransportManager")}static get ALL_TRANSPORTS(){return[td,Yi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Yi&&Yi.isAvailable();let r=n&&!Yi.previouslyFailed();if(e.webSocketOnly&&(n||ei("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Yi];else{const s=this.transports_=[];for(const i of h0.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);h0.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}h0.globalTransportInitialized_=!1;const nce=6e4,rce=5e3,sce=10*1024,ice=100*1024,N2="t",fP="d",oce="s",hP="r",ace="e",dP="o",pP="a",mP="n",gP="p",lce="h";class uce{static{o(this,"Connection")}constructor(e,n,r,s,i,a,l,u,c,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sy("c:"+this.id+":"),this.transportManager_=new h0(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=vg(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ice?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>sce?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(N2 in e){const n=e[N2];n===pP?this.upgradeIfSecondaryHealthy_():n===hP?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===dP&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=wm("t",e),r=wm("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:gP,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:pP,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:mP,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=wm("t",e),r=wm("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=wm(N2,e);if(fP in e){const r=e[fP];if(n===lce){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===mP){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===oce?this.onConnectionShutdown_(r):n===hP?this.onReset_(r):n===ace?Zk("Server Error: "+r):n===dP?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zk("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),T3!==r&&ei("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),vg(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(nce))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vg(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(rce))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:gP,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(jc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Hz{static{o(this,"ServerActions")}put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class qz{static{o(this,"EventEmitter")}constructor(e){this.allowedEvents_=e,this.listeners_={},xe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){xe(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class sw extends qz{static{o(this,"OnlineMonitor")}static getInstance(){return new sw}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!WI()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return xe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const yP=32,bP=768;class an{static{o(this,"Path")}constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ft(){return new an("")}o(Ft,"newEmptyPath");function _t(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}o(_t,"pathGetFront");function Pu(t){return t.pieces_.length-t.pieceNum_}o(Pu,"pathGetLength");function sn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new an(t.pieces_,e)}o(sn,"pathPopFront");function Gz(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}o(Gz,"pathGetBack");function cce(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}o(cce,"pathToUrlEncodedString");function Kz(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}o(Kz,"pathSlice");function Yz(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new an(e,0)}o(Yz,"pathParent");function ur(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof an)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new an(n,0)}o(ur,"pathChild");function pt(t){return t.pieceNum_>=t.pieces_.length}o(pt,"pathIsEmpty");function Si(t,e){const n=_t(t),r=_t(e);if(n===null)return e;if(n===r)return Si(sn(t),sn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}o(Si,"newRelativePath");function Xz(t,e){if(Pu(t)!==Pu(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}o(Xz,"pathEquals");function eo(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Pu(t)>Pu(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}o(eo,"pathContains");class fce{static{o(this,"ValidationPath")}constructor(e,n){this.errorPrefix_=n,this.parts_=Kz(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=oE(this.parts_[r]);Jz(this)}}function hce(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=oE(e),Jz(t)}o(hce,"validationPathPush");function dce(t){const e=t.parts_.pop();t.byteLength_-=oE(e),t.parts_.length>0&&(t.byteLength_-=1)}o(dce,"validationPathPop");function Jz(t){if(t.byteLength_>bP)throw new Error(t.errorPrefix_+"has a key path longer than "+bP+" bytes ("+t.byteLength_+").");if(t.parts_.length>yP)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+yP+") or object contains a cycle "+Mc(t))}o(Jz,"validationPathCheckValid");function Mc(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}o(Mc,"validationPathToErrorString");class C3 extends qz{static{o(this,"VisibilityMonitor")}static getInstance(){return new C3}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return xe(e==="visible","Unknown event type: "+e),[this.visible_]}}const vm=1e3,pce=300*1e3,_P=30*1e3,mce=1.3,gce=3e4,yce="server_kill",wP=3;class fl extends Hz{static{o(this,"PersistentConnection")}constructor(e,n,r,s,i,a,l,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=fl.nextPersistentConnectionId_++,this.log_=Sy("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=vm,this.maxReconnectDelay_=pce,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");C3.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&sw.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Er(i)),xe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new n0,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o(a=>{const l=a.d;a.s==="ok"?n.resolve(l):n.reject(l)},"onComplete")};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),xe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),xe(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(a).set(i,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},a="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(a,i,l=>{const u=l.d,c=l.s;fl.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&kl(e,"w")){const r=Ld(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();ei(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Zne(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=_P)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Jne(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,a=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),xe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},a="n";s&&(i.q=r,i.t=s),this.sendRequest(a,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const a={p:n,d:r};i!==void 0&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Er(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Zk("Unrecognized action received from server: "+Er(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){xe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vm,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=vm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>gce&&(this.reconnectDelay_=vm),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*mce)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+fl.nextConnectionId_++,i=this.lastSessionId;let a=!1,l=null;const u=o(function(){l?l.close():(a=!0,r())},"closeFn"),c=o(function(h){xe(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)},"sendRequestFn");this.realtime_={close:u,sendRequest:c};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);a?Pr("getToken() completed but was canceled"):(Pr("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,l=new uce(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{ei(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(yce)},i))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&ei(h),u())}}}interrupt(e){Pr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Pr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Sk(this.interruptReasons_)&&(this.reconnectDelay_=vm,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>S3(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new an(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Pr("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=wP&&(this.reconnectDelay_=_P,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Pr("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=wP&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&""+e.msg.replace(`
`,`
FIREBASE: `)}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Sz.replace(/\./g,"-")]=1,WI()?e["framework.cordova"]=1:iU()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=sw.getInstance().currentlyOnline();return Sk(this.interruptReasons_)&&e}}fl.nextPersistentConnectionId_=0;fl.nextConnectionId_=0;class wt{static{o(this,"NamedNode")}constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new wt(e,n)}}class TE{static{o(this,"Index")}getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new wt(Wd,e),s=new wt(Wd,n);return this.compare(r,s)!==0}minPost(){return wt.MIN}}let G1;class Zz extends TE{static{o(this,"KeyIndex")}static get __EMPTY_NODE(){return G1}static set __EMPTY_NODE(e){G1=e}compare(e,n){return Np(e.name,n.name)}isDefinedOn(e){throw kp("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return wt.MIN}maxPost(){return new wt(Ef,G1)}makePost(e,n){return xe(typeof e=="string","KeyIndex indexValue must always be a string."),new wt(e,G1)}toString(){return".key"}}const Ed=new Zz;class K1{static{o(this,"SortedMapIterator")}constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,s&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ir{static{o(this,"LLRBNode")}constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ir.RED,this.left=s??Ns.EMPTY_NODE,this.right=i??Ns.EMPTY_NODE}copy(e,n,r,s,i){return new ir(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ns.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ns.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ir.RED=!0;ir.BLACK=!1;class bce{static{o(this,"LLRBEmptyNode")}copy(e,n,r,s,i){return this}insert(e,n,r){return new ir(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ns{static{o(this,"SortedMap")}constructor(e,n=Ns.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ns(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ir.BLACK,null,null))}remove(e){return new Ns(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ir.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new K1(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new K1(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new K1(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new K1(this.root_,null,this.comparator_,!0,e)}}Ns.EMPTY_NODE=new bce;function _ce(t,e){return Np(t.name,e.name)}o(_ce,"NAME_ONLY_COMPARATOR");function I3(t,e){return Np(t,e)}o(I3,"NAME_COMPARATOR");let eA;function wce(t){eA=t}o(wce,"setMaxNode$1");const Qz=o(function(t){return typeof t=="number"?"number:"+Iz(t):"string:"+t},"priorityHashText"),eV=o(function(t){if(t.isLeafNode()){const e=t.val();xe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&kl(e,".sv"),"Priority must be a string or number.")}else xe(t===eA||t.isEmpty(),"priority of unexpected type.");xe(t===eA||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},"validatePriorityNode");let vP;class rr{static{o(this,"LeafNode")}static set __childrenNodeConstructor(e){vP=e}static get __childrenNodeConstructor(){return vP}constructor(e,n=rr.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,xe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),eV(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new rr(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:rr.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pt(e)?this:_t(e)===".priority"?this.priorityNode_:rr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:rr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=_t(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(xe(r!==".priority"||Pu(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,rr.__childrenNodeConstructor.EMPTY_NODE.updateChild(sn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Qz(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Iz(this.value_):e+=this.value_,this.lazyHash_=kz(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===rr.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof rr.__childrenNodeConstructor?-1:(xe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=rr.VALUE_TYPE_ORDER.indexOf(n),i=rr.VALUE_TYPE_ORDER.indexOf(r);return xe(s>=0,"Unknown leaf type: "+n),xe(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}rr.VALUE_TYPE_ORDER=["object","boolean","number","string"];let tV,nV;function vce(t){tV=t}o(vce,"setNodeFromJSON");function Ece(t){nV=t}o(Ece,"setMaxNode");class xce extends TE{static{o(this,"PriorityIndex")}compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Np(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return wt.MIN}maxPost(){return new wt(Ef,new rr("[PRIORITY-POST]",nV))}makePost(e,n){const r=tV(e);return new wt(n,new rr("[PRIORITY-POST]",r))}toString(){return".priority"}}const Fr=new xce;const Sce=Math.log(2);class Tce{static{o(this,"Base12Num")}constructor(e){const n=o(i=>parseInt(Math.log(i)/Sce,10),"logBase2"),r=o(i=>parseInt(Array(i+1).join("1"),2),"bitMask");this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const iw=o(function(t,e,n,r){t.sort(e);const s=o(function(u,c){const f=c-u;let h,d;if(f===0)return null;if(f===1)return h=t[u],d=n?n(h):h,new ir(d,h.node,ir.BLACK,null,null);{const p=parseInt(f/2,10)+u,m=s(u,p),y=s(p+1,c);return h=t[p],d=n?n(h):h,new ir(d,h.node,ir.BLACK,m,y)}},"buildBalancedTree"),i=o(function(u){let c=null,f=null,h=t.length;const d=o(function(m,y){const b=h-m,_=h;h-=m;const S=s(b+1,_),v=t[b],k=n?n(v):v;p(new ir(k,v.node,y,null,S))},"buildPennant"),p=o(function(m){c?(c.left=m,c=m):(f=m,c=m)},"attachPennant");for(let m=0;m<u.count;++m){const y=u.nextBitIsOne(),b=Math.pow(2,u.count-(m+1));y?d(b,ir.BLACK):(d(b,ir.BLACK),d(b,ir.RED))}return f},"buildFrom12Array"),a=new Tce(t.length),l=i(a);return new Ns(r||e,l)},"buildChildSet");let M2;const kh={};class ol{static{o(this,"IndexMap")}static get Default(){return xe(kh&&Fr,"ChildrenNode.ts has not been loaded"),M2=M2||new ol({".priority":kh},{".priority":Fr}),M2}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Ld(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ns?n:null}hasIndex(e){return kl(this.indexSet_,e.toString())}addIndex(e,n){xe(e!==Ed,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(wt.Wrap);let a=i.getNext();for(;a;)s=s||e.isDefinedOn(a.node),r.push(a),a=i.getNext();let l;s?l=iw(r,e.getCompare()):l=kh;const u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;const f=Object.assign({},this.indexes_);return f[u]=l,new ol(f,c)}addToIndexes(e,n){const r=D_(this.indexes_,(s,i)=>{const a=Ld(this.indexSet_,i);if(xe(a,"Missing index implementation for "+i),s===kh)if(a.isDefinedOn(e.node)){const l=[],u=n.getIterator(wt.Wrap);let c=u.getNext();for(;c;)c.name!==e.name&&l.push(c),c=u.getNext();return l.push(e),iw(l,a.getCompare())}else return kh;else{const l=n.get(e.name);let u=s;return l&&(u=u.remove(new wt(e.name,l))),u.insert(e,e.node)}});return new ol(r,this.indexSet_)}removeFromIndexes(e,n){const r=D_(this.indexes_,s=>{if(s===kh)return s;{const i=n.get(e.name);return i?s.remove(new wt(e.name,i)):s}});return new ol(r,this.indexSet_)}}let Em;class Rt{static{o(this,"ChildrenNode")}static get EMPTY_NODE(){return Em||(Em=new Rt(new Ns(I3),null,ol.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&eV(this.priorityNode_),this.children_.isEmpty()&&xe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Em}updatePriority(e){return this.children_.isEmpty()?this:new Rt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Em:n}}getChild(e){const n=_t(e);return n===null?this:this.getImmediateChild(n).getChild(sn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(xe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new wt(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?Em:this.priorityNode_;return new Rt(s,a,i)}}updateChild(e,n){const r=_t(e);if(r===null)return n;{xe(_t(e)!==".priority"||Pu(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(sn(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Fr,(a,l)=>{n[a]=l.val(e),r++,i&&Rt.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):i=!1}),!e&&i&&s<2*r){const a=[];for(const l in n)a[l]=n[l];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Qz(this.getPriority().val())+":"),this.forEachChild(Fr,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":kz(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new wt(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new wt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new wt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,wt.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,wt.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ky?-1:0}withIndex(e){if(e===Ed||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Rt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ed||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Fr),s=n.getIterator(Fr);let i=r.getNext(),a=s.getNext();for(;i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=r.getNext(),a=s.getNext()}return i===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Ed?null:this.indexMap_.get(e.toString())}}Rt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class kce extends Rt{static{o(this,"MaxNode")}constructor(){super(new Ns(I3),Rt.EMPTY_NODE,ol.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Rt.EMPTY_NODE}isEmpty(){return!1}}const ky=new kce;Object.defineProperties(wt,{MIN:{value:new wt(Wd,Rt.EMPTY_NODE)},MAX:{value:new wt(Ef,ky)}});Zz.__EMPTY_NODE=Rt.EMPTY_NODE;rr.__childrenNodeConstructor=Rt;wce(ky);Ece(ky);const Ace=!0;function $r(t,e=null){if(t===null)return Rt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),xe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new rr(n,$r(e))}if(!(t instanceof Array)&&Ace){const n=[];let r=!1;if($i(t,(a,l)=>{if(a.substring(0,1)!=="."){const u=$r(l);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new wt(a,u)))}}),n.length===0)return Rt.EMPTY_NODE;const i=iw(n,_ce,a=>a.name,I3);if(r){const a=iw(n,Fr.getCompare());return new Rt(i,$r(e),new ol({".priority":a},{".priority":Fr}))}else return new Rt(i,$r(e),ol.Default)}else{let n=Rt.EMPTY_NODE;return $i(t,(r,s)=>{if(kl(t,r)&&r.substring(0,1)!=="."){const i=$r(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority($r(e))}}o($r,"nodeFromJSON");vce($r);class Cce extends TE{static{o(this,"PathIndex")}constructor(e){super(),this.indexPath_=e,xe(!pt(e)&&_t(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Np(e.name,n.name):i}makePost(e,n){const r=$r(e),s=Rt.EMPTY_NODE.updateChild(this.indexPath_,r);return new wt(n,s)}maxPost(){const e=Rt.EMPTY_NODE.updateChild(this.indexPath_,ky);return new wt(Ef,e)}toString(){return Kz(this.indexPath_,0).join("/")}}class Ice extends TE{static{o(this,"ValueIndex")}compare(e,n){const r=e.node.compareTo(n.node);return r===0?Np(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return wt.MIN}maxPost(){return wt.MAX}makePost(e,n){const r=$r(e);return new wt(n,r)}toString(){return".value"}}const Rce=new Ice;function Oce(t){return{type:"value",snapshotNode:t}}o(Oce,"changeValue");function Nce(t,e){return{type:"child_added",snapshotNode:e,childName:t}}o(Nce,"changeChildAdded");function Mce(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}o(Mce,"changeChildRemoved");function EP(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}o(EP,"changeChildChanged");function Dce(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}o(Dce,"changeChildMoved");class R3{static{o(this,"QueryParams")}constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return xe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return xe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wd}hasEnd(){return this.endSet_}getIndexEndValue(){return xe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return xe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ef}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return xe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fr}copy(){const e=new R3;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function xP(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Fr?n="$priority":t.index_===Rce?n="$value":t.index_===Ed?n="$key":(xe(t.index_ instanceof Cce,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Er(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Er(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Er(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Er(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Er(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}o(xP,"queryParamsToRestQueryStringParameters");function SP(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Fr&&(e.i=t.index_.toString()),e}o(SP,"queryParamsGetQueryObject");class ow extends Hz{static{o(this,"ReadonlyRestClient")}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(xe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Sy("p:rest:"),this.listens_={}}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const a=ow.getListenId_(e,r),l={};this.listens_[a]=l;const u=xP(e._queryParams);this.restRequest_(i+".json",u,(c,f)=>{let h=f;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(i,h,!1,r),Ld(this.listens_,a)===l){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",s(d,null)}})}unlisten(e,n){const r=ow.getListenId_(e,n);delete this.listens_[r]}get(e){const n=xP(e._queryParams),r=e._path.toString(),s=new n0;return this.restRequest_(r+".json",n,(i,a)=>{let l=a;i===404&&(l=null,i=null),i===null?(this.onDataUpdate_(r,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Cp(n);this.log_("Sending REST request for "+a);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+a+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=r0(l.responseText)}catch{ei("Failed to parse JSON response for "+a+": "+l.responseText)}r(null,u)}else l.status!==401&&l.status!==404&&ei("Got unsuccessful REST response for "+a+" Status: "+l.status),r(l.status);r=null}},l.open("GET",a,!0),l.send()})}}class Pce{static{o(this,"SnapshotHolder")}constructor(){this.rootNode_=Rt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function aw(){return{value:null,children:new Map}}o(aw,"newSparseSnapshotTree");function rV(t,e,n){if(pt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=_t(e);t.children.has(r)||t.children.set(r,aw());const s=t.children.get(r);e=sn(e),rV(s,e,n)}}o(rV,"sparseSnapshotTreeRemember");function tA(t,e,n){t.value!==null?n(e,t.value):$ce(t,(r,s)=>{const i=new an(e.toString()+"/"+r);tA(s,i,n)})}o(tA,"sparseSnapshotTreeForEachTree");function $ce(t,e){t.children.forEach((n,r)=>{e(r,n)})}o($ce,"sparseSnapshotTreeForEachChild");class Lce{static{o(this,"StatsListener")}constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&$i(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}const TP=10*1e3,Fce=30*1e3,Bce=300*1e3;class Uce{static{o(this,"StatsReporter")}constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Lce(e);const r=TP+(Fce-TP)*Math.random();vg(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;$i(e,(s,i)=>{i>0&&kl(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),vg(this.reportStats_.bind(this),Math.floor(Math.random()*2*Bce))}}var Zo;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zo||(Zo={}));function sV(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}o(sV,"newOperationSourceUser");function iV(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}o(iV,"newOperationSourceServer");function oV(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}o(oV,"newOperationSourceServerTaggedQuery");class lw{static{o(this,"AckUserWrite")}constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Zo.ACK_USER_WRITE,this.source=sV()}operationForChild(e){if(pt(this.path)){if(this.affectedTree.value!=null)return xe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new an(e));return new lw(Ft(),n,this.revert)}}else return xe(_t(this.path)===e,"operationForChild called for unrelated child."),new lw(sn(this.path),this.affectedTree,this.revert)}}class xf{static{o(this,"Overwrite")}constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Zo.OVERWRITE}operationForChild(e){return pt(this.path)?new xf(this.source,Ft(),this.snap.getImmediateChild(e)):new xf(this.source,sn(this.path),this.snap)}}class d0{static{o(this,"Merge")}constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Zo.MERGE}operationForChild(e){if(pt(this.path)){const n=this.children.subtree(new an(e));return n.isEmpty()?null:n.value?new xf(this.source,Ft(),n.value):new d0(this.source,Ft(),n)}else return xe(_t(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new d0(this.source,sn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class O3{static{o(this,"CacheNode")}constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(pt(e))return this.isFullyInitialized()&&!this.filtered_;const n=_t(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function zce(t,e,n,r){const s=[],i=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&i.push(Dce(a.childName,a.snapshotNode))}),xm(t,s,"child_removed",e,r,n),xm(t,s,"child_added",e,r,n),xm(t,s,"child_moved",i,r,n),xm(t,s,"child_changed",e,r,n),xm(t,s,"value",e,r,n),s}o(zce,"eventGeneratorGenerateEventsForChanges");function xm(t,e,n,r,s,i){const a=r.filter(l=>l.type===n);a.sort((l,u)=>jce(t,l,u)),a.forEach(l=>{const u=Vce(t,l,i);s.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(u,t.query_))})})}o(xm,"eventGeneratorGenerateEventsForType");function Vce(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}o(Vce,"eventGeneratorMaterializeSingleChange");function jce(t,e,n){if(e.childName==null||n.childName==null)throw kp("Should only compare child_ events.");const r=new wt(e.childName,e.snapshotNode),s=new wt(n.childName,n.snapshotNode);return t.index_.compare(r,s)}o(jce,"eventGeneratorCompareChanges");function aV(t,e){return{eventCache:t,serverCache:e}}o(aV,"newViewCache");function Eg(t,e,n,r){return aV(new O3(e,n,r),t.serverCache)}o(Eg,"viewCacheUpdateEventSnap");function lV(t,e,n,r){return aV(t.eventCache,new O3(e,n,r))}o(lV,"viewCacheUpdateServerSnap");function nA(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}o(nA,"viewCacheGetCompleteEventSnap");function Sf(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}o(Sf,"viewCacheGetCompleteServerSnap");let D2;const Wce=o(()=>(D2||(D2=new Ns(Iue)),D2),"EmptyChildren");class rn{static{o(this,"ImmutableTree")}static fromObject(e){let n=new rn(null);return $i(e,(r,s)=>{n=n.set(new an(r),s)}),n}constructor(e,n=Wce()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ft(),value:this.value};if(pt(e))return null;{const r=_t(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(sn(e),n);return i!=null?{path:ur(new an(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(pt(e))return this;{const n=_t(e),r=this.children.get(n);return r!==null?r.subtree(sn(e)):new rn(null)}}set(e,n){if(pt(e))return new rn(n,this.children);{const r=_t(e),i=(this.children.get(r)||new rn(null)).set(sn(e),n),a=this.children.insert(r,i);return new rn(this.value,a)}}remove(e){if(pt(e))return this.children.isEmpty()?new rn(null):new rn(null,this.children);{const n=_t(e),r=this.children.get(n);if(r){const s=r.remove(sn(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new rn(null):new rn(this.value,i)}else return this}}get(e){if(pt(e))return this.value;{const n=_t(e),r=this.children.get(n);return r?r.get(sn(e)):null}}setTree(e,n){if(pt(e))return n;{const r=_t(e),i=(this.children.get(r)||new rn(null)).setTree(sn(e),n);let a;return i.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,i),new rn(this.value,a)}}fold(e){return this.fold_(Ft(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(ur(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ft(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(pt(e))return null;{const i=_t(e),a=this.children.get(i);return a?a.findOnPath_(sn(e),ur(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ft(),n)}foreachOnPath_(e,n,r){if(pt(e))return this;{this.value&&r(n,this.value);const s=_t(e),i=this.children.get(s);return i?i.foreachOnPath_(sn(e),ur(n,s),r):new rn(null)}}foreach(e){this.foreach_(Ft(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(ur(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class uo{static{o(this,"CompoundWrite")}constructor(e){this.writeTree_=e}static empty(){return new uo(new rn(null))}}function xg(t,e,n){if(pt(e))return new uo(new rn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const a=Si(s,e);return i=i.updateChild(a,n),new uo(t.writeTree_.set(s,i))}else{const s=new rn(n),i=t.writeTree_.setTree(e,s);return new uo(i)}}}o(xg,"compoundWriteAddWrite");function kP(t,e,n){let r=t;return $i(n,(s,i)=>{r=xg(r,ur(e,s),i)}),r}o(kP,"compoundWriteAddWrites");function AP(t,e){if(pt(e))return uo.empty();{const n=t.writeTree_.setTree(e,new rn(null));return new uo(n)}}o(AP,"compoundWriteRemoveWrite");function rA(t,e){return Kf(t,e)!=null}o(rA,"compoundWriteHasCompleteWrite");function Kf(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Si(n.path,e)):null}o(Kf,"compoundWriteGetCompleteNode");function CP(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Fr,(r,s)=>{e.push(new wt(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new wt(r,s.value))}),e}o(CP,"compoundWriteGetCompleteChildren");function ku(t,e){if(pt(e))return t;{const n=Kf(t,e);return n!=null?new uo(new rn(n)):new uo(t.writeTree_.subtree(e))}}o(ku,"compoundWriteChildCompoundWrite");function sA(t){return t.writeTree_.isEmpty()}o(sA,"compoundWriteIsEmpty");function Hd(t,e){return uV(Ft(),t.writeTree_,e)}o(Hd,"compoundWriteApply");function uV(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(xe(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=uV(ur(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ur(t,".priority"),r)),n}}o(uV,"applySubtreeWrite");function cV(t,e){return mV(e,t)}o(cV,"writeTreeChildWrites");function Hce(t,e,n,r,s){xe(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=xg(t.visibleWrites,e,n)),t.lastWriteId=r}o(Hce,"writeTreeAddOverwrite");function qce(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}o(qce,"writeTreeGetWrite");function Gce(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);xe(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,a=t.allWrites.length-1;for(;s&&a>=0;){const l=t.allWrites[a];l.visible&&(a>=n&&Kce(l,r.path)?s=!1:eo(r.path,l.path)&&(i=!0)),a--}if(s){if(i)return Yce(t),!0;if(r.snap)t.visibleWrites=AP(t.visibleWrites,r.path);else{const l=r.children;$i(l,u=>{t.visibleWrites=AP(t.visibleWrites,ur(r.path,u))})}return!0}else return!1}o(Gce,"writeTreeRemoveWrite");function Kce(t,e){if(t.snap)return eo(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&eo(ur(t.path,n),e))return!0;return!1}o(Kce,"writeTreeRecordContainsPath_");function Yce(t){t.visibleWrites=fV(t.allWrites,Xce,Ft()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}o(Yce,"writeTreeResetTree_");function Xce(t){return t.visible}o(Xce,"writeTreeDefaultFilter_");function fV(t,e,n){let r=uo.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const a=i.path;let l;if(i.snap)eo(n,a)?(l=Si(n,a),r=xg(r,l,i.snap)):eo(a,n)&&(l=Si(a,n),r=xg(r,Ft(),i.snap.getChild(l)));else if(i.children){if(eo(n,a))l=Si(n,a),r=kP(r,l,i.children);else if(eo(a,n))if(l=Si(a,n),pt(l))r=kP(r,Ft(),i.children);else{const u=Ld(i.children,_t(l));if(u){const c=u.getChild(sn(l));r=xg(r,Ft(),c)}}}else throw kp("WriteRecord should have .snap or .children")}}return r}o(fV,"writeTreeLayerTree_");function hV(t,e,n,r,s){if(!r&&!s){const i=Kf(t.visibleWrites,e);if(i!=null)return i;{const a=ku(t.visibleWrites,e);if(sA(a))return n;if(n==null&&!rA(a,Ft()))return null;{const l=n||Rt.EMPTY_NODE;return Hd(a,l)}}}else{const i=ku(t.visibleWrites,e);if(!s&&sA(i))return n;if(!s&&n==null&&!rA(i,Ft()))return null;{const a=o(function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(eo(c.path,e)||eo(e,c.path))},"filter"),l=fV(t.allWrites,a,e),u=n||Rt.EMPTY_NODE;return Hd(l,u)}}}o(hV,"writeTreeCalcCompleteEventCache");function Jce(t,e,n){let r=Rt.EMPTY_NODE;const s=Kf(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Fr,(i,a)=>{r=r.updateImmediateChild(i,a)}),r;if(n){const i=ku(t.visibleWrites,e);return n.forEachChild(Fr,(a,l)=>{const u=Hd(ku(i,new an(a)),l);r=r.updateImmediateChild(a,u)}),CP(i).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const i=ku(t.visibleWrites,e);return CP(i).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}o(Jce,"writeTreeCalcCompleteEventChildren");function Zce(t,e,n,r,s){xe(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=ur(e,n);if(rA(t.visibleWrites,i))return null;{const a=ku(t.visibleWrites,i);return sA(a)?s.getChild(n):Hd(a,s.getChild(n))}}o(Zce,"writeTreeCalcEventCacheAfterServerOverwrite");function Qce(t,e,n,r){const s=ur(e,n),i=Kf(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const a=ku(t.visibleWrites,s);return Hd(a,r.getNode().getImmediateChild(n))}else return null}o(Qce,"writeTreeCalcCompleteChild");function efe(t,e){return Kf(t.visibleWrites,e)}o(efe,"writeTreeShadowingWrite");function tfe(t,e,n,r,s,i,a){let l;const u=ku(t.visibleWrites,e),c=Kf(u,Ft());if(c!=null)l=c;else if(n!=null)l=Hd(u,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){const f=[],h=a.getCompare(),d=i?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a);let p=d.getNext();for(;p&&f.length<s;)h(p,r)!==0&&f.push(p),p=d.getNext();return f}else return[]}o(tfe,"writeTreeCalcIndexedSlice");function nfe(){return{visibleWrites:uo.empty(),allWrites:[],lastWriteId:-1}}o(nfe,"newWriteTree");function iA(t,e,n,r){return hV(t.writeTree,t.treePath,e,n,r)}o(iA,"writeTreeRefCalcCompleteEventCache");function dV(t,e){return Jce(t.writeTree,t.treePath,e)}o(dV,"writeTreeRefCalcCompleteEventChildren");function IP(t,e,n,r){return Zce(t.writeTree,t.treePath,e,n,r)}o(IP,"writeTreeRefCalcEventCacheAfterServerOverwrite");function uw(t,e){return efe(t.writeTree,ur(t.treePath,e))}o(uw,"writeTreeRefShadowingWrite");function rfe(t,e,n,r,s,i){return tfe(t.writeTree,t.treePath,e,n,r,s,i)}o(rfe,"writeTreeRefCalcIndexedSlice");function N3(t,e,n){return Qce(t.writeTree,t.treePath,e,n)}o(N3,"writeTreeRefCalcCompleteChild");function pV(t,e){return mV(ur(t.treePath,e),t.writeTree)}o(pV,"writeTreeRefChild");function mV(t,e){return{treePath:t,writeTree:e}}o(mV,"newWriteTreeRef");class sfe{static{o(this,"ChildChangeAccumulator")}constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;xe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),xe(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,EP(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Mce(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,Nce(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,EP(r,e.snapshotNode,s.oldSnap));else throw kp("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}class ife{static{o(this,"NoCompleteChildSource_")}getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const gV=new ife;class M3{static{o(this,"WriteTreeCompleteChildSource")}constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new O3(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return N3(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Sf(this.viewCache_),i=rfe(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}function ofe(t,e){xe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),xe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}o(ofe,"viewProcessorAssertIndexed");function afe(t,e,n,r,s){const i=new sfe;let a,l;if(n.type===Zo.OVERWRITE){const c=n;c.source.fromUser?a=oA(t,e,c.path,c.snap,r,s,i):(xe(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!pt(c.path),a=cw(t,e,c.path,c.snap,r,s,l,i))}else if(n.type===Zo.MERGE){const c=n;c.source.fromUser?a=ufe(t,e,c.path,c.children,r,s,i):(xe(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),a=aA(t,e,c.path,c.children,r,s,l,i))}else if(n.type===Zo.ACK_USER_WRITE){const c=n;c.revert?a=hfe(t,e,c.path,r,s,i):a=cfe(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===Zo.LISTEN_COMPLETE)a=ffe(t,e,n.path,r,i);else throw kp("Unknown operation type: "+n.type);const u=i.getChanges();return lfe(e,a,u),{viewCache:a,changes:u}}o(afe,"viewProcessorApplyOperation");function lfe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=nA(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(Oce(nA(e)))}}o(lfe,"viewProcessorMaybeAddValueEvent");function yV(t,e,n,r,s,i){const a=e.eventCache;if(uw(r,n)!=null)return e;{let l,u;if(pt(n))if(xe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Sf(e),f=c instanceof Rt?c:Rt.EMPTY_NODE,h=dV(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const c=iA(r,Sf(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=_t(n);if(c===".priority"){xe(Pu(n)===1,"Can't have a priority with additional path components");const f=a.getNode();u=e.serverCache.getNode();const h=IP(r,n,f,u);h!=null?l=t.filter.updatePriority(f,h):l=a.getNode()}else{const f=sn(n);let h;if(a.isCompleteForChild(c)){u=e.serverCache.getNode();const d=IP(r,n,a.getNode(),u);d!=null?h=a.getNode().getImmediateChild(c).updateChild(f,d):h=a.getNode().getImmediateChild(c)}else h=N3(r,c,e.serverCache);h!=null?l=t.filter.updateChild(a.getNode(),c,h,f,s,i):l=a.getNode()}}return Eg(e,l,a.isFullyInitialized()||pt(n),t.filter.filtersNodes())}}o(yV,"viewProcessorGenerateEventCacheAfterServerEvent");function cw(t,e,n,r,s,i,a,l){const u=e.serverCache;let c;const f=a?t.filter:t.filter.getIndexedFilter();if(pt(n))c=f.updateFullNode(u.getNode(),r,null);else if(f.filtersNodes()&&!u.isFiltered()){const p=u.getNode().updateChild(n,r);c=f.updateFullNode(u.getNode(),p,null)}else{const p=_t(n);if(!u.isCompleteForPath(n)&&Pu(n)>1)return e;const m=sn(n),b=u.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=f.updatePriority(u.getNode(),b):c=f.updateChild(u.getNode(),p,b,m,gV,null)}const h=lV(e,c,u.isFullyInitialized()||pt(n),f.filtersNodes()),d=new M3(s,h,i);return yV(t,h,n,s,d,l)}o(cw,"viewProcessorApplyServerOverwrite");function oA(t,e,n,r,s,i,a){const l=e.eventCache;let u,c;const f=new M3(s,e,i);if(pt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,a),u=Eg(e,c,!0,t.filter.filtersNodes());else{const h=_t(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),u=Eg(e,c,l.isFullyInitialized(),l.isFiltered());else{const d=sn(n),p=l.getNode().getImmediateChild(h);let m;if(pt(d))m=r;else{const y=f.getCompleteChild(h);y!=null?Gz(d)===".priority"&&y.getChild(Yz(d)).isEmpty()?m=y:m=y.updateChild(d,r):m=Rt.EMPTY_NODE}if(p.equals(m))u=e;else{const y=t.filter.updateChild(l.getNode(),h,m,d,f,a);u=Eg(e,y,l.isFullyInitialized(),t.filter.filtersNodes())}}}return u}o(oA,"viewProcessorApplyUserOverwrite");function RP(t,e){return t.eventCache.isCompleteForChild(e)}o(RP,"viewProcessorCacheHasChild");function ufe(t,e,n,r,s,i,a){let l=e;return r.foreach((u,c)=>{const f=ur(n,u);RP(e,_t(f))&&(l=oA(t,l,f,c,s,i,a))}),r.foreach((u,c)=>{const f=ur(n,u);RP(e,_t(f))||(l=oA(t,l,f,c,s,i,a))}),l}o(ufe,"viewProcessorApplyUserMerge");function OP(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}o(OP,"viewProcessorApplyMerge");function aA(t,e,n,r,s,i,a,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,c;pt(n)?c=r:c=new rn(null).setTree(n,r);const f=e.serverCache.getNode();return c.children.inorderTraversal((h,d)=>{if(f.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),m=OP(t,p,d);u=cw(t,u,new an(h),m,s,i,a,l)}}),c.children.inorderTraversal((h,d)=>{const p=!e.serverCache.isCompleteForChild(h)&&d.value===null;if(!f.hasChild(h)&&!p){const m=e.serverCache.getNode().getImmediateChild(h),y=OP(t,m,d);u=cw(t,u,new an(h),y,s,i,a,l)}}),u}o(aA,"viewProcessorApplyServerMerge");function cfe(t,e,n,r,s,i,a){if(uw(s,n)!=null)return e;const l=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(pt(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return cw(t,e,n,u.getNode().getChild(n),s,i,l,a);if(pt(n)){let c=new rn(null);return u.getNode().forEachChild(Ed,(f,h)=>{c=c.set(new an(f),h)}),aA(t,e,n,c,s,i,l,a)}else return e}else{let c=new rn(null);return r.foreach((f,h)=>{const d=ur(n,f);u.isCompleteForPath(d)&&(c=c.set(f,u.getNode().getChild(d)))}),aA(t,e,n,c,s,i,l,a)}}o(cfe,"viewProcessorAckUserWrite");function ffe(t,e,n,r,s){const i=e.serverCache,a=lV(e,i.getNode(),i.isFullyInitialized()||pt(n),i.isFiltered());return yV(t,a,n,r,gV,s)}o(ffe,"viewProcessorListenComplete");function hfe(t,e,n,r,s,i){let a;if(uw(r,n)!=null)return e;{const l=new M3(r,e,s),u=e.eventCache.getNode();let c;if(pt(n)||_t(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=iA(r,Sf(e));else{const h=e.serverCache.getNode();xe(h instanceof Rt,"serverChildren would be complete if leaf node"),f=dV(r,h)}f=f,c=t.filter.updateFullNode(u,f,i)}else{const f=_t(n);let h=N3(r,f,e.serverCache);h==null&&e.serverCache.isCompleteForChild(f)&&(h=u.getImmediateChild(f)),h!=null?c=t.filter.updateChild(u,f,h,sn(n),l,i):e.eventCache.getNode().hasChild(f)?c=t.filter.updateChild(u,f,Rt.EMPTY_NODE,sn(n),l,i):c=u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=iA(r,Sf(e)),a.isLeafNode()&&(c=t.filter.updateFullNode(c,a,i)))}return a=e.serverCache.isFullyInitialized()||uw(r,Ft())!=null,Eg(e,c,a,t.filter.filtersNodes())}}o(hfe,"viewProcessorRevertUserWrite");function dfe(t,e){const n=Sf(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!pt(e)&&!n.getImmediateChild(_t(e)).isEmpty())?n.getChild(e):null}o(dfe,"viewGetCompleteServerCache");function NP(t,e,n,r){e.type===Zo.MERGE&&e.source.queryId!==null&&(xe(Sf(t.viewCache_),"We should always have a full cache before handling merges"),xe(nA(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=afe(t.processor_,s,e,n,r);return ofe(t.processor_,i.viewCache),xe(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,pfe(t,i.changes,i.viewCache.eventCache.getNode())}o(NP,"viewApplyOperation");function pfe(t,e,n,r){const s=t.eventRegistrations_;return zce(t.eventGenerator_,e,n,s)}o(pfe,"viewGenerateEventsForChanges_");let MP;function mfe(t){xe(!MP,"__referenceConstructor has already been defined"),MP=t}o(mfe,"syncPointSetReferenceConstructor");function D3(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return xe(i!=null,"SyncTree gave us an op for an invalid query."),NP(i,e,n,r)}else{let i=[];for(const a of t.views.values())i=i.concat(NP(a,e,n,r));return i}}o(D3,"syncPointApplyOperation");function P3(t,e){let n=null;for(const r of t.views.values())n=n||dfe(r,e);return n}o(P3,"syncPointGetCompleteServerCache");let DP;function gfe(t){xe(!DP,"__referenceConstructor has already been defined"),DP=t}o(gfe,"syncTreeSetReferenceConstructor");class PP{static{o(this,"SyncTree")}constructor(e){this.listenProvider_=e,this.syncPointTree_=new rn(null),this.pendingWriteTree_=nfe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function yfe(t,e,n,r,s){return Hce(t.pendingWriteTree_,e,n,r,s),s?AE(t,new xf(sV(),e,n)):[]}o(yfe,"syncTreeApplyUserOverwrite");function nd(t,e,n=!1){const r=qce(t.pendingWriteTree_,e);if(Gce(t.pendingWriteTree_,e)){let i=new rn(null);return r.snap!=null?i=i.set(Ft(),!0):$i(r.children,a=>{i=i.set(new an(a),!0)}),AE(t,new lw(r.path,i,n))}else return[]}o(nd,"syncTreeAckUserWrite");function kE(t,e,n){return AE(t,new xf(iV(),e,n))}o(kE,"syncTreeApplyServerOverwrite");function bfe(t,e,n){const r=rn.fromObject(n);return AE(t,new d0(iV(),e,r))}o(bfe,"syncTreeApplyServerMerge");function _fe(t,e,n,r){const s=vV(t,r);if(s!=null){const i=EV(s),a=i.path,l=i.queryId,u=Si(a,e),c=new xf(oV(l),u,n);return xV(t,a,c)}else return[]}o(_fe,"syncTreeApplyTaggedQueryOverwrite");function wfe(t,e,n,r){const s=vV(t,r);if(s){const i=EV(s),a=i.path,l=i.queryId,u=Si(a,e),c=rn.fromObject(n),f=new d0(oV(l),u,c);return xV(t,a,f)}else return[]}o(wfe,"syncTreeApplyTaggedQueryMerge");function bV(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(a,l)=>{const u=Si(a,e),c=P3(l,u);if(c)return c});return hV(s,e,i,n,!0)}o(bV,"syncTreeCalcCompleteEventCache");function AE(t,e){return _V(e,t.syncPointTree_,null,cV(t.pendingWriteTree_,Ft()))}o(AE,"syncTreeApplyOperationToSyncPoints_");function _V(t,e,n,r){if(pt(t.path))return wV(t,e,n,r);{const s=e.get(Ft());n==null&&s!=null&&(n=P3(s,Ft()));let i=[];const a=_t(t.path),l=t.operationForChild(a),u=e.children.get(a);if(u&&l){const c=n?n.getImmediateChild(a):null,f=pV(r,a);i=i.concat(_V(l,u,c,f))}return s&&(i=i.concat(D3(s,t,r,n))),i}}o(_V,"syncTreeApplyOperationHelper_");function wV(t,e,n,r){const s=e.get(Ft());n==null&&s!=null&&(n=P3(s,Ft()));let i=[];return e.children.inorderTraversal((a,l)=>{const u=n?n.getImmediateChild(a):null,c=pV(r,a),f=t.operationForChild(a);f&&(i=i.concat(wV(f,l,u,c)))}),s&&(i=i.concat(D3(s,t,r,n))),i}o(wV,"syncTreeApplyOperationDescendantsHelper_");function vV(t,e){return t.tagToQueryMap.get(e)}o(vV,"syncTreeQueryKeyForTag_");function EV(t){const e=t.indexOf("$");return xe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new an(t.substr(0,e))}}o(EV,"syncTreeParseQueryKey_");function xV(t,e,n){const r=t.syncPointTree_.get(e);xe(r,"Missing sync point for query tag that we're tracking");const s=cV(t.pendingWriteTree_,e);return D3(r,n,s,null)}o(xV,"syncTreeApplyTaggedOperation_");class $3{static{o(this,"ExistingValueProvider")}constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new $3(n)}node(){return this.node_}}class L3{static{o(this,"DeferredValueProvider")}constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ur(this.path_,e);return new L3(this.syncTree_,n)}node(){return bV(this.syncTree_,this.path_)}}const vfe=o(function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},"generateWithValues"),$P=o(function(t,e,n){if(!t||typeof t!="object")return t;if(xe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Efe(t[".sv"],e,n);if(typeof t[".sv"]=="object")return xfe(t[".sv"],e);xe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},"resolveDeferredLeafValue"),Efe=o(function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:xe(!1,"Unexpected server value: "+t)}},"resolveScalarDeferredValue"),xfe=o(function(t,e,n){t.hasOwnProperty("increment")||xe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&xe(!1,"Unexpected increment value: "+r);const s=e.node();if(xe(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const a=s.getValue();return typeof a!="number"?r:a+r},"resolveComplexDeferredValue"),Sfe=o(function(t,e,n,r){return F3(e,new L3(n,t),r)},"resolveDeferredValueTree"),Tfe=o(function(t,e,n){return F3(t,new $3(e),n)},"resolveDeferredValueSnapshot");function F3(t,e,n){const r=t.getPriority().val(),s=$P(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const a=t,l=$P(a.getValue(),e,n);return l!==a.getValue()||s!==a.getPriority().val()?new rr(l,$r(s)):t}else{const a=t;return i=a,s!==a.getPriority().val()&&(i=i.updatePriority(new rr(s))),a.forEachChild(Fr,(l,u)=>{const c=F3(u,e.getImmediateChild(l),n);c!==u&&(i=i.updateImmediateChild(l,c))}),i}}o(F3,"resolveDeferredValue");class B3{static{o(this,"Tree")}constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function U3(t,e){let n=e instanceof an?e:new an(e),r=t,s=_t(n);for(;s!==null;){const i=Ld(r.node.children,s)||{children:{},childCount:0};r=new B3(s,r,i),n=sn(n),s=_t(n)}return r}o(U3,"treeSubTree");function Mp(t){return t.node.value}o(Mp,"treeGetValue");function SV(t,e){t.node.value=e,lA(t)}o(SV,"treeSetValue");function TV(t){return t.node.childCount>0}o(TV,"treeHasChildren");function kfe(t){return Mp(t)===void 0&&!TV(t)}o(kfe,"treeIsEmpty");function CE(t,e){$i(t.node.children,(n,r)=>{e(new B3(n,t,r))})}o(CE,"treeForEachChild");function kV(t,e,n,r){n&&e(t),CE(t,s=>{kV(s,e,!0)})}o(kV,"treeForEachDescendant");function Afe(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}o(Afe,"treeForEachAncestor");function Ay(t){return new an(t.parent===null?t.name:Ay(t.parent)+"/"+t.name)}o(Ay,"treeGetPath");function lA(t){t.parent!==null&&Cfe(t.parent,t.name,t)}o(lA,"treeUpdateParents");function Cfe(t,e,n){const r=kfe(n),s=kl(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,lA(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,lA(t))}o(Cfe,"treeUpdateChild");const Ife=/[\[\].#$\/\u0000-\u001F\u007F]/,Rfe=/[\[\].#$\u0000-\u001F\u007F]/,P2=10*1024*1024,AV=o(function(t){return typeof t=="string"&&t.length!==0&&!Ife.test(t)},"isValidKey"),Ofe=o(function(t){return typeof t=="string"&&t.length!==0&&!Rfe.test(t)},"isValidPathString"),Nfe=o(function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ofe(t)},"isValidRootPathString"),CV=o(function(t,e,n){const r=n instanceof an?new fce(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Mc(r));if(typeof e=="function")throw new Error(t+"contains a function "+Mc(r)+" with contents = "+e.toString());if(Az(e))throw new Error(t+"contains "+e.toString()+" "+Mc(r));if(typeof e=="string"&&e.length>P2/3&&oE(e)>P2)throw new Error(t+"contains a string greater than "+P2+" utf8 bytes "+Mc(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if($i(e,(a,l)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(i=!0,!AV(a)))throw new Error(t+" contains an invalid key ("+a+") "+Mc(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);hce(r,a),CV(t,l,r),dce(r)}),s&&i)throw new Error(t+' contains ".value" child '+Mc(r)+" in addition to actual children.")}},"validateFirebaseData"),Mfe=o(function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!AV(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Nfe(n))throw new Error(rre(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},"validateUrl");class Dfe{static{o(this,"EventQueue")}constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Pfe(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!Xz(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}o(Pfe,"eventQueueQueueEvents");function Yf(t,e,n){Pfe(t,n),$fe(t,r=>eo(r,e)||eo(e,r))}o(Yf,"eventQueueRaiseEventsForChangedPath");function $fe(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(Lfe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}o($fe,"eventQueueRaiseQueuedEventsMatchingPredicate");function Lfe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();wg&&Pr("event: "+n.toString()),Ty(r)}}}o(Lfe,"eventListRaise");const Ffe="repo_interrupt",Bfe=25;class Ufe{static{o(this,"Repo")}constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Dfe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=aw(),this.transactionQueueTree_=new B3,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zfe(t,e,n){if(t.stats_=k3(t.repoInfo_),t.forceRestClient_||Pue())t.server_=new ow(t.repoInfo_,(r,s,i,a)=>{LP(t,r,s,i,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>FP(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Er(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new fl(t.repoInfo_,e,(r,s,i,a)=>{LP(t,r,s,i,a)},r=>{FP(t,r)},r=>{jfe(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=zue(t.repoInfo_,()=>new Uce(t.stats_,t.server_)),t.infoData_=new Pce,t.infoSyncTree_=new PP({startListening:o((r,s,i,a)=>{let l=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(l=kE(t.infoSyncTree_,r._path,u),setTimeout(()=>{a("ok")},0)),l},"startListening"),stopListening:o(()=>{},"stopListening")}),z3(t,"connected",!1),t.serverSyncTree_=new PP({startListening:o((r,s,i,a)=>(t.server_.listen(r,i,s,(l,u)=>{const c=a(l,u);Yf(t.eventQueue_,r._path,c)}),[]),"startListening"),stopListening:o((r,s)=>{t.server_.unlisten(r,s)},"stopListening")})}o(zfe,"repoStart");function Vfe(t){const n=t.infoData_.getNode(new an(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}o(Vfe,"repoServerTime");function IV(t){return vfe({timestamp:Vfe(t)})}o(IV,"repoGenerateServerValues");function LP(t,e,n,r,s){t.dataUpdateCount++;const i=new an(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(s)if(r){const u=D_(n,c=>$r(c));a=wfe(t.serverSyncTree_,i,u,s)}else{const u=$r(n);a=_fe(t.serverSyncTree_,i,u,s)}else if(r){const u=D_(n,c=>$r(c));a=bfe(t.serverSyncTree_,i,u)}else{const u=$r(n);a=kE(t.serverSyncTree_,i,u)}let l=i;a.length>0&&(l=j3(t,i)),Yf(t.eventQueue_,l,a)}o(LP,"repoOnDataUpdate");function FP(t,e){z3(t,"connected",e),e===!1&&Hfe(t)}o(FP,"repoOnConnectStatus");function jfe(t,e){$i(e,(n,r)=>{z3(t,n,r)})}o(jfe,"repoOnServerInfoUpdate");function z3(t,e,n){const r=new an("/.info/"+e),s=$r(n);t.infoData_.updateSnapshot(r,s);const i=kE(t.infoSyncTree_,r,s);Yf(t.eventQueue_,r,i)}o(z3,"repoUpdateInfo");function Wfe(t){return t.nextWriteId_++}o(Wfe,"repoGetNextWriteId");function Hfe(t){RV(t,"onDisconnectEvents");const e=IV(t),n=aw();tA(t.onDisconnect_,Ft(),(s,i)=>{const a=Sfe(s,i,t.serverSyncTree_,e);rV(n,s,a)});let r=[];tA(n,Ft(),(s,i)=>{r=r.concat(kE(t.serverSyncTree_,s,i));const a=Yfe(t,s);j3(t,a)}),t.onDisconnect_=aw(),Yf(t.eventQueue_,Ft(),r)}o(Hfe,"repoRunOnDisconnectEvents");function qfe(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Ffe)}o(qfe,"repoInterrupt");function RV(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Pr(n,...e)}o(RV,"repoLog");function OV(t,e,n){return bV(t.serverSyncTree_,e,n)||Rt.EMPTY_NODE}o(OV,"repoGetLatestState");function V3(t,e=t.transactionQueueTree_){if(e||IE(t,e),Mp(e)){const n=MV(t,e);xe(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&Gfe(t,Ay(e),n)}else TV(e)&&CE(e,n=>{V3(t,n)})}o(V3,"repoSendReadyTransactions");function Gfe(t,e,n){const r=n.map(c=>c.currentWriteId),s=OV(t,e,r);let i=s;const a=s.hash();for(let c=0;c<n.length;c++){const f=n[c];xe(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const h=Si(e,f.path);i=i.updateChild(h,f.currentOutputSnapshotRaw)}const l=i.val(!0),u=e;t.server_.put(u.toString(),l,c=>{RV(t,"transaction put response",{path:u.toString(),status:c});let f=[];if(c==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,f=f.concat(nd(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();IE(t,U3(t.transactionQueueTree_,e)),V3(t,t.transactionQueueTree_),Yf(t.eventQueue_,e,f);for(let d=0;d<h.length;d++)Ty(h[d])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{ei("transaction at "+u.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}j3(t,e)}},a)}o(Gfe,"repoSendTransactionQueue");function j3(t,e){const n=NV(t,e),r=Ay(n),s=MV(t,n);return Kfe(t,s,r),r}o(j3,"repoRerunTransactions");function Kfe(t,e,n){if(e.length===0)return;const r=[];let s=[];const a=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const u=e[l],c=Si(n,u.path);let f=!1,h;if(xe(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)f=!0,h=u.abortReason,s=s.concat(nd(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=Bfe)f=!0,h="maxretry",s=s.concat(nd(t.serverSyncTree_,u.currentWriteId,!0));else{const d=OV(t,u.path,a);u.currentInputSnapshot=d;const p=e[l].update(d.val());if(p!==void 0){CV("transaction failed: Data returned ",p,u.path);let m=$r(p);typeof p=="object"&&p!=null&&kl(p,".priority")||(m=m.updatePriority(d.getPriority()));const b=u.currentWriteId,_=IV(t),S=Tfe(m,d,_);u.currentOutputSnapshotRaw=m,u.currentOutputSnapshotResolved=S,u.currentWriteId=Wfe(t),a.splice(a.indexOf(b),1),s=s.concat(yfe(t.serverSyncTree_,u.path,S,u.currentWriteId,u.applyLocally)),s=s.concat(nd(t.serverSyncTree_,b,!0))}else f=!0,h="nodata",s=s.concat(nd(t.serverSyncTree_,u.currentWriteId,!0))}Yf(t.eventQueue_,n,s),s=[],f&&(e[l].status=2,(function(d){setTimeout(d,Math.floor(0))})(e[l].unwatcher),e[l].onComplete&&(h==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(h),!1,null))))}IE(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Ty(r[l]);V3(t,t.transactionQueueTree_)}o(Kfe,"repoRerunTransactionQueue");function NV(t,e){let n,r=t.transactionQueueTree_;for(n=_t(e);n!==null&&Mp(r)===void 0;)r=U3(r,n),e=sn(e),n=_t(e);return r}o(NV,"repoGetAncestorTransactionNode");function MV(t,e){const n=[];return DV(t,e,n),n.sort((r,s)=>r.order-s.order),n}o(MV,"repoBuildTransactionQueue");function DV(t,e,n){const r=Mp(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);CE(e,s=>{DV(t,s,n)})}o(DV,"repoAggregateTransactionQueuesForNode");function IE(t,e){const n=Mp(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,SV(e,n.length>0?n:void 0)}CE(e,r=>{IE(t,r)})}o(IE,"repoPruneCompletedTransactionsBelowNode");function Yfe(t,e){const n=Ay(NV(t,e)),r=U3(t.transactionQueueTree_,e);return Afe(r,s=>{$2(t,s)}),$2(t,r),kV(r,s=>{$2(t,s)}),n}o(Yfe,"repoAbortTransactions");function $2(t,e){const n=Mp(e);if(n){const r=[];let s=[],i=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(xe(i===a-1,"All SENT items should be at beginning of queue."),i=a,n[a].status=3,n[a].abortReason="set"):(xe(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(nd(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));i===-1?SV(e,void 0):n.length=i+1,Yf(t.eventQueue_,Ay(e),s);for(let a=0;a<r.length;a++)Ty(r[a])}}o($2,"repoAbortTransactionsOnNode");function Xfe(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}o(Xfe,"decodePath");function Jfe(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ei(`Invalid query segment '${n}' in query '${t}'`)}return e}o(Jfe,"decodeQuery");const BP=o(function(t,e){const n=Zfe(t),r=n.namespace;n.domain==="firebase.com"&&vf(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&vf("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Aue();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Fue(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new an(n.pathString)}},"parseRepoInfo"),Zfe=o(function(t){let e="",n="",r="",s="",i="",a=!0,l="https",u=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let f=t.indexOf("/");f===-1&&(f=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(f,h)),f<h&&(s=Xfe(t.substring(f,h)));const d=Jfe(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(a=l==="https"||l==="wss",u=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),i=r}"ns"in d&&(i=d.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:l,pathString:s,namespace:i}},"parseDatabaseURL");class W3{static{o(this,"QueryImpl")}constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return pt(this._path)?null:Gz(this._path)}get ref(){return new Dp(this._repo,this._path)}get _queryIdentifier(){const e=SP(this._queryParams),n=S3(e);return n==="{}"?"default":n}get _queryObject(){return SP(this._queryParams)}isEqual(e){if(e=Bi(e),!(e instanceof W3))return!1;const n=this._repo===e._repo,r=Xz(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+cce(this._path)}}class Dp extends W3{static{o(this,"ReferenceImpl")}constructor(e,n){super(e,n,new R3,!1)}get parent(){const e=Yz(this._path);return e===null?null:new Dp(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}mfe(Dp);gfe(Dp);const Qfe="FIREBASE_DATABASE_EMULATOR_HOST",uA={};let ehe=!1;function the(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||vf("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pr("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=BP(i,s),l=a.repoInfo,u;typeof process<"u"&&iP&&(u=iP[Qfe]),u?(i=`http://${u}?ns=${l.namespace}`,a=BP(i,s),l=a.repoInfo):a.repoInfo.secure;const c=new Lue(t.name,t.options,e);Mfe("Invalid Firebase Database URL",a),pt(a.path)||vf("Database URL must point to the root of a Firebase Database (not including a child path).");const f=rhe(l,t,c,new $ue(t,n));return new she(f,t)}o(the,"repoManagerDatabaseFromApp");function nhe(t,e){const n=uA[e];(!n||n[t.key]!==t)&&vf(`Database ${e}(${t.repoInfo_}) has already been deleted.`),qfe(t),delete n[t.key]}o(nhe,"repoManagerDeleteRepo");function rhe(t,e,n,r){let s=uA[e.name];s||(s={},uA[e.name]=s);let i=s[t.toURLString()];return i&&vf("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Ufe(t,ehe,n,r),s[t.toURLString()]=i,i}o(rhe,"repoManagerCreateRepo");class she{static{o(this,"Database")}constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(zfe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Dp(this._repo,Ft())),this._rootInternal}_delete(){return this._rootInternal!==null&&(nhe(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&vf("Cannot call "+e+" on a deleted database.")}}function ihe(t){vue(ec),ca(new yo("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return the(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Qs(oP,aP,t),Qs(oP,aP,"esm2017")}o(ihe,"registerDatabase");fl.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};fl.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};ihe();var UP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var PV;(function(){var t;function e(x,E){function T(){}o(T,"c"),T.prototype=E.prototype,x.D=E.prototype,x.prototype=new T,x.prototype.constructor=x,x.C=function(O,N,R){for(var M=Array(arguments.length-2),B=2;B<arguments.length;B++)M[B-2]=arguments[B];return E.prototype[N].apply(O,M)}}o(e,"k");function n(){this.blockSize=-1}o(n,"l");function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}o(r,"m"),e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,E,T){T||(T=0);var O=Array(16);if(typeof E=="string")for(var N=0;16>N;++N)O[N]=E.charCodeAt(T++)|E.charCodeAt(T++)<<8|E.charCodeAt(T++)<<16|E.charCodeAt(T++)<<24;else for(N=0;16>N;++N)O[N]=E[T++]|E[T++]<<8|E[T++]<<16|E[T++]<<24;E=x.g[0],T=x.g[1],N=x.g[2];var R=x.g[3],M=E+(R^T&(N^R))+O[0]+3614090360&4294967295;E=T+(M<<7&4294967295|M>>>25),M=R+(N^E&(T^N))+O[1]+3905402710&4294967295,R=E+(M<<12&4294967295|M>>>20),M=N+(T^R&(E^T))+O[2]+606105819&4294967295,N=R+(M<<17&4294967295|M>>>15),M=T+(E^N&(R^E))+O[3]+3250441966&4294967295,T=N+(M<<22&4294967295|M>>>10),M=E+(R^T&(N^R))+O[4]+4118548399&4294967295,E=T+(M<<7&4294967295|M>>>25),M=R+(N^E&(T^N))+O[5]+1200080426&4294967295,R=E+(M<<12&4294967295|M>>>20),M=N+(T^R&(E^T))+O[6]+2821735955&4294967295,N=R+(M<<17&4294967295|M>>>15),M=T+(E^N&(R^E))+O[7]+4249261313&4294967295,T=N+(M<<22&4294967295|M>>>10),M=E+(R^T&(N^R))+O[8]+1770035416&4294967295,E=T+(M<<7&4294967295|M>>>25),M=R+(N^E&(T^N))+O[9]+2336552879&4294967295,R=E+(M<<12&4294967295|M>>>20),M=N+(T^R&(E^T))+O[10]+4294925233&4294967295,N=R+(M<<17&4294967295|M>>>15),M=T+(E^N&(R^E))+O[11]+2304563134&4294967295,T=N+(M<<22&4294967295|M>>>10),M=E+(R^T&(N^R))+O[12]+1804603682&4294967295,E=T+(M<<7&4294967295|M>>>25),M=R+(N^E&(T^N))+O[13]+4254626195&4294967295,R=E+(M<<12&4294967295|M>>>20),M=N+(T^R&(E^T))+O[14]+2792965006&4294967295,N=R+(M<<17&4294967295|M>>>15),M=T+(E^N&(R^E))+O[15]+1236535329&4294967295,T=N+(M<<22&4294967295|M>>>10),M=E+(N^R&(T^N))+O[1]+4129170786&4294967295,E=T+(M<<5&4294967295|M>>>27),M=R+(T^N&(E^T))+O[6]+3225465664&4294967295,R=E+(M<<9&4294967295|M>>>23),M=N+(E^T&(R^E))+O[11]+643717713&4294967295,N=R+(M<<14&4294967295|M>>>18),M=T+(R^E&(N^R))+O[0]+3921069994&4294967295,T=N+(M<<20&4294967295|M>>>12),M=E+(N^R&(T^N))+O[5]+3593408605&4294967295,E=T+(M<<5&4294967295|M>>>27),M=R+(T^N&(E^T))+O[10]+38016083&4294967295,R=E+(M<<9&4294967295|M>>>23),M=N+(E^T&(R^E))+O[15]+3634488961&4294967295,N=R+(M<<14&4294967295|M>>>18),M=T+(R^E&(N^R))+O[4]+3889429448&4294967295,T=N+(M<<20&4294967295|M>>>12),M=E+(N^R&(T^N))+O[9]+568446438&4294967295,E=T+(M<<5&4294967295|M>>>27),M=R+(T^N&(E^T))+O[14]+3275163606&4294967295,R=E+(M<<9&4294967295|M>>>23),M=N+(E^T&(R^E))+O[3]+4107603335&4294967295,N=R+(M<<14&4294967295|M>>>18),M=T+(R^E&(N^R))+O[8]+1163531501&4294967295,T=N+(M<<20&4294967295|M>>>12),M=E+(N^R&(T^N))+O[13]+2850285829&4294967295,E=T+(M<<5&4294967295|M>>>27),M=R+(T^N&(E^T))+O[2]+4243563512&4294967295,R=E+(M<<9&4294967295|M>>>23),M=N+(E^T&(R^E))+O[7]+1735328473&4294967295,N=R+(M<<14&4294967295|M>>>18),M=T+(R^E&(N^R))+O[12]+2368359562&4294967295,T=N+(M<<20&4294967295|M>>>12),M=E+(T^N^R)+O[5]+4294588738&4294967295,E=T+(M<<4&4294967295|M>>>28),M=R+(E^T^N)+O[8]+2272392833&4294967295,R=E+(M<<11&4294967295|M>>>21),M=N+(R^E^T)+O[11]+1839030562&4294967295,N=R+(M<<16&4294967295|M>>>16),M=T+(N^R^E)+O[14]+4259657740&4294967295,T=N+(M<<23&4294967295|M>>>9),M=E+(T^N^R)+O[1]+2763975236&4294967295,E=T+(M<<4&4294967295|M>>>28),M=R+(E^T^N)+O[4]+1272893353&4294967295,R=E+(M<<11&4294967295|M>>>21),M=N+(R^E^T)+O[7]+4139469664&4294967295,N=R+(M<<16&4294967295|M>>>16),M=T+(N^R^E)+O[10]+3200236656&4294967295,T=N+(M<<23&4294967295|M>>>9),M=E+(T^N^R)+O[13]+681279174&4294967295,E=T+(M<<4&4294967295|M>>>28),M=R+(E^T^N)+O[0]+3936430074&4294967295,R=E+(M<<11&4294967295|M>>>21),M=N+(R^E^T)+O[3]+3572445317&4294967295,N=R+(M<<16&4294967295|M>>>16),M=T+(N^R^E)+O[6]+76029189&4294967295,T=N+(M<<23&4294967295|M>>>9),M=E+(T^N^R)+O[9]+3654602809&4294967295,E=T+(M<<4&4294967295|M>>>28),M=R+(E^T^N)+O[12]+3873151461&4294967295,R=E+(M<<11&4294967295|M>>>21),M=N+(R^E^T)+O[15]+530742520&4294967295,N=R+(M<<16&4294967295|M>>>16),M=T+(N^R^E)+O[2]+3299628645&4294967295,T=N+(M<<23&4294967295|M>>>9),M=E+(N^(T|~R))+O[0]+4096336452&4294967295,E=T+(M<<6&4294967295|M>>>26),M=R+(T^(E|~N))+O[7]+1126891415&4294967295,R=E+(M<<10&4294967295|M>>>22),M=N+(E^(R|~T))+O[14]+2878612391&4294967295,N=R+(M<<15&4294967295|M>>>17),M=T+(R^(N|~E))+O[5]+4237533241&4294967295,T=N+(M<<21&4294967295|M>>>11),M=E+(N^(T|~R))+O[12]+1700485571&4294967295,E=T+(M<<6&4294967295|M>>>26),M=R+(T^(E|~N))+O[3]+2399980690&4294967295,R=E+(M<<10&4294967295|M>>>22),M=N+(E^(R|~T))+O[10]+4293915773&4294967295,N=R+(M<<15&4294967295|M>>>17),M=T+(R^(N|~E))+O[1]+2240044497&4294967295,T=N+(M<<21&4294967295|M>>>11),M=E+(N^(T|~R))+O[8]+1873313359&4294967295,E=T+(M<<6&4294967295|M>>>26),M=R+(T^(E|~N))+O[15]+4264355552&4294967295,R=E+(M<<10&4294967295|M>>>22),M=N+(E^(R|~T))+O[6]+2734768916&4294967295,N=R+(M<<15&4294967295|M>>>17),M=T+(R^(N|~E))+O[13]+1309151649&4294967295,T=N+(M<<21&4294967295|M>>>11),M=E+(N^(T|~R))+O[4]+4149444226&4294967295,E=T+(M<<6&4294967295|M>>>26),M=R+(T^(E|~N))+O[11]+3174756917&4294967295,R=E+(M<<10&4294967295|M>>>22),M=N+(E^(R|~T))+O[2]+718787259&4294967295,N=R+(M<<15&4294967295|M>>>17),M=T+(R^(N|~E))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+E&4294967295,x.g[1]=x.g[1]+(N+(M<<21&4294967295|M>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+R&4294967295}o(s,"n"),r.prototype.u=function(x,E){E===void 0&&(E=x.length);for(var T=E-this.blockSize,O=this.B,N=this.h,R=0;R<E;){if(N==0)for(;R<=T;)s(this,x,R),R+=this.blockSize;if(typeof x=="string"){for(;R<E;)if(O[N++]=x.charCodeAt(R++),N==this.blockSize){s(this,O),N=0;break}}else for(;R<E;)if(O[N++]=x[R++],N==this.blockSize){s(this,O),N=0;break}}this.h=N,this.o+=E},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var E=1;E<x.length-8;++E)x[E]=0;var T=8*this.o;for(E=x.length-8;E<x.length;++E)x[E]=T&255,T/=256;for(this.u(x),x=Array(16),E=T=0;4>E;++E)for(var O=0;32>O;O+=8)x[T++]=this.g[E]>>>O&255;return x};function i(x,E){var T=l;return Object.prototype.hasOwnProperty.call(T,x)?T[x]:T[x]=E(x)}o(i,"p");function a(x,E){this.h=E;for(var T=[],O=!0,N=x.length-1;0<=N;N--){var R=x[N]|0;O&&R==E||(T[N]=R,O=!1)}this.g=T}o(a,"t");var l={};function u(x){return-128<=x&&128>x?i(x,function(E){return new a([E|0],0>E?-1:0)}):new a([x|0],0>x?-1:0)}o(u,"u");function c(x){if(isNaN(x)||!isFinite(x))return h;if(0>x)return b(c(-x));for(var E=[],T=1,O=0;x>=T;O++)E[O]=x/T|0,T*=4294967296;return new a(E,0)}o(c,"v");function f(x,E){if(x.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(x.charAt(0)=="-")return b(f(x.substring(1),E));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(E,8)),O=h,N=0;N<x.length;N+=8){var R=Math.min(8,x.length-N),M=parseInt(x.substring(N,N+R),E);8>R?(R=c(Math.pow(E,R)),O=O.j(R).add(c(M))):(O=O.j(T),O=O.add(c(M)))}return O}o(f,"y");var h=u(0),d=u(1),p=u(16777216);t=a.prototype,t.m=function(){if(y(this))return-b(this).m();for(var x=0,E=1,T=0;T<this.g.length;T++){var O=this.i(T);x+=(0<=O?O:4294967296+O)*E,E*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(m(this))return"0";if(y(this))return"-"+b(this).toString(x);for(var E=c(Math.pow(x,6)),T=this,O="";;){var N=k(T,E).g;T=_(T,N.j(E));var R=((0<T.g.length?T.g[0]:T.h)>>>0).toString(x);if(T=N,m(T))return R+O;for(;6>R.length;)R="0"+R;O=R+O}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function m(x){if(x.h!=0)return!1;for(var E=0;E<x.g.length;E++)if(x.g[E]!=0)return!1;return!0}o(m,"C");function y(x){return x.h==-1}o(y,"B"),t.l=function(x){return x=_(this,x),y(x)?-1:m(x)?0:1};function b(x){for(var E=x.g.length,T=[],O=0;O<E;O++)T[O]=~x.g[O];return new a(T,~x.h).add(d)}o(b,"x"),t.abs=function(){return y(this)?b(this):this},t.add=function(x){for(var E=Math.max(this.g.length,x.g.length),T=[],O=0,N=0;N<=E;N++){var R=O+(this.i(N)&65535)+(x.i(N)&65535),M=(R>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);O=M>>>16,R&=65535,M&=65535,T[N]=M<<16|R}return new a(T,T[T.length-1]&-2147483648?-1:0)};function _(x,E){return x.add(b(E))}o(_,"F"),t.j=function(x){if(m(this)||m(x))return h;if(y(this))return y(x)?b(this).j(b(x)):b(b(this).j(x));if(y(x))return b(this.j(b(x)));if(0>this.l(p)&&0>x.l(p))return c(this.m()*x.m());for(var E=this.g.length+x.g.length,T=[],O=0;O<2*E;O++)T[O]=0;for(O=0;O<this.g.length;O++)for(var N=0;N<x.g.length;N++){var R=this.i(O)>>>16,M=this.i(O)&65535,B=x.i(N)>>>16,z=x.i(N)&65535;T[2*O+2*N]+=M*z,S(T,2*O+2*N),T[2*O+2*N+1]+=R*z,S(T,2*O+2*N+1),T[2*O+2*N+1]+=M*B,S(T,2*O+2*N+1),T[2*O+2*N+2]+=R*B,S(T,2*O+2*N+2)}for(O=0;O<E;O++)T[O]=T[2*O+1]<<16|T[2*O];for(O=E;O<2*E;O++)T[O]=0;return new a(T,0)};function S(x,E){for(;(x[E]&65535)!=x[E];)x[E+1]+=x[E]>>>16,x[E]&=65535,E++}o(S,"G");function v(x,E){this.g=x,this.h=E}o(v,"H");function k(x,E){if(m(E))throw Error("division by zero");if(m(x))return new v(h,h);if(y(x))return E=k(b(x),E),new v(b(E.g),b(E.h));if(y(E))return E=k(x,b(E)),new v(b(E.g),E.h);if(30<x.g.length){if(y(x)||y(E))throw Error("slowDivide_ only works with positive integers.");for(var T=d,O=E;0>=O.l(x);)T=C(T),O=C(O);var N=I(T,1),R=I(O,1);for(O=I(O,2),T=I(T,2);!m(O);){var M=R.add(O);0>=M.l(x)&&(N=N.add(T),R=M),O=I(O,1),T=I(T,1)}return E=_(x,N.j(E)),new v(N,E)}for(N=h;0<=x.l(E);){for(T=Math.max(1,Math.floor(x.m()/E.m())),O=Math.ceil(Math.log(T)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),R=c(T),M=R.j(E);y(M)||0<M.l(x);)T-=O,R=c(T),M=R.j(E);m(R)&&(R=d),N=N.add(R),x=_(x,M)}return new v(N,x)}o(k,"D"),t.A=function(x){return k(this,x).h},t.and=function(x){for(var E=Math.max(this.g.length,x.g.length),T=[],O=0;O<E;O++)T[O]=this.i(O)&x.i(O);return new a(T,this.h&x.h)},t.or=function(x){for(var E=Math.max(this.g.length,x.g.length),T=[],O=0;O<E;O++)T[O]=this.i(O)|x.i(O);return new a(T,this.h|x.h)},t.xor=function(x){for(var E=Math.max(this.g.length,x.g.length),T=[],O=0;O<E;O++)T[O]=this.i(O)^x.i(O);return new a(T,this.h^x.h)};function C(x){for(var E=x.g.length+1,T=[],O=0;O<E;O++)T[O]=x.i(O)<<1|x.i(O-1)>>>31;return new a(T,x.h)}o(C,"I");function I(x,E){var T=E>>5;E%=32;for(var O=x.g.length-T,N=[],R=0;R<O;R++)N[R]=0<E?x.i(R+T)>>>E|x.i(R+T+1)<<32-E:x.i(R+T);return new a(N,x.h)}o(I,"J"),r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=f,PV=a}).apply(typeof UP<"u"?UP:typeof self<"u"?self:typeof window<"u"?window:{});var Y1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,w,A){return g==Array.prototype||g==Object.prototype||(g[w]=A.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Y1=="object"&&Y1];for(var w=0;w<g.length;++w){var A=g[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}o(n,"ba");var r=n(this);function s(g,w){if(w)e:{var A=r;g=g.split(".");for(var P=0;P<g.length-1;P++){var q=g[P];if(!(q in A))break e;A=A[q]}g=g[g.length-1],P=A[g],w=w(P),w!=P&&w!=null&&e(A,g,{configurable:!0,writable:!0,value:w})}}o(s,"da");function i(g,w){g instanceof String&&(g+="");var A=0,P=!1,q={next:o(function(){if(!P&&A<g.length){var Q=A++;return{value:w(Q,g[Q]),done:!1}}return P=!0,{done:!0,value:void 0}},"next")};return q[Symbol.iterator]=function(){return q},q}o(i,"ea"),s("Array.prototype.values",function(g){return g||function(){return i(this,function(w,A){return A})}});var a=a||{},l=this||self;function u(g){var w=typeof g;return w=w!="object"?w:g?Array.isArray(g)?"array":w:"null",w=="array"||w=="object"&&typeof g.length=="number"}o(u,"ha");function c(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}o(c,"n");function f(g,w,A){return g.call.apply(g.bind,arguments)}o(f,"ia");function h(g,w,A){if(!g)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,P),g.apply(w,q)}}return function(){return g.apply(w,arguments)}}o(h,"ja");function d(g,w,A){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,d.apply(null,arguments)}o(d,"p");function p(g,w){var A=Array.prototype.slice.call(arguments,1);return function(){var P=A.slice();return P.push.apply(P,arguments),g.apply(this,P)}}o(p,"ka");function m(g,w){function A(){}o(A,"c"),A.prototype=w.prototype,g.aa=w.prototype,g.prototype=new A,g.prototype.constructor=g,g.Qb=function(P,q,Q){for(var be=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)be[Vt-2]=arguments[Vt];return w.prototype[q].apply(P,be)}}o(m,"r");function y(g){const w=g.length;if(0<w){const A=Array(w);for(let P=0;P<w;P++)A[P]=g[P];return A}return[]}o(y,"la");function b(g,w){for(let A=1;A<arguments.length;A++){const P=arguments[A];if(u(P)){const q=g.length||0,Q=P.length||0;g.length=q+Q;for(let be=0;be<Q;be++)g[q+be]=P[be]}else g.push(P)}}o(b,"ma");class _{static{o(this,"na")}constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function S(g){return/^[\s\xa0]*$/.test(g)}o(S,"t");function v(){var g=l.navigator;return g&&(g=g.userAgent)?g:""}o(v,"u");function k(g){return k[" "](g),g}o(k,"oa"),k[" "]=function(){};var C=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function I(g,w,A){for(const P in g)w.call(A,g[P],P,g)}o(I,"qa");function x(g,w){for(const A in g)w.call(void 0,g[A],A,g)}o(x,"ra");function E(g){const w={};for(const A in g)w[A]=g[A];return w}o(E,"sa");const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(g,w){let A,P;for(let q=1;q<arguments.length;q++){P=arguments[q];for(A in P)g[A]=P[A];for(let Q=0;Q<T.length;Q++)A=T[Q],Object.prototype.hasOwnProperty.call(P,A)&&(g[A]=P[A])}}o(O,"ua");function N(g){var w=1;g=g.split(":");const A=[];for(;0<w&&g.length;)A.push(g.shift()),w--;return g.length&&A.push(g.join(":")),A}o(N,"va");function R(g){l.setTimeout(()=>{throw g},0)}o(R,"wa");function M(){var g=Z;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}o(M,"xa");class B{static{o(this,"Aa")}constructor(){this.h=this.g=null}add(w,A){const P=z.get();P.set(w,A),this.h?this.h.next=P:this.g=P,this.h=P}}var z=new _(()=>new V,g=>g.reset());class V{static{o(this,"Ca")}constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let K,ee=!1,Z=new B,ue=o(()=>{const g=l.Promise.resolve(void 0);K=o(()=>{g.then(ae)},"x")},"Ea");var ae=o(()=>{for(var g;g=M();){try{g.h.call(g.g)}catch(A){R(A)}var w=z;w.j(g),100>w.h&&(w.h++,g.next=w.g,w.g=g)}ee=!1},"Da");function he(){this.s=this.s,this.C=this.C}o(he,"z"),he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}o(ve,"A"),ve.prototype.h=function(){this.defaultPrevented=!0};var lt=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:o(function(){g=!0},"get")});try{const A=o(()=>{},"c");l.addEventListener("test",A,w),l.removeEventListener("test",A,w)}catch{}return g})();function Re(g,w){if(ve.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var A=this.type=g.type,P=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget){if(C){e:{try{k(w.nodeName);var q=!0;break e}catch{}q=!1}q||(w=null)}}else A=="mouseover"?w=g.fromElement:A=="mouseout"&&(w=g.toElement);this.relatedTarget=w,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Ke[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Re.aa.h.call(this)}}o(Re,"C"),m(Re,ve);var Ke={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Mt="closure_listenable_"+(1e6*Math.random()|0),Xr=0;function As(g,w,A,P,q){this.listener=g,this.proxy=null,this.src=w,this.type=A,this.capture=!!P,this.ha=q,this.key=++Xr,this.da=this.fa=!1}o(As,"Ia");function Ln(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}o(Ln,"Ja");function zs(g){this.src=g,this.g={},this.h=0}o(zs,"Ka"),zs.prototype.add=function(g,w,A,P,q){var Q=g.toString();g=this.g[Q],g||(g=this.g[Q]=[],this.h++);var be=F(g,w,P,q);return-1<be?(w=g[be],A||(w.fa=!1)):(w=new As(w,this.src,Q,!!P,q),w.fa=A,g.push(w)),w};function L(g,w){var A=w.type;if(A in g.g){var P=g.g[A],q=Array.prototype.indexOf.call(P,w,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(P,q,1),Q&&(Ln(w),g.g[A].length==0&&(delete g.g[A],g.h--))}}o(L,"Ma");function F(g,w,A,P){for(var q=0;q<g.length;++q){var Q=g[q];if(!Q.da&&Q.listener==w&&Q.capture==!!A&&Q.ha==P)return q}return-1}o(F,"La");var X="closure_lm_"+(1e6*Math.random()|0),W={};function G(g,w,A,P,q){if(Array.isArray(w)){for(var Q=0;Q<w.length;Q++)G(g,w[Q],A,P,q);return null}return A=ye(A),g&&g[Mt]?g.K(w,A,c(P)?!!P.capture:!1,q):te(g,w,A,!1,P,q)}o(G,"Qa");function te(g,w,A,P,q,Q){if(!w)throw Error("Invalid event type");var be=c(q)?!!q.capture:!!q,Vt=J(g);if(Vt||(g[X]=Vt=new zs(g)),A=Vt.add(w,A,P,be,Q),A.proxy)return A;if(P=le(),A.proxy=P,P.src=g,P.listener=A,g.addEventListener)lt||(q=be),q===void 0&&(q=!1),g.addEventListener(w.toString(),P,q);else if(g.attachEvent)g.attachEvent($(w.toString()),P);else if(g.addListener&&g.removeListener)g.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return A}o(te,"Ta");function le(){function g(A){return w.call(g.src,g.listener,A)}o(g,"a");const w=H;return g}o(le,"Va");function re(g,w,A,P,q){if(Array.isArray(w))for(var Q=0;Q<w.length;Q++)re(g,w[Q],A,P,q);else P=c(P)?!!P.capture:!!P,A=ye(A),g&&g[Mt]?(g=g.i,w=String(w).toString(),w in g.g&&(Q=g.g[w],A=F(Q,A,P,q),-1<A&&(Ln(Q[A]),Array.prototype.splice.call(Q,A,1),Q.length==0&&(delete g.g[w],g.h--)))):g&&(g=J(g))&&(w=g.g[w.toString()],g=-1,w&&(g=F(w,A,P,q)),(A=-1<g?w[g]:null)&&D(A))}o(re,"Ya");function D(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[Mt])L(w.i,g);else{var A=g.type,P=g.proxy;w.removeEventListener?w.removeEventListener(A,P,g.capture):w.detachEvent?w.detachEvent($(A),P):w.addListener&&w.removeListener&&w.removeListener(P),(A=J(w))?(L(A,g),A.h==0&&(A.src=null,w[X]=null)):Ln(g)}}}o(D,"Za");function $(g){return g in W?W[g]:W[g]="on"+g}o($,"Wa");function H(g,w){if(g.da)g=!0;else{w=new Re(w,this);var A=g.listener,P=g.ha||g.src;g.fa&&D(g),g=A.call(P,w)}return g}o(H,"Xa");function J(g){return g=g[X],g instanceof zs?g:null}o(J,"Ua");var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(g){return typeof g=="function"?g:(g[me]||(g[me]=function(w){return g.handleEvent(w)}),g[me])}o(ye,"Sa");function Te(){he.call(this),this.i=new zs(this),this.M=this,this.F=null}o(Te,"E"),m(Te,he),Te.prototype[Mt]=!0,Te.prototype.removeEventListener=function(g,w,A,P){re(this,g,w,A,P)};function $e(g,w){var A,P=g.F;if(P)for(A=[];P;P=P.F)A.push(P);if(g=g.M,P=w.type||w,typeof w=="string")w=new ve(w,g);else if(w instanceof ve)w.target=w.target||g;else{var q=w;w=new ve(P,g),O(w,q)}if(q=!0,A)for(var Q=A.length-1;0<=Q;Q--){var be=w.g=A[Q];q=ut(be,P,!0,w)&&q}if(be=w.g=g,q=ut(be,P,!0,w)&&q,q=ut(be,P,!1,w)&&q,A)for(Q=0;Q<A.length;Q++)be=w.g=A[Q],q=ut(be,P,!1,w)&&q}o($e,"F"),Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var g=this.i,w;for(w in g.g){for(var A=g.g[w],P=0;P<A.length;P++)Ln(A[P]);delete g.g[w],g.h--}}this.F=null},Te.prototype.K=function(g,w,A,P){return this.i.add(String(g),w,!1,A,P)},Te.prototype.L=function(g,w,A,P){return this.i.add(String(g),w,!0,A,P)};function ut(g,w,A,P){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();for(var q=!0,Q=0;Q<w.length;++Q){var be=w[Q];if(be&&!be.da&&be.capture==A){var Vt=be.listener,gr=be.ha||be.src;be.fa&&L(g.i,be),q=Vt.call(gr,P)!==!1&&q}}return q&&!P.defaultPrevented}o(ut,"ab");function qn(g,w,A){if(typeof g=="function")A&&(g=d(g,A));else if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:l.setTimeout(g,w||0)}o(qn,"bb");function Rn(g){g.g=qn(()=>{g.g=null,g.i&&(g.i=!1,Rn(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}o(Rn,"cb");class Jr extends he{static{o(this,"eb")}constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Rn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function On(g){he.call(this),this.h=g,this.g={}}o(On,"G"),m(On,he);var Vs=[];function Zr(g){I(g.g,function(w,A){this.g.hasOwnProperty(A)&&D(w)},g),g.g={}}o(Zr,"gb"),On.prototype.N=function(){On.aa.N.call(this),Zr(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ln=l.JSON.stringify,Cr=l.JSON.parse,$l=class{static{o(this,"jb")}stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function im(){}o(im,"kb"),im.prototype.h=null;function mc(g){return g.h||(g.h=g.i())}o(mc,"lb");function yh(){}o(yh,"mb");var gc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ma(){ve.call(this,"d")}o(Ma,"nb"),m(Ma,ve);function om(){ve.call(this,"c")}o(om,"ob"),m(om,ve);var Ll={},Nn=null;function No(){return Nn=Nn||new Te}o(No,"qb"),Ll.La="serverreachability";function v1(g){ve.call(this,Ll.La,g)}o(v1,"rb"),m(v1,ve);function Fl(g){const w=No();$e(w,new v1(w))}o(Fl,"J"),Ll.STAT_EVENT="statevent";function bh(g,w){ve.call(this,Ll.STAT_EVENT,g),this.stat=w}o(bh,"sb"),m(bh,ve);function Qn(g){const w=No();$e(w,new bh(w,g))}o(Qn,"K"),Ll.Ma="timingevent";function am(g,w){ve.call(this,Ll.Ma,g),this.size=w}o(am,"tb"),m(am,ve);function yc(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},w)}o(yc,"ub");function Ir(){this.g=!0}o(Ir,"vb"),Ir.prototype.xa=function(){this.g=!1};function _h(g,w,A,P,q,Q){g.info(function(){if(g.g)if(Q)for(var be="",Vt=Q.split("&"),gr=0;gr<Vt.length;gr++){var St=Vt[gr].split("=");if(1<St.length){var Rr=St[0];St=St[1];var Or=Rr.split("_");be=2<=Or.length&&Or[1]=="type"?be+(Rr+"="+St+"&"):be+(Rr+"=redacted&")}}else be=null;else be=Q;return"XMLHTTP REQ ("+P+") [attempt "+q+"]: "+w+`
`+A+`
`+be})}o(_h,"wb");function E1(g,w,A,P,q,Q,be){g.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+q+"]: "+w+`
`+A+`
`+Q+" "+be})}o(E1,"xb");function Da(g,w,A,P){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+x1(g,A)+(P?" "+P:"")})}o(Da,"L");function lm(g,w){g.info(function(){return"TIMEOUT: "+w})}o(lm,"zb"),Ir.prototype.info=function(){};function x1(g,w){if(!g.g)return w;if(!w)return null;try{var A=JSON.parse(w);if(A){for(g=0;g<A.length;g++)if(Array.isArray(A[g])){var P=A[g];if(!(2>P.length)){var q=P[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var be=1;be<q.length;be++)q[be]=""}}}}return ln(A)}catch{return w}}o(x1,"yb");var js={NO_ERROR:0,TIMEOUT:8},S1={},wh;function bc(){}o(bc,"Db"),m(bc,im),bc.prototype.g=function(){return new XMLHttpRequest},bc.prototype.i=function(){return{}},wh=new bc;function zi(g,w,A,P){this.j=g,this.i=w,this.l=A,this.R=P||1,this.U=new On(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new T1}o(zi,"M");function T1(){this.i=null,this.g="",this.h=!1}o(T1,"Eb");var Ne={},U={};function de(g,w,A){g.L=1,g.v=I1(Pa(w)),g.m=A,g.P=!0,Ce(g,null)}o(de,"Hb");function Ce(g,w){g.F=Date.now(),vn(g),g.A=Pa(g.v);var A=g.A,P=g.R;Array.isArray(P)||(P=[String(P)]),xM(A.i,"t",P),g.C=0,A=g.j.J,g.h=new T1,g.g=zM(g.j,A?w:null,!g.m),0<g.O&&(g.M=new Jr(d(g.Y,g,g.g),g.O)),w=g.U,A=g.g,P=g.ca;var q="readystatechange";Array.isArray(q)||(q&&(Vs[0]=q.toString()),q=Vs);for(var Q=0;Q<q.length;Q++){var be=G(A,q[Q],P||w.handleEvent,!1,w.h||w);if(!be)break;w.g[be.key]=be}w=g.H?E(g.H):{},g.m?(g.u||(g.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,w)):(g.u="GET",g.g.ea(g.A,g.u,null,w)),Fl(),_h(g.i,g.u,g.A,g.l,g.R,g.m)}o(Ce,"Jb"),zi.prototype.ca=function(g){g=g.target;const w=this.M;w&&$a(g)==3?w.j():this.Y(g)},zi.prototype.Y=function(g){try{if(g==this.g)e:{const Or=$a(this.g);var w=this.g.Ba();const Sh=this.g.Z();if(!(3>Or)&&(Or!=3||this.g&&(this.h.h||this.g.oa()||RM(this.g)))){this.J||Or!=4||w==7||(w==8||0>=Sh?Fl(3):Fl(2)),Cs(this);var A=this.g.Z();this.X=A;t:if(zt(this)){var P=RM(this.g);g="";var q=P.length,Q=$a(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),Vi(this);var be="";break t}this.h.i=new l.TextDecoder}for(w=0;w<q;w++)this.h.h=!0,g+=this.h.i.decode(P[w],{stream:!(Q&&w==q-1)});P.length=0,this.h.g+=g,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=A==200,E1(this.i,this.u,this.A,this.l,this.R,Or,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Vt,gr=this.g;if((Vt=gr.g?gr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(Vt)){var St=Vt;break t}}St=null}if(A=St)Da(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vh(this,A);else{this.o=!1,this.s=3,Qn(12),pn(this),Vi(this);break e}}if(this.P){A=!0;let ji;for(;!this.J&&this.C<be.length;)if(ji=er(this,be),ji==U){Or==4&&(this.s=4,Qn(14),A=!1),Da(this.i,this.l,null,"[Incomplete Response]");break}else if(ji==Ne){this.s=4,Qn(15),Da(this.i,this.l,be,"[Invalid Chunk]"),A=!1;break}else Da(this.i,this.l,ji,null),vh(this,ji);if(zt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Or!=4||be.length!=0||this.h.h||(this.s=1,Qn(16),A=!1),this.o=this.o&&A,!A)Da(this.i,this.l,be,"[Invalid Chunked Response]"),pn(this),Vi(this);else if(0<be.length&&!this.W){this.W=!0;var Rr=this.j;Rr.g==this&&Rr.ba&&!Rr.M&&(Rr.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),e2(Rr),Rr.M=!0,Qn(11))}}else Da(this.i,this.l,be,null),vh(this,be);Or==4&&pn(this),this.o&&!this.J&&(Or==4?LM(this.j,this):(this.o=!1,vn(this)))}else UJ(this.g),A==400&&0<be.indexOf("Unknown SID")?(this.s=3,Qn(12)):(this.s=0,Qn(13)),pn(this),Vi(this)}}}catch{}};function zt(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}o(zt,"Pb");function er(g,w){var A=g.C,P=w.indexOf(`
`,A);return P==-1?U:(A=Number(w.substring(A,P)),isNaN(A)?Ne:(P+=1,P+A>w.length?U:(w=w.slice(P,P+A),g.C=P+A,w)))}o(er,"Sb"),zi.prototype.cancel=function(){this.J=!0,pn(this)};function vn(g){g.S=Date.now()+g.I,mr(g,g.I)}o(vn,"Kb");function mr(g,w){if(g.B!=null)throw Error("WatchDog timer not null");g.B=yc(d(g.ba,g),w)}o(mr,"Wb");function Cs(g){g.B&&(l.clearTimeout(g.B),g.B=null)}o(Cs,"Ob"),zi.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(lm(this.i,this.A),this.L!=2&&(Fl(),Qn(17)),pn(this),this.s=2,Vi(this)):mr(this,this.S-g)};function Vi(g){g.j.G==0||g.J||LM(g.j,g)}o(Vi,"Qb");function pn(g){Cs(g);var w=g.M;w&&typeof w.ma=="function"&&w.ma(),g.M=null,Zr(g.U),g.g&&(w=g.g,g.g=null,w.abort(),w.ma())}o(pn,"Q");function vh(g,w){try{var A=g.j;if(A.G!=0&&(A.g==g||Yx(A.h,g))){if(!g.K&&Yx(A.h,g)&&A.G==3){try{var P=A.Da.g.parse(w)}catch{P=null}if(Array.isArray(P)&&P.length==3){var q=P;if(q[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<g.F)P1(A),M1(A);else break e;Qx(A),Qn(18)}}else A.za=q[1],0<A.za-A.T&&37500>q[2]&&A.F&&A.v==0&&!A.C&&(A.C=yc(d(A.Za,A),6e3));if(1>=pM(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else wc(A,11)}else if((g.K||A.g==g)&&P1(A),!S(w))for(q=A.Da.g.parse(w),w=0;w<q.length;w++){let St=q[w];if(A.T=St[0],St=St[1],A.G==2)if(St[0]=="c"){A.K=St[1],A.ia=St[2];const Rr=St[3];Rr!=null&&(A.la=Rr,A.j.info("VER="+A.la));const Or=St[4];Or!=null&&(A.Aa=Or,A.j.info("SVER="+A.Aa));const Sh=St[5];Sh!=null&&typeof Sh=="number"&&0<Sh&&(P=1.5*Sh,A.L=P,A.j.info("backChannelRequestTimeoutMs_="+P)),P=A;const ji=g.g;if(ji){const $1=ji.g?ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($1){var Q=P.h;Q.g||$1.indexOf("spdy")==-1&&$1.indexOf("quic")==-1&&$1.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Xx(Q,Q.h),Q.h=null))}if(P.D){const t2=ji.g?ji.g.getResponseHeader("X-HTTP-Session-Id"):null;t2&&(P.ya=t2,Qt(P.I,P.D,t2))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-g.F,A.j.info("Handshake RTT: "+A.R+"ms")),P=A;var be=g;if(P.qa=UM(P,P.J?P.ia:null,P.W),be.K){mM(P.h,be);var Vt=be,gr=P.L;gr&&(Vt.I=gr),Vt.B&&(Cs(Vt),vn(Vt)),P.g=be}else PM(P);0<A.i.length&&D1(A)}else St[0]!="stop"&&St[0]!="close"||wc(A,7);else A.G==3&&(St[0]=="stop"||St[0]=="close"?St[0]=="stop"?wc(A,7):Zx(A):St[0]!="noop"&&A.l&&A.l.ta(St),A.v=0)}}Fl(4)}catch{}}o(vh,"Rb");var k1=class{static{o(this,"hc")}constructor(g,w){this.g=g,this.map=w}};function hM(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}o(hM,"ic");function dM(g){return g.h?!0:g.g?g.g.size>=g.j:!1}o(dM,"jc");function pM(g){return g.h?1:g.g?g.g.size:0}o(pM,"ac");function Yx(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}o(Yx,"Xb");function Xx(g,w){g.g?g.g.add(w):g.h=w}o(Xx,"bc");function mM(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}o(mM,"dc"),hM.prototype.cancel=function(){if(this.i=gM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function gM(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const A of g.g.values())w=w.concat(A.D);return w}return y(g.i)}o(gM,"kc");function TJ(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(u(g)){for(var w=[],A=g.length,P=0;P<A;P++)w.push(g[P]);return w}w=[],A=0;for(P in g)w[A++]=g[P];return w}o(TJ,"lc");function kJ(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(u(g)||typeof g=="string"){var w=[];g=g.length;for(var A=0;A<g;A++)w.push(A);return w}w=[],A=0;for(const P in g)w[A++]=P;return w}}}o(kJ,"mc");function yM(g,w){if(g.forEach&&typeof g.forEach=="function")g.forEach(w,void 0);else if(u(g)||typeof g=="string")Array.prototype.forEach.call(g,w,void 0);else for(var A=kJ(g),P=TJ(g),q=P.length,Q=0;Q<q;Q++)w.call(void 0,P[Q],A&&A[Q],g)}o(yM,"nc");var bM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AJ(g,w){if(g){g=g.split("&");for(var A=0;A<g.length;A++){var P=g[A].indexOf("="),q=null;if(0<=P){var Q=g[A].substring(0,P);q=g[A].substring(P+1)}else Q=g[A];w(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}o(AJ,"pc");function _c(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof _c){this.h=g.h,A1(this,g.j),this.o=g.o,this.g=g.g,C1(this,g.s),this.l=g.l;var w=g.i,A=new fm;A.i=w.i,w.g&&(A.g=new Map(w.g),A.h=w.h),_M(this,A),this.m=g.m}else g&&(w=String(g).match(bM))?(this.h=!1,A1(this,w[1]||"",!0),this.o=um(w[2]||""),this.g=um(w[3]||"",!0),C1(this,w[4]),this.l=um(w[5]||"",!0),_M(this,w[6]||"",!0),this.m=um(w[7]||"")):(this.h=!1,this.i=new fm(null,this.h))}o(_c,"T"),_c.prototype.toString=function(){var g=[],w=this.j;w&&g.push(cm(w,wM,!0),":");var A=this.g;return(A||w=="file")&&(g.push("//"),(w=this.o)&&g.push(cm(w,wM,!0),"@"),g.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&g.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&g.push("/"),g.push(cm(A,A.charAt(0)=="/"?RJ:IJ,!0))),(A=this.i.toString())&&g.push("?",A),(A=this.m)&&g.push("#",cm(A,NJ)),g.join("")};function Pa(g){return new _c(g)}o(Pa,"N");function A1(g,w,A){g.j=A?um(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}o(A1,"qc");function C1(g,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);g.s=w}else g.s=null}o(C1,"rc");function _M(g,w,A){w instanceof fm?(g.i=w,MJ(g.i,g.h)):(A||(w=cm(w,OJ)),g.i=new fm(w,g.h))}o(_M,"tc");function Qt(g,w,A){g.i.set(w,A)}o(Qt,"S");function I1(g){return Qt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}o(I1,"Ib");function um(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}o(um,"uc");function cm(g,w,A){return typeof g=="string"?(g=encodeURI(g).replace(w,CJ),A&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}o(cm,"vc");function CJ(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}o(CJ,"Cc");var wM=/[#\/\?@]/g,IJ=/[#\?:]/g,RJ=/[#\?]/g,OJ=/[#\?@]/g,NJ=/#/g;function fm(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}o(fm,"sc");function Bl(g){g.g||(g.g=new Map,g.h=0,g.i&&AJ(g.i,function(w,A){g.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}o(Bl,"U"),t=fm.prototype,t.add=function(g,w){Bl(this),this.i=null,g=Eh(this,g);var A=this.g.get(g);return A||this.g.set(g,A=[]),A.push(w),this.h+=1,this};function vM(g,w){Bl(g),w=Eh(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}o(vM,"Dc");function EM(g,w){return Bl(g),w=Eh(g,w),g.g.has(w)}o(EM,"Ec"),t.forEach=function(g,w){Bl(this),this.g.forEach(function(A,P){A.forEach(function(q){g.call(w,q,P,this)},this)},this)},t.na=function(){Bl(this);const g=Array.from(this.g.values()),w=Array.from(this.g.keys()),A=[];for(let P=0;P<w.length;P++){const q=g[P];for(let Q=0;Q<q.length;Q++)A.push(w[P])}return A},t.V=function(g){Bl(this);let w=[];if(typeof g=="string")EM(this,g)&&(w=w.concat(this.g.get(Eh(this,g))));else{g=Array.from(this.g.values());for(let A=0;A<g.length;A++)w=w.concat(g[A])}return w},t.set=function(g,w){return Bl(this),this.i=null,g=Eh(this,g),EM(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},t.get=function(g,w){return g?(g=this.V(g),0<g.length?String(g[0]):w):w};function xM(g,w,A){vM(g,w),0<A.length&&(g.i=null,g.g.set(Eh(g,w),y(A)),g.h+=A.length)}o(xM,"Lb"),t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(var A=0;A<w.length;A++){var P=w[A];const Q=encodeURIComponent(String(P)),be=this.V(P);for(P=0;P<be.length;P++){var q=Q;be[P]!==""&&(q+="="+encodeURIComponent(String(be[P]))),g.push(q)}}return this.i=g.join("&")};function Eh(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}o(Eh,"V");function MJ(g,w){w&&!g.j&&(Bl(g),g.i=null,g.g.forEach(function(A,P){var q=P.toLowerCase();P!=q&&(vM(this,P),xM(this,q,A))},g)),g.j=w}o(MJ,"Ac");function DJ(g,w){const A=new Ir;if(l.Image){const P=new Image;P.onload=p(Ul,A,"TestLoadImage: loaded",!0,w,P),P.onerror=p(Ul,A,"TestLoadImage: error",!1,w,P),P.onabort=p(Ul,A,"TestLoadImage: abort",!1,w,P),P.ontimeout=p(Ul,A,"TestLoadImage: timeout",!1,w,P),l.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=g}else w(!1)}o(DJ,"Fc");function PJ(g,w){const A=new Ir,P=new AbortController,q=setTimeout(()=>{P.abort(),Ul(A,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:P.signal}).then(Q=>{clearTimeout(q),Q.ok?Ul(A,"TestPingServer: ok",!0,w):Ul(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(q),Ul(A,"TestPingServer: error",!1,w)})}o(PJ,"Gc");function Ul(g,w,A,P,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),P(A)}catch{}}o(Ul,"W");function $J(){this.g=new $l}o($J,"Hc");function LJ(g,w,A){const P=A||"";try{yM(g,function(q,Q){let be=q;c(q)&&(be=ln(q)),w.push(P+Q+"="+encodeURIComponent(be))})}catch(q){throw w.push(P+"type="+encodeURIComponent("_badmap")),q}}o(LJ,"Ic");function R1(g){this.l=g.Ub||null,this.j=g.eb||!1}o(R1,"Jc"),m(R1,im),R1.prototype.g=function(){return new O1(this.l,this.j)},R1.prototype.i=(function(g){return function(){return g}})({});function O1(g,w){Te.call(this),this.D=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}o(O1,"Kc"),m(O1,Te),t=O1.prototype,t.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=w,this.readyState=1,dm(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(w.body=g),(this.D||l).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hm(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,dm(this)),this.g&&(this.readyState=3,dm(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;SM(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function SM(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}o(SM,"Nc"),t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?hm(this):dm(this),this.readyState==3&&SM(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,hm(this))},t.Qa=function(g){this.g&&(this.response=g,hm(this))},t.ga=function(){this.g&&hm(this)};function hm(g){g.readyState=4,g.l=null,g.j=null,g.v=null,dm(g)}o(hm,"Mc"),t.setRequestHeader=function(g,w){this.u.append(g,w)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,g.push(A[0]+": "+A[1]),A=w.next();return g.join(`\r
`)};function dm(g){g.onreadystatechange&&g.onreadystatechange.call(g)}o(dm,"Lc"),Object.defineProperty(O1.prototype,"withCredentials",{get:o(function(){return this.m==="include"},"get"),set:o(function(g){this.m=g?"include":"same-origin"},"set")});function TM(g){let w="";return I(g,function(A,P){w+=P,w+=":",w+=A,w+=`\r
`}),w}o(TM,"Oc");function Jx(g,w,A){e:{for(P in A){var P=!1;break e}P=!0}P||(A=TM(A),typeof g=="string"?A!=null&&encodeURIComponent(String(A)):Qt(g,w,A))}o(Jx,"Pc");function Mn(g){Te.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}o(Mn,"X"),m(Mn,Te);var FJ=/^https?$/i,BJ=["POST","PUT"];t=Mn.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,w,A,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wh.g(),this.v=this.o?mc(this.o):mc(wh),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(Q){kM(this,Q);return}if(g=A||"",A=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var q in P)A.set(q,P[q]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const Q of P.keys())A.set(Q,P.get(Q));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(A.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=l.FormData&&g instanceof l.FormData,!(0<=Array.prototype.indexOf.call(BJ,w,void 0))||P||q||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,be]of A)this.g.setRequestHeader(Q,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{IM(this),this.u=!0,this.g.send(g),this.u=!1}catch(Q){kM(this,Q)}};function kM(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.m=5,AM(g),N1(g)}o(kM,"Sc");function AM(g){g.A||(g.A=!0,$e(g,"complete"),$e(g,"error"))}o(AM,"Uc"),t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,$e(this,"complete"),$e(this,"abort"),N1(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),N1(this,!0)),Mn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?CM(this):this.bb())},t.bb=function(){CM(this)};function CM(g){if(g.h&&typeof a<"u"&&(!g.v[1]||$a(g)!=4||g.Z()!=2)){if(g.u&&$a(g)==4)qn(g.Ea,0,g);else if($e(g,"readystatechange"),$a(g)==4){g.h=!1;try{const be=g.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var A;if(!(A=w)){var P;if(P=be===0){var q=String(g.D).match(bM)[1]||null;!q&&l.self&&l.self.location&&(q=l.self.location.protocol.slice(0,-1)),P=!FJ.test(q?q.toLowerCase():"")}A=P}if(A)$e(g,"complete"),$e(g,"success");else{g.m=6;try{var Q=2<$a(g)?g.g.statusText:""}catch{Q=""}g.l=Q+" ["+g.Z()+"]",AM(g)}}finally{N1(g)}}}}o(CM,"Wc");function N1(g,w){if(g.g){IM(g);const A=g.g,P=g.v[0]?()=>{}:null;g.g=null,g.v=null,w||$e(g,"ready");try{A.onreadystatechange=P}catch{}}}o(N1,"Vc");function IM(g){g.I&&(l.clearTimeout(g.I),g.I=null)}o(IM,"Tc"),t.isActive=function(){return!!this.g};function $a(g){return g.g?g.g.readyState:0}o($a,"P"),t.Z=function(){try{return 2<$a(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),Cr(w)}};function RM(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}o(RM,"Nb");function UJ(g){const w={};g=(g.g&&2<=$a(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<g.length;P++){if(S(g[P]))continue;var A=N(g[P]);const q=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const Q=w[q]||[];w[q]=Q,Q.push(A)}x(w,function(P){return P.join(", ")})}o(UJ,"Vb"),t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pm(g,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[g]||w}o(pm,"Xc");function OM(g){this.Aa=0,this.i=[],this.j=new Ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pm("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pm("baseRetryDelayMs",5e3,g),this.cb=pm("retryDelaySeedMs",1e4,g),this.Wa=pm("forwardChannelMaxRetries",2,g),this.wa=pm("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new hM(g&&g.concurrentRequestLimit),this.Da=new $J,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}o(OM,"Yc"),t=OM.prototype,t.la=8,t.G=1,t.connect=function(g,w,A,P){Qn(0),this.W=g,this.H=w||{},A&&P!==void 0&&(this.H.OSID=A,this.H.OAID=P),this.F=this.X,this.I=UM(this,null,this.W),D1(this)};function Zx(g){if(NM(g),g.G==3){var w=g.U++,A=Pa(g.I);if(Qt(A,"SID",g.K),Qt(A,"RID",w),Qt(A,"TYPE","terminate"),mm(g,A),w=new zi(g,g.j,w),w.L=2,w.v=I1(Pa(A)),A=!1,l.navigator&&l.navigator.sendBeacon)try{A=l.navigator.sendBeacon(w.v.toString(),"")}catch{}!A&&l.Image&&(new Image().src=w.v,A=!0),A||(w.g=zM(w.j,null),w.g.ea(w.v)),w.F=Date.now(),vn(w)}BM(g)}o(Zx,"gc");function M1(g){g.g&&(e2(g),g.g.cancel(),g.g=null)}o(M1,"Zb");function NM(g){M1(g),g.u&&(l.clearTimeout(g.u),g.u=null),P1(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&l.clearTimeout(g.s),g.s=null)}o(NM,"Zc");function D1(g){if(!dM(g.h)&&!g.s){g.s=!0;var w=g.Ga;K||ue(),ee||(K(),ee=!0),Z.add(w,g),g.B=0}}o(D1,"fc");function zJ(g,w){return pM(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=w.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=yc(d(g.Ga,g,w),FM(g,g.B)),g.B++,!0)}o(zJ,"bd"),t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const q=new zi(this,this.j,g);let Q=this.o;if(this.S&&(Q?(Q=E(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)e:{for(var w=0,A=0;A<this.i.length;A++){t:{var P=this.i[A];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(w+=P,4096<w){w=A;break e}if(w===4096||A===this.i.length-1){w=A+1;break e}}w=1e3}else w=1e3;w=DM(this,q,w),A=Pa(this.I),Qt(A,"RID",g),Qt(A,"CVER",22),this.D&&Qt(A,"X-HTTP-Session-Id",this.D),mm(this,A),Q&&(this.O?w="headers="+encodeURIComponent(String(TM(Q)))+"&"+w:this.m&&Jx(A,this.m,Q)),Xx(this.h,q),this.Ua&&Qt(A,"TYPE","init"),this.P?(Qt(A,"$req",w),Qt(A,"SID","null"),q.T=!0,de(q,A,null)):de(q,A,w),this.G=2}}else this.G==3&&(g?MM(this,g):this.i.length==0||dM(this.h)||MM(this))};function MM(g,w){var A;w?A=w.l:A=g.U++;const P=Pa(g.I);Qt(P,"SID",g.K),Qt(P,"RID",A),Qt(P,"AID",g.T),mm(g,P),g.m&&g.o&&Jx(P,g.m,g.o),A=new zi(g,g.j,A,g.B+1),g.m===null&&(A.H=g.o),w&&(g.i=w.D.concat(g.i)),w=DM(g,A,1e3),A.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Xx(g.h,A),de(A,P,w)}o(MM,"ed");function mm(g,w){g.H&&I(g.H,function(A,P){Qt(w,P,A)}),g.l&&yM({},function(A,P){Qt(w,P,A)})}o(mm,"$c");function DM(g,w,A){A=Math.min(g.i.length,A);var P=g.l?d(g.l.Na,g.l,g):null;e:{var q=g.i;let Q=-1;for(;;){const be=["count="+A];Q==-1?0<A?(Q=q[0].g,be.push("ofs="+Q)):Q=0:be.push("ofs="+Q);let Vt=!0;for(let gr=0;gr<A;gr++){let St=q[gr].g;const Rr=q[gr].map;if(St-=Q,0>St)Q=Math.max(0,q[gr].g-100),Vt=!1;else try{LJ(Rr,be,"req"+St+"_")}catch{P&&P(Rr)}}if(Vt){P=be.join("&");break e}}}return g=g.i.splice(0,A),w.D=g,P}o(DM,"dd");function PM(g){if(!g.g&&!g.u){g.Y=1;var w=g.Fa;K||ue(),ee||(K(),ee=!0),Z.add(w,g),g.v=0}}o(PM,"ec");function Qx(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=yc(d(g.Fa,g),FM(g,g.v)),g.v++,!0)}o(Qx,"$b"),t.Fa=function(){if(this.u=null,$M(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=yc(d(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qn(10),M1(this),$M(this))};function e2(g){g.A!=null&&(l.clearTimeout(g.A),g.A=null)}o(e2,"Tb");function $M(g){g.g=new zi(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var w=Pa(g.qa);Qt(w,"RID","rpc"),Qt(w,"SID",g.K),Qt(w,"AID",g.T),Qt(w,"CI",g.F?"0":"1"),!g.F&&g.ja&&Qt(w,"TO",g.ja),Qt(w,"TYPE","xmlhttp"),mm(g,w),g.m&&g.o&&Jx(w,g.m,g.o),g.L&&(g.g.I=g.L);var A=g.g;g=g.ia,A.L=1,A.v=I1(Pa(w)),A.m=null,A.P=!0,Ce(A,g)}o($M,"fd"),t.Za=function(){this.C!=null&&(this.C=null,M1(this),Qx(this),Qn(19))};function P1(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}o(P1,"Yb");function LM(g,w){var A=null;if(g.g==w){P1(g),e2(g),g.g=null;var P=2}else if(Yx(g.h,w))A=w.D,mM(g.h,w),P=1;else return;if(g.G!=0){if(w.o)if(P==1){A=w.m?w.m.length:0,w=Date.now()-w.F;var q=g.B;P=No(),$e(P,new am(P,A)),D1(g)}else PM(g);else if(q=w.s,q==3||q==0&&0<w.X||!(P==1&&zJ(g,w)||P==2&&Qx(g)))switch(A&&0<A.length&&(w=g.h,w.i=w.i.concat(A)),q){case 1:wc(g,5);break;case 4:wc(g,10);break;case 3:wc(g,6);break;default:wc(g,2)}}}o(LM,"Ub");function FM(g,w){let A=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(A*=2),A*w}o(FM,"cd");function wc(g,w){if(g.j.info("Error code "+w),w==2){var A=d(g.fb,g),P=g.Xa;const q=!P;P=new _c(P||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||A1(P,"https"),I1(P),q?DJ(P.toString(),A):PJ(P.toString(),A)}else Qn(2);g.G=0,g.l&&g.l.sa(w),BM(g),NM(g)}o(wc,"R"),t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),Qn(2)):(this.j.info("Failed to ping google.com"),Qn(1))};function BM(g){if(g.G=0,g.ka=[],g.l){const w=gM(g.h);(w.length!=0||g.i.length!=0)&&(b(g.ka,w),b(g.ka,g.i),g.h.i.length=0,y(g.i),g.i.length=0),g.l.ra()}}o(BM,"ad");function UM(g,w,A){var P=A instanceof _c?Pa(A):new _c(A);if(P.g!="")w&&(P.g=w+"."+P.g),C1(P,P.s);else{var q=l.location;P=q.protocol,w=w?w+"."+q.hostname:q.hostname,q=+q.port;var Q=new _c(null);P&&A1(Q,P),w&&(Q.g=w),q&&C1(Q,q),A&&(Q.l=A),P=Q}return A=g.D,w=g.ya,A&&w&&Qt(P,A,w),Qt(P,"VER",g.la),mm(g,P),P}o(UM,"cc");function zM(g,w,A){if(w&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Ca&&!g.pa?new Mn(new R1({eb:A})):new Mn(g.pa),w.Ha(g.J),w}o(zM,"Mb"),t.isActive=function(){return!!this.l&&this.l.isActive(this)};function VM(){}o(VM,"gd"),t=VM.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ui(g,w){Te.call(this),this.g=new OM(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(g?g["X-WebChannel-Client-Profile"]=w.va:g={"X-WebChannel-Client-Profile":w.va}),this.g.S=g,(g=w&&w.Sb)&&!S(g)&&(this.g.m=g),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!S(w)&&(this.g.D=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new xh(this)}o(ui,"Y"),m(ui,Te),ui.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ui.prototype.close=function(){Zx(this.g)},ui.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var A={};A.__data__=g,g=A}else this.u&&(A={},A.__data__=ln(g),g=A);w.i.push(new k1(w.Ya++,g)),w.G==3&&D1(w)},ui.prototype.N=function(){this.g.l=null,delete this.j,Zx(this.g),delete this.g,ui.aa.N.call(this)};function jM(g){Ma.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){e:{for(const A in w){g=A;break e}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}o(jM,"id"),m(jM,Ma);function WM(){om.call(this),this.status=1}o(WM,"jd"),m(WM,om);function xh(g){this.g=g}o(xh,"Z"),m(xh,VM),xh.prototype.ua=function(){$e(this.g,"a")},xh.prototype.ta=function(g){$e(this.g,new jM(g))},xh.prototype.sa=function(g){$e(this.g,new WM)},xh.prototype.ra=function(){$e(this.g,"b")},ui.prototype.send=ui.prototype.o,ui.prototype.open=ui.prototype.m,ui.prototype.close=ui.prototype.close,js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,S1.COMPLETE="complete",yh.EventType=gc,gc.OPEN="a",gc.CLOSE="b",gc.ERROR="c",gc.MESSAGE="d",Te.prototype.listen=Te.prototype.K,Mn.prototype.listenOnce=Mn.prototype.L,Mn.prototype.getLastError=Mn.prototype.Ka,Mn.prototype.getLastErrorCode=Mn.prototype.Ba,Mn.prototype.getStatus=Mn.prototype.Z,Mn.prototype.getResponseJson=Mn.prototype.Oa,Mn.prototype.getResponseText=Mn.prototype.oa,Mn.prototype.send=Mn.prototype.ea,Mn.prototype.setWithCredentials=Mn.prototype.Ha}).apply(typeof Y1<"u"?Y1:typeof self<"u"?self:typeof window<"u"?window:{});const zP="@firebase/firestore",VP="4.7.10";class Gs{static{o(this,"User")}constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gs.UNAUTHENTICATED=new Gs(null),Gs.GOOGLE_CREDENTIALS=new Gs("google-credentials-uid"),Gs.FIRST_PARTY=new Gs("first-party-uid"),Gs.MOCK_USER=new Gs("mock-user");let RE="11.5.0";const fw=new my("@firebase/firestore");function to(t,...e){if(fw.logLevel<=It.DEBUG){const n=e.map(LV);fw.debug(`Firestore (${RE}): ${t}`,...n)}}o(to,"__PRIVATE_logDebug");function $V(t,...e){if(fw.logLevel<=It.ERROR){const n=e.map(LV);fw.error(`Firestore (${RE}): ${t}`,...n)}}o($V,"__PRIVATE_logError");function LV(t){if(typeof t=="string")return t;try{return o(function(n){return JSON.stringify(n)},"__PRIVATE_formatJSON")(t)}catch{return t}}o(LV,"__PRIVATE_argToString");function FV(t="Unexpected state"){const e=`FIRESTORE (${RE}) INTERNAL ASSERTION FAILED: `+t;throw $V(e),new Error(e)}o(FV,"fail");function Sg(t,e){t||FV()}o(Sg,"__PRIVATE_hardAssert");const Xi={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class Ji extends Ta{static{o(this,"FirestoreError")}constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tg{static{o(this,"__PRIVATE_Deferred")}constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class ohe{static{o(this,"__PRIVATE_OAuthToken")}constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ahe{static{o(this,"__PRIVATE_EmptyAuthCredentialsProvider")}getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Gs.UNAUTHENTICATED)))}shutdown(){}}class lhe{static{o(this,"__PRIVATE_FirebaseAuthCredentialsProvider")}constructor(e){this.t=e,this.currentUser=Gs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Sg(this.o===void 0);let r=this.i;const s=o(u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),"__PRIVATE_guardedChangeListener");let i=new Tg;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Tg,e.enqueueRetryable((()=>s(this.currentUser)))};const a=o(()=>{const u=i;e.enqueueRetryable((async()=>{await u.promise,await s(this.currentUser)}))},"__PRIVATE_awaitNextToken"),l=o(u=>{to("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())},"__PRIVATE_registerAuth");this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(to("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Tg)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(to("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Sg(typeof r.accessToken=="string"),new ohe(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Sg(e===null||typeof e=="string"),new Gs(e)}}class uhe{static{o(this,"__PRIVATE_FirstPartyToken")}constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Gs.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class che{static{o(this,"__PRIVATE_FirstPartyAuthCredentialsProvider")}constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new uhe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(Gs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jP{static{o(this,"AppCheckToken")}constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fhe{static{o(this,"__PRIVATE_FirebaseAppCheckTokenProvider")}constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,as(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Sg(this.o===void 0);const r=o(i=>{i.error!=null&&to("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,to("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()},"onTokenChanged");this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=o(i=>{to("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)},"__PRIVATE_registerAppCheck");this.A.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):to("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new jP(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Sg(typeof n.token=="string"),this.R=n.token,new jP(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hhe(t){return t.name==="IndexedDbTransactionError"}o(hhe,"__PRIVATE_isIndexedDbTransactionError");const WP="(default)";class hw{static{o(this,"DatabaseId")}constructor(e,n){this.projectId=e,this.database=n||WP}static empty(){return new hw("","")}get isDefaultDatabase(){return this.database===WP}isEqual(e){return e instanceof hw&&e.projectId===this.projectId&&e.database===this.database}}var HP,yt;(yt=HP||(HP={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";new PV([4294967295,4294967295],0);const dhe=41943040;const phe=1048576;function L2(){return typeof document<"u"?document:null}o(L2,"getDocument");class mhe{static{o(this,"__PRIVATE_ExponentialBackoff")}constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&to("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}class H3{static{o(this,"DelayedOperation")}constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Tg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,l=new H3(e,n,a,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ji(Xi.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var qP,GP;(GP=qP||(qP={}))._a="default",GP.Cache="cache";function ghe(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}o(ghe,"__PRIVATE_cloneLongPollingOptions");const KP=new Map;function yhe(t,e,n,r){if(e===!0&&r===!0)throw new Ji(Xi.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}o(yhe,"__PRIVATE_validateIsNotUsedTogether");const bhe="firestore.googleapis.com",YP=!0;class XP{static{o(this,"FirestoreSettingsImpl")}constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ji(Xi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bhe,this.ssl=YP}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:YP;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dhe;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<phe)throw new Ji(Xi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yhe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ghe((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),o(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ji(Xi.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ji(Xi.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ji(Xi.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}},"__PRIVATE_validateLongPollingOptions")(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&o(function(r,s){return r.timeoutSeconds===s.timeoutSeconds},"__PRIVATE_longPollingOptionsEqual")(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _he{static{o(this,"Firestore$1")}constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ji(Xi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ji(Xi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=o(function(r){if(!r)return new ahe;switch(r.type){case"firstParty":return new che(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ji(Xi.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}},"__PRIVATE_makeAuthCredentialsProvider")(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return o(function(n){const r=KP.get(n);r&&(to("ComponentProvider","Removing Datastore"),KP.delete(n),r.terminate())},"__PRIVATE_removeComponents")(this),Promise.resolve()}}const JP="AsyncQueue";class ZP{static{o(this,"__PRIVATE_AsyncQueueImpl")}constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new mhe(this,"async_queue_retry"),this.Su=()=>{const r=L2();r&&to(JP,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=L2();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=L2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const n=new Tg;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!hhe(e))throw e;to(JP,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const n=this.bu.then((()=>(this.pu=!0,e().catch((r=>{this.gu=r,this.pu=!1;const s=o(function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l},"__PRIVATE_getMessageOrStack")(r);throw $V("INTERNAL UNHANDLED ERROR: ",s),r})).then((r=>(this.pu=!1,r))))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=H3.createAndSchedule(this,e,n,r,(i=>this.Fu(i)));return this.fu.push(s),s}Du(){this.gu&&FV()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class whe extends _he{static{o(this,"Firestore")}constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new ZP,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZP(e),this._firestoreClient=void 0,await e}}}o(function(e,n=!0){o(function(s){RE=s},"__PRIVATE_setSDKVersion")(ec),ca(new yo("firestore",((r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),l=new whe(new lhe(r.getProvider("auth-internal")),new fhe(a,r.getProvider("app-check-internal")),o(function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ji(Xi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hw(c.options.projectId,f)},"__PRIVATE_databaseIdFromApp")(a,s),a);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l}),"PUBLIC").setMultipleInstances(!0)),Qs(zP,VP,e),Qs(zP,VP,"esm2017")},"__PRIVATE_registerFirestore")();const BV="firebasestorage.googleapis.com",vhe="storageBucket",Ehe=120*1e3,xhe=600*1e3;class Aa extends Ta{static{o(this,"StorageError")}constructor(e,n,r=0){super(F2(e),`Firebase Storage: ${n} (${F2(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Aa.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return F2(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fa;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fa||(fa={}));function F2(t){return"storage/"+t}o(F2,"prependCode");function She(){const t="An unknown error occurred, please check the error payload for server response.";return new Aa(fa.UNKNOWN,t)}o(She,"unknown");function The(){return new Aa(fa.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}o(The,"retryLimitExceeded");function khe(){return new Aa(fa.CANCELED,"User canceled the upload/download.")}o(khe,"canceled");function Ahe(t){return new Aa(fa.INVALID_URL,"Invalid URL '"+t+"'.")}o(Ahe,"invalidUrl");function Che(t){return new Aa(fa.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}o(Che,"invalidDefaultBucket");function QP(t){return new Aa(fa.INVALID_ARGUMENT,t)}o(QP,"invalidArgument");function UV(){return new Aa(fa.APP_DELETED,"The Firebase app was deleted.")}o(UV,"appDeleted");function Ihe(t){return new Aa(fa.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}o(Ihe,"invalidRootOperation");class no{static{o(this,"Location")}constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=no.makeFromUrl(e,n)}catch{return new no(e,"")}if(r.path==="")return r;throw Che(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}o(i,"gsModify");const a="(/(.*))?$",l=new RegExp("^gs://"+s+a,"i"),u={bucket:1,path:3};function c(k){k.path_=decodeURIComponent(k.path)}o(c,"httpModify");const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${f}/b/${s}/o${d}`,"i"),m={bucket:1,path:3},y=n===BV?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",_=new RegExp(`^https?://${y}/${s}/${b}`,"i"),v=[{regex:l,indices:u,postModify:i},{regex:p,indices:m,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let k=0;k<v.length;k++){const C=v[k],I=C.regex.exec(e);if(I){const x=I[C.indices.bucket];let E=I[C.indices.path];E||(E=""),r=new no(x,E),C.postModify(r);break}}if(r==null)throw Ahe(e);return r}}class Rhe{static{o(this,"FailRequest")}constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Ohe(t,e,n){let r=1,s=null,i=null,a=!1,l=0;function u(){return l===2}o(u,"canceled");let c=!1;function f(...b){c||(c=!0,e.apply(null,b))}o(f,"triggerCallback");function h(b){s=setTimeout(()=>{s=null,t(p,u())},b)}o(h,"callWithDelay");function d(){i&&clearTimeout(i)}o(d,"clearGlobalTimeout");function p(b,..._){if(c){d();return}if(b){d(),f.call(null,b,..._);return}if(u()||a){d(),f.call(null,b,..._);return}r<64&&(r*=2);let v;l===1?(l=2,v=0):v=(r+Math.random())*1e3,h(v)}o(p,"responseHandler");let m=!1;function y(b){m||(m=!0,d(),!c&&(s!==null?(b||(l=2),clearTimeout(s),h(0)):b||(l=1)))}return o(y,"stop"),h(0),i=setTimeout(()=>{a=!0,y(!0)},n),y}o(Ohe,"start$1");function Nhe(t){t(!1)}o(Nhe,"stop");function Mhe(t){return t!==void 0}o(Mhe,"isJustDef");function e$(t,e,n,r){if(r<e)throw QP(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw QP(`Invalid value for '${t}'. Expected ${n} or less.`)}o(e$,"validateNumber");function Dhe(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}o(Dhe,"makeQueryString");var dw;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(dw||(dw={}));function Phe(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}o(Phe,"isRetryStatusCode");class $he{static{o(this,"NetworkRequest")}constructor(e,n,r,s,i,a,l,u,c,f,h,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=o((r,s)=>{if(s){r(!1,new X1(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=o(l=>{const u=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)},"progressListener");this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===dw.NO_ERROR,u=i.getStatus();if(!l||Phe(u,this.additionalRetryCodes_)&&this.retry){const f=i.getErrorCode()===dw.ABORT;r(!1,new X1(!1,null,f));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new X1(c,i))})},"doTheRequest"),n=o((r,s)=>{const i=this.resolve_,a=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());Mhe(u)?i(u):i()}catch(u){a(u)}else if(l!==null){const u=She();u.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,u)):a(u)}else if(s.canceled){const u=this.appDelete_?UV():khe();a(u)}else{const u=The();a(u)}},"backoffDone");this.canceled_?n(!1,new X1(!1,null,!0)):this.backoffId_=Ohe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Nhe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class X1{static{o(this,"RequestEndStatus")}constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Lhe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}o(Lhe,"addAuthHeader_");function Fhe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}o(Fhe,"addVersionHeader_");function Bhe(t,e){e&&(t["X-Firebase-GMPID"]=e)}o(Bhe,"addGmpidHeader_");function Uhe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}o(Uhe,"addAppCheckHeader_");function zhe(t,e,n,r,s,i,a=!0){const l=Dhe(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return Bhe(c,e),Lhe(c,n),Fhe(c,i),Uhe(c,r),new $he(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a)}o(zhe,"makeRequest");function Vhe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}o(Vhe,"parent");function jhe(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}o(jhe,"lastComponent");class pw{static{o(this,"Reference")}constructor(e,n){this._service=e,n instanceof no?this._location=n:this._location=no.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pw(e,n)}get root(){const e=new no(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jhe(this._location.path)}get storage(){return this._service}get parent(){const e=Vhe(this._location.path);if(e===null)return null;const n=new no(this._location.bucket,e);return new pw(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Ihe(e)}}function t$(t,e){const n=e?.[vhe];return n==null?null:no.makeFromBucketSpec(n,t)}o(t$,"extractBucket");class Whe{static{o(this,"FirebaseStorageImpl")}constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=BV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ehe,this._maxUploadRetryTime=xhe,this._requests=new Set,s!=null?this._bucket=no.makeFromBucketSpec(s,this._host):this._bucket=t$(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=no.makeFromBucketSpec(this._url,e):this._bucket=t$(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){e$("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){e$("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(as(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pw(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new Rhe(UV());{const a=zhe(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const n$="@firebase/storage",r$="0.13.7";const Hhe="storage";function qhe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Whe(n,r,s,e,ec)}o(qhe,"factory$1");function Ghe(){ca(new yo(Hhe,qhe,"PUBLIC").setMultipleInstances(!0)),Qs(n$,r$,""),Qs(n$,r$,"esm2017")}o(Ghe,"registerStorage");Ghe();function ize(t,e){let n,r,s;const i=Ie(!0),a=o(()=>{i.value=!0,s()},"update");Jt(t,a,{flush:"sync"});const l=typeof e=="function"?e:e.get,u=typeof e=="function"?void 0:e.set,c=mE((f,h)=>(r=f,s=h,{get(){return i.value&&(n=l(n),i.value=!1),r(),n},set(d){u?.(d)}}));return Object.isExtensible(c)&&(c.trigger=a),c}o(ize,"computedWithControl");function _l(t){return EU()?(Rse(t),!0):!1}o(_l,"tryOnScopeDispose");function oze(t){let e=0,n,r;const s=o(()=>{e-=1,r&&e<=0&&(r.stop(),n=void 0,r=void 0)},"dispose");return(...i)=>(e+=1,n||(r=Ise(!0),n=r.run(()=>t(...i))),_l(s),n)}o(oze,"createSharedComposable");function aze(t,e){return Ae(t)}o(aze,"get$3");function Xe(t){return typeof t=="function"?t():Ae(t)}o(Xe,"toValue$2");function Khe(t){if(!on(t))return mf(t);const e=new Proxy({},{get(n,r,s){return Ae(Reflect.get(t.value,r,s))},set(n,r,s){return on(t.value[r])&&!on(s)?t.value[r].value=s:t.value[r]=s,!0},deleteProperty(n,r){return Reflect.deleteProperty(t.value,r)},has(n,r){return Reflect.has(t.value,r)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return mf(e)}o(Khe,"toReactive");function Yhe(t){return Khe(qe(t))}o(Yhe,"reactiveComputed");function lze(t,...e){const n=e.flat(),r=n[0];return Yhe(()=>Object.fromEntries(typeof r=="function"?Object.entries(Fd(t)).filter(([s,i])=>!r(Xe(i),s)):Object.entries(Fd(t)).filter(s=>!n.includes(s[0]))))}o(lze,"reactiveOmit");const $u=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Xhe=o(t=>t!=null,"notNullish"),Jhe=Object.prototype.toString,Zhe=o(t=>Jhe.call(t)==="[object Object]","isObject$6"),ti=o(()=>{},"noop$5"),Qhe=ede();function ede(){var t,e;return $u&&((t=window?.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window?.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}o(ede,"getIsIOS");function q3(t,e){function n(...r){return new Promise((s,i)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(s).catch(i)})}return o(n,"wrapper"),n}o(q3,"createFilterWrapper");const zV=o(t=>t(),"bypassFilter");function VV(t,e={}){let n,r,s=ti;const i=o(l=>{clearTimeout(l),s(),s=ti},"_clearTimeout");return o(l=>{const u=Xe(t),c=Xe(e.maxWait);return n&&i(n),u<=0||c!==void 0&&c<=0?(r&&(i(r),r=null),Promise.resolve(l())):new Promise((f,h)=>{s=e.rejectOnCancel?h:f,c&&!r&&(r=setTimeout(()=>{n&&i(n),r=null,f(l())},c)),n=setTimeout(()=>{r&&i(r),r=null,f(l())},u)})},"filter")}o(VV,"debounceFilter");function tde(...t){let e=0,n,r=!0,s=ti,i,a,l,u,c;!on(t[0])&&typeof t[0]=="object"?{delay:a,trailing:l=!0,leading:u=!0,rejectOnCancel:c=!1}=t[0]:[a,l=!0,u=!0,c=!1]=t;const f=o(()=>{n&&(clearTimeout(n),n=void 0,s(),s=ti)},"clear");return o(d=>{const p=Xe(a),m=Date.now()-e,y=o(()=>i=d(),"invoke2");return f(),p<=0?(e=Date.now(),y()):(m>p&&(u||!r)?(e=Date.now(),y()):l&&(i=new Promise((b,_)=>{s=c?_:b,n=setTimeout(()=>{e=Date.now(),r=!0,b(y()),f()},Math.max(0,p-m))})),!u&&!n&&(n=setTimeout(()=>r=!0,p)),r=!1,i)},"filter")}o(tde,"throttleFilter");function nde(t=zV){const e=Ie(!0);function n(){e.value=!1}o(n,"pause");function r(){e.value=!0}o(r,"resume");const s=o((...i)=>{e.value&&t(...i)},"eventFilter");return{isActive:Ip(e),pause:n,resume:r,eventFilter:s}}o(nde,"pausableFilter");function cA(t,e=!1,n="Timeout"){return new Promise((r,s)=>{setTimeout(e?()=>s(n):r,t)})}o(cA,"promiseTimeout");function rde(t){let e;function n(){return e||(e=t()),e}return o(n,"wrapper"),n.reset=async()=>{const r=e;e=void 0,r&&await r},n}o(rde,"createSingletonPromise");function sde(t,e){var n;if(typeof t=="number")return t+e;const r=((n=t.match(/^-?\d+\.?\d*/))==null?void 0:n[0])||"",s=t.slice(r.length),i=Number.parseFloat(r)+e;return Number.isNaN(i)?t:i+s}o(sde,"increaseWithUnit");function jV(t){return Bs()}o(jV,"getLifeCycleTarget");function WV(...t){if(t.length!==1)return UU(...t);const e=t[0];return typeof e=="function"?Ip(mE(()=>({get:e,set:ti}))):Ie(e)}o(WV,"toRef");function HV(t,e=200,n={}){return q3(VV(e,n),t)}o(HV,"useDebounceFn");function uze(t,e=200,n={}){const r=Ie(t.value),s=HV(()=>{r.value=t.value},e,n);return Jt(t,()=>s()),r}o(uze,"refDebounced");function ide(t,e=200,n=!1,r=!0,s=!1){return q3(tde(e,n,r,s),t)}o(ide,"useThrottleFn");function qV(t,e,n={}){const{eventFilter:r=zV,...s}=n;return Jt(t,q3(r,e),s)}o(qV,"watchWithFilter");function ode(t,e,n={}){const{eventFilter:r,...s}=n,{eventFilter:i,pause:a,resume:l,isActive:u}=nde(r);return{stop:qV(t,e,{...s,eventFilter:i}),pause:a,resume:l,isActive:u}}o(ode,"watchPausable");function ade(t,e={}){if(!on(t))return Fd(t);const n=Array.isArray(t.value)?Array.from({length:t.value.length}):{};for(const r in t.value)n[r]=mE(()=>({get(){return t.value[r]},set(s){var i;if((i=Xe(e.replaceRef))!=null?i:!0)if(Array.isArray(t.value)){const l=[...t.value];l[r]=s,t.value=l}else{const l={...t.value,[r]:s};Object.setPrototypeOf(l,Object.getPrototypeOf(t.value)),t.value=l}else t.value[r]=s}}));return n}o(ade,"toRefs");function lde(t,e){jV()&&i3(t,e)}o(lde,"tryOnBeforeUnmount");function OE(t,e=!0,n){jV()?rc(t,n):e?t():yf(t)}o(OE,"tryOnMounted");function fA(t,e=!1){function n(h,{flush:d="sync",deep:p=!1,timeout:m,throwOnTimeout:y}={}){let b=null;const S=[new Promise(v=>{b=Jt(t,k=>{h(k)!==e&&(b?b():yf(()=>b?.()),v(k))},{flush:d,deep:p,immediate:!0})})];return m!=null&&S.push(cA(m,y).then(()=>Xe(t)).finally(()=>b?.())),Promise.race(S)}o(n,"toMatch");function r(h,d){if(!on(h))return n(k=>k===h,d);const{flush:p="sync",deep:m=!1,timeout:y,throwOnTimeout:b}=d??{};let _=null;const v=[new Promise(k=>{_=Jt([t,h],([C,I])=>{e!==(C===I)&&(_?_():yf(()=>_?.()),k(C))},{flush:p,deep:m,immediate:!0})})];return y!=null&&v.push(cA(y,b).then(()=>Xe(t)).finally(()=>(_?.(),Xe(t)))),Promise.race(v)}o(r,"toBe");function s(h){return n(d=>!!d,h)}o(s,"toBeTruthy");function i(h){return r(null,h)}o(i,"toBeNull");function a(h){return r(void 0,h)}o(a,"toBeUndefined");function l(h){return n(Number.isNaN,h)}o(l,"toBeNaN");function u(h,d){return n(p=>{const m=Array.from(p);return m.includes(h)||m.includes(Xe(h))},d)}o(u,"toContains");function c(h){return f(1,h)}o(c,"changed");function f(h=1,d){let p=-1;return n(()=>(p+=1,p>=h),d)}return o(f,"changedTimes"),Array.isArray(Xe(t))?{toMatch:n,toContains:u,changed:c,changedTimes:f,get not(){return fA(t,!e)}}:{toMatch:n,toBe:r,toBeTruthy:s,toBeNull:i,toBeNaN:l,toBeUndefined:a,changed:c,changedTimes:f,get not(){return fA(t,!e)}}}o(fA,"createUntil");function ude(t){return fA(t)}o(ude,"until");function cze(t,e=1e3,n={}){const{immediate:r=!0,immediateCallback:s=!1}=n;let i=null;const a=Ie(!1);function l(){i&&(clearInterval(i),i=null)}o(l,"clean");function u(){a.value=!1,l()}o(u,"pause");function c(){const f=Xe(e);f<=0||(a.value=!0,s&&t(),l(),i=setInterval(t,f))}if(o(c,"resume"),r&&$u&&c(),on(e)||typeof e=="function"){const f=Jt(e,()=>{a.value&&$u&&c()});_l(f)}return _l(u),{isActive:a,pause:u,resume:c}}o(cze,"useIntervalFn");function cde(t,e,n={}){const{immediate:r=!0}=n,s=Ie(!1);let i=null;function a(){i&&(clearTimeout(i),i=null)}o(a,"clear");function l(){s.value=!1,a()}o(l,"stop");function u(...c){a(),s.value=!0,i=setTimeout(()=>{s.value=!1,i=null,t(...c)},Xe(e))}return o(u,"start"),r&&(s.value=!0,$u&&u()),_l(l),{isPending:Ip(s),start:u,stop:l}}o(cde,"useTimeoutFn");function fze(t,e,n={}){const{debounce:r=0,maxWait:s=void 0,...i}=n;return qV(t,e,{...i,eventFilter:VV(r,{maxWait:s})})}o(fze,"watchDebounced");function hze(t,e,n){const r=Jt(t,(s,i,a)=>{s&&(n?.once&&yf(()=>r()),e(s,i,a))},{...n,once:!1});return r}o(hze,"whenever");function Br(t){var e;const n=Xe(t);return(e=n?.$el)!=null?e:n}o(Br,"unrefElement$1");const Wr=$u?window:void 0,G3=$u?window.document:void 0,GV=$u?window.navigator:void 0;function An(...t){let e,n,r,s;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,s]=t,e=Wr):[e,n,r,s]=t,!e)return ti;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const i=[],a=o(()=>{i.forEach(f=>f()),i.length=0},"cleanup"),l=o((f,h,d,p)=>(f.addEventListener(h,d,p),()=>f.removeEventListener(h,d,p)),"register"),u=Jt(()=>[Br(e),Xe(s)],([f,h])=>{if(a(),!f)return;const d=Zhe(h)?{...h}:h;i.push(...n.flatMap(p=>r.map(m=>l(f,p,m,d))))},{immediate:!0,flush:"post"}),c=o(()=>{u(),a()},"stop");return _l(c),c}o(An,"useEventListener");let s$=!1;function dze(t,e,n={}){const{window:r=Wr,ignore:s=[],capture:i=!0,detectIframe:a=!1}=n;if(!r)return ti;Qhe&&!s$&&(s$=!0,Array.from(r.document.body.children).forEach(d=>d.addEventListener("click",ti)),r.document.documentElement.addEventListener("click",ti));let l=!0;const u=o(d=>s.some(p=>{if(typeof p=="string")return Array.from(r.document.querySelectorAll(p)).some(m=>m===d.target||d.composedPath().includes(m));{const m=Br(p);return m&&(d.target===m||d.composedPath().includes(m))}}),"shouldIgnore"),f=[An(r,"click",o(d=>{const p=Br(t);if(!(!p||p===d.target||d.composedPath().includes(p))){if(d.detail===0&&(l=!u(d)),!l){l=!0;return}e(d)}},"listener"),{passive:!0,capture:i}),An(r,"pointerdown",d=>{const p=Br(t);l=!u(d)&&!!(p&&!d.composedPath().includes(p))},{passive:!0}),a&&An(r,"blur",d=>{setTimeout(()=>{var p;const m=Br(t);((p=r.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!m?.contains(r.document.activeElement)&&e(d)},0)})].filter(Boolean);return o(()=>f.forEach(d=>d()),"stop")}o(dze,"onClickOutside");function fde(){const t=Ie(!1),e=Bs();return e&&rc(()=>{t.value=!0},e),t}o(fde,"useMounted$1");function Cy(t){const e=fde();return qe(()=>(e.value,!!t()))}o(Cy,"useSupported");function KV(t,e,n={}){const{window:r=Wr,...s}=n;let i;const a=Cy(()=>r&&"MutationObserver"in r),l=o(()=>{i&&(i.disconnect(),i=void 0)},"cleanup"),u=qe(()=>{const d=Xe(t),p=(Array.isArray(d)?d:[d]).map(Br).filter(Xhe);return new Set(p)}),c=Jt(()=>u.value,d=>{l(),a.value&&d.size&&(i=new MutationObserver(e),d.forEach(p=>i.observe(p,s)))},{immediate:!0,flush:"post"}),f=o(()=>i?.takeRecords(),"takeRecords"),h=o(()=>{c(),l()},"stop");return _l(h),{isSupported:a,stop:h,takeRecords:f}}o(KV,"useMutationObserver");function pze(t,e={}){const{immediate:n=!0,fpsLimit:r=void 0,window:s=Wr}=e,i=Ie(!1),a=r?1e3/r:null;let l=0,u=null;function c(d){if(!i.value||!s)return;l||(l=d);const p=d-l;if(a&&p<a){u=s.requestAnimationFrame(c);return}l=d,t({delta:p,timestamp:d}),u=s.requestAnimationFrame(c)}o(c,"loop");function f(){!i.value&&s&&(i.value=!0,l=0,u=s.requestAnimationFrame(c))}o(f,"resume");function h(){i.value=!1,u!=null&&s&&(s.cancelAnimationFrame(u),u=null)}return o(h,"pause"),n&&f(),_l(h),{isActive:Ip(i),pause:h,resume:f}}o(pze,"useRafFn");function hde(t,e,n){const{immediate:r=!0,delay:s=0,onError:i=ti,onSuccess:a=ti,resetOnExecute:l=!0,shallow:u=!0,throwError:c}=n??{},f=u?a0(e):Ie(e),h=Ie(!1),d=Ie(!1),p=a0(void 0);async function m(_=0,...S){l&&(f.value=e),p.value=void 0,h.value=!1,d.value=!0,_>0&&await cA(_);const v=typeof t=="function"?t(...S):t;try{const k=await v;f.value=k,h.value=!0,a(k)}catch(k){if(p.value=k,i(k),c)throw k}finally{d.value=!1}return f.value}o(m,"execute"),r&&m(s);const y={state:f,isReady:h,isLoading:d,error:p,execute:m};function b(){return new Promise((_,S)=>{ude(d).toBe(!1).then(()=>_(y)).catch(S)})}return o(b,"waitUntilIsLoaded"),{...y,then(_,S){return b().then(_,S)}}}o(hde,"useAsyncState");function Sm(t,e={}){const{window:n=Wr}=e,r=Cy(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let s;const i=Ie(!1),a=o(c=>{i.value=c.matches},"handler"),l=o(()=>{s&&("removeEventListener"in s?s.removeEventListener("change",a):s.removeListener(a))},"cleanup"),u=v9(()=>{r.value&&(l(),s=n.matchMedia(Xe(t)),"addEventListener"in s?s.addEventListener("change",a):s.addListener(a),i.value=s.matches)});return _l(()=>{u(),l(),s=void 0}),i}o(Sm,"useMediaQuery");const mze={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function gze(t,e={}){function n(f,h){let d=Xe(t[Xe(f)]);return h!=null&&(d=sde(d,h)),typeof d=="number"&&(d=`${d}px`),d}o(n,"getValue2");const{window:r=Wr,strategy:s="min-width"}=e;function i(f){return r?r.matchMedia(f).matches:!1}o(i,"match");const a=o(f=>Sm(()=>`(min-width: ${n(f)})`,e),"greaterOrEqual"),l=o(f=>Sm(()=>`(max-width: ${n(f)})`,e),"smallerOrEqual"),u=Object.keys(t).reduce((f,h)=>(Object.defineProperty(f,h,{get:o(()=>s==="min-width"?a(h):l(h),"get"),enumerable:!0,configurable:!0}),f),{});function c(){const f=Object.keys(t).map(h=>[h,a(h)]);return qe(()=>f.filter(([,h])=>h.value).map(([h])=>h))}return o(c,"current"),Object.assign(u,{greaterOrEqual:a,smallerOrEqual:l,greater(f){return Sm(()=>`(min-width: ${n(f,.1)})`,e)},smaller(f){return Sm(()=>`(max-width: ${n(f,-.1)})`,e)},between(f,h){return Sm(()=>`(min-width: ${n(f)}) and (max-width: ${n(h,-.1)})`,e)},isGreater(f){return i(`(min-width: ${n(f,.1)})`)},isGreaterOrEqual(f){return i(`(min-width: ${n(f)})`)},isSmaller(f){return i(`(max-width: ${n(f,-.1)})`)},isSmallerOrEqual(f){return i(`(max-width: ${n(f)})`)},isInBetween(f,h){return i(`(min-width: ${n(f)}) and (max-width: ${n(h,-.1)})`)},current:c,active(){const f=c();return qe(()=>f.value.length===0?"":f.value.at(-1))}})}o(gze,"useBreakpoints");function i$(t,e={}){const{controls:n=!1,navigator:r=GV}=e,s=Cy(()=>r&&"permissions"in r);let i;const a=typeof t=="string"?{name:t}:t,l=Ie(),u=o(()=>{i&&(l.value=i.state)},"onChange"),c=rde(async()=>{if(s.value){if(!i)try{i=await r.permissions.query(a),An(i,"change",u),u()}catch{l.value="prompt"}return i}});return c(),n?{state:l,isSupported:s,query:c}:l}o(i$,"usePermission");function yze(t={}){const{navigator:e=GV,read:n=!1,source:r,copiedDuring:s=1500,legacy:i=!1}=t,a=Cy(()=>e&&"clipboard"in e),l=i$("clipboard-read"),u=i$("clipboard-write"),c=qe(()=>a.value||i),f=Ie(""),h=Ie(!1),d=cde(()=>h.value=!1,s);function p(){a.value&&_(l.value)?e.clipboard.readText().then(S=>{f.value=S}):f.value=b()}o(p,"updateText"),c.value&&n&&An(["copy","cut"],p);async function m(S=Xe(r)){c.value&&S!=null&&(a.value&&_(u.value)?await e.clipboard.writeText(S):y(S),f.value=S,h.value=!0,d.start())}o(m,"copy");function y(S){const v=document.createElement("textarea");v.value=S??"",v.style.position="absolute",v.style.opacity="0",document.body.appendChild(v),v.select(),document.execCommand("copy"),v.remove()}o(y,"legacyCopy");function b(){var S,v,k;return(k=(v=(S=document?.getSelection)==null?void 0:S.call(document))==null?void 0:v.toString())!=null?k:""}o(b,"legacyRead");function _(S){return S==="granted"||S==="prompt"}return o(_,"isAllowed"),{isSupported:c,text:f,copied:h,copy:m}}o(yze,"useClipboard");const J1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z1="__vueuse_ssr_handlers__",dde=pde();function pde(){return Z1 in J1||(J1[Z1]=J1[Z1]||{}),J1[Z1]}o(pde,"getHandlers");function mde(t,e){return dde[t]||e}o(mde,"getSSRHandler");function gde(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}o(gde,"guessSerializerType");const yde={boolean:{read:o(t=>t==="true","read"),write:o(t=>String(t),"write")},object:{read:o(t=>JSON.parse(t),"read"),write:o(t=>JSON.stringify(t),"write")},number:{read:o(t=>Number.parseFloat(t),"read"),write:o(t=>String(t),"write")},any:{read:o(t=>t,"read"),write:o(t=>String(t),"write")},string:{read:o(t=>t,"read"),write:o(t=>String(t),"write")},map:{read:o(t=>new Map(JSON.parse(t)),"read"),write:o(t=>JSON.stringify(Array.from(t.entries())),"write")},set:{read:o(t=>new Set(JSON.parse(t)),"read"),write:o(t=>JSON.stringify(Array.from(t)),"write")},date:{read:o(t=>new Date(t),"read"),write:o(t=>t.toISOString(),"write")}},o$="vueuse-storage";function bde(t,e,n,r={}){var s;const{flush:i="pre",deep:a=!0,listenToStorageChanges:l=!0,writeDefaults:u=!0,mergeDefaults:c=!1,shallow:f,window:h=Wr,eventFilter:d,onError:p=o(O=>{console.error(O)},"onError"),initOnMounted:m}=r,y=(f?a0:Ie)(typeof e=="function"?e():e);if(!n)try{n=mde("getDefaultStorage",()=>{var O;return(O=Wr)==null?void 0:O.localStorage})()}catch(O){p(O)}if(!n)return y;const b=Xe(e),_=gde(b),S=(s=r.serializer)!=null?s:yde[_],{pause:v,resume:k}=ode(y,()=>I(y.value),{flush:i,deep:a,eventFilter:d});h&&l&&OE(()=>{n instanceof Storage?An(h,"storage",E):An(h,o$,T),m&&E()}),m||E();function C(O,N){h&&!(n instanceof Storage)&&h.dispatchEvent(new CustomEvent(o$,{detail:{key:t,oldValue:O,newValue:N,storageArea:n}}))}o(C,"dispatchWriteEvent");function I(O){try{const N=n.getItem(t);if(O==null)C(N,null),n.removeItem(t);else{const R=S.write(O);N!==R&&(n.setItem(t,R),C(N,R))}}catch(N){p(N)}}o(I,"write");function x(O){const N=O?O.newValue:n.getItem(t);if(N==null)return u&&b!=null&&n.setItem(t,S.write(b)),b;if(!O&&c){const R=S.read(N);return typeof c=="function"?c(R,b):_==="object"&&!Array.isArray(R)?{...b,...R}:R}else return typeof N!="string"?N:S.read(N)}o(x,"read");function E(O){if(!(O&&O.storageArea!==n)){if(O&&O.key==null){y.value=b;return}if(!(O&&O.key!==t)){v();try{O?.newValue!==S.write(y.value)&&(y.value=x(O))}catch(N){p(N)}finally{O?yf(k):k()}}}}o(E,"update");function T(O){E(O.detail)}return o(T,"updateFromCustomEvent"),y}o(bde,"useStorage");function bze(t,e={}){var n,r;const{pointerTypes:s,preventDefault:i,stopPropagation:a,exact:l,onMove:u,onEnd:c,onStart:f,initialValue:h,axis:d="both",draggingElement:p=Wr,containerElement:m,handle:y=t,buttons:b=[0]}=e,_=Ie((n=Xe(h))!=null?n:{x:0,y:0}),S=Ie(),v=o(E=>s?s.includes(E.pointerType):!0,"filterEvent"),k=o(E=>{Xe(i)&&E.preventDefault(),Xe(a)&&E.stopPropagation()},"handleEvent"),C=o(E=>{var T;if(!Xe(b).includes(E.button)||Xe(e.disabled)||!v(E)||Xe(l)&&E.target!==Xe(t))return;const O=Xe(m),N=(T=O?.getBoundingClientRect)==null?void 0:T.call(O),R=Xe(t).getBoundingClientRect(),M={x:E.clientX-(O?R.left-N.left+O.scrollLeft:R.left),y:E.clientY-(O?R.top-N.top+O.scrollTop:R.top)};f?.(M,E)!==!1&&(S.value=M,k(E))},"start"),I=o(E=>{if(Xe(e.disabled)||!v(E)||!S.value)return;const T=Xe(m),O=Xe(t).getBoundingClientRect();let{x:N,y:R}=_.value;(d==="x"||d==="both")&&(N=E.clientX-S.value.x,T&&(N=Math.min(Math.max(0,N),T.scrollWidth-O.width))),(d==="y"||d==="both")&&(R=E.clientY-S.value.y,T&&(R=Math.min(Math.max(0,R),T.scrollHeight-O.height))),_.value={x:N,y:R},u?.(_.value,E),k(E)},"move"),x=o(E=>{Xe(e.disabled)||!v(E)||S.value&&(S.value=void 0,c?.(_.value,E),k(E))},"end");if($u){const E={capture:(r=e.capture)!=null?r:!0};An(y,"pointerdown",C,E),An(p,"pointermove",I,E),An(p,"pointerup",x,E)}return{...ade(_),position:_,isDragging:qe(()=>!!S.value),style:qe(()=>`left:${_.value.x}px;top:${_.value.y}px;`)}}o(bze,"useDraggable");function YV(t,e,n={}){const{window:r=Wr,...s}=n;let i;const a=Cy(()=>r&&"ResizeObserver"in r),l=o(()=>{i&&(i.disconnect(),i=void 0)},"cleanup"),u=qe(()=>{const h=Xe(t);return Array.isArray(h)?h.map(d=>Br(d)):[Br(h)]}),c=Jt(u,h=>{if(l(),a.value&&r){i=new ResizeObserver(e);for(const d of h)d&&i.observe(d,s)}},{immediate:!0,flush:"post"}),f=o(()=>{l(),c()},"stop");return _l(f),{isSupported:a,stop:f}}o(YV,"useResizeObserver");function _ze(t,e={}){const{reset:n=!0,windowResize:r=!0,windowScroll:s=!0,immediate:i=!0,updateTiming:a="sync"}=e,l=Ie(0),u=Ie(0),c=Ie(0),f=Ie(0),h=Ie(0),d=Ie(0),p=Ie(0),m=Ie(0);function y(){const _=Br(t);if(!_){n&&(l.value=0,u.value=0,c.value=0,f.value=0,h.value=0,d.value=0,p.value=0,m.value=0);return}const S=_.getBoundingClientRect();l.value=S.height,u.value=S.bottom,c.value=S.left,f.value=S.right,h.value=S.top,d.value=S.width,p.value=S.x,m.value=S.y}o(y,"recalculate");function b(){a==="sync"?y():a==="next-frame"&&requestAnimationFrame(()=>y())}return o(b,"update"),YV(t,b),Jt(()=>Br(t),_=>!_&&b()),KV(t,b,{attributeFilter:["style","class"]}),s&&An("scroll",b,{capture:!0,passive:!0}),r&&An("resize",b,{passive:!0}),OE(()=>{i&&b()}),{height:l,bottom:u,left:c,right:f,top:h,width:d,x:p,y:m,update:b}}o(_ze,"useElementBounding");function wze(t,e={}){const{delayEnter:n=0,delayLeave:r=0,window:s=Wr}=e,i=Ie(!1);let a;const l=o(u=>{const c=u?n:r;a&&(clearTimeout(a),a=void 0),c?a=setTimeout(()=>i.value=u,c):i.value=u},"toggle");return s&&(An(t,"mouseenter",()=>l(!0),{passive:!0}),An(t,"mouseleave",()=>l(!1),{passive:!0})),i}o(wze,"useElementHover");function vze(t,e={width:0,height:0},n={}){const{window:r=Wr,box:s="content-box"}=n,i=qe(()=>{var h,d;return(d=(h=Br(t))==null?void 0:h.namespaceURI)==null?void 0:d.includes("svg")}),a=Ie(e.width),l=Ie(e.height),{stop:u}=YV(t,([h])=>{const d=s==="border-box"?h.borderBoxSize:s==="content-box"?h.contentBoxSize:h.devicePixelContentBoxSize;if(r&&i.value){const p=Br(t);if(p){const m=p.getBoundingClientRect();a.value=m.width,l.value=m.height}}else if(d){const p=Array.isArray(d)?d:[d];a.value=p.reduce((m,{inlineSize:y})=>m+y,0),l.value=p.reduce((m,{blockSize:y})=>m+y,0)}else a.value=h.contentRect.width,l.value=h.contentRect.height},n);OE(()=>{const h=Br(t);h&&(a.value="offsetWidth"in h?h.offsetWidth:e.width,l.value="offsetHeight"in h?h.offsetHeight:e.height)});const c=Jt(()=>Br(t),h=>{a.value=h?e.width:0,l.value=h?e.height:0});function f(){u(),c()}return o(f,"stop"),{width:a,height:l,stop:f}}o(vze,"useElementSize");function Eze(t=null,e={}){const{baseUrl:n="",rel:r="icon",document:s=G3}=e,i=WV(t),a=o(l=>{const u=s?.head.querySelectorAll(`link[rel*="${r}"]`);if(!u||u.length===0){const c=s?.createElement("link");c&&(c.rel=r,c.href=`${n}${l}`,c.type=`image/${l.split(".").pop()}`,s?.head.append(c));return}u?.forEach(c=>c.href=`${n}${l}`)},"applyIcon");return Jt(i,(l,u)=>{typeof l=="string"&&l!==u&&a(l)},{immediate:!0}),i}o(Eze,"useFavicon");async function _de(t){return new Promise((e,n)=>{const r=new Image,{src:s,srcset:i,sizes:a,class:l,loading:u,crossorigin:c,referrerPolicy:f}=t;r.src=s,i&&(r.srcset=i),a&&(r.sizes=a),l&&(r.className=l),u&&(r.loading=u),c&&(r.crossOrigin=c),f&&(r.referrerPolicy=f),r.onload=()=>e(r),r.onerror=n})}o(_de,"loadImage");function xze(t,e={}){const n=hde(()=>_de(Xe(t)),void 0,{resetOnExecute:!0,...e});return Jt(()=>Xe(t),()=>n.execute(e.delay),{deep:!0}),n}o(xze,"useImage");const a$=1;function Sze(t,e={}){const{throttle:n=0,idle:r=200,onStop:s=ti,onScroll:i=ti,offset:a={left:0,right:0,top:0,bottom:0},eventListenerOptions:l={capture:!1,passive:!0},behavior:u="auto",window:c=Wr,onError:f=o(x=>{console.error(x)},"onError")}=e,h=Ie(0),d=Ie(0),p=qe({get(){return h.value},set(x){y(x,void 0)}}),m=qe({get(){return d.value},set(x){y(void 0,x)}});function y(x,E){var T,O,N,R;if(!c)return;const M=Xe(t);if(!M)return;(N=M instanceof Document?c.document.body:M)==null||N.scrollTo({top:(T=Xe(E))!=null?T:m.value,left:(O=Xe(x))!=null?O:p.value,behavior:Xe(u)});const B=((R=M?.document)==null?void 0:R.documentElement)||M?.documentElement||M;p!=null&&(h.value=B.scrollLeft),m!=null&&(d.value=B.scrollTop)}o(y,"scrollTo2");const b=Ie(!1),_=mf({left:!0,right:!1,top:!0,bottom:!1}),S=mf({left:!1,right:!1,top:!1,bottom:!1}),v=o(x=>{b.value&&(b.value=!1,S.left=!1,S.right=!1,S.top=!1,S.bottom=!1,s(x))},"onScrollEnd"),k=HV(v,n+r),C=o(x=>{var E;if(!c)return;const T=((E=x?.document)==null?void 0:E.documentElement)||x?.documentElement||Br(x),{display:O,flexDirection:N}=getComputedStyle(T),R=T.scrollLeft;S.left=R<h.value,S.right=R>h.value;const M=Math.abs(R)<=(a.left||0),B=Math.abs(R)+T.clientWidth>=T.scrollWidth-(a.right||0)-a$;O==="flex"&&N==="row-reverse"?(_.left=B,_.right=M):(_.left=M,_.right=B),h.value=R;let z=T.scrollTop;x===c.document&&!z&&(z=c.document.body.scrollTop),S.top=z<d.value,S.bottom=z>d.value;const V=Math.abs(z)<=(a.top||0),K=Math.abs(z)+T.clientHeight>=T.scrollHeight-(a.bottom||0)-a$;O==="flex"&&N==="column-reverse"?(_.top=K,_.bottom=V):(_.top=V,_.bottom=K),d.value=z},"setArrivedState"),I=o(x=>{var E;if(!c)return;const T=(E=x.target.documentElement)!=null?E:x.target;C(T),b.value=!0,k(x),i(x)},"onScrollHandler");return An(t,"scroll",n?ide(I,n,!0,!1):I,l),OE(()=>{try{const x=Xe(t);if(!x)return;C(x)}catch(x){f(x)}}),An(t,"scrollend",v,l),{x:p,y:m,isScrolling:b,arrivedState:_,directions:S,measure(){const x=Xe(t);c&&x&&C(x)}}}o(Sze,"useScroll");const wde=["mousedown","mouseup","keydown","keyup"];function Tze(t,e={}){const{events:n=wde,document:r=G3,initial:s=null}=e,i=Ie(s);return r&&n.forEach(a=>{An(r,a,l=>{typeof l.getModifierState=="function"&&(i.value=l.getModifierState(t))})}),i}o(Tze,"useKeyModifier");function kze(t,e,n={}){const{window:r=Wr}=n;return bde(t,e,r?.localStorage,n)}o(kze,"useLocalStorage");const vde={page:o(t=>[t.pageX,t.pageY],"page"),client:o(t=>[t.clientX,t.clientY],"client"),screen:o(t=>[t.screenX,t.screenY],"screen"),movement:o(t=>t instanceof Touch?null:[t.movementX,t.movementY],"movement")};function Ede(t={}){const{type:e="page",touch:n=!0,resetOnTouchEnds:r=!1,initialValue:s={x:0,y:0},window:i=Wr,target:a=i,scroll:l=!0,eventFilter:u}=t;let c=null;const f=Ie(s.x),h=Ie(s.y),d=Ie(null),p=typeof e=="function"?e:vde[e],m=o(C=>{const I=p(C);c=C,I&&([f.value,h.value]=I,d.value="mouse")},"mouseHandler"),y=o(C=>{if(C.touches.length>0){const I=p(C.touches[0]);I&&([f.value,h.value]=I,d.value="touch")}},"touchHandler"),b=o(()=>{if(!c||!i)return;const C=p(c);c instanceof MouseEvent&&C&&(f.value=C[0]+i.scrollX,h.value=C[1]+i.scrollY)},"scrollHandler"),_=o(()=>{f.value=s.x,h.value=s.y},"reset"),S=u?C=>u(()=>m(C),{}):C=>m(C),v=u?C=>u(()=>y(C),{}):C=>y(C),k=u?()=>u(()=>b(),{}):()=>b();if(a){const C={passive:!0};An(a,["mousemove","dragover"],S,C),n&&e!=="movement"&&(An(a,["touchstart","touchmove"],v,C),r&&An(a,"touchend",_,C)),l&&e==="page"&&An(i,"scroll",k,{passive:!0})}return{x:f,y:h,sourceType:d}}o(Ede,"useMouse");function Aze(t,e={}){const{handleOutside:n=!0,window:r=Wr}=e,s=e.type||"page",{x:i,y:a,sourceType:l}=Ede(e),u=Ie(t??r?.document.body),c=Ie(0),f=Ie(0),h=Ie(0),d=Ie(0),p=Ie(0),m=Ie(0),y=Ie(!0);let b=o(()=>{},"stop");return r&&(b=Jt([u,i,a],()=>{const _=Br(u);if(!_||!(_ instanceof HTMLElement))return;const{left:S,top:v,width:k,height:C}=_.getBoundingClientRect();h.value=S+(s==="page"?r.pageXOffset:0),d.value=v+(s==="page"?r.pageYOffset:0),p.value=C,m.value=k;const I=i.value-h.value,x=a.value-d.value;y.value=k===0||C===0||I<0||x<0||I>k||x>C,(n||!y.value)&&(c.value=I,f.value=x)},{immediate:!0}),An(document,"mouseleave",()=>{y.value=!0})),{x:i,y:a,sourceType:l,elementX:c,elementY:f,elementPositionX:h,elementPositionY:d,elementHeight:p,elementWidth:m,isOutside:y,stop:b}}o(Aze,"useMouseInElement");function Cze(t=null,e={}){var n,r,s;const{document:i=G3,restoreOnUnmount:a=o(h=>h,"restoreOnUnmount")}=e,l=(n=i?.title)!=null?n:"",u=WV((r=t??i?.title)!=null?r:null),c=t&&typeof t=="function";function f(h){if(!("titleTemplate"in e))return h;const d=e.titleTemplate||"%s";return typeof d=="function"?d(h):Xe(d).replace(/%s/g,h)}return o(f,"format"),Jt(u,(h,d)=>{h!==d&&i&&(i.title=f(typeof h=="string"?h:""))},{immediate:!0}),e.observe&&!e.titleTemplate&&i&&!c&&KV((s=i.head)==null?void 0:s.querySelector("title"),()=>{i&&i.title!==u.value&&(u.value=f(i.title))},{childList:!0}),lde(()=>{if(a){const h=a(l,u.value||"");h!=null&&i&&(i.title=h)}}),u}o(Cze,"useTitle");function XV(t,e){return o(function(){return t.apply(e,arguments)},"wrap")}o(XV,"bind$3");const{toString:xde}=Object.prototype,{getPrototypeOf:K3}=Object,{iterator:NE,toStringTag:JV}=Symbol,ME=(t=>e=>{const n=xde.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ko=o(t=>(t=t.toLowerCase(),e=>ME(e)===t),"kindOfTest"),DE=o(t=>e=>typeof e===t,"typeOfTest"),{isArray:Pp}=Array,qd=DE("undefined");function Iy(t){return t!==null&&!qd(t)&&t.constructor!==null&&!qd(t.constructor)&&Ds(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}o(Iy,"isBuffer$2");const ZV=ko("ArrayBuffer");function Sde(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&ZV(t.buffer),e}o(Sde,"isArrayBufferView");const Tde=DE("string"),Ds=DE("function"),QV=DE("number"),Ry=o(t=>t!==null&&typeof t=="object","isObject$5"),kde=o(t=>t===!0||t===!1,"isBoolean$3"),e_=o(t=>{if(ME(t)!=="object")return!1;const e=K3(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(JV in t)&&!(NE in t)},"isPlainObject$3"),Ade=o(t=>{if(!Ry(t)||Iy(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},"isEmptyObject$1"),Cde=ko("Date"),Ide=ko("File"),Rde=ko("Blob"),Ode=ko("FileList"),Nde=o(t=>Ry(t)&&Ds(t.pipe),"isStream"),Mde=o(t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ds(t.append)&&((e=ME(t))==="formdata"||e==="object"&&Ds(t.toString)&&t.toString()==="[object FormData]"))},"isFormData"),Dde=ko("URLSearchParams"),[Pde,$de,Lde,Fde]=["ReadableStream","Request","Response","Headers"].map(ko),Bde=o(t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),"trim$2");function Oy(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Pp(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{if(Iy(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let l;for(r=0;r<a;r++)l=i[r],e.call(null,t[l],l,t)}}o(Oy,"forEach$2");function e7(t,e){if(Iy(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}o(e7,"findKey$2");const Wc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,t7=o(t=>!qd(t)&&t!==Wc,"isContextDefined");function hA(){const{caseless:t,skipUndefined:e}=t7(this)&&this||{},n={},r=o((s,i)=>{const a=t&&e7(n,i)||i;e_(n[a])&&e_(s)?n[a]=hA(n[a],s):e_(s)?n[a]=hA({},s):Pp(s)?n[a]=s.slice():(!e||!qd(s))&&(n[a]=s)},"assignValue");for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Oy(arguments[s],r);return n}o(hA,"merge$1");const Ude=o((t,e,n,{allOwnKeys:r}={})=>(Oy(e,(s,i)=>{n&&Ds(s)?t[i]=XV(s,n):t[i]=s},{allOwnKeys:r}),t),"extend"),zde=o(t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),"stripBOM"),Vde=o((t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},"inherits"),jde=o((t,e,n,r)=>{let s,i,a;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)a=s[i],(!r||r(a,t,e))&&!l[a]&&(e[a]=t[a],l[a]=!0);t=n!==!1&&K3(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},"toFlatObject"),Wde=o((t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},"endsWith$1"),Hde=o(t=>{if(!t)return null;if(Pp(t))return t;let e=t.length;if(!QV(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},"toArray$2"),qde=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&K3(Uint8Array)),Gde=o((t,e)=>{const r=(t&&t[NE]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},"forEachEntry"),Kde=o((t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},"matchAll"),Yde=ko("HTMLFormElement"),Xde=o(t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,o(function(n,r,s){return r.toUpperCase()+s},"replacer")),"toCamelCase"),l$=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Jde=ko("RegExp"),n7=o((t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Oy(n,(s,i)=>{let a;(a=e(s,i,t))!==!1&&(r[i]=a||s)}),Object.defineProperties(t,r)},"reduceDescriptors"),Zde=o(t=>{n7(t,(e,n)=>{if(Ds(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ds(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},"freezeMethods"),Qde=o((t,e)=>{const n={},r=o(s=>{s.forEach(i=>{n[i]=!0})},"define");return Pp(t)?r(t):r(String(t).split(e)),n},"toObjectSet"),epe=o(()=>{},"noop$4"),tpe=o((t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,"toFiniteNumber");function npe(t){return!!(t&&Ds(t.append)&&t[JV]==="FormData"&&t[NE])}o(npe,"isSpecCompliantForm");const rpe=o(t=>{const e=new Array(10),n=o((r,s)=>{if(Ry(r)){if(e.indexOf(r)>=0)return;if(Iy(r))return r;if(!("toJSON"in r)){e[s]=r;const i=Pp(r)?[]:{};return Oy(r,(a,l)=>{const u=n(a,s+1);!qd(u)&&(i[l]=u)}),e[s]=void 0,i}}return r},"visit");return n(t,0)},"toJSONObject"),spe=ko("AsyncFunction"),ipe=o(t=>t&&(Ry(t)||Ds(t))&&Ds(t.then)&&Ds(t.catch),"isThenable"),r7=((t,e)=>t?setImmediate:e?((n,r)=>(Wc.addEventListener("message",({source:s,data:i})=>{s===Wc&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Wc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ds(Wc.postMessage)),ope=typeof queueMicrotask<"u"?queueMicrotask.bind(Wc):typeof process<"u"&&process.nextTick||r7,ape=o(t=>t!=null&&Ds(t[NE]),"isIterable"),Y={isArray:Pp,isArrayBuffer:ZV,isBuffer:Iy,isFormData:Mde,isArrayBufferView:Sde,isString:Tde,isNumber:QV,isBoolean:kde,isObject:Ry,isPlainObject:e_,isEmptyObject:Ade,isReadableStream:Pde,isRequest:$de,isResponse:Lde,isHeaders:Fde,isUndefined:qd,isDate:Cde,isFile:Ide,isBlob:Rde,isRegExp:Jde,isFunction:Ds,isStream:Nde,isURLSearchParams:Dde,isTypedArray:qde,isFileList:Ode,forEach:Oy,merge:hA,extend:Ude,trim:Bde,stripBOM:zde,inherits:Vde,toFlatObject:jde,kindOf:ME,kindOfTest:ko,endsWith:Wde,toArray:Hde,forEachEntry:Gde,matchAll:Kde,isHTMLForm:Yde,hasOwnProperty:l$,hasOwnProp:l$,reduceDescriptors:n7,freezeMethods:Zde,toObjectSet:Qde,toCamelCase:Xde,noop:epe,toFiniteNumber:tpe,findKey:e7,global:Wc,isContextDefined:t7,isSpecCompliantForm:npe,toJSONObject:rpe,isAsyncFn:spe,isThenable:ipe,setImmediate:r7,asap:ope,isIterable:ape};function Ze(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}o(Ze,"AxiosError$1");Y.inherits(Ze,Error,{toJSON:o(function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}},"toJSON")});const s7=Ze.prototype,i7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{i7[t]={value:t}});Object.defineProperties(Ze,i7);Object.defineProperty(s7,"isAxiosError",{value:!0});Ze.from=(t,e,n,r,s,i)=>{const a=Object.create(s7);Y.toFlatObject(t,a,o(function(f){return f!==Error.prototype},"filter"),c=>c!=="isAxiosError");const l=t&&t.message?t.message:"Error",u=e==null&&t?t.code:e;return Ze.call(a,l,u,n,r,s),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",i&&Object.assign(a,i),a};const lpe=null;function dA(t){return Y.isPlainObject(t)||Y.isArray(t)}o(dA,"isVisitable");function o7(t){return Y.endsWith(t,"[]")?t.slice(0,-2):t}o(o7,"removeBrackets");function u$(t,e,n){return t?t.concat(e).map(o(function(s,i){return s=o7(s),!n&&i?"["+s+"]":s},"each")).join(n?".":""):e}o(u$,"renderKey");function upe(t){return Y.isArray(t)&&!t.some(dA)}o(upe,"isFlatArray");const cpe=Y.toFlatObject(Y,{},null,o(function(e){return/^is[A-Z]/.test(e)},"filter"));function PE(t,e,n){if(!Y.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,o(function(y,b){return!Y.isUndefined(b[y])},"defined"));const r=n.metaTokens,s=n.visitor||f,i=n.dots,a=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(Y.isDate(m))return m.toISOString();if(Y.isBoolean(m))return m.toString();if(!u&&Y.isBlob(m))throw new Ze("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(m)||Y.isTypedArray(m)?u&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}o(c,"convertValue");function f(m,y,b){let _=m;if(m&&!b&&typeof m=="object"){if(Y.endsWith(y,"{}"))y=r?y:y.slice(0,-2),m=JSON.stringify(m);else if(Y.isArray(m)&&upe(m)||(Y.isFileList(m)||Y.endsWith(y,"[]"))&&(_=Y.toArray(m)))return y=o7(y),_.forEach(o(function(v,k){!(Y.isUndefined(v)||v===null)&&e.append(a===!0?u$([y],k,i):a===null?y:y+"[]",c(v))},"each")),!1}return dA(m)?!0:(e.append(u$(b,y,i),c(m)),!1)}o(f,"defaultVisitor");const h=[],d=Object.assign(cpe,{defaultVisitor:f,convertValue:c,isVisitable:dA});function p(m,y){if(!Y.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),Y.forEach(m,o(function(_,S){(!(Y.isUndefined(_)||_===null)&&s.call(e,_,Y.isString(S)?S.trim():S,y,d))===!0&&p(_,y?y.concat(S):[S])},"each")),h.pop()}}if(o(p,"build"),!Y.isObject(t))throw new TypeError("data must be an object");return p(t),e}o(PE,"toFormData$1");function c$(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,o(function(r){return e[r]},"replacer"))}o(c$,"encode$4");function Y3(t,e){this._pairs=[],t&&PE(t,this,e)}o(Y3,"AxiosURLSearchParams");const a7=Y3.prototype;a7.append=o(function(e,n){this._pairs.push([e,n])},"append");a7.toString=o(function(e){const n=e?function(r){return e.call(this,r,c$)}:c$;return this._pairs.map(o(function(s){return n(s[0])+"="+n(s[1])},"each"),"").join("&")},"toString");function fpe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}o(fpe,"encode$3");function l7(t,e,n){if(!e)return t;const r=n&&n.encode||fpe;Y.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=Y.isURLSearchParams(e)?e.toString():new Y3(e,n).toString(r),i){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}o(l7,"buildURL");class f${static{o(this,"InterceptorManager")}constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,o(function(r){r!==null&&e(r)},"forEachHandler"))}}const u7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hpe=typeof URLSearchParams<"u"?URLSearchParams:Y3,dpe=typeof FormData<"u"?FormData:null,ppe=typeof Blob<"u"?Blob:null,mpe={isBrowser:!0,classes:{URLSearchParams:hpe,FormData:dpe,Blob:ppe},protocols:["http","https","file","blob","url","data"]},X3=typeof window<"u"&&typeof document<"u",pA=typeof navigator=="object"&&navigator||void 0,gpe=X3&&(!pA||["ReactNative","NativeScript","NS"].indexOf(pA.product)<0),ype=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bpe=X3&&window.location.href||"http://localhost",_pe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:X3,hasStandardBrowserEnv:gpe,hasStandardBrowserWebWorkerEnv:ype,navigator:pA,origin:bpe},Symbol.toStringTag,{value:"Module"})),Lr={..._pe,...mpe};function wpe(t,e){return PE(t,new Lr.classes.URLSearchParams,{visitor:o(function(n,r,s,i){return Lr.isNode&&Y.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},"visitor"),...e})}o(wpe,"toURLEncodedForm");function vpe(t){return Y.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}o(vpe,"parsePropPath");function Epe(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}o(Epe,"arrayToObject");function c7(t){function e(n,r,s,i){let a=n[i++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),u=i>=n.length;return a=!a&&Y.isArray(s)?s.length:a,u?(Y.hasOwnProp(s,a)?s[a]=[s[a],r]:s[a]=r,!l):((!s[a]||!Y.isObject(s[a]))&&(s[a]=[]),e(n,r,s[a],i)&&Y.isArray(s[a])&&(s[a]=Epe(s[a])),!l)}if(o(e,"buildPath"),Y.isFormData(t)&&Y.isFunction(t.entries)){const n={};return Y.forEachEntry(t,(r,s)=>{e(vpe(r),s,n,0)}),n}return null}o(c7,"formDataToJSON");function xpe(t,e,n){if(Y.isString(t))try{return(e||JSON.parse)(t),Y.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}o(xpe,"stringifySafely");const Ny={transitional:u7,adapter:["xhr","http","fetch"],transformRequest:[o(function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=Y.isObject(e);if(i&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return s?JSON.stringify(c7(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return wpe(e,this.formSerializer).toString();if((l=Y.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return PE(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),xpe(e)):e},"transformRequest")],transformResponse:[o(function(e){const n=this.transitional||Ny.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(r&&!this.responseType||s)){const a=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?Ze.from(l,Ze.ERR_BAD_RESPONSE,this,null,this.response):l}}return e},"transformResponse")],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lr.classes.FormData,Blob:Lr.classes.Blob},validateStatus:o(function(e){return e>=200&&e<300},"validateStatus"),headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],t=>{Ny.headers[t]={}});const Spe=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Tpe=o(t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(o(function(a){s=a.indexOf(":"),n=a.substring(0,s).trim().toLowerCase(),r=a.substring(s+1).trim(),!(!n||e[n]&&Spe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)},"parser")),e},"parseHeaders"),h$=Symbol("internals");function Tm(t){return t&&String(t).trim().toLowerCase()}o(Tm,"normalizeHeader");function t_(t){return t===!1||t==null?t:Y.isArray(t)?t.map(t_):String(t)}o(t_,"normalizeValue");function kpe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}o(kpe,"parseTokens");const Ape=o(t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()),"isValidHeaderName");function B2(t,e,n,r,s){if(Y.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!Y.isString(e)){if(Y.isString(r))return e.indexOf(r)!==-1;if(Y.isRegExp(r))return r.test(e)}}o(B2,"matchHeaderValue");function Cpe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}o(Cpe,"formatHeader");function Ipe(t,e){const n=Y.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:o(function(s,i,a){return this[r].call(this,e,s,i,a)},"value"),configurable:!0})})}o(Ipe,"buildAccessors");let Ps=class{static{o(this,"AxiosHeaders")}constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(l,u,c){const f=Tm(u);if(!f)throw new Error("header name must be a non-empty string");const h=Y.findKey(s,f);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||u]=t_(l))}o(i,"setHeader");const a=o((l,u)=>Y.forEach(l,(c,f)=>i(c,f,u)),"setHeaders");if(Y.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(Y.isString(e)&&(e=e.trim())&&!Ape(e))a(Tpe(e),n);else if(Y.isObject(e)&&Y.isIterable(e)){let l={},u,c;for(const f of e){if(!Y.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[c=f[0]]=(u=l[c])?Y.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}a(l,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=Tm(e),e){const r=Y.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return kpe(s);if(Y.isFunction(n))return n.call(this,s,r);if(Y.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Tm(e),e){const r=Y.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||B2(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(a){if(a=Tm(a),a){const l=Y.findKey(r,a);l&&(!n||B2(r,r[l],l,n))&&(delete r[l],s=!0)}}return o(i,"deleteHeader"),Y.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||B2(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return Y.forEach(this,(s,i)=>{const a=Y.findKey(r,i);if(a){n[a]=t_(s),delete n[i];return}const l=e?Cpe(i):String(i).trim();l!==i&&delete n[i],n[l]=t_(s),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Y.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&Y.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[h$]=this[h$]={accessors:{}}).accessors,s=this.prototype;function i(a){const l=Tm(a);r[l]||(Ipe(s,a),r[l]=!0)}return o(i,"defineAccessor"),Y.isArray(e)?e.forEach(i):i(e),this}};Ps.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(Ps.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:o(()=>t,"get"),set(r){this[n]=r}}});Y.freezeMethods(Ps);function U2(t,e){const n=this||Ny,r=e||n,s=Ps.from(r.headers);let i=r.data;return Y.forEach(t,o(function(l){i=l.call(n,i,s.normalize(),e?e.status:void 0)},"transform")),s.normalize(),i}o(U2,"transformData");function f7(t){return!!(t&&t.__CANCEL__)}o(f7,"isCancel$1");function $p(t,e,n){Ze.call(this,t??"canceled",Ze.ERR_CANCELED,e,n),this.name="CanceledError"}o($p,"CanceledError$1");Y.inherits($p,Ze,{__CANCEL__:!0});function h7(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ze("Request failed with status code "+n.status,[Ze.ERR_BAD_REQUEST,Ze.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}o(h7,"settle");function Rpe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}o(Rpe,"parseProtocol");function Ope(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,a;return e=e!==void 0?e:1e3,o(function(u){const c=Date.now(),f=r[i];a||(a=c),n[s]=u,r[s]=c;let h=i,d=0;for(;h!==s;)d+=n[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-a<e)return;const p=f&&c-f;return p?Math.round(d*1e3/p):void 0},"push")}o(Ope,"speedometer");function Npe(t,e){let n=0,r=1e3/e,s,i;const a=o((c,f=Date.now())=>{n=f,s=null,i&&(clearTimeout(i),i=null),t(...c)},"invoke");return[o((...c)=>{const f=Date.now(),h=f-n;h>=r?a(c,f):(s=c,i||(i=setTimeout(()=>{i=null,a(s)},r-h)))},"throttled"),o(()=>s&&a(s),"flush")]}o(Npe,"throttle$1");const mw=o((t,e,n=3)=>{let r=0;const s=Ope(50,250);return Npe(i=>{const a=i.loaded,l=i.lengthComputable?i.total:void 0,u=a-r,c=s(u),f=a<=l;r=a;const h={loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&f?(l-a)/c:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},n)},"progressEventReducer"),d$=o((t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},"progressEventDecorator"),p$=o(t=>(...e)=>Y.asap(()=>t(...e)),"asyncDecorator"),Mpe=Lr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Lr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Lr.origin),Lr.navigator&&/(msie|trident)/i.test(Lr.navigator.userAgent)):()=>!0,Dpe=Lr.hasStandardBrowserEnv?{write(t,e,n,r,s,i,a){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(e)}`];Y.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),Y.isString(r)&&l.push(`path=${r}`),Y.isString(s)&&l.push(`domain=${s}`),i===!0&&l.push("secure"),Y.isString(a)&&l.push(`SameSite=${a}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Ppe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}o(Ppe,"isAbsoluteURL");function $pe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}o($pe,"combineURLs");function d7(t,e,n){let r=!Ppe(e);return t&&(r||n==!1)?$pe(t,e):e}o(d7,"buildFullPath");const m$=o(t=>t instanceof Ps?{...t}:t,"headersToObject");function Tf(t,e){e=e||{};const n={};function r(c,f,h,d){return Y.isPlainObject(c)&&Y.isPlainObject(f)?Y.merge.call({caseless:d},c,f):Y.isPlainObject(f)?Y.merge({},f):Y.isArray(f)?f.slice():f}o(r,"getMergedValue");function s(c,f,h,d){if(Y.isUndefined(f)){if(!Y.isUndefined(c))return r(void 0,c,h,d)}else return r(c,f,h,d)}o(s,"mergeDeepProperties");function i(c,f){if(!Y.isUndefined(f))return r(void 0,f)}o(i,"valueFromConfig2");function a(c,f){if(Y.isUndefined(f)){if(!Y.isUndefined(c))return r(void 0,c)}else return r(void 0,f)}o(a,"defaultToConfig2");function l(c,f,h){if(h in e)return r(c,f);if(h in t)return r(void 0,c)}o(l,"mergeDirectKeys");const u={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:o((c,f,h)=>s(m$(c),m$(f),h,!0),"headers")};return Y.forEach(Object.keys({...t,...e}),o(function(f){const h=u[f]||s,d=h(t[f],e[f],f);Y.isUndefined(d)&&h!==l||(n[f]=d)},"computeConfigValue")),n}o(Tf,"mergeConfig$1");const p7=o(t=>{const e=Tf({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:l}=e;if(e.headers=a=Ps.from(a),e.url=l7(d7(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Y.isFormData(n)){if(Lr.hasStandardBrowserEnv||Lr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(Y.isFunction(n.getHeaders)){const u=n.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([f,h])=>{c.includes(f.toLowerCase())&&a.set(f,h)})}}if(Lr.hasStandardBrowserEnv&&(r&&Y.isFunction(r)&&(r=r(e)),r||r!==!1&&Mpe(e.url))){const u=s&&i&&Dpe.read(i);u&&a.set(s,u)}return e},"resolveConfig"),Lpe=typeof XMLHttpRequest<"u",Fpe=Lpe&&function(t){return new Promise(o(function(n,r){const s=p7(t);let i=s.data;const a=Ps.from(s.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:c}=s,f,h,d,p,m;function y(){p&&p(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}o(y,"done");let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function _(){if(!b)return;const v=Ps.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:v,config:t,request:b};h7(o(function(x){n(x),y()},"_resolve"),o(function(x){r(x),y()},"_reject"),C),b=null}o(_,"onloadend"),"onloadend"in b?b.onloadend=_:b.onreadystatechange=o(function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(_)},"handleLoad"),b.onabort=o(function(){b&&(r(new Ze("Request aborted",Ze.ECONNABORTED,t,b)),b=null)},"handleAbort"),b.onerror=o(function(k){const C=k&&k.message?k.message:"Network Error",I=new Ze(C,Ze.ERR_NETWORK,t,b);I.event=k||null,r(I),b=null},"handleError"),b.ontimeout=o(function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||u7;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),r(new Ze(k,C.clarifyTimeoutError?Ze.ETIMEDOUT:Ze.ECONNABORTED,t,b)),b=null},"handleTimeout"),i===void 0&&a.setContentType(null),"setRequestHeader"in b&&Y.forEach(a.toJSON(),o(function(k,C){b.setRequestHeader(C,k)},"setRequestHeader")),Y.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),l&&l!=="json"&&(b.responseType=s.responseType),c&&([d,m]=mw(c,!0),b.addEventListener("progress",d)),u&&b.upload&&([h,p]=mw(u),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(f=o(v=>{b&&(r(!v||v.type?new $p(null,t,b):v),b.abort(),b=null)},"onCanceled"),s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const S=Rpe(s.url);if(S&&Lr.protocols.indexOf(S)===-1){r(new Ze("Unsupported protocol "+S+":",Ze.ERR_BAD_REQUEST,t));return}b.send(i||null)},"dispatchXhrRequest"))},Bpe=o((t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=o(function(c){if(!s){s=!0,l();const f=c instanceof Error?c:this.reason;r.abort(f instanceof Ze?f:new $p(f instanceof Error?f.message:f))}},"onabort");let a=e&&setTimeout(()=>{a=null,i(new Ze(`timeout ${e} of ms exceeded`,Ze.ETIMEDOUT))},e);const l=o(()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)},"unsubscribe");t.forEach(c=>c.addEventListener("abort",i));const{signal:u}=r;return u.unsubscribe=()=>Y.asap(l),u}},"composeSignals"),Upe=o(function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},"streamChunk"),zpe=o(async function*(t,e){for await(const n of Vpe(t))yield*Upe(n,e)},"readBytes"),Vpe=o(async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},"readStream"),g$=o((t,e,n,r)=>{const s=zpe(t,e);let i=0,a,l=o(u=>{a||(a=!0,r&&r(u))},"_onFinish");return new ReadableStream({async pull(u){try{const{done:c,value:f}=await s.next();if(c){l(),u.close();return}let h=f.byteLength;if(n){let d=i+=h;n(d)}u.enqueue(new Uint8Array(f))}catch(c){throw l(c),c}},cancel(u){return l(u),s.return()}},{highWaterMark:2})},"trackStream"),y$=64*1024,{isFunction:Q1}=Y,jpe=(({Request:t,Response:e})=>({Request:t,Response:e}))(Y.global),{ReadableStream:b$,TextEncoder:_$}=Y.global,w$=o((t,...e)=>{try{return!!t(...e)}catch{return!1}},"test"),Wpe=o(t=>{t=Y.merge.call({skipUndefined:!0},jpe,t);const{fetch:e,Request:n,Response:r}=t,s=e?Q1(e):typeof fetch=="function",i=Q1(n),a=Q1(r);if(!s)return!1;const l=s&&Q1(b$),u=s&&(typeof _$=="function"?(m=>y=>m.encode(y))(new _$):async m=>new Uint8Array(await new n(m).arrayBuffer())),c=i&&l&&w$(()=>{let m=!1;const y=new n(Lr.origin,{body:new b$,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),f=a&&l&&w$(()=>Y.isReadableStream(new r("").body)),h={stream:f&&(m=>m.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(y,b)=>{let _=y&&y[m];if(_)return _.call(y);throw new Ze(`Response type '${m}' is not supported`,Ze.ERR_NOT_SUPPORT,b)})});const d=o(async m=>{if(m==null)return 0;if(Y.isBlob(m))return m.size;if(Y.isSpecCompliantForm(m))return(await new n(Lr.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(m)||Y.isArrayBuffer(m))return m.byteLength;if(Y.isURLSearchParams(m)&&(m=m+""),Y.isString(m))return(await u(m)).byteLength},"getBodyLength"),p=o(async(m,y)=>{const b=Y.toFiniteNumber(m.getContentLength());return b??d(y)},"resolveBodyLength");return async m=>{let{url:y,method:b,data:_,signal:S,cancelToken:v,timeout:k,onDownloadProgress:C,onUploadProgress:I,responseType:x,headers:E,withCredentials:T="same-origin",fetchOptions:O}=p7(m),N=e||fetch;x=x?(x+"").toLowerCase():"text";let R=Bpe([S,v&&v.toAbortSignal()],k),M=null;const B=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let z;try{if(I&&c&&b!=="get"&&b!=="head"&&(z=await p(E,_))!==0){let ae=new n(y,{method:"POST",body:_,duplex:"half"}),he;if(Y.isFormData(_)&&(he=ae.headers.get("content-type"))&&E.setContentType(he),ae.body){const[ve,lt]=d$(z,mw(p$(I)));_=g$(ae.body,y$,ve,lt)}}Y.isString(T)||(T=T?"include":"omit");const V=i&&"credentials"in n.prototype,K={...O,signal:R,method:b.toUpperCase(),headers:E.normalize().toJSON(),body:_,duplex:"half",credentials:V?T:void 0};M=i&&new n(y,K);let ee=await(i?N(M,O):N(y,K));const Z=f&&(x==="stream"||x==="response");if(f&&(C||Z&&B)){const ae={};["status","statusText","headers"].forEach(Re=>{ae[Re]=ee[Re]});const he=Y.toFiniteNumber(ee.headers.get("content-length")),[ve,lt]=C&&d$(he,mw(p$(C),!0))||[];ee=new r(g$(ee.body,y$,ve,()=>{lt&&lt(),B&&B()}),ae)}x=x||"text";let ue=await h[Y.findKey(h,x)||"text"](ee,m);return!Z&&B&&B(),await new Promise((ae,he)=>{h7(ae,he,{data:ue,headers:Ps.from(ee.headers),status:ee.status,statusText:ee.statusText,config:m,request:M})})}catch(V){throw B&&B(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new Ze("Network Error",Ze.ERR_NETWORK,m,M),{cause:V.cause||V}):Ze.from(V,V&&V.code,m,M)}}},"factory"),Hpe=new Map,m7=o(t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:s}=e,i=[r,s,n];let a=i.length,l=a,u,c,f=Hpe;for(;l--;)u=i[l],c=f.get(u),c===void 0&&f.set(u,c=l?new Map:Wpe(e)),f=c;return c},"getFetch");m7();const J3={http:lpe,xhr:Fpe,fetch:{get:m7}};Y.forEach(J3,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const v$=o(t=>`- ${t}`,"renderReason"),qpe=o(t=>Y.isFunction(t)||t===null||t===!1,"isResolvedHandle");function Gpe(t,e){t=Y.isArray(t)?t:[t];const{length:n}=t;let r,s;const i={};for(let a=0;a<n;a++){r=t[a];let l;if(s=r,!qpe(r)&&(s=J3[(l=String(r)).toLowerCase()],s===void 0))throw new Ze(`Unknown adapter '${l}'`);if(s&&(Y.isFunction(s)||(s=s.get(e))))break;i[l||"#"+a]=s}if(!s){const a=Object.entries(i).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(v$).join(`
`):" "+v$(a[0]):"as no adapter specified";throw new Ze("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s}o(Gpe,"getAdapter$1");const g7={getAdapter:Gpe,adapters:J3};function z2(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new $p(null,t)}o(z2,"throwIfCancellationRequested");function E$(t){return z2(t),t.headers=Ps.from(t.headers),t.data=U2.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),g7.getAdapter(t.adapter||Ny.adapter,t)(t).then(o(function(r){return z2(t),r.data=U2.call(t,t.transformResponse,r),r.headers=Ps.from(r.headers),r},"onAdapterResolution"),o(function(r){return f7(r)||(z2(t),r&&r.response&&(r.response.data=U2.call(t,t.transformResponse,r.response),r.response.headers=Ps.from(r.response.headers))),Promise.reject(r)},"onAdapterRejection"))}o(E$,"dispatchRequest");const y7="1.13.2",$E={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{$E[t]=o(function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t},"validator")});const x$={};$E.transitional=o(function(e,n,r){function s(i,a){return"[Axios v"+y7+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return o(s,"formatMessage"),(i,a,l)=>{if(e===!1)throw new Ze(s(a," has been removed"+(n?" in "+n:"")),Ze.ERR_DEPRECATED);return n&&!x$[a]&&(x$[a]=!0,console.warn(s(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,l):!0}},"transitional");$E.spelling=o(function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)},"spelling");function Kpe(t,e,n){if(typeof t!="object")throw new Ze("options must be an object",Ze.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],a=e[i];if(a){const l=t[i],u=l===void 0||a(l,i,t);if(u!==!0)throw new Ze("option "+i+" must be "+u,Ze.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ze("Unknown option "+i,Ze.ERR_BAD_OPTION)}}o(Kpe,"assertOptions");const n_={assertOptions:Kpe,validators:$E},Do=n_.validators;let nf=class{static{o(this,"Axios")}constructor(e){this.defaults=e||{},this.interceptors={request:new f$,response:new f$}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Tf(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&n_.assertOptions(r,{silentJSONParsing:Do.transitional(Do.boolean),forcedJSONParsing:Do.transitional(Do.boolean),clarifyTimeoutError:Do.transitional(Do.boolean)},!1),s!=null&&(Y.isFunction(s)?n.paramsSerializer={serialize:s}:n_.assertOptions(s,{encode:Do.function,serialize:Do.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),n_.assertOptions(n,{baseUrl:Do.spelling("baseURL"),withXsrfToken:Do.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=i&&Y.merge(i.common,i[n.method]);i&&Y.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Ps.concat(a,i);const l=[];let u=!0;this.interceptors.request.forEach(o(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(u=u&&y.synchronous,l.unshift(y.fulfilled,y.rejected))},"unshiftRequestInterceptors"));const c=[];this.interceptors.response.forEach(o(function(y){c.push(y.fulfilled,y.rejected)},"pushResponseInterceptors"));let f,h=0,d;if(!u){const m=[E$.bind(this),void 0];for(m.unshift(...l),m.push(...c),d=m.length,f=Promise.resolve(n);h<d;)f=f.then(m[h++],m[h++]);return f}d=l.length;let p=n;for(;h<d;){const m=l[h++],y=l[h++];try{p=m(p)}catch(b){y.call(this,b);break}}try{f=E$.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,d=c.length;h<d;)f=f.then(c[h++],c[h++]);return f}getUri(e){e=Tf(this.defaults,e);const n=d7(e.baseURL,e.url,e.allowAbsoluteUrls);return l7(n,e.params,e.paramsSerializer)}};Y.forEach(["delete","get","head","options"],o(function(e){nf.prototype[e]=function(n,r){return this.request(Tf(r||{},{method:e,url:n,data:(r||{}).data}))}},"forEachMethodNoData"));Y.forEach(["post","put","patch"],o(function(e){function n(r){return o(function(i,a,l){return this.request(Tf(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))},"httpMethod")}o(n,"generateHTTPMethod"),nf.prototype[e]=n(),nf.prototype[e+"Form"]=n(!0)},"forEachMethodWithData"));let Ype=class b7{static{o(this,"CancelToken")}constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(o(function(i){n=i},"promiseExecutor"));const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const a=new Promise(l=>{r.subscribe(l),i=l}).then(s);return a.cancel=o(function(){r.unsubscribe(i)},"reject"),a},e(o(function(i,a,l){r.reason||(r.reason=new $p(i,a,l),n(r.reason))},"cancel"))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=o(r=>{e.abort(r)},"abort");return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new b7(o(function(s){e=s},"executor")),cancel:e}}};function Xpe(t){return o(function(n){return t.apply(null,n)},"wrap")}o(Xpe,"spread$2");function Jpe(t){return Y.isObject(t)&&t.isAxiosError===!0}o(Jpe,"isAxiosError$1");const mA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(mA).forEach(([t,e])=>{mA[e]=t});function _7(t){const e=new nf(t),n=XV(nf.prototype.request,e);return Y.extend(n,nf.prototype,e,{allOwnKeys:!0}),Y.extend(n,e,null,{allOwnKeys:!0}),n.create=o(function(s){return _7(Tf(t,s))},"create"),n}o(_7,"createInstance");const Vn=_7(Ny);Vn.Axios=nf;Vn.CanceledError=$p;Vn.CancelToken=Ype;Vn.isCancel=f7;Vn.VERSION=y7;Vn.toFormData=PE;Vn.AxiosError=Ze;Vn.Cancel=Vn.CanceledError;Vn.all=o(function(e){return Promise.all(e)},"all");Vn.spread=Xpe;Vn.isAxiosError=Jpe;Vn.mergeConfig=Tf;Vn.AxiosHeaders=Ps;Vn.formToJSON=t=>c7(Y.isHTMLForm(t)?new FormData(t):t);Vn.getAdapter=g7.getAdapter;Vn.HttpStatusCode=mA;Vn.default=Vn;const{Axios:Oze,AxiosError:Nze,CanceledError:Mze,isCancel:Dze,CancelToken:Pze,VERSION:$ze,all:Lze,Cancel:Fze,isAxiosError:Bze,spread:Uze,toFormData:zze,AxiosHeaders:Vze,HttpStatusCode:jze,formToJSON:Wze,getAdapter:Hze,mergeConfig:qze}=Vn;function Zpe(t){return arguments.length===0?[]:Array.isArray(t)?t:[t]}o(Zpe,"castArray");function Qpe(t,e){if(!Number.isInteger(e)||e<=0)throw new Error("Size must be an integer greater than zero.");const n=Math.ceil(t.length/e),r=Array(n);for(let s=0;s<n;s++){const i=s*e,a=i+e;r[s]=t.slice(i,a)}return r}o(Qpe,"chunk$1");function Us(t){return Array.isArray(t)?t:Array.from(t)}o(Us,"toArray$1");function eme(t){return Number.isSafeInteger(t)&&t>=0}o(eme,"isLength$2");function We(t){return t!=null&&typeof t!="function"&&eme(t.length)}o(We,"isArrayLike");function tme(t,e=1){return e=Math.max(Math.floor(e),0),e===0||!We(t)?[]:Qpe(Us(t),e)}o(tme,"chunk");function nme(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];r&&e.push(r)}return e}o(nme,"compact$1");function rme(t){return We(t)?nme(Array.from(t)):[]}o(rme,"compact");function LE(t,e=1){const n=[],r=Math.floor(e),s=o((i,a)=>{for(let l=0;l<i.length;l++){const u=i[l];Array.isArray(u)&&a<r?s(u,a+1):n.push(u)}},"recursive");return s(t,0),n}o(LE,"flatten$1");function sme(...t){return LE(t)}o(sme,"concat$1");function dt(t){return t}o(dt,"identity$1");function Lu(t){return t==="__proto__"}o(Lu,"isUnsafeProperty");function FE(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}o(FE,"isDeepKey");function Xf(t){return typeof t=="string"||typeof t=="symbol"?t:Object.is(t?.valueOf?.(),-0)?"-0":String(t)}o(Xf,"toKey");function Ca(t){const e=[],n=t.length;if(n===0)return e;let r=0,s="",i="",a=!1;for(t.charCodeAt(0)===46&&(e.push(""),r++);r<n;){const l=t[r];i?l==="\\"&&r+1<n?(r++,s+=t[r]):l===i?i="":s+=l:a?l==='"'||l==="'"?i=l:l==="]"?(a=!1,e.push(s),s=""):s+=l:l==="["?(a=!0,s&&(e.push(s),s="")):l==="."?s&&(e.push(s),s=""):s+=l,r++}return s&&e.push(s),e}o(Ca,"toPath");function ni(t,e,n){if(t==null)return n;switch(typeof e){case"string":{if(Lu(e))return n;const r=t[e];return r===void 0?FE(e)?ni(t,Ca(e),n):n:r}case"number":case"symbol":{typeof e=="number"&&(e=Xf(e));const r=t[e];return r===void 0?n:r}default:{if(Array.isArray(e))return ime(t,e,n);if(Object.is(e?.valueOf(),-0)?e="-0":e=String(e),Lu(e))return n;const r=t[e];return r===void 0?n:r}}}o(ni,"get$2");function ime(t,e,n){if(e.length===0)return n;let r=t;for(let s=0;s<e.length;s++){if(r==null||Lu(e[s]))return n;r=r[e[s]]}return r===void 0?n:r}o(ime,"getWithPath");function Nl(t){return function(e){return ni(e,t)}}o(Nl,"property");function wo(t){return t!==null&&(typeof t=="object"||typeof t=="function")}o(wo,"isObject$4");function My(t){return t==null||typeof t!="object"&&typeof t!="function"}o(My,"isPrimitive");function Hr(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}o(Hr,"eq$1");function w7(t,e,n){return typeof n!="function"?BE(t,e):gA(t,e,o(function r(s,i,a,l,u,c){const f=n(s,i,a,l,u,c);return f!==void 0?!!f:gA(s,i,r,c)},"doesMatch"),new Map)}o(w7,"isMatchWith");function gA(t,e,n,r){if(e===t)return!0;switch(typeof e){case"object":return ome(t,e,n,r);case"function":return Object.keys(e).length>0?gA(t,{...e},n,r):Hr(t,e);default:return wo(t)?typeof e=="string"?e==="":!0:Hr(t,e)}}o(gA,"isMatchWithInternal");function ome(t,e,n,r){if(e==null)return!0;if(Array.isArray(e))return v7(t,e,n,r);if(e instanceof Map)return ame(t,e,n,r);if(e instanceof Set)return lme(t,e,n,r);const s=Object.keys(e);if(t==null)return s.length===0;if(s.length===0)return!0;if(r&&r.has(e))return r.get(e)===t;r&&r.set(e,t);try{for(let i=0;i<s.length;i++){const a=s[i];if(!My(t)&&!(a in t)||e[a]===void 0&&t[a]!==void 0||e[a]===null&&t[a]!==null||!n(t[a],e[a],a,t,e,r))return!1}return!0}finally{r&&r.delete(e)}}o(ome,"isObjectMatch");function ame(t,e,n,r){if(e.size===0)return!0;if(!(t instanceof Map))return!1;for(const[s,i]of e.entries()){const a=t.get(s);if(n(a,i,s,t,e,r)===!1)return!1}return!0}o(ame,"isMapMatch");function v7(t,e,n,r){if(e.length===0)return!0;if(!Array.isArray(t))return!1;const s=new Set;for(let i=0;i<e.length;i++){const a=e[i];let l=!1;for(let u=0;u<t.length;u++){if(s.has(u))continue;const c=t[u];let f=!1;if(n(c,a,i,t,e,r)&&(f=!0),f){s.add(u),l=!0;break}}if(!l)return!1}return!0}o(v7,"isArrayMatch");function lme(t,e,n,r){return e.size===0?!0:t instanceof Set?v7([...t],[...e],n,r):!1}o(lme,"isSetMatch");function BE(t,e){return w7(t,e,()=>{})}o(BE,"isMatch");function p0(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}o(p0,"getSymbols");function kf(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}o(kf,"getTag$1");const UE="[object RegExp]",Gd="[object String]",Dy="[object Number]",Py="[object Boolean]",Kd="[object Arguments]",zE="[object Symbol]",VE="[object Date]",jE="[object Map]",WE="[object Set]",Z3="[object Array]",ume="[object Function]",HE="[object ArrayBuffer]",kg="[object Object]",cme="[object Error]",qE="[object DataView]",Q3="[object Uint8Array]",eR="[object Uint8ClampedArray]",tR="[object Uint16Array]",nR="[object Uint32Array]",fme="[object BigUint64Array]",rR="[object Int8Array]",sR="[object Int16Array]",iR="[object Int32Array]",hme="[object BigInt64Array]",oR="[object Float32Array]",aR="[object Float64Array]";function lR(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}o(lR,"isTypedArray$1");function dme(t,e){return Hc(t,void 0,t,new Map,e)}o(dme,"cloneDeepWith$1");function Hc(t,e,n,r=new Map,s=void 0){const i=s?.(t,e,n,r);if(i!==void 0)return i;if(My(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const a=new Array(t.length);r.set(t,a);for(let l=0;l<t.length;l++)a[l]=Hc(t[l],l,n,r,s);return Object.hasOwn(t,"index")&&(a.index=t.index),Object.hasOwn(t,"input")&&(a.input=t.input),a}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const a=new RegExp(t.source,t.flags);return a.lastIndex=t.lastIndex,a}if(t instanceof Map){const a=new Map;r.set(t,a);for(const[l,u]of t)a.set(l,Hc(u,l,n,r,s));return a}if(t instanceof Set){const a=new Set;r.set(t,a);for(const l of t)a.add(Hc(l,void 0,n,r,s));return a}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(lR(t)){const a=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,a);for(let l=0;l<t.length;l++)a[l]=Hc(t[l],l,n,r,s);return a}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const a=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,a),Lc(a,t,n,r,s),a}if(typeof File<"u"&&t instanceof File){const a=new File([t],t.name,{type:t.type});return r.set(t,a),Lc(a,t,n,r,s),a}if(t instanceof Blob){const a=new Blob([t],{type:t.type});return r.set(t,a),Lc(a,t,n,r,s),a}if(t instanceof Error){const a=new t.constructor;return r.set(t,a),a.message=t.message,a.name=t.name,a.stack=t.stack,a.cause=t.cause,Lc(a,t,n,r,s),a}if(typeof t=="object"&&pme(t)){const a=Object.create(Object.getPrototypeOf(t));return r.set(t,a),Lc(a,t,n,r,s),a}return t}o(Hc,"cloneDeepWithImpl");function Lc(t,e,n=t,r,s){const i=[...Object.keys(e),...p0(e)];for(let a=0;a<i.length;a++){const l=i[a],u=Object.getOwnPropertyDescriptor(t,l);(u==null||u.writable)&&(t[l]=Hc(e[l],l,n,r,s))}}o(Lc,"copyProperties");function pme(t){switch(kf(t)){case Kd:case Z3:case HE:case qE:case Py:case VE:case oR:case aR:case rR:case sR:case iR:case jE:case Dy:case kg:case UE:case WE:case Gd:case zE:case Q3:case eR:case tR:case nR:return!0;default:return!1}}o(pme,"isCloneableObject$1");function uR(t){return Hc(t,void 0,t,new Map,void 0)}o(uR,"cloneDeep$1");function ic(t){return t=uR(t),e=>BE(e,t)}o(ic,"matches$1");function E7(t,e){return dme(t,(n,r,s,i)=>{const a=e?.(n,r,s,i);if(a!==void 0)return a;if(typeof t=="object")switch(Object.prototype.toString.call(t)){case Dy:case Gd:case Py:{const l=new t.constructor(t?.valueOf());return Lc(l,t),l}case Kd:{const l={};return Lc(l,t),l.length=t.length,l[Symbol.iterator]=t[Symbol.iterator],l}default:return}})}o(E7,"cloneDeepWith");function m0(t){return E7(t)}o(m0,"cloneDeep");const mme=/^(?:0|[1-9]\d*)$/;function Yd(t,e=Number.MAX_SAFE_INTEGER){switch(typeof t){case"number":return Number.isInteger(t)&&t>=0&&t<e;case"symbol":return!1;case"string":return mme.test(t)}}o(Yd,"isIndex");function Xd(t){return t!==null&&typeof t=="object"&&kf(t)==="[object Arguments]"}o(Xd,"isArguments");function cR(t,e){let n;if(Array.isArray(e)?n=e:typeof e=="string"&&FE(e)&&t?.[e]==null?n=Ca(e):n=[e],n.length===0)return!1;let r=t;for(let s=0;s<n.length;s++){const i=n[s];if((r==null||!Object.hasOwn(r,i))&&!((Array.isArray(r)||Xd(r))&&Yd(i)&&i<r.length))return!1;r=r[i]}return!0}o(cR,"has$1");function oc(t,e){switch(typeof t){case"object":{Object.is(t?.valueOf(),-0)&&(t="-0");break}case"number":{t=Xf(t);break}}return e=m0(e),function(n){const r=ni(n,t);return r===void 0?cR(n,t):e===void 0?r===void 0:BE(r,e)}}o(oc,"matchesProperty");function st(t){if(t==null)return dt;switch(typeof t){case"function":return t;case"object":return Array.isArray(t)&&t.length===2?oc(t[0],t[1]):ic(t);case"string":case"symbol":case"number":return Nl(t)}}o(st,"iteratee");function gme(t,e){if(t==null)return{};const n=We(t)?Array.from(t):Object.values(t),r=st(e??void 0),s=Object.create(null);for(let i=0;i<n.length;i++){const a=n[i],l=r(a);s[l]=(s[l]??0)+1}return s}o(gme,"countBy");function GE(t,e){const n=new Set(e);return t.filter(r=>!n.has(r))}o(GE,"difference$1");function Af(t){return typeof t=="object"&&t!==null}o(Af,"isObjectLike$1");function Pt(t){return Af(t)&&We(t)}o(Pt,"isArrayLikeObject");function yme(t,...e){if(!Pt(t))return[];const n=Us(t),r=[];for(let s=0;s<e.length;s++){const i=e[s];Pt(i)&&r.push(...Array.from(i))}return GE(n,r)}o(yme,"difference");function KE(t){return t[t.length-1]}o(KE,"last$2");function Jf(t){if(We(t))return KE(Us(t))}o(Jf,"last$1");function bme(t,e,n){const r=new Set(e.map(s=>n(s)));return t.filter(s=>!r.has(n(s)))}o(bme,"differenceBy$1");function YE(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];if(Pt(r))for(let s=0;s<r.length;s++)e.push(r[s])}return e}o(YE,"flattenArrayLike");function x7(t,...e){if(!Pt(t))return[];const n=Jf(e),r=YE(e);return Pt(n)?GE(Array.from(t),r):bme(Array.from(t),r,st(n))}o(x7,"differenceBy");function _me(t,e,n){return t.filter(r=>e.every(s=>!n(r,s)))}o(_me,"differenceWith$1");function S7(t,...e){if(!Pt(t))return[];const n=Jf(e),r=YE(e);return typeof n=="function"?_me(Array.from(t),r,n):GE(Array.from(t),r)}o(S7,"differenceWith");function wme(t,e){return e=Math.max(e,0),t.slice(e)}o(wme,"drop$1");function Cf(t){return typeof t=="symbol"||t instanceof Symbol}o(Cf,"isSymbol$1");function Xn(t){return Cf(t)?NaN:Number(t)}o(Xn,"toNumber");function Au(t){return t?(t=Xn(t),t===1/0||t===-1/0?(t<0?-1:1)*Number.MAX_VALUE:t===t?t:0):t===0?t:0}o(Au,"toFinite");function Jn(t){const e=Au(t),n=e%1;return n?e-n:e}o(Jn,"toInteger");function vme(t,e=1,n){return We(t)?(e=n?1:Jn(e),wme(Us(t),e)):[]}o(vme,"drop");function Eme(t,e){return e=Math.min(-e,0),e===0?t.slice():t.slice(0,e)}o(Eme,"dropRight$1");function xme(t,e=1,n){return We(t)?(e=n?1:Jn(e),Eme(Us(t),e)):[]}o(xme,"dropRight");function eb(t,e){for(let n=t.length-1;n>=0;n--)if(!e(t[n],n,t))return t.slice(0,n+1);return[]}o(eb,"dropRightWhile$1");function Sme(t,e=dt){return We(t)?Tme(Array.from(t),e):[]}o(Sme,"dropRightWhile");function Tme(t,e){switch(typeof e){case"function":return eb(t,(n,r,s)=>!!e(n,r,s));case"object":if(Array.isArray(e)&&e.length===2){const n=e[0],r=e[1];return eb(t,oc(n,r))}else return eb(t,ic(e));case"symbol":case"number":case"string":return eb(t,Nl(e))}}o(Tme,"dropRightWhileImpl");function tb(t,e){const n=t.findIndex((r,s,i)=>!e(r,s,i));return n===-1?[]:t.slice(n)}o(tb,"dropWhile$1");function kme(t,e=dt){return We(t)?Ame(Us(t),e):[]}o(kme,"dropWhile");function Ame(t,e){switch(typeof e){case"function":return tb(t,(n,r,s)=>!!e(n,r,s));case"object":if(Array.isArray(e)&&e.length===2){const n=e[0],r=e[1];return tb(t,oc(n,r))}else return tb(t,ic(e));case"number":case"symbol":case"string":return tb(t,Nl(e))}}o(Ame,"dropWhileImpl");function Zf(t,e,n=1){if(e==null&&(e=t,t=0),!Number.isInteger(n)||n===0)throw new Error("The step value must be a non-zero integer.");const r=Math.max(Math.ceil((e-t)/n),0),s=new Array(r);for(let i=0;i<r;i++)s[i]=t+i*n;return s}o(Zf,"range$2");function yA(t,e=dt){if(!t)return t;const n=We(t)||Array.isArray(t)?Zf(0,t.length):Object.keys(t);for(let r=0;r<n.length;r++){const s=n[r],i=t[s];if(e(i,s,t)===!1)break}return t}o(yA,"forEach$1");function S$(t,e=dt){if(!t)return t;const n=We(t)?Zf(0,t.length):Object.keys(t);for(let r=n.length-1;r>=0;r--){const s=n[r],i=t[s];if(e(i,s,t)===!1)break}return t}o(S$,"forEachRight");function wl(t,e,n){return wo(n)&&(typeof e=="number"&&We(n)&&Yd(e)&&e<n.length||typeof e=="string"&&e in n)?Hr(n[e],t):!1}o(wl,"isIterateeCall");function Cme(t,e,n){if(!t)return!0;n&&wl(t,e,n)&&(e=void 0),e||(e=dt);let r;switch(typeof e){case"function":{r=e;break}case"object":{if(Array.isArray(e)&&e.length===2){const s=e[0],i=e[1];r=oc(s,i)}else r=ic(e);break}case"symbol":case"number":case"string":r=Nl(e)}if(!We(t)){const s=Object.keys(t);for(let i=0;i<s.length;i++){const a=s[i],l=t[a];if(!r(l,a,t))return!1}return!0}for(let s=0;s<t.length;s++)if(!r(t[s],s,t))return!1;return!0}o(Cme,"every$1");function Ime(t,e,n=0,r=t.length){const s=t.length,i=Math.max(n>=0?n:s+n,0),a=Math.min(r>=0?r:s+r,s);for(let l=i;l<a;l++)t[l]=e;return t}o(Ime,"fill$1");function XE(t){return typeof t=="string"||t instanceof String}o(XE,"isString$5");function Rme(t,e,n=0,r=t?t.length:0){return We(t)?XE(t)?t:(n=Math.floor(n),r=Math.floor(r),n||(n=0),r||(r=0),Ime(t,e,n,r)):[]}o(Rme,"fill");function T7(t,e=dt){if(!t)return[];if(e=st(e),!Array.isArray(t)){const s=[],i=Object.keys(t),a=We(t)?t.length:i.length;for(let l=0;l<a;l++){const u=i[l],c=t[u];e(c,u,t)&&s.push(c)}return s}const n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];e(i,s,t)&&n.push(i)}return n}o(T7,"filter");function Ome(t,e=dt,n=0){if(!t)return;n<0&&(n=Math.max(t.length+n,0));const r=st(e);if(typeof r=="function"&&!Array.isArray(t)){const i=Object.keys(t);for(let a=n;a<i.length;a++){const l=i[a],u=t[l];if(r(u,l,t))return u}return}return(Array.isArray(t)?t.slice(n):Object.values(t).slice(n)).find(r)}o(Ome,"find$2");function Nme(t,e,n=0){if(!t)return-1;n<0&&(n=Math.max(t.length+n,0));const r=Array.from(t).slice(n);let s=-1;switch(typeof e){case"function":{s=r.findIndex(e);break}case"object":{if(Array.isArray(e)&&e.length===2){const i=e[0],a=e[1];s=r.findIndex(oc(i,a))}else s=r.findIndex(ic(e));break}case"number":case"symbol":case"string":s=r.findIndex(Nl(e))}return s===-1?-1:s+n}o(Nme,"findIndex");function Mme(t,e=dt,n){if(!t)return;const r=Array.isArray(t)?t.length:Object.keys(t).length;n=Jn(n??r-1),n<0?n=Math.max(r+n,0):n=Math.min(n,r-1);const s=st(e);if(typeof s=="function"&&!Array.isArray(t)){const a=Object.keys(t);for(let l=n;l>=0;l--){const u=a[l],c=t[u];if(s(c,u,t))return c}return}return(Array.isArray(t)?t.slice(0,n+1):Object.values(t).slice(0,n+1)).findLast(s)}o(Mme,"findLast");function Dme(t,e=dt,n=t?t.length-1:0){if(!t)return-1;n<0?n=Math.max(t.length+n,0):n=Math.min(n,t.length-1);const r=Us(t).slice(0,n+1);switch(typeof e){case"function":return r.findLastIndex(e);case"object":if(Array.isArray(e)&&e.length===2){const s=e[0],i=e[1];return r.findLastIndex(oc(s,i))}else return r.findLastIndex(ic(e));case"number":case"symbol":case"string":return r.findLastIndex(Nl(e))}}o(Dme,"findLastIndex");function Pme(t){return t[0]}o(Pme,"head$1");function T$(t){if(We(t))return Pme(Us(t))}o(T$,"head");function JE(t,e=1){const n=[],r=Math.floor(e);if(!We(t))return n;const s=o((i,a)=>{for(let l=0;l<i.length;l++){const u=i[l];a<r&&(Array.isArray(u)||u?.[Symbol.isConcatSpreadable]||u!==null&&typeof u=="object"&&Object.prototype.toString.call(u)==="[object Arguments]")?Array.isArray(u)?s(u,a+1):s(Array.from(u),a+1):n.push(u)}},"recursive");return s(Array.from(t),0),n}o(JE,"flatten");function $y(t,e=1){return JE(t,e)}o($y,"flattenDepth");function gw(t,e){if(!t)return[];const n=We(t)||Array.isArray(t)?Zf(0,t.length):Object.keys(t),r=st(e??dt),s=new Array(n.length);for(let i=0;i<n.length;i++){const a=n[i],l=t[a];s[i]=r(l,a,t)}return s}o(gw,"map$4");function Fu(t){return t==null}o(Fu,"isNil$1");function $me(t,e){if(Fu(t))return[];const n=Fu(e)?gw(t):gw(t,e);return $y(n,1)}o($me,"flatMap");function k7(t,e=dt,n=1){if(t==null)return[];const r=st(e),s=gw(t,r);return JE(s,n)}o(k7,"flatMapDepth");function Lme(t,e){return k7(t,e,1/0)}o(Lme,"flatMapDeep");function Fme(t){return $y(t,1/0)}o(Fme,"flattenDeep");function Bme(t,e){const n={};for(let r=0;r<t.length;r++){const s=t[r],i=e(s);Object.hasOwn(n,i)||(n[i]=[]),n[i].push(s)}return n}o(Bme,"groupBy$1");function Ume(t,e){if(t==null)return{};const n=We(t)?Array.from(t):Object.values(t),r=st(e??dt);return Bme(n,r)}o(Ume,"groupBy");function zme(t,e,n,r){if(t==null)return!1;if(r||!n?n=0:n=Jn(n),XE(t))return n>t.length||e instanceof RegExp?!1:(n<0&&(n=Math.max(0,t.length+n)),t.includes(e,n));if(Array.isArray(t))return t.includes(e,n);const s=Object.keys(t);n<0&&(n=Math.max(0,s.length+n));for(let i=n;i<s.length;i++){const a=Reflect.get(t,s[i]);if(Hr(a,e))return!0}return!1}o(zme,"includes");function Vme(t,e,n){if(!We(t))return-1;if(Number.isNaN(e)){n=n??0,n<0&&(n=Math.max(0,t.length+n));for(let r=n;r<t.length;r++)if(Number.isNaN(t[r]))return r;return-1}return Array.from(t).indexOf(e,n)}o(Vme,"indexOf");function jme(t){return t.slice(0,-1)}o(jme,"initial$1");function Wme(t){return We(t)?jme(Array.from(t)):[]}o(Wme,"initial");function Hme(t,e){const n=new Set(e);return t.filter(r=>n.has(r))}o(Hme,"intersection$1");function Lp(t){return Array.from(new Set(t))}o(Lp,"uniq$1");function qme(...t){if(t.length===0)return[];if(!Pt(t[0]))return[];let e=Lp(Array.from(t[0]));for(let n=1;n<t.length;n++){const r=t[n];if(!Pt(r))return[];e=Hme(e,Array.from(r))}return e}o(qme,"intersection");function V2(t,e,n){const r=new Set(e.map(n));return t.filter(s=>r.has(n(s)))}o(V2,"intersectionBy$1");function A7(t,...e){if(!Pt(t))return[];const n=KE(e);if(n===void 0)return Array.from(t);let r=Lp(Array.from(t));const s=Pt(n)?e.length:e.length-1;for(let i=0;i<s;++i){const a=e[i];if(!Pt(a))return[];Pt(n)?r=V2(r,Array.from(a),dt):typeof n=="function"?r=V2(r,Array.from(a),l=>n(l)):typeof n=="string"&&(r=V2(r,Array.from(a),Nl(n)))}return r}o(A7,"intersectionBy");function Gme(t,e,n){return t.filter(r=>e.some(s=>n(r,s)))}o(Gme,"intersectionWith$1");function fR(t){return We(t)?Lp(Array.from(t)):[]}o(fR,"uniq");function C7(t,...e){if(t==null)return[];const n=Jf(e);let r=Hr,s=fR;typeof n=="function"&&(r=n,s=Kme,e.pop());let i=s(Array.from(t));for(let a=0;a<e.length;++a){const l=e[a];if(l==null)return[];i=Gme(i,Array.from(l),r)}return i}o(C7,"intersectionWith");function Kme(t){const e=[],n=new Set;for(let r=0;r<t.length;r++){const s=t[r];n.has(s)||(e.push(s),n.add(s))}return e}o(Kme,"uniqPreserve0");function Qf(t){return typeof t=="function"}o(Qf,"isFunction$3");function Yme(t,e,...n){if(Fu(t))return[];const r=We(t)?Array.from(t):Object.values(t),s=[];for(let i=0;i<r.length;i++){const a=r[i];if(Qf(e)){s.push(e.apply(a,n));continue}const l=ni(a,e);let u=a;if(Array.isArray(e)){const c=e.slice(0,-1);c.length>0&&(u=ni(a,c))}else if(typeof e=="string"&&e.includes(".")){const f=e.split(".").slice(0,-1).join(".");u=ni(a,f)}s.push(l?.apply(u,n))}return s}o(Yme,"invokeMap");function Xme(t,e){return We(t)?Array.from(t).join(e):""}o(Xme,"join$3");function I7(t,e=dt,n){if(!t)return n;let r,s=0;We(t)?(r=Zf(0,t.length),n==null&&t.length>0&&(n=t[0],s+=1)):(r=Object.keys(t),n==null&&(n=t[r[0]],s+=1));for(let i=s;i<r.length;i++){const a=r[i],l=t[a];n=e(n,l,a,t)}return n}o(I7,"reduce");function Jme(t,e){if(!We(t)&&!Af(t))return{};const n=st(e??dt);return I7(t,(r,s)=>{const i=n(s);return r[i]=s,r},{})}o(Jme,"keyBy");function Zme(t,e,n){if(!We(t)||t.length===0)return-1;const r=t.length;let s=n??r-1;if(n!=null&&(s=s<0?Math.max(r+s,0):Math.min(s,r-1)),Number.isNaN(e)){for(let i=s;i>=0;i--)if(Number.isNaN(t[i]))return i}return Array.from(t).lastIndexOf(e,s)}o(Zme,"lastIndexOf");function Qme(t,e=0){if(!(!Pt(t)||t.length===0))return e=Jn(e),e<0&&(e+=t.length),t[e]}o(Qme,"nth");function k$(t){return typeof t=="symbol"?1:t===null?2:t===void 0?3:t!==t?4:0}o(k$,"getPriority");const ege=o((t,e,n)=>{if(t!==e){const r=k$(t),s=k$(e);if(r===s&&r===0){if(t<e)return n==="desc"?1:-1;if(t>e)return n==="desc"?-1:1}return n==="desc"?s-r:r-s}return 0},"compareValues$1"),tge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nge=/^\w*$/;function ZE(t,e){return Array.isArray(t)?!1:typeof t=="number"||typeof t=="boolean"||t==null||Cf(t)?!0:typeof t=="string"&&(nge.test(t)||!tge.test(t))||e!=null&&Object.hasOwn(e,t)}o(ZE,"isKey");function R7(t,e,n,r){if(t==null)return[];n=r?void 0:n,Array.isArray(t)||(t=Object.values(t)),Array.isArray(e)||(e=e==null?[null]:[e]),e.length===0&&(e=[null]),Array.isArray(n)||(n=n==null?[]:[n]),n=n.map(u=>String(u));const s=o((u,c)=>{let f=u;for(let h=0;h<c.length&&f!=null;++h)f=f[c[h]];return f},"getValueByNestedPath"),i=o((u,c)=>c==null||u==null?c:typeof u=="object"&&"key"in u?Object.hasOwn(c,u.key)?c[u.key]:s(c,u.path):typeof u=="function"?u(c):Array.isArray(u)?s(c,u):typeof c=="object"?c[u]:c,"getValueByCriterion"),a=e.map(u=>(Array.isArray(u)&&u.length===1&&(u=u[0]),u==null||typeof u=="function"||Array.isArray(u)||ZE(u)?u:{key:u,path:Ca(u)}));return t.map(u=>({original:u,criteria:a.map(c=>i(c,u))})).slice().sort((u,c)=>{for(let f=0;f<a.length;f++){const h=ege(u.criteria[f],c.criteria[f],n[f]);if(h!==0)return h}return 0}).map(u=>u.original)}o(R7,"orderBy$1");function rge(t,e=dt){if(!t)return[[],[]];const n=We(t)?t:Object.values(t);e=st(e);const r=[],s=[];for(let i=0;i<n.length;i++){const a=n[i];e(a)?r.push(a):s.push(a)}return[r,s]}o(rge,"partition");function O7(t,e){const n=new Set(e);let r=0;for(let s=0;s<t.length;s++)if(!n.has(t[s])){if(!Object.hasOwn(t,s)){delete t[r++];continue}t[r++]=t[s]}return t.length=r,t}o(O7,"pull$1");function sge(t,...e){return O7(t,e)}o(sge,"pull");function ige(t,e=[]){return O7(t,Array.from(e))}o(ige,"pullAll");function oge(t,e,n){const r=st(n),s=new Set(Array.from(e).map(a=>r(a)));let i=0;for(let a=0;a<t.length;a++){const l=r(t[a]);if(!s.has(l)){if(!Object.hasOwn(t,a)){delete t[i++];continue}t[i++]=t[a]}}return t.length=i,t}o(oge,"pullAllBy");function age(t,e){const n=t.length;e==null&&(e=Array(n));for(let r=0;r<n;r++)e[r]=t[r];return e}o(age,"copyArray");function lge(t,e,n){if(t?.length==null||e?.length==null)return t;t===e&&(e=age(e));let r=0;n==null&&(n=o((a,l)=>Hr(a,l),"comparator"));const s=Array.isArray(e)?e:Array.from(e),i=s.includes(void 0);for(let a=0;a<t.length;a++){if(a in t){s.some(u=>n(t[a],u))||(t[r++]=t[a]);continue}i||delete t[r++]}return t.length=r,t}o(lge,"pullAllWith");function N7(t,...e){if(e.length===0)return[];const n=[];for(let s=0;s<e.length;s++){const i=e[s];if(!We(i)||XE(i)){n.push(i);continue}for(let a=0;a<i.length;a++)n.push(i[a])}const r=[];for(let s=0;s<n.length;s++)r.push(ni(t,n[s]));return r}o(N7,"at$2");function yw(t,e){if(t==null)return!0;switch(typeof e){case"symbol":case"number":case"object":{if(Array.isArray(e))return A$(t,e);if(typeof e=="number"?e=Xf(e):typeof e=="object"&&(Object.is(e?.valueOf(),-0)?e="-0":e=String(e)),Lu(e))return!1;if(t?.[e]===void 0)return!0;try{return delete t[e],!0}catch{return!1}}case"string":{if(t?.[e]===void 0&&FE(e))return A$(t,Ca(e));if(Lu(e))return!1;try{return delete t[e],!0}catch{return!1}}}}o(yw,"unset");function A$(t,e){const n=ni(t,e.slice(0,-1),t),r=e[e.length-1];if(n?.[r]===void 0)return!0;if(Lu(r))return!1;try{return delete n[r],!0}catch{return!1}}o(A$,"unsetWithPath");function Bu(t){return Array.isArray(t)}o(Bu,"isArray$3");function uge(t,...e){const n=$y(e,1);if(!t)return Array(n.length);const r=N7(t,n),s=n.map(i=>Yd(i,t.length)?Number(i):i).sort((i,a)=>a-i);for(const i of new Set(s)){if(Yd(i,t.length)){Array.prototype.splice.call(t,i,1);continue}if(ZE(i,t)){delete t[Xf(i)];continue}const a=Bu(i)?i:Ca(i);yw(t,a)}return r}o(uge,"pullAt");function cge(t,e=dt,n){if(!t)return n;let r,s;We(t)?(r=Zf(0,t.length).reverse(),n==null&&t.length>0?(n=t[t.length-1],s=1):s=0):(r=Object.keys(t).reverse(),n==null?(n=t[r[0]],s=1):s=0);for(let i=s;i<r.length;i++){const a=r[i],l=t[a];n=e(n,l,a,t)}return n}o(cge,"reduceRight");function hR(t){if(typeof t!="function")throw new TypeError("Expected a function");return function(...e){return!t.apply(this,e)}}o(hR,"negate$1");function fge(t,e=dt){return T7(t,hR(st(e)))}o(fge,"reject");function hge(t,e){const n=t.slice(),r=[];let s=0;for(let i=0;i<t.length;i++){if(e(t[i],i,n)){r.push(t[i]);continue}if(!Object.hasOwn(t,i)){delete t[s++];continue}t[s++]=t[i]}return t.length=s,r}o(hge,"remove$1");function dge(t,e=dt){return hge(t,st(e))}o(dge,"remove");function pge(t){return t==null?t:t.reverse()}o(pge,"reverse");function C$(t){const e=Math.floor(Math.random()*t.length);return t[e]}o(C$,"sample$1");function mge(t){if(t!=null)return We(t)?C$(Us(t)):C$(Object.values(t))}o(mge,"sample");function M7(t,e){if(e==null&&(e=t,t=0),t>=e)throw new Error("Invalid input: The maximum value must be greater than the minimum value.");return Math.random()*(e-t)+t}o(M7,"random$1");function D7(t,e){return Math.floor(M7(t,e))}o(D7,"randomInt");function gge(t,e){if(e>t.length)throw new Error("Size must be less than or equal to the length of array.");const n=new Array(e),r=new Set;for(let s=t.length-e,i=0;s<t.length;s++,i++){let a=D7(0,s+1);r.has(a)&&(a=s),r.add(a),n[i]=t[a]}return n}o(gge,"sampleSize$1");function yge(t,e,n){return n==null?Math.min(t,e):Math.min(Math.max(t,e),n)}o(yge,"clamp$2");function Jd(t,e,n){return Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),yge(t,e,n)}o(Jd,"clamp$1");function bge(t){return t instanceof Map}o(bge,"isMap$1");function P7(t){return bge(t)}o(P7,"isMap");function dR(t){return t==null?[]:We(t)||P7(t)?Array.from(t):typeof t=="object"?Object.values(t):[]}o(dR,"toArray");function _ge(t,e,n){const r=dR(t);return(n?wl(t,e,n):e===void 0)?e=1:e=Jd(Jn(e),0,r.length),gge(r,e)}o(_ge,"sampleSize");function j2(t){const e=t.slice();for(let n=e.length-1;n>=1;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e}o(j2,"shuffle$2");function $7(t){return t==null?[]:Object.values(t)}o($7,"values");function QE(t){return t==null}o(QE,"isNil");function wge(t){return QE(t)?[]:Bu(t)?j2(t):We(t)?j2(Array.from(t)):Af(t)?j2($7(t)):[]}o(wge,"shuffle$1");function vge(t){return Fu(t)?0:t instanceof Map||t instanceof Set?t.size:Object.keys(t).length}o(vge,"size$1");function Ege(t,e,n){if(!We(t))return[];const r=t.length;n===void 0?n=r:typeof n!="number"&&wl(t,e,n)&&(e=0,n=r),e=Jn(e),n=Jn(n),e<0?e=Math.max(r+e,0):e=Math.min(e,r),n<0?n=Math.max(r+n,0):n=Math.min(n,r);const s=Math.max(n-e,0),i=new Array(s);for(let a=0;a<s;++a)i[a]=t[e+a];return i}o(Ege,"slice");function xge(t,e,n){if(!t)return!1;n!=null&&(e=void 0),e||(e=dt);const r=Array.isArray(t)?t:Object.values(t);switch(typeof e){case"function":{if(!Array.isArray(t)){const s=Object.keys(t);for(let i=0;i<s.length;i++){const a=s[i],l=t[a];if(e(l,a,t))return!0}return!1}for(let s=0;s<t.length;s++)if(e(t[s],s,t))return!0;return!1}case"object":if(Array.isArray(e)&&e.length===2){const s=e[0],i=e[1],a=oc(s,i);if(Array.isArray(t)){for(let l=0;l<t.length;l++)if(a(t[l]))return!0;return!1}return r.some(a)}else{const s=ic(e);if(Array.isArray(t)){for(let i=0;i<t.length;i++)if(s(t[i]))return!0;return!1}return r.some(s)}case"number":case"symbol":case"string":{const s=Nl(e);if(Array.isArray(t)){for(let i=0;i<t.length;i++)if(s(t[i]))return!0;return!1}return r.some(s)}}}o(xge,"some");function Sge(t,...e){const n=e.length;return n>1&&wl(t,e[0],e[1])?e=[]:n>2&&wl(e[0],e[1],e[2])&&(e=[e[0]]),R7(t,LE(e),["asc"])}o(Sge,"sortBy$1");function bw(t){return t===null}o(bw,"isNull$1");function bA(t){return t===void 0}o(bA,"isUndefined$1");function _A(t){return Number.isNaN(t)}o(_A,"isNaN$1");const Tge=4294967295,kge=Tge-1;function pR(t,e,n=st,r){let s=0,i=t==null?0:t.length;if(i===0||QE(t))return 0;const a=st(n),l=a(e),u=_A(l),c=bw(l),f=Cf(l),h=bA(l);for(;s<i;){let d;const p=Math.floor((s+i)/2),m=a(t[p]),y=!bA(m),b=bw(m),_=!_A(m),S=Cf(m);u?d=r||_:h?d=_&&(r||y):c?d=_&&y&&(r||!b):f?d=_&&y&&!b&&(r||!S):b||S?d=!1:d=r?m<=l:m<l,d?s=p+1:i=p}return Math.min(i,kge)}o(pR,"sortedIndexBy");function L7(t){return typeof t=="symbol"}o(L7,"isSymbol");function mR(t){return typeof t=="number"||t instanceof Number}o(mR,"isNumber$4");const Age=4294967295,Cge=Age>>>1;function F7(t,e){if(Fu(t))return 0;let n=0,r=Fu(t)?n:t.length;if(mR(e)&&e===e&&r<=Cge){for(;n<r;){const s=n+r>>>1,i=t[s];!bw(i)&&!L7(i)&&i<e?n=s+1:r=s}return r}return pR(t,e,s=>s)}o(F7,"sortedIndex");function Ige(t,e){if(!t?.length)return-1;const n=F7(t,e);return n<t.length&&Hr(t[n],e)?n:-1}o(Ige,"sortedIndexOf");function B7(t,e,n){return pR(t,e,n,!0)}o(B7,"sortedLastIndexBy");const Rge=4294967295,Oge=Rge>>>1;function U7(t,e){if(Fu(t))return 0;let n=t.length;if(!mR(e)||Number.isNaN(e)||n>Oge)return B7(t,e,s=>s);let r=0;for(;r<n;){const s=r+n>>>1,i=t[s];!bw(i)&&!L7(i)&&i<=e?r=s+1:n=s}return n}o(U7,"sortedLastIndex");function Nge(t,e){if(!t?.length)return-1;const n=U7(t,e)-1;return n>=0&&Hr(t[n],e)?n:-1}o(Nge,"sortedLastIndexOf");function Mge(t){return t.slice(1)}o(Mge,"tail$1");function Dge(t){return We(t)?Mge(Us(t)):[]}o(Dge,"tail");function Pge(t,e,n){return e=e===void 0?1:Jn(e),t.slice(0,e)}o(Pge,"take$1");function $ge(t,e=1,n){return e=n?1:Jn(e),e<1||!We(t)?[]:Pge(Us(t),e)}o($ge,"take");function Lge(t,e=1,n){return e=e===void 0?1:Jn(e),e<=0||t==null||t.length===0?[]:t.slice(-e)}o(Lge,"takeRight$1");function Fge(t,e=1,n){return e=n?1:Jn(e),e<=0||!We(t)?[]:Lge(Us(t),e)}o(Fge,"takeRight");function Bge(t){return((...e)=>!t(...e))}o(Bge,"negate");function Uge(t,e){if(!Pt(t))return[];const n=Us(t),r=n.findLastIndex(Bge(st(e??dt)));return n.slice(r+1)}o(Uge,"takeRightWhile");function Fp(t){return t}o(Fp,"identity");function zge(t,e){if(!Pt(t))return[];const n=Us(t),r=n.findIndex(hR(st(e??Fp)));return r===-1?n:n.slice(0,r)}o(zge,"takeWhile");function Vge(...t){const e=t.filter(Pt),n=$y(e,1);return Lp(n)}o(Vge,"union");function z7(t,e){const n=new Map;for(let r=0;r<t.length;r++){const s=t[r],i=e(s);n.has(i)||n.set(i,s)}return Array.from(n.values())}o(z7,"uniqBy$1");function wA(...t){const e=KE(t),n=YE(t);return Pt(e)||e==null?Lp(n):z7(n,st(e))}o(wA,"unionBy");function V7(t,e){const n=[];for(let r=0;r<t.length;r++){const s=t[r];n.every(a=>!e(a,s))&&n.push(s)}return n}o(V7,"uniqWith$1");function vA(...t){const e=KE(t),n=YE(t);return Pt(e)||e==null?Lp(n):V7(n,e)}o(vA,"unionWith");function jge(t,e=dt){return Pt(t)?z7(Array.from(t),st(e)):[]}o(jge,"uniqBy");function Wge(t,e){return We(t)?typeof e=="function"?V7(Array.from(t),e):fR(Array.from(t)):[]}o(Wge,"uniqWith");function EA(t){let e=0;for(let r=0;r<t.length;r++)t[r].length>e&&(e=t[r].length);const n=new Array(e);for(let r=0;r<e;r++){n[r]=new Array(t.length);for(let s=0;s<t.length;s++)n[r][s]=t[s][r]}return n}o(EA,"unzip$1");function j7(t){return!Pt(t)||!t.length?[]:(t=Bu(t)?t:Array.from(t),t=t.filter(e=>Pt(e)),EA(t))}o(j7,"unzip");function Hge(t,e){if(!Pt(t)||!t.length)return[];const n=Bu(t)?EA(t):EA(Array.from(t,s=>Array.from(s)));if(!e)return n;const r=new Array(n.length);for(let s=0;s<n.length;s++){const i=n[s];r[s]=e(...i)}return r}o(Hge,"unzipWith");function qge(t,...e){return GE(t,e)}o(qge,"without$1");function Gge(t,...e){return Pt(t)?qge(Array.from(t),...e):[]}o(Gge,"without");function Kge(...t){const e=new Map;for(let r=0;r<t.length;r++){const s=t[r];if(!Pt(s))continue;const i=new Set(dR(s));for(const a of i)e.has(a)?e.set(a,e.get(a)+1):e.set(a,1)}const n=[];for(const[r,s]of e)s===1&&n.push(r);return n}o(Kge,"xor");function W7(t,e,n=1,{partialWindows:r=!1}={}){if(!Number.isInteger(e))throw new Error("Size must be a positive integer.");if(n<=0||!Number.isInteger(n))throw new Error("Step must be a positive integer.");const s=[],i=r?t.length:t.length-e+1;for(let a=0;a<i;a+=n)s.push(t.slice(a,a+e));return s}o(W7,"windowed");function Yge(...t){const e=Jf(t);let n=dt;!Pt(e)&&e!=null&&(n=st(e),t=t.slice(0,-1));const r=t.filter(Pt),s=wA(...r,n),i=W7(r,2).map(([a,l])=>A7(a,l,n));return x7(s,wA(...i,n),n)}o(Yge,"xorBy");function Xge(...t){const e=Jf(t);let n=o((a,l)=>a===l,"comparator");typeof e=="function"&&(n=e,t=t.slice(0,-1));const r=t.filter(Pt),s=vA(...r,n),i=W7(r,2).map(([a,l])=>C7(a,l,n));return S7(s,vA(...i,n),n)}o(Xge,"xorWith");function H7(...t){let e=0;for(let s=0;s<t.length;s++)t[s].length>e&&(e=t[s].length);const n=t.length,r=Array(e);for(let s=0;s<e;++s){const i=Array(n);for(let a=0;a<n;++a)i[a]=t[a][s];r[s]=i}return r}o(H7,"zip$1");function Jge(...t){return t.length?H7(...t.filter(e=>Pt(e))):[]}o(Jge,"zip");const gR=o((t,e,n)=>{const r=t[e];(!(Object.hasOwn(t,e)&&Hr(r,n))||n===void 0&&!(e in t))&&(t[e]=n)},"assignValue");function Zge(t=[],e=[]){const n={};for(let r=0;r<t.length;r++)gR(n,t[r],e[r]);return n}o(Zge,"zipObject");function ex(t,e,n,r){if(t==null&&!wo(t))return t;const s=ZE(e,t)?[e]:Array.isArray(e)?e:typeof e=="string"?Ca(e):[e];let i=t;for(let a=0;a<s.length&&i!=null;a++){const l=Xf(s[a]);if(Lu(l))continue;let u;if(a===s.length-1)u=n(i[l]);else{const c=i[l],f=r?.(c,l,t);u=f!==void 0?f:wo(c)?c:Yd(s[a+1])?[]:{}}gR(i,l,u),i=i[l]}return t}o(ex,"updateWith");function yR(t,e,n){return ex(t,e,()=>n,()=>{})}o(yR,"set");function Qge(t,e){const n={};if(!We(t))return n;We(e)||(e=[]);const r=H7(Array.from(t),Array.from(e));for(let s=0;s<r.length;s++){const[i,a]=r[s];i!=null&&yR(n,i,a)}return n}o(Qge,"zipObjectDeep");function e0e(...t){let e=t.pop();if(Qf(e)||(t.push(e),e=void 0),!t?.length)return[];const n=j7(t);return e==null?n:n.map(r=>e(...r))}o(e0e,"zipWith");function t0e(t,e){if(typeof e!="function")throw new TypeError("Expected a function");return t=Jn(t),function(...n){if(--t<1)return e.apply(this,n)}}o(t0e,"after$1");function n0e(t,e){return function(...n){return t.apply(this,n.slice(0,e))}}o(n0e,"ary$1");function q7(t,e=t.length,n){return n&&(e=t.length),(Number.isNaN(e)||e<0)&&(e=0),n0e(t,e)}o(q7,"ary");function G7(t,...e){try{return t(...e)}catch(n){return n instanceof Error?n:new Error(n)}}o(G7,"attempt");function r0e(t,e){if(typeof e!="function")throw new TypeError("Expected a function");let n;return t=Jn(t),function(...r){return--t>0&&(n=e.apply(this,r)),t<=1&&e&&(e=void 0),n}}o(r0e,"before");function bR(t,e,...n){const r=o(function(...s){const i=[];let a=0;for(let l=0;l<n.length;l++){const u=n[l];u===bR.placeholder?i.push(s[a++]):i.push(u)}for(let l=a;l<s.length;l++)i.push(s[l]);return this instanceof r?new t(...i):t.apply(e,i)},"bound");return r}o(bR,"bind$2");const s0e=Symbol("bind.placeholder");bR.placeholder=s0e;function _R(t,e,...n){const r=o(function(...s){const i=[];let a=0;for(let l=0;l<n.length;l++){const u=n[l];u===_R.placeholder?i.push(s[a++]):i.push(u)}for(let l=a;l<s.length;l++)i.push(s[l]);return this instanceof r?new t[e](...i):t[e].apply(t,i)},"bound");return r}o(_R,"bindKey");const i0e=Symbol("bindKey.placeholder");_R.placeholder=i0e;function Ly(t,e=t.length,n){e=n?t.length:e,e=Number.parseInt(e,10),(Number.isNaN(e)||e<1)&&(e=0);const r=o(function(...s){const i=s.filter(l=>l===Ly.placeholder),a=s.length-i.length;return a<e?K7(t,e-a,s):this instanceof r?new t(...s):t.apply(this,s)},"wrapper");return r.placeholder=wR,r}o(Ly,"curry");function K7(t,e,n){function r(...s){const i=s.filter(l=>l===Ly.placeholder),a=s.length-i.length;return s=o0e(s,n),a<e?K7(t,e-a,s):this instanceof r?new t(...s):t.apply(this,s)}return o(r,"wrapper"),r.placeholder=wR,r}o(K7,"makeCurry");function o0e(t,e){const n=[];let r=0;for(let s=0;s<e.length;s++){const i=e[s];i===Ly.placeholder&&r<t.length?n.push(t[r++]):n.push(i)}for(let s=r;s<t.length;s++)n.push(t[s]);return n}o(o0e,"composeArgs$1");const wR=Symbol("curry.placeholder");Ly.placeholder=wR;function Zd(t,e=t.length,n){e=n?t.length:e,e=Number.parseInt(e,10),(Number.isNaN(e)||e<1)&&(e=0);const r=o(function(...s){const i=s.filter(l=>l===Zd.placeholder),a=s.length-i.length;return a<e?Y7(t,e-a,s):this instanceof r?new t(...s):t.apply(this,s)},"wrapper");return r.placeholder=vR,r}o(Zd,"curryRight");function Y7(t,e,n){function r(...s){const i=s.filter(l=>l===Zd.placeholder),a=s.length-i.length;return s=a0e(s,n),a<e?Y7(t,e-a,s):this instanceof r?new t(...s):t.apply(this,s)}return o(r,"wrapper"),r.placeholder=vR,r}o(Y7,"makeCurryRight");function a0e(t,e){const n=e.filter(a=>a===Zd.placeholder).length,r=Math.max(t.length-n,0),s=[];let i=0;for(let a=0;a<r;a++)s.push(t[i++]);for(let a=0;a<e.length;a++){const l=e[a];l===Zd.placeholder&&i<t.length?s.push(t[i++]):s.push(l)}return s}o(a0e,"composeArgs");const vR=Symbol("curryRight.placeholder");Zd.placeholder=vR;function l0e(t,e,{signal:n,edges:r}={}){let s,i=null;const a=r!=null&&r.includes("leading"),l=r==null||r.includes("trailing"),u=o(()=>{i!==null&&(t.apply(s,i),s=void 0,i=null)},"invoke"),c=o(()=>{l&&u(),p()},"onTimerEnd");let f=null;const h=o(()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,c()},e)},"schedule"),d=o(()=>{f!==null&&(clearTimeout(f),f=null)},"cancelTimer"),p=o(()=>{d(),s=void 0,i=null},"cancel"),m=o(()=>{u()},"flush"),y=o(function(...b){if(n?.aborted)return;s=this,i=b;const _=f==null;h(),a&&_&&u()},"debounced");return y.schedule=h,y.cancel=p,y.flush=m,n?.addEventListener("abort",p,{once:!0}),y}o(l0e,"debounce$1");function X7(t,e=0,n={}){typeof n!="object"&&(n={});const{leading:r=!1,trailing:s=!0,maxWait:i}=n,a=Array(2);r&&(a[0]="leading"),s&&(a[1]="trailing");let l,u=null;const c=l0e(function(...d){l=t.apply(this,d),u=null},e,{edges:a}),f=o(function(...d){return i!=null&&(u===null&&(u=Date.now()),Date.now()-u>=i)?(l=t.apply(this,d),u=Date.now(),c.cancel(),c.schedule(),l):(c.apply(this,d),l)},"debounced"),h=o(()=>(c.flush(),l),"flush");return f.cancel=c.cancel,f.flush=h,f}o(X7,"debounce");function u0e(t,...e){if(typeof t!="function")throw new TypeError("Expected a function");return setTimeout(t,1,...e)}o(u0e,"defer");function c0e(t,e,...n){if(typeof t!="function")throw new TypeError("Expected a function");return setTimeout(t,Xn(e)||0,...n)}o(c0e,"delay");function f0e(t){return function(...e){return t.apply(this,e.reverse())}}o(f0e,"flip");function J7(...t){return function(...e){let n=t.length?t[0].apply(this,e):e[0];for(let r=1;r<t.length;r++)n=t[r].call(this,n);return n}}o(J7,"flow$1");function h0e(...t){const e=LE(t,1);if(e.some(n=>typeof n!="function"))throw new TypeError("Expected a function");return J7(...e)}o(h0e,"flow");function d0e(...t){return J7(...t.reverse())}o(d0e,"flowRight$1");function p0e(...t){const e=LE(t,1);if(e.some(n=>typeof n!="function"))throw new TypeError("Expected a function");return d0e(...e)}o(p0e,"flowRight");function ER(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");const n=o(function(...s){const i=e?e.apply(this,s):s[0],a=n.cache;if(a.has(i))return a.get(i);const l=t.apply(this,s);return n.cache=a.set(i,l)||a,l},"memoized"),r=ER.Cache||Map;return n.cache=new r,n}o(ER,"memoize");ER.Cache=Map;function m0e(t=0){return function(...e){return e.at(Jn(t))}}o(m0e,"nthArg");function g0e(t){let e=!1,n;return function(...r){return e||(e=!0,n=t(...r)),n}}o(g0e,"once$2");function y0e(t){return g0e(t)}o(y0e,"once$1");function b0e(t,...e){if(typeof t!="function")throw new TypeError("Expected a function");const n=e.flat();return function(...r){const s=Math.min(r.length,n.length),i=[...r];for(let a=0;a<s;a++){const l=st(n[a]??dt);i[a]=l.call(this,r[a])}return t.apply(this,i)}}o(b0e,"overArgs");function _0e(t,e,...n){const r=o(function(...s){let i=0;const a=n.slice().map(u=>u===e?s[i++]:u),l=s.slice(i);return t.apply(this,a.concat(l))},"partialed");return t.prototype&&(r.prototype=Object.create(t.prototype)),r}o(_0e,"partialImpl");function xR(t,...e){return _0e(t,xR.placeholder,...e)}o(xR,"partial");xR.placeholder=Symbol("compat.partial.placeholder");function w0e(t,e,...n){const r=o(function(...s){const i=n.filter(f=>f===e).length,a=Math.max(s.length-i,0),l=s.slice(0,a);let u=a;const c=n.slice().map(f=>f===e?s[u++]:f);return t.apply(this,l.concat(c))},"partialedRight");return t.prototype&&(r.prototype=Object.create(t.prototype)),r}o(w0e,"partialRightImpl");function SR(t,...e){return w0e(t,SR.placeholder,...e)}o(SR,"partialRight");SR.placeholder=Symbol("compat.partialRight.placeholder");function v0e(t,...e){const n=JE(e);return function(...r){const s=n.map(i=>r[i]).slice(0,r.length);for(let i=s.length;i<r.length;i++)s.push(r[i]);return t.apply(this,s)}}o(v0e,"rearg");function E0e(t,e=t.length-1){return function(...n){const r=n.slice(e),s=n.slice(0,e);for(;s.length<e;)s.push(void 0);return t.apply(this,[...s,r])}}o(E0e,"rest$1");function x0e(t,e=t.length-1){return e=Number.parseInt(e,10),(Number.isNaN(e)||e<0)&&(e=t.length-1),E0e(t,e)}o(x0e,"rest");function S0e(t,e=0){return e=Number.parseInt(e,10),(Number.isNaN(e)||e<0)&&(e=0),function(...n){const r=n[e],s=n.slice(0,e);return r&&s.push(...r),t.apply(this,s)}}o(S0e,"spread");function T0e(t,e=0,n={}){const{leading:r=!0,trailing:s=!0}=n;return X7(t,e,{leading:r,maxWait:e,trailing:s})}o(T0e,"throttle");function k0e(t){return q7(t,1)}o(k0e,"unary");function A0e(t,e){return function(...n){return(Qf(e)?e:dt).apply(this,[t,...n])}}o(A0e,"wrap$3");function At(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(At).join(",");const e=String(t);return e==="0"&&Object.is(Number(t),-0)?"-0":e}o(At,"toString$1");function C0e(t,e){return t===void 0&&e===void 0?0:t===void 0||e===void 0?t??e:(typeof t=="string"||typeof e=="string"?(t=At(t),e=At(e)):(t=Xn(t),e=Xn(e)),t+e)}o(C0e,"add");function TR(t,e,n=0){if(e=Number(e),Object.is(e,-0)&&(e="-0"),n=Math.min(Number.parseInt(n,10),292),n){const[r,s=0]=e.toString().split("e");let i=Math[t](+`${r}e${Number(s)+n}`);Object.is(i,-0)&&(i="-0");const[a,l=0]=i.toString().split("e");return+`${a}e${Number(l)-n}`}return Math[t](Number(e))}o(TR,"decimalAdjust");function I0e(t,e=0){return TR("ceil",t,e)}o(I0e,"ceil");function R0e(t,e){return t===void 0&&e===void 0?1:t===void 0||e===void 0?t??e:(typeof t=="string"||typeof e=="string"?(t=At(t),e=At(e)):(t=Xn(t),e=Xn(e)),t/e)}o(R0e,"divide");function O0e(t,e=0){return TR("floor",t,e)}o(O0e,"floor$2");function N0e(t,e,n){if(n==null&&(n=e,e=0),e>=n)throw new Error("The maximum value must be greater than the minimum value.");return e<=t&&t<n}o(N0e,"inRange$1");function M0e(t,e,n){return e||(e=0),n!=null&&!n&&(n=0),e!=null&&typeof e!="number"&&(e=Number(e)),n==null&&e===0||(n!=null&&typeof n!="number"&&(n=Number(n)),n!=null&&e>n&&([e,n]=[n,e]),e===n)?!1:N0e(t,e,n)}o(M0e,"inRange");function D0e(t){if(!t||t.length===0)return;let e;for(let n=0;n<t.length;n++){const r=t[n];r==null||Number.isNaN(r)||typeof r=="symbol"||(e===void 0||r>e)&&(e=r)}return e}o(D0e,"max$1");function P0e(t,e){if(t.length===0)return;let n=t[0],r=e(n);for(let s=1;s<t.length;s++){const i=t[s],a=e(i);a>r&&(r=a,n=i)}return n}o(P0e,"maxBy$1");function $0e(t,e){if(t!=null)return P0e(Array.from(t),st(e??dt))}o($0e,"maxBy");function Z7(t,e){if(!t||!t.length)return 0;e!=null&&(e=st(e));let n;for(let r=0;r<t.length;r++){const s=e?e(t[r]):t[r];s!==void 0&&(n===void 0?n=s:n+=s)}return n}o(Z7,"sumBy");function Q7(t){return Z7(t)}o(Q7,"sum$1");function L0e(t){const e=t?t.length:0;return e===0?NaN:Q7(t)/e}o(L0e,"mean$1");function F0e(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}o(F0e,"sum");function B0e(t){return F0e(t)/t.length}o(B0e,"mean");function U0e(t,e){const n=t.map(r=>e(r));return B0e(n)}o(U0e,"meanBy$1");function z0e(t,e){return t==null?NaN:U0e(Array.from(t),st(e??dt))}o(z0e,"meanBy");function V0e(t){if(!t||t.length===0)return;let e;for(let n=0;n<t.length;n++){const r=t[n];r==null||Number.isNaN(r)||typeof r=="symbol"||(e===void 0||r<e)&&(e=r)}return e}o(V0e,"min$1");function j0e(t,e){if(t.length===0)return;let n=t[0],r=e(n);for(let s=1;s<t.length;s++){const i=t[s],a=e(i);a<r&&(r=a,n=i)}return n}o(j0e,"minBy$1");function W0e(t,e){if(t!=null)return j0e(Array.from(t),st(e??dt))}o(W0e,"minBy");function H0e(t,e){return t===void 0&&e===void 0?1:t===void 0||e===void 0?t??e:(typeof t=="string"||typeof e=="string"?(t=At(t),e=At(e)):(t=Xn(t),e=Xn(e)),t*e)}o(H0e,"multiply");function q0e(t,e=0,n){return n&&(e=0),Number.parseInt(t,e)}o(q0e,"parseInt$1");function G0e(...t){let e=0,n=1,r=!1;switch(t.length){case 1:{typeof t[0]=="boolean"?r=t[0]:n=t[0];break}case 2:typeof t[1]=="boolean"?(n=t[0],r=t[1]):(e=t[0],n=t[1]);case 3:typeof t[2]=="object"&&t[2]!=null&&t[2][t[1]]===t[0]?(e=0,n=t[0],r=!1):(e=t[0],n=t[1],r=t[2])}return typeof e!="number"&&(e=Number(e)),typeof n!="number"&&(e=Number(n)),e||(e=0),n||(n=0),e>n&&([e,n]=[n,e]),e=Jd(e,-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),n=Jd(n,-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),e===n?e:r?M7(e,n+1):D7(e,n+1)}o(G0e,"random");function K0e(t,e,n){n&&typeof n!="number"&&wl(t,e,n)&&(e=n=void 0),t=Au(t),e===void 0?(e=t,t=0):e=Au(e),n=n===void 0?t<e?1:-1:Au(n);const r=Math.max(Math.ceil((e-t)/(n||1)),0),s=new Array(r);for(let i=0;i<r;i++)s[i]=t,t+=n;return s}o(K0e,"range$1");function Y0e(t,e,n){n&&typeof n!="number"&&wl(t,e,n)&&(e=n=void 0),t=Au(t),e===void 0?(e=t,t=0):e=Au(e),n=n===void 0?t<e?1:-1:Au(n);const r=Math.max(Math.ceil((e-t)/(n||1)),0),s=new Array(r);for(let i=r-1;i>=0;i--)s[i]=t,t+=n;return s}o(Y0e,"rangeRight");function X0e(t,e=0){return TR("round",t,e)}o(X0e,"round$1");function J0e(t,e){return t===void 0&&e===void 0?0:t===void 0||e===void 0?t??e:(typeof t=="string"||typeof e=="string"?(t=At(t),e=At(e)):(t=Xn(t),e=Xn(e)),t-e)}o(J0e,"subtract");function I$(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}o(I$,"isPlainObject$2");function ej(t,e,n){return Jm(t,e,void 0,void 0,void 0,void 0,n)}o(ej,"isEqualWith$1");function Jm(t,e,n,r,s,i,a){const l=a(t,e,n,r,s,i);if(l!==void 0)return l;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Ag(t,e,i,a)}return Ag(t,e,i,a)}o(Jm,"isEqualWithImpl");function Ag(t,e,n,r){if(Object.is(t,e))return!0;let s=kf(t),i=kf(e);if(s===Kd&&(s=kg),i===Kd&&(i=kg),s!==i)return!1;switch(s){case Gd:return t.toString()===e.toString();case Dy:{const u=t.valueOf(),c=e.valueOf();return Hr(u,c)}case Py:case VE:case zE:return Object.is(t.valueOf(),e.valueOf());case UE:return t.source===e.source&&t.flags===e.flags;case ume:return t===e}n=n??new Map;const a=n.get(t),l=n.get(e);if(a!=null&&l!=null)return a===e;n.set(t,e),n.set(e,t);try{switch(s){case jE:{if(t.size!==e.size)return!1;for(const[u,c]of t.entries())if(!e.has(u)||!Jm(c,e.get(u),u,t,e,n,r))return!1;return!0}case WE:{if(t.size!==e.size)return!1;const u=Array.from(t.values()),c=Array.from(e.values());for(let f=0;f<u.length;f++){const h=u[f],d=c.findIndex(p=>Jm(h,p,void 0,t,e,n,r));if(d===-1)return!1;c.splice(d,1)}return!0}case Z3:case Q3:case eR:case tR:case nR:case fme:case rR:case sR:case iR:case hme:case oR:case aR:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let u=0;u<t.length;u++)if(!Jm(t[u],e[u],u,t,e,n,r))return!1;return!0}case HE:return t.byteLength!==e.byteLength?!1:Ag(new Uint8Array(t),new Uint8Array(e),n,r);case qE:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Ag(new Uint8Array(t),new Uint8Array(e),n,r);case cme:return t.name===e.name&&t.message===e.message;case kg:{if(!(Ag(t.constructor,e.constructor,n,r)||I$(t)&&I$(e)))return!1;const c=[...Object.keys(t),...p0(t)],f=[...Object.keys(e),...p0(e)];if(c.length!==f.length)return!1;for(let h=0;h<c.length;h++){const d=c[h],p=t[d];if(!Object.hasOwn(e,d))return!1;const m=e[d];if(!Jm(p,m,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}o(Ag,"areObjectsEqual");function tj(){}o(tj,"noop$3");function Z0e(t,e){return ej(t,e,tj)}o(Z0e,"isEqual");function Q0e(...t){}o(Q0e,"noop$2");function kR(t){return typeof Buffer<"u"&&Buffer.isBuffer(t)}o(kR,"isBuffer$1");function AR(t){const e=t?.constructor,n=typeof e=="function"?e.prototype:Object.prototype;return t===n}o(AR,"isPrototype");function eh(t){return lR(t)}o(eh,"isTypedArray");function CR(t,e){if(t=Jn(t),t<1||!Number.isSafeInteger(t))return[];const n=new Array(t);for(let r=0;r<t;r++)n[r]=typeof e=="function"?e(r):r;return n}o(CR,"times");function ac(t){if(We(t))return eye(t);const e=Object.keys(Object(t));return AR(t)?e.filter(n=>n!=="constructor"):e}o(ac,"keys$2");function eye(t){const e=CR(t.length,r=>`${r}`),n=new Set(e);return kR(t)&&(n.add("offset"),n.add("parent")),eh(t)&&(n.add("buffer"),n.add("byteLength"),n.add("byteOffset")),[...e,...Object.keys(t).filter(r=>!n.has(r))]}o(eye,"arrayLikeKeys");function tye(t,...e){for(let n=0;n<e.length;n++)nye(t,e[n]);return t}o(tye,"assign$6");function nye(t,e){const n=ac(e);for(let r=0;r<n.length;r++){const s=n[r];(!(s in t)||!Hr(t[s],e[s]))&&(t[s]=e[s])}}o(nye,"assignImpl");function lc(t){if(t==null)return[];switch(typeof t){case"object":case"function":return We(t)?sye(t):AR(t)?rye(t):_w(t);default:return _w(Object(t))}}o(lc,"keysIn");function _w(t){const e=[];for(const n in t)e.push(n);return e}o(_w,"keysInImpl");function rye(t){return _w(t).filter(n=>n!=="constructor")}o(rye,"prototypeKeysIn");function sye(t){const e=CR(t.length,r=>`${r}`),n=new Set(e);return kR(t)&&(n.add("offset"),n.add("parent")),eh(t)&&(n.add("buffer"),n.add("byteLength"),n.add("byteOffset")),[...e,..._w(t).filter(r=>!n.has(r))]}o(sye,"arrayLikeKeysIn");function R$(t,...e){for(let n=0;n<e.length;n++)iye(t,e[n]);return t}o(R$,"assignIn");function iye(t,e){const n=lc(e);for(let r=0;r<n.length;r++){const s=n[r];(!(s in t)||!Hr(t[s],e[s]))&&(t[s]=e[s])}}o(iye,"assignInImpl");function O$(t,...e){let n=e[e.length-1];typeof n=="function"?e.pop():n=void 0;for(let r=0;r<e.length;r++)oye(t,e[r],n);return t}o(O$,"assignInWith");function oye(t,e,n){const r=lc(e);for(let s=0;s<r.length;s++){const i=r[s],a=t[i],l=e[i],u=n?.(a,l,i,t,e)??l;(!(i in t)||!Hr(a,u))&&(t[i]=u)}}o(oye,"assignInWithImpl");function aye(t,...e){let n=e[e.length-1];typeof n=="function"?e.pop():n=void 0;for(let r=0;r<e.length;r++)lye(t,e[r],n);return t}o(aye,"assignWith");function lye(t,e,n){const r=ac(e);for(let s=0;s<r.length;s++){const i=r[s],a=t[i],l=e[i],u=n?.(a,l,i,t,e)??l;(!(i in t)||!Hr(a,u))&&(t[i]=u)}}o(lye,"assignWithImpl");function xA(t){if(My(t))return t;const e=kf(t);if(!uye(t))return{};if(Bu(t)){const r=Array.from(t);return t.length>0&&typeof t[0]=="string"&&Object.hasOwn(t,"index")&&(r.index=t.index,r.input=t.input),r}if(eh(t)){const r=t,s=r.constructor;return new s(r.buffer,r.byteOffset,r.length)}if(e===HE)return new ArrayBuffer(t.byteLength);if(e===qE){const r=t,s=r.buffer,i=r.byteOffset,a=r.byteLength,l=new ArrayBuffer(a),u=new Uint8Array(s,i,a);return new Uint8Array(l).set(u),new DataView(l)}if(e===Py||e===Dy||e===Gd){const r=t.constructor,s=new r(t.valueOf());return e===Gd?fye(s,t):W2(s,t),s}if(e===VE)return new Date(Number(t));if(e===UE){const r=t,s=new RegExp(r.source,r.flags);return s.lastIndex=r.lastIndex,s}if(e===zE)return Object(Symbol.prototype.valueOf.call(t));if(e===jE){const r=t,s=new Map;return r.forEach((i,a)=>{s.set(a,i)}),s}if(e===WE){const r=t,s=new Set;return r.forEach(i=>{s.add(i)}),s}if(e===Kd){const r=t,s={};return W2(s,r),s.length=r.length,s[Symbol.iterator]=r[Symbol.iterator],s}const n={};return hye(n,t),W2(n,t),cye(n,t),n}o(xA,"clone$4");function uye(t){switch(kf(t)){case Kd:case Z3:case HE:case qE:case Py:case VE:case oR:case aR:case rR:case sR:case iR:case jE:case Dy:case kg:case UE:case WE:case Gd:case zE:case Q3:case eR:case tR:case nR:return!0;default:return!1}}o(uye,"isCloneableObject");function W2(t,e){for(const n in e)Object.hasOwn(e,n)&&(t[n]=e[n])}o(W2,"copyOwnProperties");function cye(t,e){const n=Object.getOwnPropertySymbols(e);for(let r=0;r<n.length;r++){const s=n[r];Object.prototype.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}}o(cye,"copySymbolProperties");function fye(t,e){const n=e.valueOf().length;for(const r in e)Object.hasOwn(e,r)&&(Number.isNaN(Number(r))||Number(r)>=n)&&(t[r]=e[r])}o(fye,"cloneStringObjectProperties");function hye(t,e){const n=Object.getPrototypeOf(e);n!==null&&typeof e.constructor=="function"&&Object.setPrototypeOf(t,n)}o(hye,"copyPrototype");function dye(t,e){if(!e)return xA(t);const n=e(t);return n!==void 0?n:xA(t)}o(dye,"cloneWith");function pye(t,e){const n=wo(t)?Object.create(t):{};if(e!=null){const r=ac(e);for(let s=0;s<r.length;s++){const i=r[s],a=e[i];gR(n,i,a)}}return n}o(pye,"create$8");function ww(t,...e){t=Object(t);const n=Object.prototype;let r=e.length;const s=r>2?e[2]:void 0;s&&wl(e[0],e[1],s)&&(r=1);for(let i=0;i<r;i++){const a=e[i],l=Object.keys(a);for(let u=0;u<l.length;u++){const c=l[u],f=t[c];(f===void 0||!Object.hasOwn(t,c)&&Hr(f,n[c]))&&(t[c]=a[c])}}return t}o(ww,"defaults$1");function Uu(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}o(Uu,"isPlainObject$1");function mye(t,...e){t=Object(t);for(let n=0;n<e.length;n++){const r=e[n];r!=null&&tx(t,r,new WeakMap)}return t}o(mye,"defaultsDeep");function tx(t,e,n){for(const r in e){const s=e[r],i=t[r];if(i===void 0||!Object.hasOwn(t,r)){t[r]=gye(s,n);continue}n.get(s)!==i&&yye(i,s,n)}}o(tx,"defaultsDeepRecursive");function gye(t,e){if(e.has(t))return e.get(t);if(Uu(t)){const n={};return e.set(t,n),tx(n,t,e),n}return t}o(gye,"handleMissingProperty");function yye(t,e,n){if(Uu(t)&&Uu(e)){n.set(e,t),tx(t,e,n);return}Array.isArray(t)&&Array.isArray(e)&&(n.set(e,t),bye(t,e,n))}o(yye,"handleExistingProperty");function bye(t,e,n){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++)Uu(t[s])&&Uu(e[s])&&tx(t[s],e[s],n);for(let s=r;s<e.length;s++)t.push(e[s])}o(bye,"mergeArrays");function _ye(t,e){return Object.keys(t).find(r=>e(t[r],r,t))}o(_ye,"findKey$1");function wye(t,e){if(!wo(t))return;const n=st(e??Fp);return _ye(t,n)}o(wye,"findKey");function vye(t,e){if(!wo(t))return;const n=st(e??Fp);return Object.keys(t).findLast(s=>n(t[s],s,t))}o(vye,"findLastKey");function Eye(t,e=dt){if(t==null)return t;for(const n in t)if(e(t[n],n,t)===!1)break;return t}o(Eye,"forIn");function xye(t,e=dt){if(t==null)return t;const n=[];for(const r in t)n.push(r);for(let r=n.length-1;r>=0;r--){const s=n[r];if(e(t[s],s,t)===!1)break}return t}o(xye,"forInRight");function Sye(t,e=dt){if(t==null)return t;const n=Object(t),r=ac(t);for(let s=0;s<r.length;++s){const i=r[s];if(e(n[i],i,n)===!1)break}return t}o(Sye,"forOwn");function Tye(t,e=dt){if(t==null)return t;const n=Object(t),r=ac(t);for(let s=r.length-1;s>=0;--s){const i=r[s];if(e(n[i],i,n)===!1)break}return t}o(Tye,"forOwnRight");function kye(t){if(!We(t))return{};const e={};for(let n=0;n<t.length;n++){const[r,s]=t[n];e[r]=s}return e}o(kye,"fromPairs");function Aye(t){return t==null?[]:ac(t).filter(e=>typeof t[e]=="function")}o(Aye,"functions");function Cye(t){if(t==null)return[];const e=[];for(const n in t)Qf(t[n])&&e.push(n);return e}o(Cye,"functionsIn");function Iye(t,e){if(t==null)return!1;let n;if(Array.isArray(e)?n=e:typeof e=="string"&&FE(e)&&t[e]==null?n=Ca(e):n=[e],n.length===0)return!1;let r=t;for(let s=0;s<n.length;s++){const i=n[s];if((r==null||!(i in Object(r)))&&!((Array.isArray(r)||Xd(r))&&Yd(i)&&i<r.length))return!1;r=r[i]}return!0}o(Iye,"hasIn");function Rye(t){const e={},n=Object.keys(t);for(let r=0;r<n.length;r++){const s=n[r],i=t[s];e[i]=s}return e}o(Rye,"invert$1");function Oye(t){return Rye(t)}o(Oye,"invert");function Nye(t,e){const n={};if(Fu(t))return n;e==null&&(e=dt);const r=Object.keys(t),s=st(e);for(let i=0;i<r.length;i++){const a=r[i],l=t[a],u=s(l);Array.isArray(n[u])?n[u].push(a):n[u]=[a]}return n}o(Nye,"invertBy");function Mye(t,e){const n={},r=Object.keys(t);for(let s=0;s<r.length;s++){const i=r[s],a=t[i];n[e(a,i,t)]=a}return n}o(Mye,"mapKeys$1");function Dye(t,e=dt){return t==null?{}:Mye(t,st(e))}o(Dye,"mapKeys");function Pye(t,e){const n={},r=Object.keys(t);for(let s=0;s<r.length;s++){const i=r[s],a=t[i];n[i]=e(a,i,t)}return n}o(Pye,"mapValues$1");function $ye(t,e=dt){return t==null?{}:Pye(t,st(e))}o($ye,"mapValues");function Lye(t){if(My(t))return t;if(Array.isArray(t)||lR(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}o(Lye,"clone$3");function nj(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let s=t;for(let i=0;i<n.length;i++){const a=n[i];s=r_(s,a,r,new Map)}return s}o(nj,"mergeWith");function r_(t,e,n,r){if(My(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return Lye(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let i=0;i<e.length;i++)e[i]=e[i]??void 0}const s=[...Object.keys(e),...p0(e)];for(let i=0;i<s.length;i++){const a=s[i];if(Lu(a))continue;let l=e[a],u=t[a];if(Xd(l)&&(l={...l}),Xd(u)&&(u={...u}),typeof Buffer<"u"&&Buffer.isBuffer(l)&&(l=m0(l)),Array.isArray(l))if(typeof u=="object"&&u!=null){const f=[],h=Reflect.ownKeys(u);for(let d=0;d<h.length;d++){const p=h[d];f[p]=u[p]}u=f}else u=[];const c=n(u,l,a,t,e,r);c!==void 0?t[a]=c:Array.isArray(l)||Af(u)&&Af(l)?t[a]=r_(u,l,n,r):u==null&&Uu(l)?t[a]=r_({},l,n,r):u==null&&eh(l)?t[a]=m0(l):(u===void 0||l!==void 0)&&(t[a]=l)}return t}o(r_,"mergeWithDeep");function Fye(t,...e){return nj(t,...e,tj)}o(Fye,"merge");function Bye(t,...e){if(t==null)return{};const n=uR(t);for(let r=0;r<e.length;r++){let s=e[r];switch(typeof s){case"object":{Array.isArray(s)||(s=Array.from(s));for(let i=0;i<s.length;i++){const a=s[i];yw(n,a)}break}case"string":case"symbol":case"number":{yw(n,s);break}}}return n}o(Bye,"omit");function rj(t){const e=[];for(;t;)e.push(...p0(t)),t=Object.getPrototypeOf(t);return e}o(rj,"getSymbolsIn");function Uye(t,e){if(t==null)return{};const n={},r=st(e??Fp),s=We(t)?Zf(0,t.length):[...lc(t),...rj(t)];for(let i=0;i<s.length;i++){const a=Cf(s[i])?s[i]:s[i].toString(),l=t[a];r(l,a,t)||(n[a]=l)}return n}o(Uye,"omitBy");function zye(t,...e){if(QE(t))return{};const n={};for(let r=0;r<e.length;r++){let s=e[r];switch(typeof s){case"object":{Array.isArray(s)||(We(s)?s=Array.from(s):s=[s]);break}case"string":case"symbol":case"number":{s=[s];break}}for(const i of s){const a=ni(t,i);a===void 0&&!cR(t,i)||(typeof i=="string"&&Object.hasOwn(t,i)?n[i]=a:yR(n,i,a))}}return n}o(zye,"pick");function Vye(t,e){if(t==null)return{};const n=st(e??Fp),r={},s=We(t)?Zf(0,t.length):[...lc(t),...rj(t)];for(let i=0;i<s.length;i++){const a=Cf(s[i])?s[i]:s[i].toString(),l=t[a];n(l,a,t)&&(r[a]=l)}return r}o(Vye,"pickBy");function jye(t){return function(e){return ni(t,e)}}o(jye,"propertyOf");function Wye(t,e,n){ZE(e,t)?e=[e]:Array.isArray(e)||(e=Ca(At(e)));const r=Math.max(e.length,1);for(let s=0;s<r;s++){const i=t?.[Xf(e[s])];if(i===void 0)return typeof n=="function"?n.call(t):n;t=typeof i=="function"?i.call(t):i}return t}o(Wye,"result");function Hye(t,e,n,r){let s;return typeof r=="function"?s=r:s=o(()=>{},"customizerFn"),ex(t,e,()=>n,s)}o(Hye,"setWith");function qye(t,...e){const n=m0(t);return ww(n,...e)}o(qye,"toDefaulted");function sj(t){const e=new Array(t.size),n=t.keys(),r=t.values();for(let s=0;s<e.length;s++)e[s]=[n.next().value,r.next().value];return e}o(sj,"mapToEntries");function ij(t){const e=new Array(t.size),n=t.values();for(let r=0;r<e.length;r++){const s=n.next().value;e[r]=[s,s]}return e}o(ij,"setToEntries");function Gye(t){if(t==null)return[];if(t instanceof Set)return ij(t);if(t instanceof Map)return sj(t);const e=ac(t),n=new Array(e.length);for(let r=0;r<e.length;r++){const s=e[r],i=t[s];n[r]=[s,i]}return n}o(Gye,"toPairs");function Kye(t){if(t==null)return[];if(t instanceof Set)return ij(t);if(t instanceof Map)return sj(t);const e=lc(t),n=new Array(e.length);for(let r=0;r<e.length;r++){const s=e[r],i=t[s];n[r]=[s,i]}return n}o(Kye,"toPairsIn");function oj(t){return kR(t)}o(oj,"isBuffer");function Yye(t,e=dt,n){const r=Array.isArray(t)||oj(t)||eh(t);return e=st(e),n==null&&(r?n=[]:wo(t)&&Qf(t.constructor)?n=Object.create(Object.getPrototypeOf(t)):n={}),t==null||yA(t,(s,i,a)=>e(n,s,i,a)),n}o(Yye,"transform$1");function Xye(t,e,n){return ex(t,e,n,()=>{})}o(Xye,"update");function Jye(t){const e=lc(t),n=new Array(e.length);for(let r=0;r<e.length;r++){const s=e[r];n[r]=t[s]}return n}o(Jye,"valuesIn");function Zye(t){return typeof t=="function"}o(Zye,"isFunction$2");function Qye(t){return Number.isSafeInteger(t)&&t>=0}o(Qye,"isLength$1");const aj=Function.prototype.toString,e1e=/[\\^$.*+?()[\]{}|]/g,t1e=RegExp(`^${aj.call(Object.prototype.hasOwnProperty).replace(e1e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")}$`);function n1e(t){if(typeof t!="function")return!1;if(globalThis?.["__core-js_shared__"]!=null)throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return t1e.test(aj.call(t))}o(n1e,"isNative");function r1e(t){return t===null}o(r1e,"isNull");function s1e(t){return bA(t)}o(s1e,"isUndefined");function lj(t,e){if(e==null)return!0;if(t==null)return Object.keys(e).length===0;const n=Object.keys(e);for(let r=0;r<n.length;r++){const s=n[r],i=e[s],a=t[s];if(a===void 0&&!(s in t)||typeof i=="function"&&!i(a))return!1}return!0}o(lj,"conformsTo");function i1e(t){return t=uR(t),function(e){return lj(e,t)}}o(i1e,"conforms");function o1e(t){return t instanceof ArrayBuffer}o(o1e,"isArrayBuffer$1");function a1e(t){return o1e(t)}o(a1e,"isArrayBuffer");function l1e(t){return typeof t=="boolean"||t instanceof Boolean}o(l1e,"isBoolean$2");function u1e(t){return t instanceof Date}o(u1e,"isDate$2");function c1e(t){return u1e(t)}o(c1e,"isDate$1");function f1e(t){return Af(t)&&t.nodeType===1&&!Uu(t)}o(f1e,"isElement");function h1e(t){if(t==null)return!0;if(We(t))return typeof t.splice!="function"&&typeof t!="string"&&(typeof Buffer>"u"||!Buffer.isBuffer(t))&&!eh(t)&&!Xd(t)?!1:t.length===0;if(typeof t=="object"){if(t instanceof Map||t instanceof Set)return t.size===0;const e=Object.keys(t);return AR(t)?e.filter(n=>n!=="constructor").length===0:e.length===0}return!0}o(h1e,"isEmpty$2");function N$(t,e){if(!Number.isInteger(t)||t<0)throw new Error("n must be a non-negative integer.");let n=0;return(...r)=>{if(++n>=t)return e(...r)}}o(N$,"after");function SA(t,e,n){return typeof n!="function"&&(n=o(()=>{},"areValuesEqual")),ej(t,e,(...r)=>{const s=n(...r);if(s!==void 0)return!!s;if(t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set)return SA(Array.from(t),Array.from(e),N$(2,n))})}o(SA,"isEqualWith");function d1e(t){return kf(t)==="[object Error]"}o(d1e,"isError");function p1e(t){return Number.isFinite(t)}o(p1e,"isFinite$1");function m1e(t){return Number.isInteger(t)}o(m1e,"isInteger$2");function g1e(t){return t instanceof RegExp}o(g1e,"isRegExp$3");function y1e(t){return g1e(t)}o(y1e,"isRegExp$2");function b1e(t){return Number.isSafeInteger(t)}o(b1e,"isSafeInteger");function _1e(t){return t instanceof Set}o(_1e,"isSet$1");function w1e(t){return _1e(t)}o(w1e,"isSet");function v1e(t){return t instanceof WeakMap}o(v1e,"isWeakMap$1");function E1e(t){return v1e(t)}o(E1e,"isWeakMap");function x1e(t){return t instanceof WeakSet}o(x1e,"isWeakSet$1");function S1e(t){return x1e(t)}o(S1e,"isWeakSet");function uj(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}o(uj,"capitalize$2");function T1e(t){return uj(At(t))}o(T1e,"capitalize$1");function k1e(t,...e){if(t==null||!wo(t)||Bu(t)&&e.length===0)return t;const n=[];for(let r=0;r<e.length;r++){const s=e[r];Bu(s)?n.push(...s):s&&typeof s=="object"&&"length"in s?n.push(...Array.from(s)):n.push(s)}if(n.length===0)return t;for(let r=0;r<n.length;r++){const s=n[r],i=At(s),a=t[i];Qf(a)&&(t[i]=a.bind(t))}return t}o(k1e,"bindAll$1");const A1e=/\p{Lu}?\p{Ll}+|[0-9]+|\p{Lu}+(?!\p{Ll})|\p{Emoji_Presentation}|\p{Extended_Pictographic}|\p{L}+/gu;function Bp(t){return Array.from(t.match(A1e)??[])}o(Bp,"words$1");function C1e(t){const e=Bp(t);if(e.length===0)return"";const[n,...r]=e;return`${n.toLowerCase()}${r.map(s=>uj(s)).join("")}`}o(C1e,"camelCase$1");function Up(t){return typeof t!="string"&&(t=At(t)),t.replace(/['\u2019]/g,"")}o(Up,"normalizeForCase");function I1e(t){return C1e(Up(t))}o(I1e,"camelCase");const R1e=new Map(Object.entries({:"Ae",:"D",:"O",:"Th",:"ss",:"ae",:"d",:"o",:"th",:"D",:"d",:"H",:"h",:"i",:"IJ",:"ij",:"k",:"L",:"l",:"L",:"l",:"'n",:"N",:"n",:"Oe",:"oe",:"T",:"t",:"s"}));function O1e(t){t=t.normalize("NFD");let e="";for(let n=0;n<t.length;n++){const r=t[n];r>=""&&r<=""||r>=""&&r<=""||(e+=R1e.get(r)??r)}return e}o(O1e,"deburr$1");function N1e(t){return O1e(At(t))}o(N1e,"deburr");function M1e(t,e,n){return t==null||e==null?!1:(n==null&&(n=t.length),t.endsWith(e,n))}o(M1e,"endsWith");const D1e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function P1e(t){return t.replace(/[&<>"']/g,e=>D1e[e])}o(P1e,"escape$5");function cj(t){return P1e(At(t))}o(cj,"escape$4");function $1e(t){return t.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}o($1e,"escapeRegExp$1");function L1e(t){return $1e(At(t))}o(L1e,"escapeRegExp");function F1e(t){return Bp(t).map(n=>n.toLowerCase()).join("-")}o(F1e,"kebabCase$1");function B1e(t){return F1e(Up(t))}o(B1e,"kebabCase");function U1e(t){return Bp(t).map(n=>n.toLowerCase()).join(" ")}o(U1e,"lowerCase$1");function z1e(t){return U1e(Up(t))}o(z1e,"lowerCase");function V1e(t){return t.substring(0,1).toLowerCase()+t.substring(1)}o(V1e,"lowerFirst$1");function j1e(t){return V1e(At(t))}o(j1e,"lowerFirst");function W1e(t,e,n=" "){return t.padStart(Math.floor((e-t.length)/2)+t.length,n).padEnd(e,n)}o(W1e,"pad$1");function H1e(t,e,n){return W1e(At(t),e,n)}o(H1e,"pad");function q1e(t,e=0,n=" "){return At(t).padEnd(e,n)}o(q1e,"padEnd");function G1e(t,e=0,n=" "){return At(t).padStart(e,n)}o(G1e,"padStart");function K1e(t,e,n){return(n?wl(t,e,n):e===void 0)?e=1:e=Jn(e),At(t).repeat(e)}o(K1e,"repeat");function Y1e(t,e,n){return arguments.length<3?At(t):At(t).replace(e,n)}o(Y1e,"replace$2");function X1e(t){return Bp(t).map(n=>n.toLowerCase()).join("_")}o(X1e,"snakeCase$1");function J1e(t){return X1e(Up(t))}o(J1e,"snakeCase");function Z1e(t,e,n){return At(t).split(e,n)}o(Z1e,"split$1");function Q1e(t){const e=Bp(Up(t).trim());let n="";for(let r=0;r<e.length;r++){const s=e[r];n&&(n+=" "),s===s.toUpperCase()?n+=s:n+=s[0].toUpperCase()+s.slice(1).toLowerCase()}return n}o(Q1e,"startCase");function ebe(t,e,n){return t==null||e==null?!1:(n==null&&(n=0),t.startsWith(e,n))}o(ebe,"startsWith");const tbe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nbe=/['\n\r\u2028\u2029\\]/g,nb=/($^)/,rbe=new Map([["\\","\\"],["'","'"],[`
`,"n"],["\r","r"],["\u2028","u2028"],["\u2029","u2029"]]);function sbe(t){return`\\${rbe.get(t)}`}o(sbe,"escapeString");const s_={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,variable:"",imports:{_:{escape:cj,template:fj}}};function fj(t,e,n){t=At(t),n&&(e=s_),e=ww({...e},s_);const r=new RegExp([e.escape?.source??nb.source,e.interpolate?.source??nb.source,e.interpolate?tbe.source:nb.source,e.evaluate?.source??nb.source,"$"].join("|"),"g");let s=0,i=!1,a="__p += ''";for(const p of t.matchAll(r)){const[m,y,b,_,S]=p,{index:v}=p;a+=` + '${t.slice(s,v).replace(nbe,sbe)}'`,y&&(a+=` + _.escape(${y})`),b?a+=` + ((${b}) == null ? '' : ${b})`:_&&(a+=` + ((${_}) == null ? '' : ${_})`),S&&(a+=`;
${S};
 __p += ''`,i=!0),s=v+m.length}const l=ww({...e.imports},s_.imports),u=Object.keys(l),c=Object.values(l),f=`//# sourceURL=${e.sourceURL?String(e.sourceURL).replace(/[\r\n]/g," "):`es-toolkit.templateSource[${Date.now()}]`}
`,h=`function(${e.variable||"obj"}) {
    let __p = '';
    ${e.variable?"":"if (obj == null) { obj = {}; }"}
    ${i?"function print() { __p += Array.prototype.join.call(arguments, ''); }":""}
    ${e.variable?a:`with(obj) {
${a}
}`}
    return __p;
  }`,d=G7(()=>new Function(...u,`${f}return ${h}`)(...c));if(d.source=h,d instanceof Error)throw d;return d}o(fj,"template");function ibe(t){return At(t).toLowerCase()}o(ibe,"toLower");function obe(t){return At(t).toUpperCase()}o(obe,"toUpper");function hj(t,e){if(e===void 0)return t.trimEnd();let n=t.length;switch(typeof e){case"string":{if(e.length!==1)throw new Error("The 'chars' parameter should be a single character string.");for(;n>0&&t[n-1]===e;)n--;break}case"object":for(;n>0&&e.includes(t[n-1]);)n--}return t.substring(0,n)}o(hj,"trimEnd$1");function dj(t,e){if(e===void 0)return t.trimStart();let n=0;switch(typeof e){case"string":{for(;n<t.length&&t[n]===e;)n++;break}case"object":for(;n<t.length&&e.includes(t[n]);)n++}return t.substring(n)}o(dj,"trimStart$1");function H2(t,e){return e===void 0?t.trim():dj(hj(t,e),e)}o(H2,"trim$1");function abe(t,e,n){if(t==null)return"";if(n!=null||e==null)return t.toString().trim();switch(typeof e){case"object":return Array.isArray(e)?H2(t,e.flatMap(r=>r.toString().split(""))):H2(t,e.toString().split(""));default:return H2(t,e.toString().split(""))}}o(abe,"trim");function lbe(t,e,n){return t==null?"":n!=null||e==null?t.toString().trimEnd():hj(t,e.toString().split(""))}o(lbe,"trimEnd");function ube(t,e,n){return t==null?"":n!=null||e==null?t.toString().trimStart():dj(t,e.toString().split(""))}o(ube,"trimStart");const cbe=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/;function fbe(t,e){t=t!=null?`${t}`:"";let n=30,r="...";wo(e)&&(n=hbe(e.length),r="omission"in e?`${e.omission}`:"...");let s=t.length;const i=Array.from(r).length,a=Math.max(n-i,0);let l;if(cbe.test(t)&&(l=Array.from(t),s=l.length),n>=s)return t;if(s<=i)return r;let c=l===void 0?t.slice(0,a):l?.slice(0,a).join("");const f=e?.separator;if(!f)return c+=r,c;const h=f instanceof RegExp?f.source:f,d="u"+(f instanceof RegExp?f.flags.replace("u",""):""),p=new RegExp(`(?<result>.*(?:(?!${h}).))(?:${h})`,d).exec(c);return(p?.groups?p.groups.result:c)+r}o(fbe,"truncate");function hbe(t){return t==null?30:t<=0?0:t}o(hbe,"parseLength");const dbe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};function pbe(t){return t.replace(/&(?:amp|lt|gt|quot|#(0+)?39);/g,e=>dbe[e]||"'")}o(pbe,"unescape$2");function mbe(t){return pbe(At(t))}o(mbe,"unescape$1");function gbe(t){const e=Bp(t);let n="";for(let r=0;r<e.length;r++)n+=e[r].toUpperCase(),r<e.length-1&&(n+=" ");return n}o(gbe,"upperCase$1");function ybe(t){return gbe(Up(t))}o(ybe,"upperCase");function bbe(t){return t.substring(0,1).toUpperCase()+t.substring(1)}o(bbe,"upperFirst$1");function _be(t){return bbe(At(t))}o(_be,"upperFirst");const wbe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\xd7\\xf7",Gh="\\p{Lu}",pj="\\p{Ll}",mj="(?:[\\p{Lm}\\p{Lo}]\\p{M}*)",km="\\d",M$="(?:['](?:d|ll|m|re|s|t|ve))?",D$="(?:['](?:D|LL|M|RE|S|T|VE))?",P$=`[\\p{Z}\\p{P}${wbe}]`,vbe=`(?:${Gh}|${mj})`,$$=`(?:${pj}|${mj})`,L$=RegExp([`${Gh}?${pj}+${M$}(?=${P$}|${Gh}|$)`,`${vbe}+${D$}(?=${P$}|${Gh}${$$}|$)`,`${Gh}?${$$}+${M$}`,`${Gh}+${D$}`,`${km}*(?:1ST|2ND|3RD|(?![123])${km}TH)(?=\\b|[a-z_])`,`${km}*(?:1st|2nd|3rd|(?![123])${km}th)(?=\\b|[A-Z_])`,`${km}+`,"\\p{Emoji_Presentation}","\\p{Extended_Pictographic}"].join("|"),"gu");function Ebe(t,e=L$,n){const r=At(t);return n&&(e=L$),typeof e=="number"&&(e=e.toString()),Array.from(r.match(e)??[]).filter(i=>i!=="")}o(Ebe,"words");function xbe(t){const e=t.length,n=t.map(r=>{const s=r[0],i=r[1];if(!Qf(i))throw new TypeError("Expected a function");return[st(s),i]});return function(...r){for(let s=0;s<e;s++){const i=n[s],a=i[0],l=i[1];if(a.apply(this,r))return l.apply(this,r)}}}o(xbe,"cond");function Sbe(t){return()=>t}o(Sbe,"constant");function Tbe(t,e){return t==null||Number.isNaN(t)?e:t}o(Tbe,"defaultTo");function kbe(t,e){return typeof t=="string"&&typeof e=="string"?t>e:Xn(t)>Xn(e)}o(kbe,"gt$2");function Abe(t,e){return typeof t=="string"&&typeof e=="string"?t>=e:Xn(t)>=Xn(e)}o(Abe,"gte");function IR(t,e,...n){if(n=n.flat(1),t!=null)switch(typeof e){case"string":return typeof t=="object"&&Object.hasOwn(t,e)?Am(t,[e],n):Am(t,Ca(e),n);case"number":case"symbol":return Am(t,[e],n);default:return Array.isArray(e)?Am(t,e,n):Am(t,[e],n)}}o(IR,"invoke");function Am(t,e,n){const r=ni(t,e.slice(0,-1),t);if(r==null)return;let s=Jf(e);const i=s?.valueOf();return typeof i=="number"?s=Xf(i):s=String(s),ni(r,s)?.apply(r,n)}o(Am,"invokeImpl");function Cbe(t,e){return typeof t=="string"&&typeof e=="string"?t<e:Xn(t)<Xn(e)}o(Cbe,"lt$2");function Ibe(t,e){return typeof t=="string"&&typeof e=="string"?t<=e:Xn(t)<=Xn(e)}o(Ibe,"lte");function Rbe(t,...e){return function(n){return IR(n,t,e)}}o(Rbe,"method");function Obe(t,...e){return function(n){return IR(t,n,e)}}o(Obe,"methodOf");function Nbe(){return Date.now()}o(Nbe,"now");function Mbe(...t){t.length===1&&Array.isArray(t[0])&&(t=t[0]);const e=t.map(n=>st(n));return function(...n){return e.map(r=>r.apply(this,n))}}o(Mbe,"over");function Dbe(...t){return function(...e){for(let n=0;n<t.length;++n){const r=t[n];if(!Array.isArray(r)){if(!st(r).apply(this,e))return!1;continue}for(let s=0;s<r.length;++s)if(!st(r[s]).apply(this,e))return!1}return!0}}o(Dbe,"overEvery");function Pbe(...t){return function(...e){for(let n=0;n<t.length;++n){const r=t[n];if(!Array.isArray(r)){if(st(r).apply(this,e))return!0;continue}for(let s=0;s<r.length;++s)if(st(r[s]).apply(this,e))return!0}return!1}}o(Pbe,"overSome");function $be(){return[]}o($be,"stubArray");function Lbe(){return!1}o(Lbe,"stubFalse");function Fbe(){return{}}o(Fbe,"stubObject");function Bbe(){return""}o(Bbe,"stubString");function Ube(){return!0}o(Ube,"stubTrue");const zbe=4294967295;function Vbe(t){if(t==null)return 0;const e=Math.floor(Number(t));return Jd(e,0,zbe)}o(Vbe,"toLength");function jbe(t){const e={},n=lc(t);for(let r=0;r<n.length;r++){const s=n[r],i=t[s];s==="__proto__"?Object.defineProperty(e,s,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[s]=i}return e}o(jbe,"toPlainObject");const F$=Number.MAX_SAFE_INTEGER;function Wbe(t){return t==null?0:Jd(Jn(t),-F$,F$)}o(Wbe,"toSafeInteger");let Hbe=0;function qbe(t=""){const e=++Hbe;return`${t}${e}`}o(qbe,"uniqueId");const Gbe=Object.freeze(Object.defineProperty({__proto__:null,add:C0e,after:t0e,ary:q7,assign:tye,assignIn:R$,assignInWith:O$,assignWith:aye,at:N7,attempt:G7,before:r0e,bind:bR,bindAll:k1e,bindKey:_R,camelCase:I1e,capitalize:T1e,castArray:Zpe,ceil:I0e,chunk:tme,clamp:Jd,clone:xA,cloneDeep:m0,cloneDeepWith:E7,cloneWith:dye,compact:rme,concat:sme,cond:xbe,conforms:i1e,conformsTo:lj,constant:Sbe,countBy:gme,create:pye,curry:Ly,curryRight:Zd,debounce:X7,deburr:N1e,defaultTo:Tbe,defaults:ww,defaultsDeep:mye,defer:u0e,delay:c0e,difference:yme,differenceBy:x7,differenceWith:S7,divide:R0e,drop:vme,dropRight:xme,dropRightWhile:Sme,dropWhile:kme,each:yA,eachRight:S$,endsWith:M1e,eq:Hr,escape:cj,escapeRegExp:L1e,every:Cme,extend:R$,extendWith:O$,fill:Rme,filter:T7,find:Ome,findIndex:Nme,findKey:wye,findLast:Mme,findLastIndex:Dme,findLastKey:vye,first:T$,flatMap:$me,flatMapDeep:Lme,flatMapDepth:k7,flatten:JE,flattenDeep:Fme,flattenDepth:$y,flip:f0e,floor:O0e,flow:h0e,flowRight:p0e,forEach:yA,forEachRight:S$,forIn:Eye,forInRight:xye,forOwn:Sye,forOwnRight:Tye,fromPairs:kye,functions:Aye,functionsIn:Cye,get:ni,groupBy:Ume,gt:kbe,gte:Abe,has:cR,hasIn:Iye,head:T$,identity:Fp,inRange:M0e,includes:zme,indexOf:Vme,initial:Wme,intersection:qme,intersectionBy:A7,intersectionWith:C7,invert:Oye,invertBy:Nye,invoke:IR,invokeMap:Yme,isArguments:Xd,isArray:Bu,isArrayBuffer:a1e,isArrayLike:We,isArrayLikeObject:Pt,isBoolean:l1e,isBuffer:oj,isDate:c1e,isElement:f1e,isEmpty:h1e,isEqual:Z0e,isEqualWith:SA,isError:d1e,isFinite:p1e,isFunction:Zye,isInteger:m1e,isLength:Qye,isMap:P7,isMatch:BE,isMatchWith:w7,isNaN:_A,isNative:n1e,isNil:QE,isNull:r1e,isNumber:mR,isObject:wo,isObjectLike:Af,isPlainObject:Uu,isRegExp:y1e,isSafeInteger:b1e,isSet:w1e,isString:XE,isSymbol:Cf,isTypedArray:eh,isUndefined:s1e,isWeakMap:E1e,isWeakSet:S1e,iteratee:st,join:Xme,kebabCase:B1e,keyBy:Jme,keys:ac,keysIn:lc,last:Jf,lastIndexOf:Zme,lowerCase:z1e,lowerFirst:j1e,lt:Cbe,lte:Ibe,map:gw,mapKeys:Dye,mapValues:$ye,matches:ic,matchesProperty:oc,max:D0e,maxBy:$0e,mean:L0e,meanBy:z0e,memoize:ER,merge:Fye,mergeWith:nj,method:Rbe,methodOf:Obe,min:V0e,minBy:W0e,multiply:H0e,negate:hR,noop:Q0e,now:Nbe,nth:Qme,nthArg:m0e,omit:Bye,omitBy:Uye,once:y0e,orderBy:R7,over:Mbe,overArgs:b0e,overEvery:Dbe,overSome:Pbe,pad:H1e,padEnd:q1e,padStart:G1e,parseInt:q0e,partial:xR,partialRight:SR,partition:rge,pick:zye,pickBy:Vye,property:Nl,propertyOf:jye,pull:sge,pullAll:ige,pullAllBy:oge,pullAllWith:lge,pullAt:uge,random:G0e,range:K0e,rangeRight:Y0e,rearg:v0e,reduce:I7,reduceRight:cge,reject:fge,remove:dge,repeat:K1e,replace:Y1e,rest:x0e,result:Wye,reverse:pge,round:X0e,sample:mge,sampleSize:_ge,set:yR,setWith:Hye,shuffle:wge,size:vge,slice:Ege,snakeCase:J1e,some:xge,sortBy:Sge,sortedIndex:F7,sortedIndexBy:pR,sortedIndexOf:Ige,sortedLastIndex:U7,sortedLastIndexBy:B7,sortedLastIndexOf:Nge,split:Z1e,spread:S0e,startCase:Q1e,startsWith:ebe,stubArray:$be,stubFalse:Lbe,stubObject:Fbe,stubString:Bbe,stubTrue:Ube,subtract:J0e,sum:Q7,sumBy:Z7,tail:Dge,take:$ge,takeRight:Fge,takeRightWhile:Uge,takeWhile:zge,template:fj,templateSettings:s_,throttle:T0e,times:CR,toArray:dR,toDefaulted:qye,toFinite:Au,toInteger:Jn,toLength:Vbe,toLower:ibe,toNumber:Xn,toPairs:Gye,toPairsIn:Kye,toPath:Ca,toPlainObject:jbe,toSafeInteger:Wbe,toString:At,toUpper:obe,transform:Yye,trim:abe,trimEnd:lbe,trimStart:ube,truncate:fbe,unary:k0e,unescape:mbe,union:Vge,unionBy:wA,unionWith:vA,uniq:fR,uniqBy:jge,uniqWith:Wge,uniqueId:qbe,unset:yw,unzip:j7,unzipWith:Hge,update:Xye,updateWith:ex,upperCase:ybe,upperFirst:_be,values:$7,valuesIn:Jye,without:Gge,words:Ebe,wrap:A0e,xor:Kge,xorBy:Yge,xorWith:Xge,zip:Jge,zipObject:Zge,zipObjectDeep:Qge,zipWith:e0e},Symbol.toStringTag,{value:"Module"})),g0=o((t=>t),"toolkit");Object.assign(g0,Gbe);g0.partial.placeholder=g0;g0.partialRight.placeholder=g0;function Kbe(t,e,n){return t<e?n==="asc"?-1:1:t>e?n==="asc"?1:-1:0}o(Kbe,"compareValues");function Ybe(t,e,n){return t.slice().sort((r,s)=>{const i=n.length;for(let a=0;a<e.length;a++){const l=i>a?n[a]:n[i-1],u=e[a],c=typeof u=="function",f=c?u(r):r[u],h=c?u(s):s[u],d=Kbe(f,h,l);if(d!==0)return d}return 0})}o(Ybe,"orderBy");function Gze(t,e){return Ybe(t,e,["asc"])}o(Gze,"sortBy");const Kze=typeof window<"u",Yze=o((t,e=!1)=>e?Symbol.for(t):Symbol(t),"makeSymbol"),Xbe=o((t,e,n)=>Jbe({l:t,k:e,s:n}),"generateFormatCacheKey"),Jbe=o(t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),"friendlyJSONstringify"),ls=o(t=>typeof t=="number"&&isFinite(t),"isNumber$3"),Zbe=o(t=>yj(t)==="[object Date]","isDate"),B$=o(t=>yj(t)==="[object RegExp]","isRegExp$1"),RR=o(t=>cn(t)&&Object.keys(t).length===0,"isEmptyObject"),zp=Object.assign,Qbe=Object.create,qr=o((t=null)=>Qbe(t),"create$7");let U$;const q2=o(()=>U$||(U$=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:qr()),"getGlobalThis");function z$(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}o(z$,"escapeHtml$1");const e_e=Object.prototype.hasOwnProperty;function qc(t,e){return e_e.call(t,e)}o(qc,"hasOwn$1");const co=Array.isArray,or=o(t=>typeof t=="function","isFunction$1"),Qe=o(t=>typeof t=="string","isString$4"),us=o(t=>typeof t=="boolean","isBoolean$1"),Pn=o(t=>t!==null&&typeof t=="object","isObject$3"),t_e=o(t=>Pn(t)&&or(t.then)&&or(t.catch),"isPromise"),gj=Object.prototype.toString,yj=o(t=>gj.call(t),"toTypeString"),cn=o(t=>{if(!Pn(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},"isPlainObject"),n_e=o(t=>t==null?"":co(t)||cn(t)&&t.toString===gj?JSON.stringify(t,null,2):String(t),"toDisplayString");function r_e(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}o(r_e,"join$2");function bj(t){let e=t;return()=>++e}o(bj,"incrementer");function s_e(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}o(s_e,"warn$2");const rb=o(t=>!Pn(t)||co(t),"isNotObjectOrIsArray");function Xze(t,e){if(rb(t)||rb(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:r,des:s}=n.pop();Object.keys(r).forEach(i=>{i!=="__proto__"&&(Pn(r[i])&&!Pn(s[i])&&(s[i]=Array.isArray(r[i])?[]:qr()),rb(s[i])||rb(r[i])?s[i]=r[i]:n.push({src:r[i],des:s[i]}))})}}o(Xze,"deepCopy");function i_e(t,e,n){return{line:t,column:e,offset:n}}o(i_e,"createPosition");function vw(t,e,n){return{start:t,end:e}}o(vw,"createLocation");const o_e=/\{([0-9a-zA-Z]+)\}/g;function _j(t,...e){return e.length===1&&a_e(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(o_e,(n,r)=>e.hasOwnProperty(r)?e[r]:"")}o(_j,"format$3");const wj=Object.assign,V$=o(t=>typeof t=="string","isString$3"),a_e=o(t=>t!==null&&typeof t=="object","isObject$2");function vj(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}o(vj,"join$1");const OR={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},l_e={[OR.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function u_e(t,e,...n){const r=_j(l_e[t],...n||[]),s={message:String(r),code:t};return e&&(s.location=e),s}o(u_e,"createCompileWarn");const Ue={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},c_e={[Ue.EXPECTED_TOKEN]:"Expected token: '{0}'",[Ue.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Ue.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Ue.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Ue.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Ue.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Ue.EMPTY_PLACEHOLDER]:"Empty placeholder",[Ue.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Ue.INVALID_LINKED_FORMAT]:"Invalid linked format",[Ue.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Ue.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Ue.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Ue.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Ue.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Fy(t,e,n={}){const{domain:r,messages:s,args:i}=n,a=_j((s||c_e)[t]||"",...i||[]),l=new SyntaxError(String(a));return l.code=t,e&&(l.location=e),l.domain=r,l}o(Fy,"createCompileError");function f_e(t){throw t}o(f_e,"defaultOnError");const Fa=" ",h_e="\r",ns=`
`,d_e="\u2028",p_e="\u2029";function m_e(t){const e=t;let n=0,r=1,s=1,i=0;const a=o(x=>e[x]===h_e&&e[x+1]===ns,"isCRLF"),l=o(x=>e[x]===ns,"isLF"),u=o(x=>e[x]===p_e,"isPS"),c=o(x=>e[x]===d_e,"isLS"),f=o(x=>a(x)||l(x)||u(x)||c(x),"isLineEnd"),h=o(()=>n,"index"),d=o(()=>r,"line"),p=o(()=>s,"column"),m=o(()=>i,"peekOffset"),y=o(x=>a(x)||u(x)||c(x)?ns:e[x],"charAt"),b=o(()=>y(n),"currentChar"),_=o(()=>y(n+i),"currentPeek");function S(){return i=0,f(n)&&(r++,s=0),a(n)&&n++,n++,s++,e[n]}o(S,"next");function v(){return a(n+i)&&i++,i++,e[n+i]}o(v,"peek");function k(){n=0,r=1,s=1,i=0}o(k,"reset");function C(x=0){i=x}o(C,"resetPeek");function I(){const x=n+i;for(;x!==n;)S();i=0}return o(I,"skipToPeek"),{index:h,line:d,column:p,peekOffset:m,charAt:y,currentChar:b,currentPeek:_,next:S,peek:v,reset:k,resetPeek:C,skipToPeek:I}}o(m_e,"createScanner");const Wl=void 0,g_e=".",j$="'",y_e="tokenizer";function b_e(t,e={}){const n=e.location!==!1,r=m_e(t),s=o(()=>r.index(),"currentOffset"),i=o(()=>i_e(r.line(),r.column(),r.index()),"currentPosition"),a=i(),l=s(),u={currentType:14,offset:l,startLoc:a,endLoc:a,lastType:14,lastOffset:l,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},c=o(()=>u,"context"),{onError:f}=e;function h(D,$,H,...J){const me=c();if($.column+=H,$.offset+=H,f){const ye=n?vw(me.startLoc,$):null,Te=Fy(D,ye,{domain:y_e,args:J});f(Te)}}o(h,"emitError");function d(D,$,H){D.endLoc=i(),D.currentType=$;const J={type:$};return n&&(J.loc=vw(D.startLoc,D.endLoc)),H!=null&&(J.value=H),J}o(d,"getToken");const p=o(D=>d(D,14),"getEndToken");function m(D,$){return D.currentChar()===$?(D.next(),$):(h(Ue.EXPECTED_TOKEN,i(),0,$),"")}o(m,"eat");function y(D){let $="";for(;D.currentPeek()===Fa||D.currentPeek()===ns;)$+=D.currentPeek(),D.peek();return $}o(y,"peekSpaces");function b(D){const $=y(D);return D.skipToPeek(),$}o(b,"skipSpaces");function _(D){if(D===Wl)return!1;const $=D.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$===95}o(_,"isIdentifierStart");function S(D){if(D===Wl)return!1;const $=D.charCodeAt(0);return $>=48&&$<=57}o(S,"isNumberStart");function v(D,$){const{currentType:H}=$;if(H!==2)return!1;y(D);const J=_(D.currentPeek());return D.resetPeek(),J}o(v,"isNamedIdentifierStart");function k(D,$){const{currentType:H}=$;if(H!==2)return!1;y(D);const J=D.currentPeek()==="-"?D.peek():D.currentPeek(),me=S(J);return D.resetPeek(),me}o(k,"isListIdentifierStart");function C(D,$){const{currentType:H}=$;if(H!==2)return!1;y(D);const J=D.currentPeek()===j$;return D.resetPeek(),J}o(C,"isLiteralStart");function I(D,$){const{currentType:H}=$;if(H!==8)return!1;y(D);const J=D.currentPeek()===".";return D.resetPeek(),J}o(I,"isLinkedDotStart");function x(D,$){const{currentType:H}=$;if(H!==9)return!1;y(D);const J=_(D.currentPeek());return D.resetPeek(),J}o(x,"isLinkedModifierStart");function E(D,$){const{currentType:H}=$;if(!(H===8||H===12))return!1;y(D);const J=D.currentPeek()===":";return D.resetPeek(),J}o(E,"isLinkedDelimiterStart");function T(D,$){const{currentType:H}=$;if(H!==10)return!1;const J=o(()=>{const ye=D.currentPeek();return ye==="{"?_(D.peek()):ye==="@"||ye==="%"||ye==="|"||ye===":"||ye==="."||ye===Fa||!ye?!1:ye===ns?(D.peek(),J()):R(D,!1)},"fn"),me=J();return D.resetPeek(),me}o(T,"isLinkedReferStart");function O(D){y(D);const $=D.currentPeek()==="|";return D.resetPeek(),$}o(O,"isPluralStart");function N(D){const $=y(D),H=D.currentPeek()==="%"&&D.peek()==="{";return D.resetPeek(),{isModulo:H,hasSpace:$.length>0}}o(N,"detectModuloStart");function R(D,$=!0){const H=o((me=!1,ye="",Te=!1)=>{const $e=D.currentPeek();return $e==="{"?ye==="%"?!1:me:$e==="@"||!$e?ye==="%"?!0:me:$e==="%"?(D.peek(),H(me,"%",!0)):$e==="|"?ye==="%"||Te?!0:!(ye===Fa||ye===ns):$e===Fa?(D.peek(),H(!0,Fa,Te)):$e===ns?(D.peek(),H(!0,ns,Te)):!0},"fn"),J=H();return $&&D.resetPeek(),J}o(R,"isTextStart");function M(D,$){const H=D.currentChar();return H===Wl?Wl:$(H)?(D.next(),H):null}o(M,"takeChar");function B(D){const $=D.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===95||$===36}o(B,"isIdentifier");function z(D){return M(D,B)}o(z,"takeIdentifierChar");function V(D){const $=D.charCodeAt(0);return $>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===95||$===36||$===45}o(V,"isNamedIdentifier");function K(D){return M(D,V)}o(K,"takeNamedIdentifierChar");function ee(D){const $=D.charCodeAt(0);return $>=48&&$<=57}o(ee,"isDigit");function Z(D){return M(D,ee)}o(Z,"takeDigit");function ue(D){const $=D.charCodeAt(0);return $>=48&&$<=57||$>=65&&$<=70||$>=97&&$<=102}o(ue,"isHexDigit");function ae(D){return M(D,ue)}o(ae,"takeHexDigit");function he(D){let $="",H="";for(;$=Z(D);)H+=$;return H}o(he,"getDigits");function ve(D){b(D);const $=D.currentChar();return $!=="%"&&h(Ue.EXPECTED_TOKEN,i(),0,$),D.next(),"%"}o(ve,"readModulo");function lt(D){let $="";for(;;){const H=D.currentChar();if(H==="{"||H==="}"||H==="@"||H==="|"||!H)break;if(H==="%")if(R(D))$+=H,D.next();else break;else if(H===Fa||H===ns)if(R(D))$+=H,D.next();else{if(O(D))break;$+=H,D.next()}else $+=H,D.next()}return $}o(lt,"readText");function Re(D){b(D);let $="",H="";for(;$=K(D);)H+=$;return D.currentChar()===Wl&&h(Ue.UNTERMINATED_CLOSING_BRACE,i(),0),H}o(Re,"readNamedIdentifier");function Ke(D){b(D);let $="";return D.currentChar()==="-"?(D.next(),$+=`-${he(D)}`):$+=he(D),D.currentChar()===Wl&&h(Ue.UNTERMINATED_CLOSING_BRACE,i(),0),$}o(Ke,"readListIdentifier");function Mt(D){return D!==j$&&D!==ns}o(Mt,"isLiteral");function Xr(D){b(D),m(D,"'");let $="",H="";for(;$=M(D,Mt);)$==="\\"?H+=As(D):H+=$;const J=D.currentChar();return J===ns||J===Wl?(h(Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),J===ns&&(D.next(),m(D,"'")),H):(m(D,"'"),H)}o(Xr,"readLiteral");function As(D){const $=D.currentChar();switch($){case"\\":case"'":return D.next(),`\\${$}`;case"u":return Ln(D,$,4);case"U":return Ln(D,$,6);default:return h(Ue.UNKNOWN_ESCAPE_SEQUENCE,i(),0,$),""}}o(As,"readEscapeSequence");function Ln(D,$,H){m(D,$);let J="";for(let me=0;me<H;me++){const ye=ae(D);if(!ye){h(Ue.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${$}${J}${D.currentChar()}`);break}J+=ye}return`\\${$}${J}`}o(Ln,"readUnicodeEscapeSequence");function zs(D){return D!=="{"&&D!=="}"&&D!==Fa&&D!==ns}o(zs,"isInvalidIdentifier");function L(D){b(D);let $="",H="";for(;$=M(D,zs);)H+=$;return H}o(L,"readInvalidIdentifier");function F(D){let $="",H="";for(;$=z(D);)H+=$;return H}o(F,"readLinkedModifier");function X(D){const $=o(H=>{const J=D.currentChar();return J==="{"||J==="%"||J==="@"||J==="|"||J==="("||J===")"||!J||J===Fa?H:(H+=J,D.next(),$(H))},"fn");return $("")}o(X,"readLinkedRefer");function W(D){b(D);const $=m(D,"|");return b(D),$}o(W,"readPlural");function G(D,$){let H=null;switch(D.currentChar()){case"{":return $.braceNest>=1&&h(Ue.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),D.next(),H=d($,2,"{"),b(D),$.braceNest++,H;case"}":return $.braceNest>0&&$.currentType===2&&h(Ue.EMPTY_PLACEHOLDER,i(),0),D.next(),H=d($,3,"}"),$.braceNest--,$.braceNest>0&&b(D),$.inLinked&&$.braceNest===0&&($.inLinked=!1),H;case"@":return $.braceNest>0&&h(Ue.UNTERMINATED_CLOSING_BRACE,i(),0),H=te(D,$)||p($),$.braceNest=0,H;default:{let me=!0,ye=!0,Te=!0;if(O(D))return $.braceNest>0&&h(Ue.UNTERMINATED_CLOSING_BRACE,i(),0),H=d($,1,W(D)),$.braceNest=0,$.inLinked=!1,H;if($.braceNest>0&&($.currentType===5||$.currentType===6||$.currentType===7))return h(Ue.UNTERMINATED_CLOSING_BRACE,i(),0),$.braceNest=0,le(D,$);if(me=v(D,$))return H=d($,5,Re(D)),b(D),H;if(ye=k(D,$))return H=d($,6,Ke(D)),b(D),H;if(Te=C(D,$))return H=d($,7,Xr(D)),b(D),H;if(!me&&!ye&&!Te)return H=d($,13,L(D)),h(Ue.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,H.value),b(D),H;break}}return H}o(G,"readTokenInPlaceholder");function te(D,$){const{currentType:H}=$;let J=null;const me=D.currentChar();switch((H===8||H===9||H===12||H===10)&&(me===ns||me===Fa)&&h(Ue.INVALID_LINKED_FORMAT,i(),0),me){case"@":return D.next(),J=d($,8,"@"),$.inLinked=!0,J;case".":return b(D),D.next(),d($,9,".");case":":return b(D),D.next(),d($,10,":");default:return O(D)?(J=d($,1,W(D)),$.braceNest=0,$.inLinked=!1,J):I(D,$)||E(D,$)?(b(D),te(D,$)):x(D,$)?(b(D),d($,12,F(D))):T(D,$)?(b(D),me==="{"?G(D,$)||J:d($,11,X(D))):(H===8&&h(Ue.INVALID_LINKED_FORMAT,i(),0),$.braceNest=0,$.inLinked=!1,le(D,$))}}o(te,"readTokenInLinked");function le(D,$){let H={type:14};if($.braceNest>0)return G(D,$)||p($);if($.inLinked)return te(D,$)||p($);switch(D.currentChar()){case"{":return G(D,$)||p($);case"}":return h(Ue.UNBALANCED_CLOSING_BRACE,i(),0),D.next(),d($,3,"}");case"@":return te(D,$)||p($);default:{if(O(D))return H=d($,1,W(D)),$.braceNest=0,$.inLinked=!1,H;const{isModulo:me,hasSpace:ye}=N(D);if(me)return ye?d($,0,lt(D)):d($,4,ve(D));if(R(D))return d($,0,lt(D));break}}return H}o(le,"readToken");function re(){const{currentType:D,offset:$,startLoc:H,endLoc:J}=u;return u.lastType=D,u.lastOffset=$,u.lastStartLoc=H,u.lastEndLoc=J,u.offset=s(),u.startLoc=i(),r.currentChar()===Wl?d(u,14):le(r,u)}return o(re,"nextToken"),{nextToken:re,currentOffset:s,currentPosition:i,context:c}}o(b_e,"createTokenizer");const __e="parser",w_e=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function v_e(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}o(v_e,"fromEscapeSequence");function E_e(t={}){const e=t.location!==!1,{onError:n,onWarn:r}=t;function s(v,k,C,I,...x){const E=v.currentPosition();if(E.offset+=I,E.column+=I,n){const T=e?vw(C,E):null,O=Fy(k,T,{domain:__e,args:x});n(O)}}o(s,"emitError");function i(v,k,C,I,...x){const E=v.currentPosition();if(E.offset+=I,E.column+=I,r){const T=e?vw(C,E):null;r(u_e(k,T,x))}}o(i,"emitWarn");function a(v,k,C){const I={type:v};return e&&(I.start=k,I.end=k,I.loc={start:C,end:C}),I}o(a,"startNode");function l(v,k,C,I){e&&(v.end=k,v.loc&&(v.loc.end=C))}o(l,"endNode");function u(v,k){const C=v.context(),I=a(3,C.offset,C.startLoc);return I.value=k,l(I,v.currentOffset(),v.currentPosition()),I}o(u,"parseText");function c(v,k){const C=v.context(),{lastOffset:I,lastStartLoc:x}=C,E=a(5,I,x);return E.index=parseInt(k,10),v.nextToken(),l(E,v.currentOffset(),v.currentPosition()),E}o(c,"parseList");function f(v,k,C){const I=v.context(),{lastOffset:x,lastStartLoc:E}=I,T=a(4,x,E);return T.key=k,C===!0&&(T.modulo=!0),v.nextToken(),l(T,v.currentOffset(),v.currentPosition()),T}o(f,"parseNamed");function h(v,k){const C=v.context(),{lastOffset:I,lastStartLoc:x}=C,E=a(9,I,x);return E.value=k.replace(w_e,v_e),v.nextToken(),l(E,v.currentOffset(),v.currentPosition()),E}o(h,"parseLiteral");function d(v){const k=v.nextToken(),C=v.context(),{lastOffset:I,lastStartLoc:x}=C,E=a(8,I,x);return k.type!==12?(s(v,Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER,C.lastStartLoc,0),E.value="",l(E,I,x),{nextConsumeToken:k,node:E}):(k.value==null&&s(v,Ue.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,Wi(k)),E.value=k.value||"",l(E,v.currentOffset(),v.currentPosition()),{node:E})}o(d,"parseLinkedModifier");function p(v,k){const C=v.context(),I=a(7,C.offset,C.startLoc);return I.value=k,l(I,v.currentOffset(),v.currentPosition()),I}o(p,"parseLinkedKey");function m(v){const k=v.context(),C=a(6,k.offset,k.startLoc);let I=v.nextToken();if(I.type===9){const x=d(v);C.modifier=x.node,I=x.nextConsumeToken||v.nextToken()}switch(I.type!==10&&s(v,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Wi(I)),I=v.nextToken(),I.type===2&&(I=v.nextToken()),I.type){case 11:I.value==null&&s(v,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Wi(I)),C.key=p(v,I.value||"");break;case 5:I.value==null&&s(v,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Wi(I)),C.key=f(v,I.value||"");break;case 6:I.value==null&&s(v,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Wi(I)),C.key=c(v,I.value||"");break;case 7:I.value==null&&s(v,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Wi(I)),C.key=h(v,I.value||"");break;default:{s(v,Ue.UNEXPECTED_EMPTY_LINKED_KEY,k.lastStartLoc,0);const x=v.context(),E=a(7,x.offset,x.startLoc);return E.value="",l(E,x.offset,x.startLoc),C.key=E,l(C,x.offset,x.startLoc),{nextConsumeToken:I,node:C}}}return l(C,v.currentOffset(),v.currentPosition()),{node:C}}o(m,"parseLinked");function y(v){const k=v.context(),C=k.currentType===1?v.currentOffset():k.offset,I=k.currentType===1?k.endLoc:k.startLoc,x=a(2,C,I);x.items=[];let E=null,T=null;do{const R=E||v.nextToken();switch(E=null,R.type){case 0:R.value==null&&s(v,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Wi(R)),x.items.push(u(v,R.value||""));break;case 6:R.value==null&&s(v,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Wi(R)),x.items.push(c(v,R.value||""));break;case 4:T=!0;break;case 5:R.value==null&&s(v,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Wi(R)),x.items.push(f(v,R.value||"",!!T)),T&&(i(v,OR.USE_MODULO_SYNTAX,k.lastStartLoc,0,Wi(R)),T=null);break;case 7:R.value==null&&s(v,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Wi(R)),x.items.push(h(v,R.value||""));break;case 8:{const M=m(v);x.items.push(M.node),E=M.nextConsumeToken||null;break}}}while(k.currentType!==14&&k.currentType!==1);const O=k.currentType===1?k.lastOffset:v.currentOffset(),N=k.currentType===1?k.lastEndLoc:v.currentPosition();return l(x,O,N),x}o(y,"parseMessage");function b(v,k,C,I){const x=v.context();let E=I.items.length===0;const T=a(1,k,C);T.cases=[],T.cases.push(I);do{const O=y(v);E||(E=O.items.length===0),T.cases.push(O)}while(x.currentType!==14);return E&&s(v,Ue.MUST_HAVE_MESSAGES_IN_PLURAL,C,0),l(T,v.currentOffset(),v.currentPosition()),T}o(b,"parsePlural");function _(v){const k=v.context(),{offset:C,startLoc:I}=k,x=y(v);return k.currentType===14?x:b(v,C,I,x)}o(_,"parseResource");function S(v){const k=b_e(v,wj({},t)),C=k.context(),I=a(0,C.offset,C.startLoc);return e&&I.loc&&(I.loc.source=v),I.body=_(k),t.onCacheKey&&(I.cacheKey=t.onCacheKey(v)),C.currentType!==14&&s(k,Ue.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,v[C.offset]||""),l(I,k.currentOffset(),k.currentPosition()),I}return o(S,"parse"),{parse:S}}o(E_e,"createParser");function Wi(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}o(Wi,"getTokenCaption");function x_e(t,e={}){const n={ast:t,helpers:new Set};return{context:o(()=>n,"context"),helper:o(i=>(n.helpers.add(i),i),"helper")}}o(x_e,"createTransformer");function W$(t,e){for(let n=0;n<t.length;n++)NR(t[n],e)}o(W$,"traverseNodes");function NR(t,e){switch(t.type){case 1:W$(t.cases,e),e.helper("plural");break;case 2:W$(t.items,e);break;case 6:{NR(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}o(NR,"traverseNode");function S_e(t,e={}){const n=x_e(t);n.helper("normalize"),t.body&&NR(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}o(S_e,"transform");function T_e(t){const e=t.body;return e.type===2?H$(e):e.cases.forEach(n=>H$(n)),t}o(T_e,"optimize");function H$(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=vj(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}o(H$,"optimizeMessageNode");const k_e="minifier";function Kh(t){switch(t.t=t.type,t.type){case 0:{const e=t;Kh(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let r=0;r<n.length;r++)Kh(n[r]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let r=0;r<n.length;r++)Kh(n[r]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;Kh(e.key),e.k=e.key,delete e.key,e.modifier&&(Kh(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw Fy(Ue.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:k_e,args:[t.type]})}delete t.type}o(Kh,"minify");const A_e="parser";function C_e(t,e){const{filename:n,breakLineCode:r,needIndent:s}=e,i=e.location!==!1,a={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:s,indentLevel:0};i&&t.loc&&(a.source=t.loc.source);const l=o(()=>a,"context");function u(y,b){a.code+=y}o(u,"push");function c(y,b=!0){const _=b?r:"";u(s?_+"  ".repeat(y):_)}o(c,"_newline");function f(y=!0){const b=++a.indentLevel;y&&c(b)}o(f,"indent");function h(y=!0){const b=--a.indentLevel;y&&c(b)}o(h,"deindent");function d(){c(a.indentLevel)}return o(d,"newline"),{context:l,push:u,indent:f,deindent:h,newline:d,helper:o(y=>`_${y}`,"helper"),needIndent:o(()=>a.needIndent,"needIndent")}}o(C_e,"createCodeGenerator");function I_e(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),Qd(t,e.key),e.modifier?(t.push(", "),Qd(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}o(I_e,"generateLinkedNode");function R_e(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const s=e.items.length;for(let i=0;i<s&&(Qd(t,e.items[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}o(R_e,"generateMessageNode");function O_e(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const s=e.cases.length;for(let i=0;i<s&&(Qd(t,e.cases[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}}o(O_e,"generatePluralNode");function N_e(t,e){e.body?Qd(t,e.body):t.push("null")}o(N_e,"generateResource");function Qd(t,e){const{helper:n}=t;switch(e.type){case 0:N_e(t,e);break;case 1:O_e(t,e);break;case 2:R_e(t,e);break;case 6:I_e(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw Fy(Ue.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:A_e,args:[e.type]})}}o(Qd,"generateNode");const M_e=o((t,e={})=>{const n=V$(e.mode)?e.mode:"normal",r=V$(e.filename)?e.filename:"message.intl";e.sourceMap;const s=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,i=e.needIndent?e.needIndent:n!=="arrow",a=t.helpers||[],l=C_e(t,{filename:r,breakLineCode:s,needIndent:i});l.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(i),a.length>0&&(l.push(`const { ${vj(a.map(f=>`${f}: _${f}`),", ")} } = ctx`),l.newline()),l.push("return "),Qd(l,t),l.deindent(i),l.push("}"),delete t.helpers;const{code:u,map:c}=l.context();return{ast:t,code:u,map:c?c.toJSON():void 0}},"generate");function D_e(t,e={}){const n=wj({},e),r=!!n.jit,s=!!n.minify,i=n.optimize==null?!0:n.optimize,l=E_e(n).parse(t);return r?(i&&T_e(l),s&&Kh(l),{ast:l,code:""}):(S_e(l,n),M_e(l,n))}o(D_e,"baseCompile$1");function P_e(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(q2().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(q2().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(q2().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}o(P_e,"initFeatureFlags");const uc=[];uc[0]={w:[0],i:[3,0],"[":[4],o:[7]};uc[1]={w:[1],".":[2],"[":[4],o:[7]};uc[2]={w:[2],i:[3,0],0:[3,0]};uc[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};uc[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};uc[5]={"'":[4,0],o:8,l:[5,0]};uc[6]={'"':[4,0],o:8,l:[6,0]};const $_e=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function L_e(t){return $_e.test(t)}o(L_e,"isLiteral");function F_e(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}o(F_e,"stripQuotes");function B_e(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}o(B_e,"getPathCharType");function U_e(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:L_e(e)?F_e(e):"*"+e}o(U_e,"formatSubPath");function z_e(t){const e=[];let n=-1,r=0,s=0,i,a,l,u,c,f,h;const d=[];d[0]=()=>{a===void 0?a=l:a+=l},d[1]=()=>{a!==void 0&&(e.push(a),a=void 0)},d[2]=()=>{d[0](),s++},d[3]=()=>{if(s>0)s--,r=4,d[0]();else{if(s=0,a===void 0||(a=U_e(a),a===!1))return!1;d[1]()}};function p(){const m=t[n+1];if(r===5&&m==="'"||r===6&&m==='"')return n++,l="\\"+m,d[0](),!0}for(o(p,"maybeUnescapeQuote");r!==null;)if(n++,i=t[n],!(i==="\\"&&p())){if(u=B_e(i),h=uc[r],c=h[u]||h.l||8,c===8||(r=c[0],c[1]!==void 0&&(f=d[c[1]],f&&(l=i,f()===!1))))return;if(r===7)return e}}o(z_e,"parse$1");const q$=new Map;function V_e(t,e){return Pn(t)?t[e]:null}o(V_e,"resolveWithKeyValue");function Jze(t,e){if(!Pn(t))return null;let n=q$.get(e);if(n||(n=z_e(e),n&&q$.set(e,n)),!n)return null;const r=n.length;let s=t,i=0;for(;i<r;){const a=s[n[i]];if(a===void 0||or(s))return null;s=a,i++}return s}o(Jze,"resolveValue$1");const j_e=o(t=>t,"DEFAULT_MODIFIER"),W_e=o(t=>"","DEFAULT_MESSAGE"),H_e="text",q_e=o(t=>t.length===0?"":r_e(t),"DEFAULT_NORMALIZE"),G_e=n_e;function G$(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}o(G$,"pluralDefault");function K_e(t){const e=ls(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(ls(t.named.count)||ls(t.named.n))?ls(t.named.count)?t.named.count:ls(t.named.n)?t.named.n:e:e}o(K_e,"getPluralIndex");function Y_e(t,e){e.count||(e.count=t),e.n||(e.n=t)}o(Y_e,"normalizeNamed");function X_e(t={}){const e=t.locale,n=K_e(t),r=Pn(t.pluralRules)&&Qe(e)&&or(t.pluralRules[e])?t.pluralRules[e]:G$,s=Pn(t.pluralRules)&&Qe(e)&&or(t.pluralRules[e])?G$:void 0,i=o(_=>_[r(n,_.length,s)],"plural"),a=t.list||[],l=o(_=>a[_],"list"),u=t.named||qr();ls(t.pluralIndex)&&Y_e(n,u);const c=o(_=>u[_],"named");function f(_){const S=or(t.messages)?t.messages(_):Pn(t.messages)?t.messages[_]:!1;return S||(t.parent?t.parent.message(_):W_e)}o(f,"message");const h=o(_=>t.modifiers?t.modifiers[_]:j_e,"_modifier"),d=cn(t.processor)&&or(t.processor.normalize)?t.processor.normalize:q_e,p=cn(t.processor)&&or(t.processor.interpolate)?t.processor.interpolate:G_e,m=cn(t.processor)&&Qe(t.processor.type)?t.processor.type:H_e,b={list:l,named:c,plural:i,linked:o((_,...S)=>{const[v,k]=S;let C="text",I="";S.length===1?Pn(v)?(I=v.modifier||I,C=v.type||C):Qe(v)&&(I=v||I):S.length===2&&(Qe(v)&&(I=v||I),Qe(k)&&(C=k||C));const x=f(_)(b),E=C==="vnode"&&co(x)&&I?x[0]:x;return I?h(I)(E,C):E},"linked"),message:f,type:m,interpolate:p,normalize:d,values:zp(qr(),a,u)};return b}o(X_e,"createMessageContext");let y0=null;function Zze(t){y0=t}o(Zze,"setDevToolsHook");function J_e(t,e,n){y0&&y0.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}o(J_e,"initI18nDevTools");const Z_e=Q_e("function:translate");function Q_e(t){return e=>y0&&y0.emit(t,e)}o(Q_e,"createDevToolsHook");const ewe=OR.__EXTEND_POINT__,Tc=bj(ewe),Qze={FALLBACK_TO_TRANSLATE:Tc(),CANNOT_FORMAT_NUMBER:Tc(),FALLBACK_TO_NUMBER_FORMAT:Tc(),CANNOT_FORMAT_DATE:Tc(),FALLBACK_TO_DATE_FORMAT:Tc(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Tc(),__EXTEND_POINT__:Tc()},Ej=Ue.__EXTEND_POINT__,kc=bj(Ej),Qo={INVALID_ARGUMENT:Ej,INVALID_DATE_ARGUMENT:kc(),INVALID_ISO_DATE_ARGUMENT:kc(),NOT_SUPPORT_NON_STRING_MESSAGE:kc(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:kc(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:kc(),NOT_SUPPORT_LOCALE_TYPE:kc(),__EXTEND_POINT__:kc()};function ea(t){return Fy(t,null,void 0)}o(ea,"createCoreError");function MR(t,e){return e.locale!=null?K$(e.locale):K$(t.locale)}o(MR,"getLocale");let G2;function K$(t){if(Qe(t))return t;if(or(t)){if(t.resolvedOnce&&G2!=null)return G2;if(t.constructor.name==="Function"){const e=t();if(t_e(e))throw ea(Qo.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return G2=e}else throw ea(Qo.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw ea(Qo.NOT_SUPPORT_LOCALE_TYPE)}o(K$,"resolveLocale");function twe(t,e,n){return[...new Set([n,...co(e)?e:Pn(e)?Object.keys(e):Qe(e)?[e]:[n]])]}o(twe,"fallbackWithSimple");function eVe(t,e,n){const r=Qe(n)?n:TA,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let i=s.__localeChainCache.get(r);if(!i){i=[];let a=[n];for(;co(a);)a=Y$(i,a,e);const l=co(e)||!cn(e)?e:e.default?e.default:null;a=Qe(l)?[l]:l,co(a)&&Y$(i,a,!1),s.__localeChainCache.set(r,i)}return i}o(eVe,"fallbackWithLocaleChain");function Y$(t,e,n){let r=!0;for(let s=0;s<e.length&&us(r);s++){const i=e[s];Qe(i)&&(r=nwe(t,e[s],n))}return r}o(Y$,"appendBlockToChain");function nwe(t,e,n){let r;const s=e.split("-");do{const i=s.join("-");r=rwe(t,i,n),s.splice(-1,1)}while(s.length&&r===!0);return r}o(nwe,"appendLocaleToChain");function rwe(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const s=e.replace(/!/g,"");t.push(s),(co(n)||cn(n))&&n[s]&&(r=n[s])}return r}o(rwe,"appendItemToChain");const swe="9.14.3",DR=-1,TA="en-US",tVe="",X$=o(t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`,"capitalize");function iwe(){return{upper:o((t,e)=>e==="text"&&Qe(t)?t.toUpperCase():e==="vnode"&&Pn(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,"upper"),lower:o((t,e)=>e==="text"&&Qe(t)?t.toLowerCase():e==="vnode"&&Pn(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,"lower"),capitalize:o((t,e)=>e==="text"&&Qe(t)?X$(t):e==="vnode"&&Pn(t)&&"__v_isVNode"in t?X$(t.children):t,"capitalize")}}o(iwe,"getDefaultLinkedModifiers");let xj;function nVe(t){xj=t}o(nVe,"registerMessageCompiler");let Sj;function rVe(t){Sj=t}o(rVe,"registerMessageResolver");let Tj;function sVe(t){Tj=t}o(sVe,"registerLocaleFallbacker");let kj=null;const iVe=o(t=>{kj=t},"setAdditionalMeta"),owe=o(()=>kj,"getAdditionalMeta");let Aj=null;const oVe=o(t=>{Aj=t},"setFallbackContext"),aVe=o(()=>Aj,"getFallbackContext");let J$=0;function lVe(t={}){const e=or(t.onWarn)?t.onWarn:s_e,n=Qe(t.version)?t.version:swe,r=Qe(t.locale)||or(t.locale)?t.locale:TA,s=or(r)?TA:r,i=co(t.fallbackLocale)||cn(t.fallbackLocale)||Qe(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s,a=cn(t.messages)?t.messages:K2(s),l=cn(t.datetimeFormats)?t.datetimeFormats:K2(s),u=cn(t.numberFormats)?t.numberFormats:K2(s),c=zp(qr(),t.modifiers,iwe()),f=t.pluralRules||qr(),h=or(t.missing)?t.missing:null,d=us(t.missingWarn)||B$(t.missingWarn)?t.missingWarn:!0,p=us(t.fallbackWarn)||B$(t.fallbackWarn)?t.fallbackWarn:!0,m=!!t.fallbackFormat,y=!!t.unresolving,b=or(t.postTranslation)?t.postTranslation:null,_=cn(t.processor)?t.processor:null,S=us(t.warnHtmlMessage)?t.warnHtmlMessage:!0,v=!!t.escapeParameter,k=or(t.messageCompiler)?t.messageCompiler:xj,C=or(t.messageResolver)?t.messageResolver:Sj||V_e,I=or(t.localeFallbacker)?t.localeFallbacker:Tj||twe,x=Pn(t.fallbackContext)?t.fallbackContext:void 0,E=t,T=Pn(E.__datetimeFormatters)?E.__datetimeFormatters:new Map,O=Pn(E.__numberFormatters)?E.__numberFormatters:new Map,N=Pn(E.__meta)?E.__meta:{};J$++;const R={version:n,cid:J$,locale:r,fallbackLocale:i,messages:a,modifiers:c,pluralRules:f,missing:h,missingWarn:d,fallbackWarn:p,fallbackFormat:m,unresolving:y,postTranslation:b,processor:_,warnHtmlMessage:S,escapeParameter:v,messageCompiler:k,messageResolver:C,localeFallbacker:I,fallbackContext:x,onWarn:e,__meta:N};return R.datetimeFormats=l,R.numberFormats=u,R.__datetimeFormatters=T,R.__numberFormatters=O,__INTLIFY_PROD_DEVTOOLS__&&J_e(R,n,N),R}o(lVe,"createCoreContext");const K2=o(t=>({[t]:qr()}),"createResources");function PR(t,e,n,r,s){const{missing:i,onWarn:a}=t;if(i!==null){const l=i(t,n,e,s);return Qe(l)?l:e}else return e}o(PR,"handleMissing");function uVe(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}o(uVe,"updateFallbackLocale");function awe(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}o(awe,"isAlmostSameLocale");function lwe(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let r=n+1;r<e.length;r++)if(awe(t,e[r]))return!0;return!1}o(lwe,"isImplicitFallback");function Y2(t){return o(n=>uwe(n,t),"msg")}o(Y2,"format$2");function uwe(t,e){const n=fwe(e);if(n==null)throw b0(0);if($R(n)===1){const i=dwe(n);return t.plural(i.reduce((a,l)=>[...a,Z$(t,l)],[]))}else return Z$(t,n)}o(uwe,"formatParts");const cwe=["b","body"];function fwe(t){return cc(t,cwe)}o(fwe,"resolveBody");const hwe=["c","cases"];function dwe(t){return cc(t,hwe,[])}o(dwe,"resolveCases");function Z$(t,e){const n=mwe(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const r=ywe(e).reduce((s,i)=>[...s,kA(t,i)],[]);return t.normalize(r)}}o(Z$,"formatMessageParts");const pwe=["s","static"];function mwe(t){return cc(t,pwe)}o(mwe,"resolveStatic");const gwe=["i","items"];function ywe(t){return cc(t,gwe,[])}o(ywe,"resolveItems");function kA(t,e){const n=$R(e);switch(n){case 3:return sb(e,n);case 9:return sb(e,n);case 4:{const r=e;if(qc(r,"k")&&r.k)return t.interpolate(t.named(r.k));if(qc(r,"key")&&r.key)return t.interpolate(t.named(r.key));throw b0(n)}case 5:{const r=e;if(qc(r,"i")&&ls(r.i))return t.interpolate(t.list(r.i));if(qc(r,"index")&&ls(r.index))return t.interpolate(t.list(r.index));throw b0(n)}case 6:{const r=e,s=vwe(r),i=xwe(r);return t.linked(kA(t,i),s?kA(t,s):void 0,t.type)}case 7:return sb(e,n);case 8:return sb(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}o(kA,"formatMessagePart");const bwe=["t","type"];function $R(t){return cc(t,bwe)}o($R,"resolveType");const _we=["v","value"];function sb(t,e){const n=cc(t,_we);if(n)return n;throw b0(e)}o(sb,"resolveValue");const wwe=["m","modifier"];function vwe(t){return cc(t,wwe)}o(vwe,"resolveLinkedModifier");const Ewe=["k","key"];function xwe(t){const e=cc(t,Ewe);if(e)return e;throw b0(6)}o(xwe,"resolveLinkedKey");function cc(t,e,n){for(let r=0;r<e.length;r++){const s=e[r];if(qc(t,s)&&t[s]!=null)return t[s]}return n}o(cc,"resolveProps");function b0(t){return new Error(`unhandled node type: ${t}`)}o(b0,"createUnhandleNodeError");const Cj=o(t=>t,"defaultOnCacheKey");let rd=qr();function _0(t){return Pn(t)&&$R(t)===0&&(qc(t,"b")||qc(t,"body"))}o(_0,"isMessageAST");function Ij(t,e={}){let n=!1;const r=e.onError||f_e;return e.onError=s=>{n=!0,r(s)},{...D_e(t,e),detectError:n}}o(Ij,"baseCompile");const cVe=o((t,e)=>{if(!Qe(t))throw ea(Qo.NOT_SUPPORT_NON_STRING_MESSAGE);{us(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||Cj)(t),s=rd[r];if(s)return s;const{code:i,detectError:a}=Ij(t,e),l=new Function(`return ${i}`)();return a?l:rd[r]=l}},"compileToFunction");function fVe(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Qe(t)){us(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||Cj)(t),s=rd[r];if(s)return s;const{ast:i,detectError:a}=Ij(t,{...e,location:!1,jit:!0}),l=Y2(i);return a?l:rd[r]=l}else{const n=t.cacheKey;if(n){const r=rd[n];return r||(rd[n]=Y2(t))}else return Y2(t)}}o(fVe,"compile$1");const Q$=o(()=>"","NOOP_MESSAGE_FUNCTION"),Ki=o(t=>or(t),"isMessageFunction");function hVe(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:s,messageCompiler:i,fallbackLocale:a,messages:l}=t,[u,c]=kwe(...e),f=us(c.missingWarn)?c.missingWarn:t.missingWarn,h=us(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,d=us(c.escapeParameter)?c.escapeParameter:t.escapeParameter,p=!!c.resolvedMessage,m=Qe(c.default)||us(c.default)?us(c.default)?i?u:()=>u:c.default:n?i?u:()=>u:"",y=n||m!=="",b=MR(t,c);d&&Swe(c);let[_,S,v]=p?[u,b,l[b]||qr()]:Rj(t,u,b,a,h,f),k=_,C=u;if(!p&&!(Qe(k)||_0(k)||Ki(k))&&y&&(k=m,C=k),!p&&(!(Qe(k)||_0(k)||Ki(k))||!Qe(S)))return s?DR:u;let I=!1;const x=o(()=>{I=!0},"onError"),E=Ki(k)?k:Oj(t,u,S,k,C,x);if(I)return k;const T=Cwe(t,S,v,c),O=X_e(T),N=Twe(t,E,O),R=r?r(N,u):N;if(__INTLIFY_PROD_DEVTOOLS__){const M={timestamp:Date.now(),key:Qe(u)?u:Ki(k)?k.key:"",locale:S||(Ki(k)?k.locale:""),format:Qe(k)?k:Ki(k)?k.source:"",message:R};M.meta=zp({},t.__meta,owe()||{}),Z_e(M)}return R}o(hVe,"translate");function Swe(t){co(t.list)?t.list=t.list.map(e=>Qe(e)?z$(e):e):Pn(t.named)&&Object.keys(t.named).forEach(e=>{Qe(t.named[e])&&(t.named[e]=z$(t.named[e]))})}o(Swe,"escapeParams");function Rj(t,e,n,r,s,i){const{messages:a,onWarn:l,messageResolver:u,localeFallbacker:c}=t,f=c(t,r,n);let h=qr(),d,p=null;const m="translate";for(let y=0;y<f.length&&(d=f[y],h=a[d]||qr(),(p=u(h,e))===null&&(p=h[e]),!(Qe(p)||_0(p)||Ki(p)));y++)if(!lwe(d,f)){const b=PR(t,e,d,i,m);b!==e&&(p=b)}return[p,d,h]}o(Rj,"resolveMessageFormat");function Oj(t,e,n,r,s,i){const{messageCompiler:a,warnHtmlMessage:l}=t;if(Ki(r)){const c=r;return c.locale=c.locale||n,c.key=c.key||e,c}if(a==null){const c=o((()=>r),"msg2");return c.locale=n,c.key=e,c}const u=a(r,Awe(t,n,s,r,l,i));return u.locale=n,u.key=e,u.source=r,u}o(Oj,"compileMessageFormat");function Twe(t,e,n){return e(n)}o(Twe,"evaluateMessage");function kwe(...t){const[e,n,r]=t,s=qr();if(!Qe(e)&&!ls(e)&&!Ki(e)&&!_0(e))throw ea(Qo.INVALID_ARGUMENT);const i=ls(e)?String(e):(Ki(e),e);return ls(n)?s.plural=n:Qe(n)?s.default=n:cn(n)&&!RR(n)?s.named=n:co(n)&&(s.list=n),ls(r)?s.plural=r:Qe(r)?s.default=r:cn(r)&&zp(s,r),[i,s]}o(kwe,"parseTranslateArgs");function Awe(t,e,n,r,s,i){return{locale:e,key:n,warnHtmlMessage:s,onError:o(a=>{throw i&&i(a),a},"onError"),onCacheKey:o(a=>Xbe(e,n,a),"onCacheKey")}}o(Awe,"getCompileContext");function Cwe(t,e,n,r){const{modifiers:s,pluralRules:i,messageResolver:a,fallbackLocale:l,fallbackWarn:u,missingWarn:c,fallbackContext:f}=t,d={locale:e,modifiers:s,pluralRules:i,messages:o(p=>{let m=a(n,p);if(m==null&&f){const[,,y]=Rj(f,p,e,l,u,c);m=a(y,p)}if(Qe(m)||_0(m)){let y=!1;const _=Oj(t,p,e,m,p,o(()=>{y=!0},"onError"));return y?Q$:_}else return Ki(m)?m:Q$},"resolveMessage")};return t.processor&&(d.processor=t.processor),r.list&&(d.list=r.list),r.named&&(d.named=r.named),ls(r.plural)&&(d.pluralIndex=r.plural),d}o(Cwe,"getMessageContextOptions");function dVe(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:a}=t,{__datetimeFormatters:l}=t,[u,c,f,h]=Rwe(...e),d=us(f.missingWarn)?f.missingWarn:t.missingWarn;us(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn;const p=!!f.part,m=MR(t,f),y=a(t,s,m);if(!Qe(u)||u==="")return new Intl.DateTimeFormat(m,h).format(c);let b={},_,S=null;const v="datetime format";for(let I=0;I<y.length&&(_=y[I],b=n[_]||{},S=b[u],!cn(S));I++)PR(t,u,_,d,v);if(!cn(S)||!Qe(_))return r?DR:u;let k=`${_}__${u}`;RR(h)||(k=`${k}__${JSON.stringify(h)}`);let C=l.get(k);return C||(C=new Intl.DateTimeFormat(_,zp({},S,h)),l.set(k,C)),p?C.formatToParts(c):C.format(c)}o(dVe,"datetime");const Iwe=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Rwe(...t){const[e,n,r,s]=t,i=qr();let a=qr(),l;if(Qe(e)){const u=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!u)throw ea(Qo.INVALID_ISO_DATE_ARGUMENT);const c=u[3]?u[3].trim().startsWith("T")?`${u[1].trim()}${u[3].trim()}`:`${u[1].trim()}T${u[3].trim()}`:u[1].trim();l=new Date(c);try{l.toISOString()}catch{throw ea(Qo.INVALID_ISO_DATE_ARGUMENT)}}else if(Zbe(e)){if(isNaN(e.getTime()))throw ea(Qo.INVALID_DATE_ARGUMENT);l=e}else if(ls(e))l=e;else throw ea(Qo.INVALID_ARGUMENT);return Qe(n)?i.key=n:cn(n)&&Object.keys(n).forEach(u=>{Iwe.includes(u)?a[u]=n[u]:i[u]=n[u]}),Qe(r)?i.locale=r:cn(r)&&(a=r),cn(s)&&(a=s),[i.key||"",l,i,a]}o(Rwe,"parseDateTimeArgs");function pVe(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__datetimeFormatters.has(i)&&r.__datetimeFormatters.delete(i)}}o(pVe,"clearDateTimeFormat");function mVe(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:a}=t,{__numberFormatters:l}=t,[u,c,f,h]=Nwe(...e),d=us(f.missingWarn)?f.missingWarn:t.missingWarn;us(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn;const p=!!f.part,m=MR(t,f),y=a(t,s,m);if(!Qe(u)||u==="")return new Intl.NumberFormat(m,h).format(c);let b={},_,S=null;const v="number format";for(let I=0;I<y.length&&(_=y[I],b=n[_]||{},S=b[u],!cn(S));I++)PR(t,u,_,d,v);if(!cn(S)||!Qe(_))return r?DR:u;let k=`${_}__${u}`;RR(h)||(k=`${k}__${JSON.stringify(h)}`);let C=l.get(k);return C||(C=new Intl.NumberFormat(_,zp({},S,h)),l.set(k,C)),p?C.formatToParts(c):C.format(c)}o(mVe,"number");const Owe=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Nwe(...t){const[e,n,r,s]=t,i=qr();let a=qr();if(!ls(e))throw ea(Qo.INVALID_ARGUMENT);const l=e;return Qe(n)?i.key=n:cn(n)&&Object.keys(n).forEach(u=>{Owe.includes(u)?a[u]=n[u]:i[u]=n[u]}),Qe(r)?i.locale=r:cn(r)&&(a=r),cn(s)&&(a=s),[i.key||"",l,i,a]}o(Nwe,"parseNumberArgs");function gVe(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__numberFormatters.has(i)&&r.__numberFormatters.delete(i)}}o(gVe,"clearNumberFormat");P_e();function Nj(t,e=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.min(n,Math.max(e,t))}o(Nj,"clamp");function LR(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,r=Symbol(n);return[o(a=>{const l=md(r,a);if(l||l===null)return l;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},"injectContext"),o(a=>(l3(r,a),a),"provideContext")]}o(LR,"createContext");function Mj(t){return t?t.flatMap(e=>e.type===ar?Mj(e.children):[e]):[]}o(Mj,"renderSlotFragments");const[Mwe]=LR("ConfigProvider");typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Dwe=o(t=>typeof t<"u","isDef"),Pwe=Vo;function nx(t){var e;const n=Vo(t);return(e=n?.$el)!=null?e:n}o(nx,"unrefElement");function $we(){const t=a0(!1),e=Bs();return e&&rc(()=>{t.value=!0},e),t}o($we,"useMounted");function Lwe(t){return JSON.parse(JSON.stringify(t))}o(Lwe,"cloneFnJSON");function Fwe(t,e,n,r={}){var s,i,a;const{clone:l=!1,passive:u=!1,eventName:c,deep:f=!1,defaultValue:h,shouldEmit:d}=r,p=Bs(),m=n||p?.emit||((s=p?.$emit)==null?void 0:s.bind(p))||((a=(i=p?.proxy)==null?void 0:i.$emit)==null?void 0:a.bind(p?.proxy));let y=c;y=y||`update:${e.toString()}`;const b=o(v=>l?typeof l=="function"?l(v):Lwe(v):v,"cloneFn"),_=o(()=>Dwe(t[e])?b(t[e]):h,"getValue2"),S=o(v=>{d?d(v)&&m(y,v):m(y,v)},"triggerEmit");if(u){const v=_(),k=Ie(v);let C=!1;return Jt(()=>t[e],I=>{C||(C=!0,k.value=b(I),yf(()=>C=!1))}),Jt(k,I=>{!C&&(I!==t[e]||f)&&S(I)},{deep:f}),k}else return qe({get(){return _()},set(v){S(v)}})}o(Fwe,"useVModel");function Bwe(t){const e=Mwe({dir:Ie("ltr")});return qe(()=>t?.value||e.dir?.value||"ltr")}o(Bwe,"useDirection");function Uwe(t){const e=Bs(),n=e?.type.emits,r={};return n?.length||console.warn(`No emitted event found. Please check component: ${e?.type.__name}`),n?.forEach(s=>{r[hg(gs(s))]=(...i)=>t(s,...i)}),r}o(Uwe,"useEmitAsProps");function zwe(t){return qe(()=>Pwe(t)?!!nx(t)?.closest("form"):!0)}o(zwe,"useFormControl");function th(){const t=Bs(),e=Ie(),n=qe(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:nx(e)),r=Object.assign({},t.exposed),s={};for(const a in t.props)Object.defineProperty(s,a,{enumerable:!0,configurable:!0,get:o(()=>t.props[a],"get")});if(Object.keys(r).length>0)for(const a in r)Object.defineProperty(s,a,{enumerable:!0,configurable:!0,get:o(()=>r[a],"get")});Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:o(()=>t.vnode.el,"get")}),t.exposed=s;function i(a){e.value=a,a&&(Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:o(()=>a instanceof Element?a:a.$el,"get")}),t.exposed=s)}return o(i,"forwardRef"),{forwardRef:i,currentRef:e,currentElement:n}}o(th,"useForwardExpose");function Vwe(t){const e=Bs(),n=Object.keys(e?.type.props??{}).reduce((s,i)=>{const a=(e?.type.props[i]).default;return a!==void 0&&(s[i]=a),s},{}),r=UU(t);return qe(()=>{const s={},i=e?.vnode.props??{};return Object.keys(i).forEach(a=>{s[gs(a)]=i[a]}),Object.keys({...n,...s}).reduce((a,l)=>(r.value[l]!==void 0&&(a[l]=r.value[l]),a),{})})}o(Vwe,"useForwardProps");function yVe(t,e){const n=Vwe(t),r=e?Uwe(e):{};return qe(()=>({...n.value,...r}))}o(yVe,"useForwardPropsEmits");function jwe(t){const e=Ie(),n=qe(()=>e.value?.width??0),r=qe(()=>e.value?.height??0);return rc(()=>{const s=nx(t);if(s){e.value={width:s.offsetWidth,height:s.offsetHeight};const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let u,c;if("borderBoxSize"in l){const f=l.borderBoxSize,h=Array.isArray(f)?f[0]:f;u=h.inlineSize,c=h.blockSize}else u=s.offsetWidth,c=s.offsetHeight;e.value={width:u,height:c}});return i.observe(s,{box:"border-box"}),()=>i.unobserve(s)}else e.value=void 0}),{width:n,height:r}}o(jwe,"useSize");const AA=jr({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{if(!n.default)return null;const r=Mj(n.default()),s=r.findIndex(u=>u.type!==lr);if(s===-1)return r;const i=r[s];delete i.props?.ref;const a=i.props?yl(e,i.props):e,l=gl({...i,props:{}},a);return r.length===1?l:(r[s]=l,r)}}}),Wwe=["area","img","input"],By=jr({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const r=t.asChild?"template":t.as;return typeof r=="string"&&Wwe.includes(r)?()=>yd(r,e):r!=="template"?()=>yd(t.as,e,{default:n.default}):()=>yd(AA,e,{default:n.default})}});function CA(){const t=Ie(),e=qe(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:nx(t));return{primitiveElement:t,currentElement:e}}o(CA,"usePrimitiveElement");const eL="data-reka-collection-item";function FR(t={}){const{key:e="",isProvider:n=!1}=t,r=`${e}CollectionProvider`;let s;if(n){const f=Ie(new Map);s={collectionRef:Ie(),itemMap:f},l3(r,s)}else s=md(r);const i=o((f=!1)=>{const h=s.collectionRef.value;if(!h)return[];const d=Array.from(h.querySelectorAll(`[${eL}]`)),m=Array.from(s.itemMap.value.values()).sort((y,b)=>d.indexOf(y.ref)-d.indexOf(b.ref));return f?m:m.filter(y=>y.ref.dataset.disabled!=="")},"getItems"),a=jr({name:"CollectionSlot",setup(f,{slots:h}){const{primitiveElement:d,currentElement:p}=CA();return Jt(p,()=>{s.collectionRef.value=p.value}),()=>yd(AA,{ref:d},h)}}),l=jr({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:o(()=>!0,"validator")}},setup(f,{slots:h,attrs:d}){const{primitiveElement:p,currentElement:m}=CA();return v9(y=>{if(m.value){const b=LU(m.value);s.itemMap.value.set(b,{ref:m.value,value:f.value}),y(()=>s.itemMap.value.delete(b))}}),()=>yd(AA,{...d,[eL]:"",ref:p},h)}}),u=qe(()=>Array.from(s.itemMap.value.values())),c=qe(()=>s.itemMap.value.size);return{getItems:i,reactiveItems:u,itemMapSize:c,CollectionSlot:a,CollectionItem:l}}o(FR,"useCollection");var Hwe=jr({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){return(e,n)=>(Fn(),Sr(Ae(By),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:Di(()=>[Rl(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),qwe=Hwe,Gwe=jr({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(t){const e=t,{primitiveElement:n,currentElement:r}=CA(),s=qe(()=>e.checked??e.value);return Jt(s,(i,a)=>{if(!r.value)return;const l=r.value,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(f&&i!==a){const h=new Event("input",{bubbles:!0}),d=new Event("change",{bubbles:!0});f.call(l,i),l.dispatchEvent(h),l.dispatchEvent(d)}}),(i,a)=>(Fn(),Sr(qwe,yl({ref_key:"primitiveElement",ref:n},{...e,...i.$attrs},{as:"input"}),null,16))}}),tL=Gwe,Kwe=jr({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(t){const e=t,n=qe(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),r=qe(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"||e.value===null||e.value===void 0?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((s,i)=>typeof s=="object"?Object.entries(s).map(([a,l])=>({name:`${e.name}[${i}][${a}]`,value:l})):{name:`${e.name}[${i}]`,value:s}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([s,i])=>({name:`${e.name}[${s}]`,value:i})):[]);return(s,i)=>(Fn(),g4(ar,null,[O9(" We render single input if it's required "),n.value?(Fn(),Sr(tL,yl({key:s.name},{...e,...s.$attrs},{name:s.name,value:s.value}),null,16,["name","value"])):(Fn(!0),g4(ar,{key:1},Eie(r.value,a=>(Fn(),Sr(tL,yl({key:a.name},{ref_for:!0},{...e,...s.$attrs},{name:a.name,value:a.value}),null,16,["name","value"]))),128))],2112))}}),Ywe=Kwe;function Xwe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}o(Xwe,"getNextSortedValues");function Dj(t,e,n){const i=100/(n-e)*(t-e);return Nj(i,0,100)}o(Dj,"convertValueToPercentage");function Jwe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}o(Jwe,"getLabel");function Zwe(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}o(Zwe,"getClosestValueIndex");function Qwe(t,e,n){const r=t/2,i=BR([0,50],[0,r]);return(r-i(e)*n)*n}o(Qwe,"getThumbInBoundsOffset");function eve(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}o(eve,"getStepsBetweenValues");function tve(t,e){if(e>0){const n=eve(t);return Math.min(...n)>=e}return!0}o(tve,"hasMinStepsBetweenValues");function BR(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}o(BR,"linearScale");function nve(t){return(String(t).split(".")[1]||"").length}o(nve,"getDecimalCount");function rve(t,e){const n=10**e;return Math.round(t*n)/n}o(rve,"roundValue");const Pj=["PageUp","PageDown"],$j=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Lj={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageUp","ArrowUp","ArrowLeft"]},[Fj,Bj]=LR(["SliderVertical","SliderHorizontal"]);var sve=jr({__name:"SliderHorizontal",props:{dir:{type:String,required:!1},min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const n=t,r=e,{max:s,min:i,dir:a,inverted:l}=Fd(n),{forwardRef:u,currentElement:c}=th(),f=Vp(),h=Ie(),d=Ie(),p=qe(()=>a?.value!=="rtl"&&!l.value||a?.value!=="ltr"&&l.value);function m(S,v){const k=d.value||c.value.getBoundingClientRect(),C=[...f.thumbElements.value][f.valueIndexToChangeRef.value],I=f.thumbAlignment.value==="contain"?C.clientWidth:0;!h.value&&!v&&f.thumbAlignment.value==="contain"&&(h.value=S.clientX-C.getBoundingClientRect().left);const x=[0,k.width-I],E=p.value?[i.value,s.value]:[s.value,i.value],T=BR(x,E);d.value=k;const O=v?S.clientX-k.left-I/2:S.clientX-k.left-(h.value??0);return T(O)}o(m,"getValueFromPointerEvent");const y=qe(()=>p.value?"left":"right"),b=qe(()=>p.value?"right":"left"),_=qe(()=>p.value?1:-1);return Bj({startEdge:y,endEdge:b,direction:_,size:"width"}),(S,v)=>(Fn(),Sr(Uj,{ref:Ae(u),dir:Ae(a),"data-orientation":"horizontal",style:Gf({"--reka-slider-thumb-transform":!p.value&&Ae(f).thumbAlignment.value==="overflow"?"translateX(50%)":"translateX(-50%)"}),onSlideStart:v[0]||(v[0]=k=>{const C=m(k,!0);r("slideStart",C)}),onSlideMove:v[1]||(v[1]=k=>{const C=m(k);r("slideMove",C)}),onSlideEnd:v[2]||(v[2]=()=>{d.value=void 0,h.value=void 0,r("slideEnd")}),onStepKeyDown:v[3]||(v[3]=k=>{const C=p.value?"from-left":"from-right",I=Ae(Lj)[C].includes(k.key);r("stepKeyDown",k,I?-1:1)}),onEndKeyDown:v[4]||(v[4]=k=>r("endKeyDown",k)),onHomeKeyDown:v[5]||(v[5]=k=>r("homeKeyDown",k))},{default:Di(()=>[Rl(S.$slots,"default")]),_:3},8,["dir","style"]))}}),ive=sve,ove=jr({__name:"SliderVertical",props:{min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const n=t,r=e,{max:s,min:i,inverted:a}=Fd(n),l=Vp(),{forwardRef:u,currentElement:c}=th(),f=Ie(),h=Ie(),d=qe(()=>!a.value);function p(_,S){const v=h.value||c.value.getBoundingClientRect(),k=[...l.thumbElements.value][l.valueIndexToChangeRef.value],C=l.thumbAlignment.value==="contain"?k.clientHeight:0;!f.value&&!S&&l.thumbAlignment.value==="contain"&&(f.value=_.clientY-k.getBoundingClientRect().top);const I=[0,v.height-C],x=d.value?[s.value,i.value]:[i.value,s.value],E=BR(I,x),T=S?_.clientY-v.top-C/2:_.clientY-v.top-(f.value??0);return h.value=v,E(T)}o(p,"getValueFromPointerEvent");const m=qe(()=>d.value?"bottom":"top"),y=qe(()=>d.value?"top":"bottom"),b=qe(()=>d.value?1:-1);return Bj({startEdge:m,endEdge:y,direction:b,size:"height"}),(_,S)=>(Fn(),Sr(Uj,{ref:Ae(u),"data-orientation":"vertical",style:Gf({"--reka-slider-thumb-transform":!d.value&&Ae(l).thumbAlignment.value==="overflow"?"translateY(-50%)":"translateY(50%)"}),onSlideStart:S[0]||(S[0]=v=>{const k=p(v,!0);r("slideStart",k)}),onSlideMove:S[1]||(S[1]=v=>{const k=p(v);r("slideMove",k)}),onSlideEnd:S[2]||(S[2]=()=>{h.value=void 0,f.value=void 0,r("slideEnd")}),onStepKeyDown:S[3]||(S[3]=v=>{const k=d.value?"from-bottom":"from-top",C=Ae(Lj)[k].includes(v.key);r("stepKeyDown",v,C?-1:1)}),onEndKeyDown:S[4]||(S[4]=v=>r("endKeyDown",v)),onHomeKeyDown:S[5]||(S[5]=v=>r("homeKeyDown",v))},{default:Di(()=>[Rl(_.$slots,"default")]),_:3},8,["style"]))}}),ave=ove;const[Vp,lve]=LR("SliderRoot");var uve=jr({inheritAttrs:!1,__name:"SliderRoot",props:{defaultValue:{type:Array,required:!1,default:o(()=>[0],"default")},modelValue:{type:[Array,null],required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},inverted:{type:Boolean,required:!1,default:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},minStepsBetweenThumbs:{type:Number,required:!1,default:0},thumbAlignment:{type:String,required:!1,default:"contain"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","valueCommit"],setup(t,{emit:e}){const n=t,r=e,{min:s,max:i,step:a,minStepsBetweenThumbs:l,orientation:u,disabled:c,thumbAlignment:f,dir:h}=Fd(n),d=Bwe(h),{forwardRef:p,currentElement:m}=th(),y=zwe(m),{CollectionSlot:b}=FR({isProvider:!0}),_=Fwe(n,"modelValue",r,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),S=qe(()=>Array.isArray(_.value)?[..._.value]:[]),v=Ie(0),k=Ie(S.value);function C(O){const N=Zwe(S.value,O);E(O,N)}o(C,"handleSlideStart");function I(O){E(O,v.value)}o(I,"handleSlideMove");function x(){const O=k.value[v.value];S.value[v.value]!==O&&r("valueCommit",bt(S.value))}o(x,"handleSlideEnd");function E(O,N,{commit:R}={commit:!1}){const M=nve(a.value),B=rve(Math.round((O-s.value)/a.value)*a.value+s.value,M),z=Nj(B,s.value,i.value),V=Xwe(S.value,z,N);if(tve(V,l.value*a.value)){v.value=V.indexOf(z);const K=String(V)!==String(_.value);K&&R&&r("valueCommit",V),K&&(T.value[v.value]?.focus(),_.value=V)}}o(E,"updateValues");const T=Ie([]);return lve({modelValue:_,currentModelValue:S,valueIndexToChangeRef:v,thumbElements:T,orientation:u,min:s,max:i,disabled:c,thumbAlignment:f}),(O,N)=>(Fn(),Sr(Ae(b),null,{default:Di(()=>[(Fn(),Sr(vie(Ae(u)==="horizontal"?ive:ave),yl(O.$attrs,{ref:Ae(p),"as-child":O.asChild,as:O.as,min:Ae(s),max:Ae(i),dir:Ae(d),inverted:O.inverted,"aria-disabled":Ae(c),"data-disabled":Ae(c)?"":void 0,onPointerdown:N[0]||(N[0]=()=>{Ae(c)||(k.value=S.value)}),onSlideStart:N[1]||(N[1]=R=>!Ae(c)&&C(R)),onSlideMove:N[2]||(N[2]=R=>!Ae(c)&&I(R)),onSlideEnd:N[3]||(N[3]=R=>!Ae(c)&&x()),onHomeKeyDown:N[4]||(N[4]=R=>!Ae(c)&&E(Ae(s),0,{commit:!0})),onEndKeyDown:N[5]||(N[5]=R=>!Ae(c)&&E(Ae(i),S.value.length-1,{commit:!0})),onStepKeyDown:N[6]||(N[6]=(R,M)=>{if(!Ae(c)){const V=Ae(Pj).includes(R.key)||R.shiftKey&&Ae($j).includes(R.key)?10:1,K=v.value,ee=S.value[K],Z=Ae(a)*V*M;E(ee+Z,K,{commit:!0})}})}),{default:Di(()=>[Rl(O.$slots,"default",{modelValue:Ae(_)}),Ae(y)&&O.name?(Fn(),Sr(Ae(Ywe),{key:0,type:"number",value:Ae(_),name:O.name,required:O.required,disabled:Ae(c),step:Ae(a)},null,8,["value","name","required","disabled","step"])):O9("v-if",!0)]),_:3},16,["as-child","as","min","max","dir","inverted","aria-disabled","data-disabled"]))]),_:3}))}}),bVe=uve,cve=jr({__name:"SliderImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},emits:["slideStart","slideMove","slideEnd","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const n=t,r=e,s=Vp();return(i,a)=>(Fn(),Sr(Ae(By),yl({"data-slider-impl":""},n,{onKeydown:a[0]||(a[0]=l=>{l.key==="Home"?(r("homeKeyDown",l),l.preventDefault()):l.key==="End"?(r("endKeyDown",l),l.preventDefault()):Ae(Pj).concat(Ae($j)).includes(l.key)&&(r("stepKeyDown",l),l.preventDefault())}),onPointerdown:a[1]||(a[1]=l=>{const u=l.target;u.setPointerCapture(l.pointerId),l.preventDefault(),Ae(s).thumbElements.value.includes(u)?u.focus():r("slideStart",l)}),onPointermove:a[2]||(a[2]=l=>{l.target.hasPointerCapture(l.pointerId)&&r("slideMove",l)}),onPointerup:a[3]||(a[3]=l=>{const u=l.target;u.hasPointerCapture(l.pointerId)&&(u.releasePointerCapture(l.pointerId),r("slideEnd",l))})}),{default:Di(()=>[Rl(i.$slots,"default")]),_:3},16))}}),Uj=cve,fve=jr({__name:"SliderRange",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=Vp(),n=Fj();th();const r=qe(()=>e.currentModelValue.value.map(a=>Dj(a,e.min.value,e.max.value))),s=qe(()=>e.currentModelValue.value.length>1?Math.min(...r.value):0),i=qe(()=>100-Math.max(...r.value,0));return(a,l)=>(Fn(),Sr(Ae(By),{"data-disabled":Ae(e).disabled.value?"":void 0,"data-orientation":Ae(e).orientation.value,"as-child":a.asChild,as:a.as,style:Gf({[Ae(n).startEdge.value]:`${s.value}%`,[Ae(n).endEdge.value]:`${i.value}%`})},{default:Di(()=>[Rl(a.$slots,"default")]),_:3},8,["data-disabled","data-orientation","as-child","as","style"]))}}),_Ve=fve,hve=jr({inheritAttrs:!1,__name:"SliderThumbImpl",props:{index:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,n=Vp(),r=Fj(),{forwardRef:s,currentElement:i}=th(),{CollectionItem:a}=FR(),l=qe(()=>n.modelValue?.value?.[e.index]),u=qe(()=>l.value===void 0?0:Dj(l.value,n.min.value??0,n.max.value??100)),c=qe(()=>Jwe(e.index,n.modelValue?.value?.length??0)),f=jwe(i),h=qe(()=>f[r.size].value),d=qe(()=>n.thumbAlignment.value==="overflow"||!h.value?0:Qwe(h.value,u.value,r.direction.value)),p=$we();return rc(()=>{n.thumbElements.value.push(i.value)}),yE(()=>{const m=n.thumbElements.value.findIndex(y=>y===i.value)??-1;n.thumbElements.value.splice(m,1)}),(m,y)=>(Fn(),Sr(Ae(a),null,{default:Di(()=>[kn(Ae(By),yl(m.$attrs,{ref:Ae(s),role:"slider",tabindex:Ae(n).disabled.value?void 0:0,"aria-label":m.$attrs["aria-label"]||c.value,"data-disabled":Ae(n).disabled.value?"":void 0,"data-orientation":Ae(n).orientation.value,"aria-valuenow":l.value,"aria-valuemin":Ae(n).min.value,"aria-valuemax":Ae(n).max.value,"aria-orientation":Ae(n).orientation.value,"as-child":m.asChild,as:m.as,style:{transform:"var(--reka-slider-thumb-transform)",position:"absolute",[Ae(r).startEdge.value]:`calc(${u.value}% + ${d.value}px)`,display:!Ae(p)&&l.value===void 0?"none":void 0},onFocus:y[0]||(y[0]=()=>{Ae(n).valueIndexToChangeRef.value=m.index})}),{default:Di(()=>[Rl(m.$slots,"default")]),_:3},16,["tabindex","aria-label","data-disabled","data-orientation","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","as-child","as","style"])]),_:3}))}}),dve=hve,pve=jr({__name:"SliderThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=t,{getItems:n}=FR(),{forwardRef:r,currentElement:s}=th(),i=qe(()=>s.value?n(!0).findIndex(a=>a.ref===s.value):-1);return(a,l)=>(Fn(),Sr(dve,yl({ref:Ae(r)},e,{index:i.value}),{default:Di(()=>[Rl(a.$slots,"default")]),_:3},16,["index"]))}}),wVe=pve,mve=jr({__name:"SliderTrack",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=Vp();return th(),(n,r)=>(Fn(),Sr(Ae(By),{"as-child":n.asChild,as:n.as,"data-disabled":Ae(e).disabled.value?"":void 0,"data-orientation":Ae(e).orientation.value},{default:Di(()=>[Rl(n.$slots,"default")]),_:3},8,["as-child","as","data-disabled","data-orientation"]))}}),vVe=mve;function zj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=zj(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}o(zj,"r");function gve(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=zj(t))&&(r&&(r+=" "),r+=e);return r}o(gve,"clsx");const UR="-",yve=o(t=>{const e=_ve(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o(a=>{const l=a.split(UR);return l[0]===""&&l.length!==1&&l.shift(),Vj(l,e)||bve(a)},"getClassGroupId"),getConflictingClassGroupIds:o((a,l)=>{const u=n[a]||[];return l&&r[a]?[...u,...r[a]]:u},"getConflictingClassGroupIds")}},"createClassGroupUtils"),Vj=o((t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Vj(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(UR);return e.validators.find(({validator:a})=>a(i))?.classGroupId},"getGroupRecursive"),nL=/^\[(.+)\]$/,bve=o(t=>{if(nL.test(t)){const e=nL.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},"getGroupIdForArbitraryProperty"),_ve=o(t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return vve(Object.entries(t.classGroups),n).forEach(([i,a])=>{IA(a,r,i,e)}),r},"createClassMap"),IA=o((t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:rL(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(wve(s)){IA(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{IA(a,rL(e,i),n,r)})})},"processClassesRecursively"),rL=o((t,e)=>{let n=t;return e.split(UR).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},"getPart"),wve=o(t=>t.isThemeGetter,"isThemeGetter"),vve=o((t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,s]}):t,"getPrefixedClassGroupEntries"),Eve=o(t=>{if(t<1)return{get:o(()=>{},"get"),set:o(()=>{},"set")};let e=0,n=new Map,r=new Map;const s=o((i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)},"update");return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},"createLruCache"),jj="!",xve=o(t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=o(l=>{const u=[];let c=0,f=0,h;for(let b=0;b<l.length;b++){let _=l[b];if(c===0){if(_===s&&(r||l.slice(b,b+i)===e)){u.push(l.slice(f,b)),f=b+i;continue}if(_==="/"){h=b;continue}}_==="["?c++:_==="]"&&c--}const d=u.length===0?l:l.substring(f),p=d.startsWith(jj),m=p?d.substring(1):d,y=h&&h>f?h-f:void 0;return{modifiers:u,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:y}},"parseClassName");return n?l=>n({className:l,parseClassName:a}):a},"createParseClassName"),Sve=o(t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},"sortModifiers"),Tve=o(t=>({cache:Eve(t.cacheSize),parseClassName:xve(t),...yve(t)}),"createConfigUtils"),kve=/\s+/,Ave=o((t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(kve);let l="";for(let u=a.length-1;u>=0;u-=1){const c=a[u],{modifiers:f,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:p}=n(c);let m=!!p,y=r(m?d.substring(0,p):d);if(!y){if(!m){l=c+(l.length>0?" "+l:l);continue}if(y=r(d),!y){l=c+(l.length>0?" "+l:l);continue}m=!1}const b=Sve(f).join(":"),_=h?b+jj:b,S=_+y;if(i.includes(S))continue;i.push(S);const v=s(y,m);for(let k=0;k<v.length;++k){const C=v[k];i.push(_+C)}l=c+(l.length>0?" "+l:l)}return l},"mergeClassList");function Cve(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Wj(e))&&(r&&(r+=" "),r+=n);return r}o(Cve,"twJoin");const Wj=o(t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Wj(t[r]))&&(n&&(n+=" "),n+=e);return n},"toValue");function Ive(t,...e){let n,r,s,i=a;function a(u){const c=e.reduce((f,h)=>h(f),t());return n=Tve(c),r=n.cache.get,s=n.cache.set,i=l,l(u)}o(a,"initTailwindMerge");function l(u){const c=r(u);if(c)return c;const f=Ave(u,n);return s(u,f),f}return o(l,"tailwindMerge"),o(function(){return i(Cve.apply(null,arguments))},"callTailwindMerge")}o(Ive,"createTailwindMerge");const en=o(t=>{const e=o(n=>n[t]||[],"themeGetter");return e.isThemeGetter=!0,e},"fromTheme"),Hj=/^\[(?:([a-z-]+):)?(.+)\]$/i,Rve=/^\d+\/\d+$/,Ove=new Set(["px","full","screen"]),Nve=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Mve=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Dve=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Pve=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$ve=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ba=o(t=>xd(t)||Ove.has(t)||Rve.test(t),"isLength"),Hl=o(t=>jp(t,"length",Wve),"isArbitraryLength"),xd=o(t=>!!t&&!Number.isNaN(Number(t)),"isNumber$2"),X2=o(t=>jp(t,"number",xd),"isArbitraryNumber"),Cm=o(t=>!!t&&Number.isInteger(Number(t)),"isInteger$1"),Lve=o(t=>t.endsWith("%")&&xd(t.slice(0,-1)),"isPercent"),tt=o(t=>Hj.test(t),"isArbitraryValue"),ql=o(t=>Nve.test(t),"isTshirtSize"),Fve=new Set(["length","size","percentage"]),Bve=o(t=>jp(t,Fve,qj),"isArbitrarySize"),Uve=o(t=>jp(t,"position",qj),"isArbitraryPosition"),zve=new Set(["image","url"]),Vve=o(t=>jp(t,zve,qve),"isArbitraryImage"),jve=o(t=>jp(t,"",Hve),"isArbitraryShadow"),Im=o(()=>!0,"isAny"),jp=o((t,e,n)=>{const r=Hj.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},"getIsArbitraryValue"),Wve=o(t=>Mve.test(t)&&!Dve.test(t),"isLengthOnly"),qj=o(()=>!1,"isNever"),Hve=o(t=>Pve.test(t),"isShadow"),qve=o(t=>$ve.test(t),"isImage"),Gve=o(()=>{const t=en("colors"),e=en("spacing"),n=en("blur"),r=en("brightness"),s=en("borderColor"),i=en("borderRadius"),a=en("borderSpacing"),l=en("borderWidth"),u=en("contrast"),c=en("grayscale"),f=en("hueRotate"),h=en("invert"),d=en("gap"),p=en("gradientColorStops"),m=en("gradientColorStopPositions"),y=en("inset"),b=en("margin"),_=en("opacity"),S=en("padding"),v=en("saturate"),k=en("scale"),C=en("sepia"),I=en("skew"),x=en("space"),E=en("translate"),T=o(()=>["auto","contain","none"],"getOverscroll"),O=o(()=>["auto","hidden","clip","visible","scroll"],"getOverflow"),N=o(()=>["auto",tt,e],"getSpacingWithAutoAndArbitrary"),R=o(()=>[tt,e],"getSpacingWithArbitrary"),M=o(()=>["",Ba,Hl],"getLengthWithEmptyAndArbitrary"),B=o(()=>["auto",xd,tt],"getNumberWithAutoAndArbitrary"),z=o(()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],"getPositions"),V=o(()=>["solid","dashed","dotted","double","none"],"getLineStyles"),K=o(()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],"getBlendModes"),ee=o(()=>["start","end","center","between","around","evenly","stretch"],"getAlign"),Z=o(()=>["","0",tt],"getZeroAndEmpty"),ue=o(()=>["auto","avoid","all","avoid-page","page","left","right","column"],"getBreaks"),ae=o(()=>[xd,tt],"getNumberAndArbitrary");return{cacheSize:500,separator:":",theme:{colors:[Im],spacing:[Ba,Hl],blur:["none","",ql,tt],brightness:ae(),borderColor:[t],borderRadius:["none","","full",ql,tt],borderSpacing:R(),borderWidth:M(),contrast:ae(),grayscale:Z(),hueRotate:ae(),invert:Z(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[Lve,Hl],inset:N(),margin:N(),opacity:ae(),padding:R(),saturate:ae(),scale:ae(),sepia:Z(),skew:ae(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",tt]}],container:["container"],columns:[{columns:[ql]}],"break-after":[{"break-after":ue()}],"break-before":[{"break-before":ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),tt]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Cm,tt]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tt]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",Cm,tt]}],"grid-cols":[{"grid-cols":[Im]}],"col-start-end":[{col:["auto",{span:["full",Cm,tt]},tt]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Im]}],"row-start-end":[{row:["auto",{span:[Cm,tt]},tt]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tt]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...ee()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ee(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ee(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[x]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[x]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tt,e]}],"min-w":[{"min-w":[tt,e,"min","max","fit"]}],"max-w":[{"max-w":[tt,e,"none","full","min","max","fit","prose",{screen:[ql]},ql]}],h:[{h:[tt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ql,Hl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",X2]}],"font-family":[{font:[Im]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tt]}],"line-clamp":[{"line-clamp":["none",xd,X2]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ba,tt]}],"list-image":[{"list-image":["none",tt]}],"list-style-type":[{list:["none","disc","decimal",tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ba,Hl]}],"underline-offset":[{"underline-offset":["auto",Ba,tt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),Uve]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Bve]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Vve]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Ba,tt]}],"outline-w":[{outline:[Ba,Hl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Ba,Hl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ql,jve]}],"shadow-color":[{shadow:[Im]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",ql,tt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[v]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tt]}],duration:[{duration:ae()}],ease:[{ease:["linear","in","out","in-out",tt]}],delay:[{delay:ae()}],animate:[{animate:["none","spin","ping","pulse","bounce",tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Cm,tt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[I]}],"skew-y":[{"skew-y":[I]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ba,Hl,X2]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},"getDefaultConfig"),EVe=Ive(Gve),sL=o(t=>typeof t=="boolean"?`${t}`:t===0?"0":t,"falsyToString"),Kve=o(t=>{const e=o(function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return gve(i)},"cx");return{compose:o(function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return l=>{const u=Object.fromEntries(Object.entries(l||{}).filter(c=>{let[f]=c;return!["class","className"].includes(f)}));return e(i.map(c=>c(u)),l?.class,l?.className)}},"compose"),cva:o(s=>i=>{var a;if(s?.variants==null)return e(s?.base,i?.class,i?.className);const{variants:l,defaultVariants:u}=s,c=Object.keys(l).map(d=>{const p=i?.[d],m=u?.[d],y=sL(p)||sL(m);return l[d][y]}),f={...u,...i&&Object.entries(i).reduce((d,p)=>{let[m,y]=p;return typeof y>"u"?d:{...d,[m]:y}},{})},h=s==null||(a=s.compoundVariants)===null||a===void 0?void 0:a.reduce((d,p)=>{let{class:m,className:y,...b}=p;return Object.entries(b).every(_=>{let[S,v]=_;const k=f[S];return Array.isArray(v)?v.includes(k):k===v})?[...d,m,y]:d},[]);return e(s?.base,c,h,i?.class,i?.className)},"cva"),cx:e}},"defineConfig"),{cva:xVe}=Kve();function zR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}o(zR,"getDefaultExportFromCjs");var ib={exports:{}},J2,iL;function rx(){if(iL)return J2;iL=1;const t="2.0.0",e=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,s=e-6;return J2={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:s,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},J2}o(rx,"requireConstants");var Z2,oL;function sx(){if(oL)return Z2;oL=1;var t={};return Z2=typeof process=="object"&&t&&t.NODE_DEBUG&&/\bsemver\b/i.test(t.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},Z2}o(sx,"requireDebug");var aL;function Uy(){return aL||(aL=1,(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:s}=rx(),i=sx();e=t.exports={};const a=e.re=[],l=e.safeRe=[],u=e.src=[],c=e.safeSrc=[],f=e.t={};let h=0;const d="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",s],[d,r]],m=o(b=>{for(const[_,S]of p)b=b.split(`${_}*`).join(`${_}{0,${S}}`).split(`${_}+`).join(`${_}{1,${S}}`);return b},"makeSafeRegex"),y=o((b,_,S)=>{const v=m(_),k=h++;i(b,k,_),f[b]=k,u[k]=_,c[k]=v,a[k]=new RegExp(_,S?"g":void 0),l[k]=new RegExp(v,S?"g":void 0)},"createToken");y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),y("MAINVERSION",`(${u[f.NUMERICIDENTIFIER]})\\.(${u[f.NUMERICIDENTIFIER]})\\.(${u[f.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${u[f.NUMERICIDENTIFIERLOOSE]})\\.(${u[f.NUMERICIDENTIFIERLOOSE]})\\.(${u[f.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${u[f.NONNUMERICIDENTIFIER]}|${u[f.NUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${u[f.NONNUMERICIDENTIFIER]}|${u[f.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASE",`(?:-(${u[f.PRERELEASEIDENTIFIER]}(?:\\.${u[f.PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${u[f.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[f.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",`${d}+`),y("BUILD",`(?:\\+(${u[f.BUILDIDENTIFIER]}(?:\\.${u[f.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${u[f.MAINVERSION]}${u[f.PRERELEASE]}?${u[f.BUILD]}?`),y("FULL",`^${u[f.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${u[f.MAINVERSIONLOOSE]}${u[f.PRERELEASELOOSE]}?${u[f.BUILD]}?`),y("LOOSE",`^${u[f.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE",`${u[f.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),y("XRANGEIDENTIFIER",`${u[f.NUMERICIDENTIFIER]}|x|X|\\*`),y("XRANGEPLAIN",`[v=\\s]*(${u[f.XRANGEIDENTIFIER]})(?:\\.(${u[f.XRANGEIDENTIFIER]})(?:\\.(${u[f.XRANGEIDENTIFIER]})(?:${u[f.PRERELEASE]})?${u[f.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${u[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[f.XRANGEIDENTIFIERLOOSE]})(?:${u[f.PRERELEASELOOSE]})?${u[f.BUILD]}?)?)?`),y("XRANGE",`^${u[f.GTLT]}\\s*${u[f.XRANGEPLAIN]}$`),y("XRANGELOOSE",`^${u[f.GTLT]}\\s*${u[f.XRANGEPLAINLOOSE]}$`),y("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),y("COERCE",`${u[f.COERCEPLAIN]}(?:$|[^\\d])`),y("COERCEFULL",u[f.COERCEPLAIN]+`(?:${u[f.PRERELEASE]})?(?:${u[f.BUILD]})?(?:$|[^\\d])`),y("COERCERTL",u[f.COERCE],!0),y("COERCERTLFULL",u[f.COERCEFULL],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${u[f.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",y("TILDE",`^${u[f.LONETILDE]}${u[f.XRANGEPLAIN]}$`),y("TILDELOOSE",`^${u[f.LONETILDE]}${u[f.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${u[f.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",y("CARET",`^${u[f.LONECARET]}${u[f.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${u[f.LONECARET]}${u[f.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${u[f.GTLT]}\\s*(${u[f.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${u[f.GTLT]}\\s*(${u[f.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${u[f.GTLT]}\\s*(${u[f.LOOSEPLAIN]}|${u[f.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE",`^\\s*(${u[f.XRANGEPLAIN]})\\s+-\\s+(${u[f.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${u[f.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[f.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ib,ib.exports)),ib.exports}o(Uy,"requireRe");var Q2,lL;function VR(){if(lL)return Q2;lL=1;const t=Object.freeze({loose:!0}),e=Object.freeze({});return Q2=o(r=>r?typeof r!="object"?t:r:e,"parseOptions"),Q2}o(VR,"requireParseOptions");var eS,uL;function Gj(){if(uL)return eS;uL=1;const t=/^[0-9]+$/,e=o((r,s)=>{if(typeof r=="number"&&typeof s=="number")return r===s?0:r<s?-1:1;const i=t.test(r),a=t.test(s);return i&&a&&(r=+r,s=+s),r===s?0:i&&!a?-1:a&&!i?1:r<s?-1:1},"compareIdentifiers");return eS={compareIdentifiers:e,rcompareIdentifiers:o((r,s)=>e(s,r),"rcompareIdentifiers")},eS}o(Gj,"requireIdentifiers");var tS,cL;function Ss(){if(cL)return tS;cL=1;const t=sx(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:n}=rx(),{safeRe:r,t:s}=Uy(),i=VR(),{compareIdentifiers:a}=Gj();class l{static{o(this,"SemVer")}constructor(c,f){if(f=i(f),c instanceof l){if(c.loose===!!f.loose&&c.includePrerelease===!!f.includePrerelease)return c;c=c.version}else if(typeof c!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>e)throw new TypeError(`version is longer than ${e} characters`);t("SemVer",c,f),this.options=f,this.loose=!!f.loose,this.includePrerelease=!!f.includePrerelease;const h=c.trim().match(f.loose?r[s.LOOSE]:r[s.FULL]);if(!h)throw new TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+h[1],this.minor=+h[2],this.patch=+h[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");h[4]?this.prerelease=h[4].split(".").map(d=>{if(/^[0-9]+$/.test(d)){const p=+d;if(p>=0&&p<n)return p}return d}):this.prerelease=[],this.build=h[5]?h[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(t("SemVer.compare",this.version,this.options,c),!(c instanceof l)){if(typeof c=="string"&&c===this.version)return 0;c=new l(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof l||(c=new l(c,this.options)),this.major<c.major?-1:this.major>c.major?1:this.minor<c.minor?-1:this.minor>c.minor?1:this.patch<c.patch?-1:this.patch>c.patch?1:0}comparePre(c){if(c instanceof l||(c=new l(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let f=0;do{const h=this.prerelease[f],d=c.prerelease[f];if(t("prerelease compare",f,h,d),h===void 0&&d===void 0)return 0;if(d===void 0)return 1;if(h===void 0)return-1;if(h===d)continue;return a(h,d)}while(++f)}compareBuild(c){c instanceof l||(c=new l(c,this.options));let f=0;do{const h=this.build[f],d=c.build[f];if(t("build compare",f,h,d),h===void 0&&d===void 0)return 0;if(d===void 0)return 1;if(h===void 0)return-1;if(h===d)continue;return a(h,d)}while(++f)}inc(c,f,h){if(c.startsWith("pre")){if(!f&&h===!1)throw new Error("invalid increment argument: identifier is empty");if(f){const d=`-${f}`.match(this.options.loose?r[s.PRERELEASELOOSE]:r[s.PRERELEASE]);if(!d||d[1]!==f)throw new Error(`invalid identifier: ${f}`)}}switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",f,h);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",f,h);break;case"prepatch":this.prerelease.length=0,this.inc("patch",f,h),this.inc("pre",f,h);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",f,h),this.inc("pre",f,h);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const d=Number(h)?1:0;if(this.prerelease.length===0)this.prerelease=[d];else{let p=this.prerelease.length;for(;--p>=0;)typeof this.prerelease[p]=="number"&&(this.prerelease[p]++,p=-2);if(p===-1){if(f===this.prerelease.join(".")&&h===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(d)}}if(f){let p=[f,d];h===!1&&(p=[f]),a(this.prerelease[0],f)===0?isNaN(this.prerelease[1])&&(this.prerelease=p):this.prerelease=p}break}default:throw new Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return tS=l,tS}o(Ss,"requireSemver$1");var nS,fL;function Wp(){if(fL)return nS;fL=1;const t=Ss();return nS=o((n,r,s=!1)=>{if(n instanceof t)return n;try{return new t(n,r)}catch(i){if(!s)return null;throw i}},"parse"),nS}o(Wp,"requireParse");var rS,hL;function Yve(){if(hL)return rS;hL=1;const t=Wp();return rS=o((n,r)=>{const s=t(n,r);return s?s.version:null},"valid"),rS}o(Yve,"requireValid$1");var sS,dL;function Xve(){if(dL)return sS;dL=1;const t=Wp();return sS=o((n,r)=>{const s=t(n.trim().replace(/^[=v]+/,""),r);return s?s.version:null},"clean"),sS}o(Xve,"requireClean");var iS,pL;function Jve(){if(pL)return iS;pL=1;const t=Ss();return iS=o((n,r,s,i,a)=>{typeof s=="string"&&(a=i,i=s,s=void 0);try{return new t(n instanceof t?n.version:n,s).inc(r,i,a).version}catch{return null}},"inc"),iS}o(Jve,"requireInc");var oS,mL;function Zve(){if(mL)return oS;mL=1;const t=Wp();return oS=o((n,r)=>{const s=t(n,null,!0),i=t(r,null,!0),a=s.compare(i);if(a===0)return null;const l=a>0,u=l?s:i,c=l?i:s,f=!!u.prerelease.length;if(!!c.prerelease.length&&!f){if(!c.patch&&!c.minor)return"major";if(c.compareMain(u)===0)return c.minor&&!c.patch?"minor":"patch"}const d=f?"pre":"";return s.major!==i.major?d+"major":s.minor!==i.minor?d+"minor":s.patch!==i.patch?d+"patch":"prerelease"},"diff"),oS}o(Zve,"requireDiff");var aS,gL;function Qve(){if(gL)return aS;gL=1;const t=Ss();return aS=o((n,r)=>new t(n,r).major,"major"),aS}o(Qve,"requireMajor");var lS,yL;function eEe(){if(yL)return lS;yL=1;const t=Ss();return lS=o((n,r)=>new t(n,r).minor,"minor"),lS}o(eEe,"requireMinor");var uS,bL;function tEe(){if(bL)return uS;bL=1;const t=Ss();return uS=o((n,r)=>new t(n,r).patch,"patch"),uS}o(tEe,"requirePatch");var cS,_L;function nEe(){if(_L)return cS;_L=1;const t=Wp();return cS=o((n,r)=>{const s=t(n,r);return s&&s.prerelease.length?s.prerelease:null},"prerelease"),cS}o(nEe,"requirePrerelease");var fS,wL;function Ao(){if(wL)return fS;wL=1;const t=Ss();return fS=o((n,r,s)=>new t(n,s).compare(new t(r,s)),"compare"),fS}o(Ao,"requireCompare");var hS,vL;function rEe(){if(vL)return hS;vL=1;const t=Ao();return hS=o((n,r,s)=>t(r,n,s),"rcompare"),hS}o(rEe,"requireRcompare");var dS,EL;function sEe(){if(EL)return dS;EL=1;const t=Ao();return dS=o((n,r)=>t(n,r,!0),"compareLoose"),dS}o(sEe,"requireCompareLoose");var pS,xL;function jR(){if(xL)return pS;xL=1;const t=Ss();return pS=o((n,r,s)=>{const i=new t(n,s),a=new t(r,s);return i.compare(a)||i.compareBuild(a)},"compareBuild"),pS}o(jR,"requireCompareBuild");var mS,SL;function iEe(){if(SL)return mS;SL=1;const t=jR();return mS=o((n,r)=>n.sort((s,i)=>t(s,i,r)),"sort"),mS}o(iEe,"requireSort");var gS,TL;function oEe(){if(TL)return gS;TL=1;const t=jR();return gS=o((n,r)=>n.sort((s,i)=>t(i,s,r)),"rsort"),gS}o(oEe,"requireRsort");var yS,kL;function ix(){if(kL)return yS;kL=1;const t=Ao();return yS=o((n,r,s)=>t(n,r,s)>0,"gt"),yS}o(ix,"requireGt");var bS,AL;function WR(){if(AL)return bS;AL=1;const t=Ao();return bS=o((n,r,s)=>t(n,r,s)<0,"lt"),bS}o(WR,"requireLt");var _S,CL;function Kj(){if(CL)return _S;CL=1;const t=Ao();return _S=o((n,r,s)=>t(n,r,s)===0,"eq"),_S}o(Kj,"requireEq");var wS,IL;function Yj(){if(IL)return wS;IL=1;const t=Ao();return wS=o((n,r,s)=>t(n,r,s)!==0,"neq"),wS}o(Yj,"requireNeq");var vS,RL;function HR(){if(RL)return vS;RL=1;const t=Ao();return vS=o((n,r,s)=>t(n,r,s)>=0,"gte"),vS}o(HR,"requireGte");var ES,OL;function qR(){if(OL)return ES;OL=1;const t=Ao();return ES=o((n,r,s)=>t(n,r,s)<=0,"lte"),ES}o(qR,"requireLte");var xS,NL;function Xj(){if(NL)return xS;NL=1;const t=Kj(),e=Yj(),n=ix(),r=HR(),s=WR(),i=qR();return xS=o((l,u,c,f)=>{switch(u){case"===":return typeof l=="object"&&(l=l.version),typeof c=="object"&&(c=c.version),l===c;case"!==":return typeof l=="object"&&(l=l.version),typeof c=="object"&&(c=c.version),l!==c;case"":case"=":case"==":return t(l,c,f);case"!=":return e(l,c,f);case">":return n(l,c,f);case">=":return r(l,c,f);case"<":return s(l,c,f);case"<=":return i(l,c,f);default:throw new TypeError(`Invalid operator: ${u}`)}},"cmp"),xS}o(Xj,"requireCmp");var SS,ML;function aEe(){if(ML)return SS;ML=1;const t=Ss(),e=Wp(),{safeRe:n,t:r}=Uy();return SS=o((i,a)=>{if(i instanceof t)return i;if(typeof i=="number"&&(i=String(i)),typeof i!="string")return null;a=a||{};let l=null;if(!a.rtl)l=i.match(a.includePrerelease?n[r.COERCEFULL]:n[r.COERCE]);else{const p=a.includePrerelease?n[r.COERCERTLFULL]:n[r.COERCERTL];let m;for(;(m=p.exec(i))&&(!l||l.index+l[0].length!==i.length);)(!l||m.index+m[0].length!==l.index+l[0].length)&&(l=m),p.lastIndex=m.index+m[1].length+m[2].length;p.lastIndex=-1}if(l===null)return null;const u=l[2],c=l[3]||"0",f=l[4]||"0",h=a.includePrerelease&&l[5]?`-${l[5]}`:"",d=a.includePrerelease&&l[6]?`+${l[6]}`:"";return e(`${u}.${c}.${f}${h}${d}`,a)},"coerce"),SS}o(aEe,"requireCoerce");var TS,DL;function lEe(){if(DL)return TS;DL=1;class t{static{o(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(n,r)}return this}}return TS=t,TS}o(lEe,"requireLrucache");var kS,PL;function Co(){if(PL)return kS;PL=1;const t=/\s+/g;class e{static{o(this,"Range")}constructor(z,V){if(V=s(V),z instanceof e)return z.loose===!!V.loose&&z.includePrerelease===!!V.includePrerelease?z:new e(z.raw,V);if(z instanceof i)return this.raw=z.value,this.set=[[z]],this.formatted=void 0,this;if(this.options=V,this.loose=!!V.loose,this.includePrerelease=!!V.includePrerelease,this.raw=z.trim().replace(t," "),this.set=this.raw.split("||").map(K=>this.parseRange(K.trim())).filter(K=>K.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const K=this.set[0];if(this.set=this.set.filter(ee=>!y(ee[0])),this.set.length===0)this.set=[K];else if(this.set.length>1){for(const ee of this.set)if(ee.length===1&&b(ee[0])){this.set=[ee];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let z=0;z<this.set.length;z++){z>0&&(this.formatted+="||");const V=this.set[z];for(let K=0;K<V.length;K++)K>0&&(this.formatted+=" "),this.formatted+=V[K].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(z){const K=((this.options.includePrerelease&&p)|(this.options.loose&&m))+":"+z,ee=r.get(K);if(ee)return ee;const Z=this.options.loose,ue=Z?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE];z=z.replace(ue,R(this.options.includePrerelease)),a("hyphen replace",z),z=z.replace(u[c.COMPARATORTRIM],f),a("comparator trim",z),z=z.replace(u[c.TILDETRIM],h),a("tilde trim",z),z=z.replace(u[c.CARETTRIM],d),a("caret trim",z);let ae=z.split(" ").map(Re=>S(Re,this.options)).join(" ").split(/\s+/).map(Re=>N(Re,this.options));Z&&(ae=ae.filter(Re=>(a("loose invalid filter",Re,this.options),!!Re.match(u[c.COMPARATORLOOSE])))),a("range list",ae);const he=new Map,ve=ae.map(Re=>new i(Re,this.options));for(const Re of ve){if(y(Re))return[Re];he.set(Re.value,Re)}he.size>1&&he.has("")&&he.delete("");const lt=[...he.values()];return r.set(K,lt),lt}intersects(z,V){if(!(z instanceof e))throw new TypeError("a Range is required");return this.set.some(K=>_(K,V)&&z.set.some(ee=>_(ee,V)&&K.every(Z=>ee.every(ue=>Z.intersects(ue,V)))))}test(z){if(!z)return!1;if(typeof z=="string")try{z=new l(z,this.options)}catch{return!1}for(let V=0;V<this.set.length;V++)if(M(this.set[V],z,this.options))return!0;return!1}}kS=e;const n=lEe(),r=new n,s=VR(),i=ox(),a=sx(),l=Ss(),{safeRe:u,t:c,comparatorTrimReplace:f,tildeTrimReplace:h,caretTrimReplace:d}=Uy(),{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:m}=rx(),y=o(B=>B.value==="<0.0.0-0","isNullSet"),b=o(B=>B.value==="","isAny"),_=o((B,z)=>{let V=!0;const K=B.slice();let ee=K.pop();for(;V&&K.length;)V=K.every(Z=>ee.intersects(Z,z)),ee=K.pop();return V},"isSatisfiable"),S=o((B,z)=>(B=B.replace(u[c.BUILD],""),a("comp",B,z),B=I(B,z),a("caret",B),B=k(B,z),a("tildes",B),B=E(B,z),a("xrange",B),B=O(B,z),a("stars",B),B),"parseComparator"),v=o(B=>!B||B.toLowerCase()==="x"||B==="*","isX"),k=o((B,z)=>B.trim().split(/\s+/).map(V=>C(V,z)).join(" "),"replaceTildes"),C=o((B,z)=>{const V=z.loose?u[c.TILDELOOSE]:u[c.TILDE];return B.replace(V,(K,ee,Z,ue,ae)=>{a("tilde",B,K,ee,Z,ue,ae);let he;return v(ee)?he="":v(Z)?he=`>=${ee}.0.0 <${+ee+1}.0.0-0`:v(ue)?he=`>=${ee}.${Z}.0 <${ee}.${+Z+1}.0-0`:ae?(a("replaceTilde pr",ae),he=`>=${ee}.${Z}.${ue}-${ae} <${ee}.${+Z+1}.0-0`):he=`>=${ee}.${Z}.${ue} <${ee}.${+Z+1}.0-0`,a("tilde return",he),he})},"replaceTilde"),I=o((B,z)=>B.trim().split(/\s+/).map(V=>x(V,z)).join(" "),"replaceCarets"),x=o((B,z)=>{a("caret",B,z);const V=z.loose?u[c.CARETLOOSE]:u[c.CARET],K=z.includePrerelease?"-0":"";return B.replace(V,(ee,Z,ue,ae,he)=>{a("caret",B,ee,Z,ue,ae,he);let ve;return v(Z)?ve="":v(ue)?ve=`>=${Z}.0.0${K} <${+Z+1}.0.0-0`:v(ae)?Z==="0"?ve=`>=${Z}.${ue}.0${K} <${Z}.${+ue+1}.0-0`:ve=`>=${Z}.${ue}.0${K} <${+Z+1}.0.0-0`:he?(a("replaceCaret pr",he),Z==="0"?ue==="0"?ve=`>=${Z}.${ue}.${ae}-${he} <${Z}.${ue}.${+ae+1}-0`:ve=`>=${Z}.${ue}.${ae}-${he} <${Z}.${+ue+1}.0-0`:ve=`>=${Z}.${ue}.${ae}-${he} <${+Z+1}.0.0-0`):(a("no pr"),Z==="0"?ue==="0"?ve=`>=${Z}.${ue}.${ae}${K} <${Z}.${ue}.${+ae+1}-0`:ve=`>=${Z}.${ue}.${ae}${K} <${Z}.${+ue+1}.0-0`:ve=`>=${Z}.${ue}.${ae} <${+Z+1}.0.0-0`),a("caret return",ve),ve})},"replaceCaret"),E=o((B,z)=>(a("replaceXRanges",B,z),B.split(/\s+/).map(V=>T(V,z)).join(" ")),"replaceXRanges"),T=o((B,z)=>{B=B.trim();const V=z.loose?u[c.XRANGELOOSE]:u[c.XRANGE];return B.replace(V,(K,ee,Z,ue,ae,he)=>{a("xRange",B,K,ee,Z,ue,ae,he);const ve=v(Z),lt=ve||v(ue),Re=lt||v(ae),Ke=Re;return ee==="="&&Ke&&(ee=""),he=z.includePrerelease?"-0":"",ve?ee===">"||ee==="<"?K="<0.0.0-0":K="*":ee&&Ke?(lt&&(ue=0),ae=0,ee===">"?(ee=">=",lt?(Z=+Z+1,ue=0,ae=0):(ue=+ue+1,ae=0)):ee==="<="&&(ee="<",lt?Z=+Z+1:ue=+ue+1),ee==="<"&&(he="-0"),K=`${ee+Z}.${ue}.${ae}${he}`):lt?K=`>=${Z}.0.0${he} <${+Z+1}.0.0-0`:Re&&(K=`>=${Z}.${ue}.0${he} <${Z}.${+ue+1}.0-0`),a("xRange return",K),K})},"replaceXRange"),O=o((B,z)=>(a("replaceStars",B,z),B.trim().replace(u[c.STAR],"")),"replaceStars"),N=o((B,z)=>(a("replaceGTE0",B,z),B.trim().replace(u[z.includePrerelease?c.GTE0PRE:c.GTE0],"")),"replaceGTE0"),R=o(B=>(z,V,K,ee,Z,ue,ae,he,ve,lt,Re,Ke)=>(v(K)?V="":v(ee)?V=`>=${K}.0.0${B?"-0":""}`:v(Z)?V=`>=${K}.${ee}.0${B?"-0":""}`:ue?V=`>=${V}`:V=`>=${V}${B?"-0":""}`,v(ve)?he="":v(lt)?he=`<${+ve+1}.0.0-0`:v(Re)?he=`<${ve}.${+lt+1}.0-0`:Ke?he=`<=${ve}.${lt}.${Re}-${Ke}`:B?he=`<${ve}.${lt}.${+Re+1}-0`:he=`<=${he}`,`${V} ${he}`.trim()),"hyphenReplace"),M=o((B,z,V)=>{for(let K=0;K<B.length;K++)if(!B[K].test(z))return!1;if(z.prerelease.length&&!V.includePrerelease){for(let K=0;K<B.length;K++)if(a(B[K].semver),B[K].semver!==i.ANY&&B[K].semver.prerelease.length>0){const ee=B[K].semver;if(ee.major===z.major&&ee.minor===z.minor&&ee.patch===z.patch)return!0}return!1}return!0},"testSet");return kS}o(Co,"requireRange");var AS,$L;function ox(){if($L)return AS;$L=1;const t=Symbol("SemVer ANY");class e{static{o(this,"Comparator")}static get ANY(){return t}constructor(f,h){if(h=n(h),f instanceof e){if(f.loose===!!h.loose)return f;f=f.value}f=f.trim().split(/\s+/).join(" "),a("comparator",f,h),this.options=h,this.loose=!!h.loose,this.parse(f),this.semver===t?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(f){const h=this.options.loose?r[s.COMPARATORLOOSE]:r[s.COMPARATOR],d=f.match(h);if(!d)throw new TypeError(`Invalid comparator: ${f}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new l(d[2],this.options.loose):this.semver=t}toString(){return this.value}test(f){if(a("Comparator.test",f,this.options.loose),this.semver===t||f===t)return!0;if(typeof f=="string")try{f=new l(f,this.options)}catch{return!1}return i(f,this.operator,this.semver,this.options)}intersects(f,h){if(!(f instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(f.value,h).test(this.value):f.operator===""?f.value===""?!0:new u(this.value,h).test(f.semver):(h=n(h),h.includePrerelease&&(this.value==="<0.0.0-0"||f.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||f.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&f.operator.startsWith(">")||this.operator.startsWith("<")&&f.operator.startsWith("<")||this.semver.version===f.semver.version&&this.operator.includes("=")&&f.operator.includes("=")||i(this.semver,"<",f.semver,h)&&this.operator.startsWith(">")&&f.operator.startsWith("<")||i(this.semver,">",f.semver,h)&&this.operator.startsWith("<")&&f.operator.startsWith(">")))}}AS=e;const n=VR(),{safeRe:r,t:s}=Uy(),i=Xj(),a=sx(),l=Ss(),u=Co();return AS}o(ox,"requireComparator");var CS,LL;function ax(){if(LL)return CS;LL=1;const t=Co();return CS=o((n,r,s)=>{try{r=new t(r,s)}catch{return!1}return r.test(n)},"satisfies"),CS}o(ax,"requireSatisfies");var IS,FL;function uEe(){if(FL)return IS;FL=1;const t=Co();return IS=o((n,r)=>new t(n,r).set.map(s=>s.map(i=>i.value).join(" ").trim().split(" ")),"toComparators"),IS}o(uEe,"requireToComparators");var RS,BL;function cEe(){if(BL)return RS;BL=1;const t=Ss(),e=Co();return RS=o((r,s,i)=>{let a=null,l=null,u=null;try{u=new e(s,i)}catch{return null}return r.forEach(c=>{u.test(c)&&(!a||l.compare(c)===-1)&&(a=c,l=new t(a,i))}),a},"maxSatisfying"),RS}o(cEe,"requireMaxSatisfying");var OS,UL;function fEe(){if(UL)return OS;UL=1;const t=Ss(),e=Co();return OS=o((r,s,i)=>{let a=null,l=null,u=null;try{u=new e(s,i)}catch{return null}return r.forEach(c=>{u.test(c)&&(!a||l.compare(c)===1)&&(a=c,l=new t(a,i))}),a},"minSatisfying"),OS}o(fEe,"requireMinSatisfying");var NS,zL;function hEe(){if(zL)return NS;zL=1;const t=Ss(),e=Co(),n=ix();return NS=o((s,i)=>{s=new e(s,i);let a=new t("0.0.0");if(s.test(a)||(a=new t("0.0.0-0"),s.test(a)))return a;a=null;for(let l=0;l<s.set.length;++l){const u=s.set[l];let c=null;u.forEach(f=>{const h=new t(f.semver.version);switch(f.operator){case">":h.prerelease.length===0?h.patch++:h.prerelease.push(0),h.raw=h.format();case"":case">=":(!c||n(h,c))&&(c=h);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${f.operator}`)}}),c&&(!a||n(a,c))&&(a=c)}return a&&s.test(a)?a:null},"minVersion"),NS}o(hEe,"requireMinVersion");var MS,VL;function dEe(){if(VL)return MS;VL=1;const t=Co();return MS=o((n,r)=>{try{return new t(n,r).range||"*"}catch{return null}},"validRange"),MS}o(dEe,"requireValid");var DS,jL;function GR(){if(jL)return DS;jL=1;const t=Ss(),e=ox(),{ANY:n}=e,r=Co(),s=ax(),i=ix(),a=WR(),l=qR(),u=HR();return DS=o((f,h,d,p)=>{f=new t(f,p),h=new r(h,p);let m,y,b,_,S;switch(d){case">":m=i,y=l,b=a,_=">",S=">=";break;case"<":m=a,y=u,b=i,_="<",S="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(s(f,h,p))return!1;for(let v=0;v<h.set.length;++v){const k=h.set[v];let C=null,I=null;if(k.forEach(x=>{x.semver===n&&(x=new e(">=0.0.0")),C=C||x,I=I||x,m(x.semver,C.semver,p)?C=x:b(x.semver,I.semver,p)&&(I=x)}),C.operator===_||C.operator===S||(!I.operator||I.operator===_)&&y(f,I.semver))return!1;if(I.operator===S&&b(f,I.semver))return!1}return!0},"outside"),DS}o(GR,"requireOutside");var PS,WL;function pEe(){if(WL)return PS;WL=1;const t=GR();return PS=o((n,r,s)=>t(n,r,">",s),"gtr"),PS}o(pEe,"requireGtr");var $S,HL;function mEe(){if(HL)return $S;HL=1;const t=GR();return $S=o((n,r,s)=>t(n,r,"<",s),"ltr"),$S}o(mEe,"requireLtr");var LS,qL;function gEe(){if(qL)return LS;qL=1;const t=Co();return LS=o((n,r,s)=>(n=new t(n,s),r=new t(r,s),n.intersects(r,s)),"intersects"),LS}o(gEe,"requireIntersects");var FS,GL;function yEe(){if(GL)return FS;GL=1;const t=ax(),e=Ao();return FS=o((n,r,s)=>{const i=[];let a=null,l=null;const u=n.sort((d,p)=>e(d,p,s));for(const d of u)t(d,r,s)?(l=d,a||(a=d)):(l&&i.push([a,l]),l=null,a=null);a&&i.push([a,null]);const c=[];for(const[d,p]of i)d===p?c.push(d):!p&&d===u[0]?c.push("*"):p?d===u[0]?c.push(`<=${p}`):c.push(`${d} - ${p}`):c.push(`>=${d}`);const f=c.join(" || "),h=typeof r.raw=="string"?r.raw:String(r);return f.length<h.length?f:r},"simplify"),FS}o(yEe,"requireSimplify");var BS,KL;function bEe(){if(KL)return BS;KL=1;const t=Co(),e=ox(),{ANY:n}=e,r=ax(),s=Ao(),i=o((h,d,p={})=>{if(h===d)return!0;h=new t(h,p),d=new t(d,p);let m=!1;e:for(const y of h.set){for(const b of d.set){const _=u(y,b,p);if(m=m||_!==null,_)continue e}if(m)return!1}return!0},"subset"),a=[new e(">=0.0.0-0")],l=[new e(">=0.0.0")],u=o((h,d,p)=>{if(h===d)return!0;if(h.length===1&&h[0].semver===n){if(d.length===1&&d[0].semver===n)return!0;p.includePrerelease?h=a:h=l}if(d.length===1&&d[0].semver===n){if(p.includePrerelease)return!0;d=l}const m=new Set;let y,b;for(const E of h)E.operator===">"||E.operator===">="?y=c(y,E,p):E.operator==="<"||E.operator==="<="?b=f(b,E,p):m.add(E.semver);if(m.size>1)return null;let _;if(y&&b){if(_=s(y.semver,b.semver,p),_>0)return null;if(_===0&&(y.operator!==">="||b.operator!=="<="))return null}for(const E of m){if(y&&!r(E,String(y),p)||b&&!r(E,String(b),p))return null;for(const T of d)if(!r(E,String(T),p))return!1;return!0}let S,v,k,C,I=b&&!p.includePrerelease&&b.semver.prerelease.length?b.semver:!1,x=y&&!p.includePrerelease&&y.semver.prerelease.length?y.semver:!1;I&&I.prerelease.length===1&&b.operator==="<"&&I.prerelease[0]===0&&(I=!1);for(const E of d){if(C=C||E.operator===">"||E.operator===">=",k=k||E.operator==="<"||E.operator==="<=",y){if(x&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===x.major&&E.semver.minor===x.minor&&E.semver.patch===x.patch&&(x=!1),E.operator===">"||E.operator===">="){if(S=c(y,E,p),S===E&&S!==y)return!1}else if(y.operator===">="&&!r(y.semver,String(E),p))return!1}if(b){if(I&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===I.major&&E.semver.minor===I.minor&&E.semver.patch===I.patch&&(I=!1),E.operator==="<"||E.operator==="<="){if(v=f(b,E,p),v===E&&v!==b)return!1}else if(b.operator==="<="&&!r(b.semver,String(E),p))return!1}if(!E.operator&&(b||y)&&_!==0)return!1}return!(y&&k&&!b&&_!==0||b&&C&&!y&&_!==0||x||I)},"simpleSubset"),c=o((h,d,p)=>{if(!h)return d;const m=s(h.semver,d.semver,p);return m>0?h:m<0||d.operator===">"&&h.operator===">="?d:h},"higherGT"),f=o((h,d,p)=>{if(!h)return d;const m=s(h.semver,d.semver,p);return m<0?h:m>0||d.operator==="<"&&h.operator==="<="?d:h},"lowerLT");return BS=i,BS}o(bEe,"requireSubset");var US,YL;function _Ee(){if(YL)return US;YL=1;const t=Uy(),e=rx(),n=Ss(),r=Gj(),s=Wp(),i=Yve(),a=Xve(),l=Jve(),u=Zve(),c=Qve(),f=eEe(),h=tEe(),d=nEe(),p=Ao(),m=rEe(),y=sEe(),b=jR(),_=iEe(),S=oEe(),v=ix(),k=WR(),C=Kj(),I=Yj(),x=HR(),E=qR(),T=Xj(),O=aEe(),N=ox(),R=Co(),M=ax(),B=uEe(),z=cEe(),V=fEe(),K=hEe(),ee=dEe(),Z=GR(),ue=pEe(),ae=mEe(),he=gEe(),ve=yEe(),lt=bEe();return US={parse:s,valid:i,clean:a,inc:l,diff:u,major:c,minor:f,patch:h,prerelease:d,compare:p,rcompare:m,compareLoose:y,compareBuild:b,sort:_,rsort:S,gt:v,lt:k,eq:C,neq:I,gte:x,lte:E,cmp:T,coerce:O,Comparator:N,Range:R,satisfies:M,toComparators:B,maxSatisfying:z,minSatisfying:V,minVersion:K,validRange:ee,outside:Z,gtr:ue,ltr:ae,intersects:he,simplifyRange:ve,subset:lt,SemVer:n,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:e.SEMVER_SPEC_VERSION,RELEASE_TYPES:e.RELEASE_TYPES,compareIdentifiers:r.compareIdentifiers,rcompareIdentifiers:r.rcompareIdentifiers},US}o(_Ee,"requireSemver");var SVe=_Ee(),vt;(function(t){t.assertEqual=s=>s;function e(s){}o(e,"assertIs"),t.assertIs=e;function n(s){throw new Error}o(n,"assertNever"),t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const a of s)i[a]=a;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of i)a[l]=s[l];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},t.find=(s,i)=>{for(const a of s)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}o(r,"joinValues"),t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(vt||(vt={}));var RA;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(RA||(RA={}));const ke=vt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Za=o(t=>{switch(typeof t){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return isNaN(t)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(t)?ke.array:t===null?ke.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ke.promise:typeof Map<"u"&&t instanceof Map?ke.map:typeof Set<"u"&&t instanceof Set?ke.set:typeof Date<"u"&&t instanceof Date?ke.date:ke.object;default:return ke.unknown}},"getParsedType"),fe=vt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),wEe=o(t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),"quotelessJson");class ri extends Error{static{o(this,"ZodError")}get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=o(i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let l=r,u=0;for(;u<a.path.length;){const c=a.path[u];u===a.path.length-1?(l[c]=l[c]||{_errors:[]},l[c]._errors.push(n(a))):l[c]=l[c]||{_errors:[]},l=l[c],u++}}},"processError");return s(this),r}static assert(e){if(!(e instanceof ri))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,vt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ri.create=t=>new ri(t);const ep=o((t,e)=>{let n;switch(t.code){case fe.invalid_type:t.received===ke.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case fe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,vt.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:n=`Unrecognized key(s) in object: ${vt.joinValues(t.keys,", ")}`;break;case fe.invalid_union:n="Invalid input";break;case fe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${vt.joinValues(t.options)}`;break;case fe.invalid_enum_value:n=`Invalid enum value. Expected ${vt.joinValues(t.options)}, received '${t.received}'`;break;case fe.invalid_arguments:n="Invalid function arguments";break;case fe.invalid_return_type:n="Invalid function return type";break;case fe.invalid_date:n="Invalid date";break;case fe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:vt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case fe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case fe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case fe.custom:n="Invalid input";break;case fe.invalid_intersection_types:n="Intersection results could not be merged";break;case fe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case fe.not_finite:n="Number must be finite";break;default:n=e.defaultError,vt.assertNever(t)}return{message:n}},"errorMap");let Jj=ep;function vEe(t){Jj=t}o(vEe,"setErrorMap");function Ew(){return Jj}o(Ew,"getErrorMap");const xw=o(t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const u=r.filter(c=>!!c).slice().reverse();for(const c of u)l=c(a,{data:e,defaultError:l}).message;return{...s,path:i,message:l}},"makeIssue"),EEe=[];function Ee(t,e){const n=Ew(),r=xw({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===ep?void 0:ep].filter(s=>!!s)});t.common.issues.push(r)}o(Ee,"addIssueToContext");class Gr{static{o(this,"ParseStatus")}constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return je;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,a=await s.value;r.push({key:i,value:a})}return Gr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return je;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:e.value,value:r}}}const je=Object.freeze({status:"aborted"}),sd=o(t=>({status:"dirty",value:t}),"DIRTY"),ys=o(t=>({status:"valid",value:t}),"OK"),OA=o(t=>t.status==="aborted","isAborted"),NA=o(t=>t.status==="dirty","isDirty"),If=o(t=>t.status==="valid","isValid"),w0=o(t=>typeof Promise<"u"&&t instanceof Promise,"isAsync");function Sw(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}o(Sw,"__classPrivateFieldGet");function Zj(t,e,n,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}o(Zj,"__classPrivateFieldSet");var Oe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Oe||(Oe={}));var Zm,Qm;class ha{static{o(this,"ParseInputLazyPath")}constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const XL=o((t,e)=>{if(If(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ri(t.common.issues);return this._error=n,this._error}}},"handleResult");function et(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:o((a,l)=>{var u,c;const{message:f}=t;return a.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(u=f??r)!==null&&u!==void 0?u:l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:(c=f??n)!==null&&c!==void 0?c:l.defaultError}},"customMap"),description:s}}o(et,"processCreateParams");class rt{static{o(this,"ZodType")}get description(){return this._def.description}_getType(e){return Za(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Za(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Gr,ctx:{common:e.parent.common,data:e.data,parsedType:Za(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(w0(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Za(e)},i=this._parseSync({data:e,path:s.path,parent:s});return XL(s,i)}"~validate"(e){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Za(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:s});return If(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i?.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(i=>If(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Za(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(w0(s)?s:Promise.resolve(s));return XL(r,i)}refine(e,n){const r=o(s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n,"getIssueProperties");return this._refinement((s,i)=>{const a=e(s),l=o(()=>i.addIssue({code:fe.custom,...r(s)}),"setError");return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new vo({schema:this,typeName:Ve.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:o(n=>this["~validate"](n),"validate")}}optional(){return aa.create(this,this._def)}nullable(){return Wu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fo.create(this)}promise(){return np.create(this,this._def)}or(e){return S0.create([this,e],this._def)}and(e){return T0.create(this,e,this._def)}transform(e){return new vo({...et(this._def),schema:this,typeName:Ve.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new R0({...et(this._def),innerType:this,defaultValue:n,typeName:Ve.ZodDefault})}brand(){return new KR({typeName:Ve.ZodBranded,type:this,...et(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new O0({...et(this._def),innerType:this,catchValue:n,typeName:Ve.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return zy.create(this,e)}readonly(){return N0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const xEe=/^c[^\s-]{8,}$/i,SEe=/^[0-9a-z]+$/,TEe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,kEe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,AEe=/^[a-z0-9_-]{21}$/i,CEe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,IEe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,REe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,OEe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let zS;const NEe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,MEe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,DEe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,PEe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$Ee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,LEe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Qj="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",FEe=new RegExp(`^${Qj}$`);function eW(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}o(eW,"timeRegexSource");function BEe(t){return new RegExp(`^${eW(t)}$`)}o(BEe,"timeRegex");function tW(t){let e=`${Qj}T${eW(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}o(tW,"datetimeRegex");function UEe(t,e){return!!((e==="v4"||!e)&&NEe.test(t)||(e==="v6"||!e)&&DEe.test(t))}o(UEe,"isValidIP");function zEe(t,e){if(!CEe.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}o(zEe,"isValidJWT");function VEe(t,e){return!!((e==="v4"||!e)&&MEe.test(t)||(e==="v6"||!e)&&PEe.test(t))}o(VEe,"isValidCidr");class ro extends rt{static{o(this,"ZodString")}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ke.string){const i=this._getOrReturnCtx(e);return Ee(i,{code:fe.invalid_type,expected:ke.string,received:i.parsedType}),je}const r=new Gr;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),Ee(s,{code:fe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),Ee(s,{code:fe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,l=e.data.length<i.value;(a||l)&&(s=this._getOrReturnCtx(e,s),a?Ee(s,{code:fe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ee(s,{code:fe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")REe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"email",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")zS||(zS=new RegExp(OEe,"u")),zS.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"emoji",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")kEe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"uuid",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")AEe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"nanoid",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")xEe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"cuid",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")SEe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"cuid2",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")TEe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"ulid",code:fe.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Ee(s,{validation:"url",code:fe.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"regex",code:fe.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),Ee(s,{code:fe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ee(s,{code:fe.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),Ee(s,{code:fe.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?tW(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{code:fe.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?FEe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{code:fe.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?BEe(i).test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{code:fe.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?IEe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"duration",code:fe.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?UEe(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"ip",code:fe.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?zEe(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"jwt",code:fe.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?VEe(e.data,i.version)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"cidr",code:fe.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?$Ee.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"base64",code:fe.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?LEe.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"base64url",code:fe.invalid_string,message:i.message}),r.dirty()):vt.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:fe.invalid_string,...Oe.errToObj(r)})}_addCheck(e){return new ro({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Oe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Oe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Oe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Oe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Oe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Oe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Oe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Oe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Oe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Oe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Oe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Oe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Oe.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...Oe.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Oe.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Oe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Oe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Oe.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Oe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Oe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Oe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Oe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Oe.errToObj(n)})}nonempty(e){return this.min(1,Oe.errToObj(e))}trim(){return new ro({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ro({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ro({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ro.create=t=>{var e;return new ro({checks:[],typeName:Ve.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...et(t)})};function jEe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),a=parseInt(e.toFixed(s).replace(".",""));return i%a/Math.pow(10,s)}o(jEe,"floatSafeRemainder");class zu extends rt{static{o(this,"ZodNumber")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ke.number){const i=this._getOrReturnCtx(e);return Ee(i,{code:fe.invalid_type,expected:ke.number,received:i.parsedType}),je}let r;const s=new Gr;for(const i of this._def.checks)i.kind==="int"?vt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ee(r,{code:fe.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:fe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:fe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?jEe(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:fe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ee(r,{code:fe.not_finite,message:i.message}),s.dirty()):vt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Oe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Oe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Oe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Oe.toString(n))}setLimit(e,n,r,s){return new zu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Oe.toString(s)}]})}_addCheck(e){return new zu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Oe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Oe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Oe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Oe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Oe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Oe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&vt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}zu.create=t=>new zu({checks:[],typeName:Ve.ZodNumber,coerce:t?.coerce||!1,...et(t)});class Vu extends rt{static{o(this,"ZodBigInt")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ke.bigint)return this._getInvalidInput(e);let r;const s=new Gr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:fe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:fe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:fe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):vt.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Ee(n,{code:fe.invalid_type,expected:ke.bigint,received:n.parsedType}),je}gte(e,n){return this.setLimit("min",e,!0,Oe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Oe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Oe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Oe.toString(n))}setLimit(e,n,r,s){return new Vu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Oe.toString(s)}]})}_addCheck(e){return new Vu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Oe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Oe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Vu.create=t=>{var e;return new Vu({checks:[],typeName:Ve.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...et(t)})};class v0 extends rt{static{o(this,"ZodBoolean")}_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ke.boolean){const r=this._getOrReturnCtx(e);return Ee(r,{code:fe.invalid_type,expected:ke.boolean,received:r.parsedType}),je}return ys(e.data)}}v0.create=t=>new v0({typeName:Ve.ZodBoolean,coerce:t?.coerce||!1,...et(t)});class Rf extends rt{static{o(this,"ZodDate")}_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ke.date){const i=this._getOrReturnCtx(e);return Ee(i,{code:fe.invalid_type,expected:ke.date,received:i.parsedType}),je}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return Ee(i,{code:fe.invalid_date}),je}const r=new Gr;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),Ee(s,{code:fe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),Ee(s,{code:fe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):vt.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Rf({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Oe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Oe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Rf.create=t=>new Rf({checks:[],coerce:t?.coerce||!1,typeName:Ve.ZodDate,...et(t)});class Tw extends rt{static{o(this,"ZodSymbol")}_parse(e){if(this._getType(e)!==ke.symbol){const r=this._getOrReturnCtx(e);return Ee(r,{code:fe.invalid_type,expected:ke.symbol,received:r.parsedType}),je}return ys(e.data)}}Tw.create=t=>new Tw({typeName:Ve.ZodSymbol,...et(t)});class E0 extends rt{static{o(this,"ZodUndefined")}_parse(e){if(this._getType(e)!==ke.undefined){const r=this._getOrReturnCtx(e);return Ee(r,{code:fe.invalid_type,expected:ke.undefined,received:r.parsedType}),je}return ys(e.data)}}E0.create=t=>new E0({typeName:Ve.ZodUndefined,...et(t)});class x0 extends rt{static{o(this,"ZodNull")}_parse(e){if(this._getType(e)!==ke.null){const r=this._getOrReturnCtx(e);return Ee(r,{code:fe.invalid_type,expected:ke.null,received:r.parsedType}),je}return ys(e.data)}}x0.create=t=>new x0({typeName:Ve.ZodNull,...et(t)});class tp extends rt{static{o(this,"ZodAny")}constructor(){super(...arguments),this._any=!0}_parse(e){return ys(e.data)}}tp.create=t=>new tp({typeName:Ve.ZodAny,...et(t)});class rf extends rt{static{o(this,"ZodUnknown")}constructor(){super(...arguments),this._unknown=!0}_parse(e){return ys(e.data)}}rf.create=t=>new rf({typeName:Ve.ZodUnknown,...et(t)});class vl extends rt{static{o(this,"ZodNever")}_parse(e){const n=this._getOrReturnCtx(e);return Ee(n,{code:fe.invalid_type,expected:ke.never,received:n.parsedType}),je}}vl.create=t=>new vl({typeName:Ve.ZodNever,...et(t)});class kw extends rt{static{o(this,"ZodVoid")}_parse(e){if(this._getType(e)!==ke.undefined){const r=this._getOrReturnCtx(e);return Ee(r,{code:fe.invalid_type,expected:ke.void,received:r.parsedType}),je}return ys(e.data)}}kw.create=t=>new kw({typeName:Ve.ZodVoid,...et(t)});class fo extends rt{static{o(this,"ZodArray")}_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ke.array)return Ee(n,{code:fe.invalid_type,expected:ke.array,received:n.parsedType}),je;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(a||l)&&(Ee(n,{code:a?fe.too_big:fe.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Ee(n,{code:fe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Ee(n,{code:fe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>s.type._parseAsync(new ha(n,a,n.path,l)))).then(a=>Gr.mergeArray(r,a));const i=[...n.data].map((a,l)=>s.type._parseSync(new ha(n,a,n.path,l)));return Gr.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new fo({...this._def,minLength:{value:e,message:Oe.toString(n)}})}max(e,n){return new fo({...this._def,maxLength:{value:e,message:Oe.toString(n)}})}length(e,n){return new fo({...this._def,exactLength:{value:e,message:Oe.toString(n)}})}nonempty(e){return this.min(1,e)}}fo.create=(t,e)=>new fo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ve.ZodArray,...et(e)});function Yh(t){if(t instanceof bn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=aa.create(Yh(r))}return new bn({...t._def,shape:o(()=>e,"shape")})}else return t instanceof fo?new fo({...t._def,type:Yh(t.element)}):t instanceof aa?aa.create(Yh(t.unwrap())):t instanceof Wu?Wu.create(Yh(t.unwrap())):t instanceof da?da.create(t.items.map(e=>Yh(e))):t}o(Yh,"deepPartialify");class bn extends rt{static{o(this,"ZodObject")}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=vt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ke.object){const c=this._getOrReturnCtx(e);return Ee(c,{code:fe.invalid_type,expected:ke.object,received:c.parsedType}),je}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof vl&&this._def.unknownKeys==="strip"))for(const c in s.data)a.includes(c)||l.push(c);const u=[];for(const c of a){const f=i[c],h=s.data[c];u.push({key:{status:"valid",value:c},value:f._parse(new ha(s,h,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof vl){const c=this._def.unknownKeys;if(c==="passthrough")for(const f of l)u.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(c==="strict")l.length>0&&(Ee(s,{code:fe.unrecognized_keys,keys:l}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const f of l){const h=s.data[f];u.push({key:{status:"valid",value:f},value:c._parse(new ha(s,h,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const f of u){const h=await f.key,d=await f.value;c.push({key:h,value:d,alwaysSet:f.alwaysSet})}return c}).then(c=>Gr.mergeObjectSync(r,c)):Gr.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return Oe.errToObj,new bn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:o((n,r)=>{var s,i,a,l;const u=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=Oe.errToObj(e).message)!==null&&l!==void 0?l:u}:{message:u}},"errorMap")}:{}})}strip(){return new bn({...this._def,unknownKeys:"strip"})}passthrough(){return new bn({...this._def,unknownKeys:"passthrough"})}extend(e){return new bn({...this._def,shape:o(()=>({...this._def.shape(),...e}),"shape")})}merge(e){return new bn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:o(()=>({...this._def.shape(),...e._def.shape()}),"shape"),typeName:Ve.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new bn({...this._def,catchall:e})}pick(e){const n={};return vt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new bn({...this._def,shape:o(()=>n,"shape")})}omit(e){const n={};return vt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new bn({...this._def,shape:o(()=>n,"shape")})}deepPartial(){return Yh(this)}partial(e){const n={};return vt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new bn({...this._def,shape:o(()=>n,"shape")})}required(e){const n={};return vt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof aa;)i=i._def.innerType;n[r]=i}}),new bn({...this._def,shape:o(()=>n,"shape")})}keyof(){return nW(vt.objectKeys(this.shape))}}bn.create=(t,e)=>new bn({shape:o(()=>t,"shape"),unknownKeys:"strip",catchall:vl.create(),typeName:Ve.ZodObject,...et(e)});bn.strictCreate=(t,e)=>new bn({shape:o(()=>t,"shape"),unknownKeys:"strict",catchall:vl.create(),typeName:Ve.ZodObject,...et(e)});bn.lazycreate=(t,e)=>new bn({shape:t,unknownKeys:"strip",catchall:vl.create(),typeName:Ve.ZodObject,...et(e)});class S0 extends rt{static{o(this,"ZodUnion")}_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=i.map(l=>new ri(l.ctx.common.issues));return Ee(n,{code:fe.invalid_union,unionErrors:a}),je}if(o(s,"handleResults"),n.common.async)return Promise.all(r.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i;const a=[];for(const u of r){const c={...n,common:{...n.common,issues:[]},parent:null},f=u._parseSync({data:n.data,path:n.path,parent:c});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(u=>new ri(u));return Ee(n,{code:fe.invalid_union,unionErrors:l}),je}}get options(){return this._def.options}}S0.create=(t,e)=>new S0({options:t,typeName:Ve.ZodUnion,...et(e)});const Wa=o(t=>t instanceof A0?Wa(t.schema):t instanceof vo?Wa(t.innerType()):t instanceof C0?[t.value]:t instanceof ju?t.options:t instanceof I0?vt.objectValues(t.enum):t instanceof R0?Wa(t._def.innerType):t instanceof E0?[void 0]:t instanceof x0?[null]:t instanceof aa?[void 0,...Wa(t.unwrap())]:t instanceof Wu?[null,...Wa(t.unwrap())]:t instanceof KR||t instanceof N0?Wa(t.unwrap()):t instanceof O0?Wa(t._def.innerType):[],"getDiscriminator");class lx extends rt{static{o(this,"ZodDiscriminatedUnion")}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.object)return Ee(n,{code:fe.invalid_type,expected:ke.object,received:n.parsedType}),je;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(Ee(n,{code:fe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),je)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const a=Wa(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of a){if(s.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);s.set(l,i)}}return new lx({typeName:Ve.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...et(r)})}}function MA(t,e){const n=Za(t),r=Za(e);if(t===e)return{valid:!0,data:t};if(n===ke.object&&r===ke.object){const s=vt.objectKeys(e),i=vt.objectKeys(t).filter(l=>s.indexOf(l)!==-1),a={...t,...e};for(const l of i){const u=MA(t[l],e[l]);if(!u.valid)return{valid:!1};a[l]=u.data}return{valid:!0,data:a}}else if(n===ke.array&&r===ke.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const a=t[i],l=e[i],u=MA(a,l);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return n===ke.date&&r===ke.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}o(MA,"mergeValues");class T0 extends rt{static{o(this,"ZodIntersection")}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=o((i,a)=>{if(OA(i)||OA(a))return je;const l=MA(i.value,a.value);return l.valid?((NA(i)||NA(a))&&n.dirty(),{status:n.value,value:l.data}):(Ee(r,{code:fe.invalid_intersection_types}),je)},"handleParsed");return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}T0.create=(t,e,n)=>new T0({left:t,right:e,typeName:Ve.ZodIntersection,...et(n)});class da extends rt{static{o(this,"ZodTuple")}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.array)return Ee(r,{code:fe.invalid_type,expected:ke.array,received:r.parsedType}),je;if(r.data.length<this._def.items.length)return Ee(r,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),je;!this._def.rest&&r.data.length>this._def.items.length&&(Ee(r,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((a,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new ha(r,a,r.path,l)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>Gr.mergeArray(n,a)):Gr.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new da({...this._def,rest:e})}}da.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new da({items:t,typeName:Ve.ZodTuple,rest:null,...et(e)})};class k0 extends rt{static{o(this,"ZodRecord")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.object)return Ee(r,{code:fe.invalid_type,expected:ke.object,received:r.parsedType}),je;const s=[],i=this._def.keyType,a=this._def.valueType;for(const l in r.data)s.push({key:i._parse(new ha(r,l,r.path,l)),value:a._parse(new ha(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?Gr.mergeObjectAsync(n,s):Gr.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof rt?new k0({keyType:e,valueType:n,typeName:Ve.ZodRecord,...et(r)}):new k0({keyType:ro.create(),valueType:e,typeName:Ve.ZodRecord,...et(n)})}}class Aw extends rt{static{o(this,"ZodMap")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.map)return Ee(r,{code:fe.invalid_type,expected:ke.map,received:r.parsedType}),je;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([l,u],c)=>({key:s._parse(new ha(r,l,r.path,[c,"key"])),value:i._parse(new ha(r,u,r.path,[c,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of a){const c=await u.key,f=await u.value;if(c.status==="aborted"||f.status==="aborted")return je;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(c.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const u of a){const c=u.key,f=u.value;if(c.status==="aborted"||f.status==="aborted")return je;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(c.value,f.value)}return{status:n.value,value:l}}}}Aw.create=(t,e,n)=>new Aw({valueType:e,keyType:t,typeName:Ve.ZodMap,...et(n)});class Of extends rt{static{o(this,"ZodSet")}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ke.set)return Ee(r,{code:fe.invalid_type,expected:ke.set,received:r.parsedType}),je;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Ee(r,{code:fe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Ee(r,{code:fe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(u){const c=new Set;for(const f of u){if(f.status==="aborted")return je;f.status==="dirty"&&n.dirty(),c.add(f.value)}return{status:n.value,value:c}}o(a,"finalizeSet");const l=[...r.data.values()].map((u,c)=>i._parse(new ha(r,u,r.path,c)));return r.common.async?Promise.all(l).then(u=>a(u)):a(l)}min(e,n){return new Of({...this._def,minSize:{value:e,message:Oe.toString(n)}})}max(e,n){return new Of({...this._def,maxSize:{value:e,message:Oe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Of.create=(t,e)=>new Of({valueType:t,minSize:null,maxSize:null,typeName:Ve.ZodSet,...et(e)});class Sd extends rt{static{o(this,"ZodFunction")}constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.function)return Ee(n,{code:fe.invalid_type,expected:ke.function,received:n.parsedType}),je;function r(l,u){return xw({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ew(),ep].filter(c=>!!c),issueData:{code:fe.invalid_arguments,argumentsError:u}})}o(r,"makeArgsIssue");function s(l,u){return xw({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ew(),ep].filter(c=>!!c),issueData:{code:fe.invalid_return_type,returnTypeError:u}})}o(s,"makeReturnsIssue");const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof np){const l=this;return ys(async function(...u){const c=new ri([]),f=await l._def.args.parseAsync(u,i).catch(p=>{throw c.addIssue(r(u,p)),c}),h=await Reflect.apply(a,this,f);return await l._def.returns._def.type.parseAsync(h,i).catch(p=>{throw c.addIssue(s(h,p)),c})})}else{const l=this;return ys(function(...u){const c=l._def.args.safeParse(u,i);if(!c.success)throw new ri([r(u,c.error)]);const f=Reflect.apply(a,this,c.data),h=l._def.returns.safeParse(f,i);if(!h.success)throw new ri([s(f,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Sd({...this._def,args:da.create(e).rest(rf.create())})}returns(e){return new Sd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Sd({args:e||da.create([]).rest(rf.create()),returns:n||rf.create(),typeName:Ve.ZodFunction,...et(r)})}}class A0 extends rt{static{o(this,"ZodLazy")}get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}A0.create=(t,e)=>new A0({getter:t,typeName:Ve.ZodLazy,...et(e)});class C0 extends rt{static{o(this,"ZodLiteral")}_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ee(n,{received:n.data,code:fe.invalid_literal,expected:this._def.value}),je}return{status:"valid",value:e.data}}get value(){return this._def.value}}C0.create=(t,e)=>new C0({value:t,typeName:Ve.ZodLiteral,...et(e)});function nW(t,e){return new ju({values:t,typeName:Ve.ZodEnum,...et(e)})}o(nW,"createZodEnum");class ju extends rt{static{o(this,"ZodEnum")}constructor(){super(...arguments),Zm.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ee(n,{expected:vt.joinValues(r),received:n.parsedType,code:fe.invalid_type}),je}if(Sw(this,Zm)||Zj(this,Zm,new Set(this._def.values)),!Sw(this,Zm).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Ee(n,{received:n.data,code:fe.invalid_enum_value,options:r}),je}return ys(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ju.create(e,{...this._def,...n})}exclude(e,n=this._def){return ju.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Zm=new WeakMap;ju.create=nW;class I0 extends rt{static{o(this,"ZodNativeEnum")}constructor(){super(...arguments),Qm.set(this,void 0)}_parse(e){const n=vt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ke.string&&r.parsedType!==ke.number){const s=vt.objectValues(n);return Ee(r,{expected:vt.joinValues(s),received:r.parsedType,code:fe.invalid_type}),je}if(Sw(this,Qm)||Zj(this,Qm,new Set(vt.getValidEnumValues(this._def.values))),!Sw(this,Qm).has(e.data)){const s=vt.objectValues(n);return Ee(r,{received:r.data,code:fe.invalid_enum_value,options:s}),je}return ys(e.data)}get enum(){return this._def.values}}Qm=new WeakMap;I0.create=(t,e)=>new I0({values:t,typeName:Ve.ZodNativeEnum,...et(e)});class np extends rt{static{o(this,"ZodPromise")}unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ke.promise&&n.common.async===!1)return Ee(n,{code:fe.invalid_type,expected:ke.promise,received:n.parsedType}),je;const r=n.parsedType===ke.promise?n.data:Promise.resolve(n.data);return ys(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}np.create=(t,e)=>new np({type:t,typeName:Ve.ZodPromise,...et(e)});class vo extends rt{static{o(this,"ZodEffects")}innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o(a=>{Ee(r,a),a.fatal?n.abort():n.dirty()},"addIssue"),get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return je;const u=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return u.status==="aborted"?je:u.status==="dirty"||n.value==="dirty"?sd(u.value):u});{if(n.value==="aborted")return je;const l=this._def.schema._parseSync({data:a,path:r.path,parent:r});return l.status==="aborted"?je:l.status==="dirty"||n.value==="dirty"?sd(l.value):l}}if(s.type==="refinement"){const a=o(l=>{const u=s.refinement(l,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l},"executeRefinement");if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?je:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?je:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!If(a))return a;const l=s.transform(a.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>If(a)?Promise.resolve(s.transform(a.value,i)).then(l=>({status:n.value,value:l})):a);vt.assertNever(s)}}vo.create=(t,e,n)=>new vo({schema:t,typeName:Ve.ZodEffects,effect:e,...et(n)});vo.createWithPreprocess=(t,e,n)=>new vo({schema:e,effect:{type:"preprocess",transform:t},typeName:Ve.ZodEffects,...et(n)});class aa extends rt{static{o(this,"ZodOptional")}_parse(e){return this._getType(e)===ke.undefined?ys(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}aa.create=(t,e)=>new aa({innerType:t,typeName:Ve.ZodOptional,...et(e)});class Wu extends rt{static{o(this,"ZodNullable")}_parse(e){return this._getType(e)===ke.null?ys(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Wu.create=(t,e)=>new Wu({innerType:t,typeName:Ve.ZodNullable,...et(e)});class R0 extends rt{static{o(this,"ZodDefault")}_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ke.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}R0.create=(t,e)=>new R0({innerType:t,typeName:Ve.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...et(e)});class O0 extends rt{static{o(this,"ZodCatch")}_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return w0(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ri(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ri(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}O0.create=(t,e)=>new O0({innerType:t,typeName:Ve.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...et(e)});class Cw extends rt{static{o(this,"ZodNaN")}_parse(e){if(this._getType(e)!==ke.nan){const r=this._getOrReturnCtx(e);return Ee(r,{code:fe.invalid_type,expected:ke.nan,received:r.parsedType}),je}return{status:"valid",value:e.data}}}Cw.create=t=>new Cw({typeName:Ve.ZodNaN,...et(t)});const WEe=Symbol("zod_brand");class KR extends rt{static{o(this,"ZodBranded")}_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class zy extends rt{static{o(this,"ZodPipeline")}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return o(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?je:i.status==="dirty"?(n.dirty(),sd(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})},"handleAsync")();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?je:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new zy({in:e,out:n,typeName:Ve.ZodPipeline})}}class N0 extends rt{static{o(this,"ZodReadonly")}_parse(e){const n=this._def.innerType._parse(e),r=o(s=>(If(s)&&(s.value=Object.freeze(s.value)),s),"freeze");return w0(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}N0.create=(t,e)=>new N0({innerType:t,typeName:Ve.ZodReadonly,...et(e)});function rW(t,e={},n){return t?tp.create().superRefine((r,s)=>{var i,a;if(!t(r)){const l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(a=(i=l.fatal)!==null&&i!==void 0?i:n)!==null&&a!==void 0?a:!0,c=typeof l=="string"?{message:l}:l;s.addIssue({code:"custom",...c,fatal:u})}}):tp.create()}o(rW,"custom");const HEe={object:bn.lazycreate};var Ve;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ve||(Ve={}));const qEe=o((t,e={message:`Input not instance of ${t.name}`})=>rW(n=>n instanceof t,e),"instanceOfType"),sW=ro.create,iW=zu.create,GEe=Cw.create,KEe=Vu.create,oW=v0.create,YEe=Rf.create,XEe=Tw.create,JEe=E0.create,ZEe=x0.create,QEe=tp.create,exe=rf.create,txe=vl.create,nxe=kw.create,rxe=fo.create,sxe=bn.create,ixe=bn.strictCreate,oxe=S0.create,axe=lx.create,lxe=T0.create,uxe=da.create,cxe=k0.create,fxe=Aw.create,hxe=Of.create,dxe=Sd.create,pxe=A0.create,mxe=C0.create,gxe=ju.create,yxe=I0.create,bxe=np.create,JL=vo.create,_xe=aa.create,wxe=Wu.create,vxe=vo.createWithPreprocess,Exe=zy.create,xxe=o(()=>sW().optional(),"ostring"),Sxe=o(()=>iW().optional(),"onumber"),Txe=o(()=>oW().optional(),"oboolean"),kxe={string:o((t=>ro.create({...t,coerce:!0})),"string"),number:o((t=>zu.create({...t,coerce:!0})),"number"),boolean:o((t=>v0.create({...t,coerce:!0})),"boolean"),bigint:o((t=>Vu.create({...t,coerce:!0})),"bigint"),date:o((t=>Rf.create({...t,coerce:!0})),"date")},Axe=je;var TVe=Object.freeze({__proto__:null,defaultErrorMap:ep,setErrorMap:vEe,getErrorMap:Ew,makeIssue:xw,EMPTY_PATH:EEe,addIssueToContext:Ee,ParseStatus:Gr,INVALID:je,DIRTY:sd,OK:ys,isAborted:OA,isDirty:NA,isValid:If,isAsync:w0,get util(){return vt},get objectUtil(){return RA},ZodParsedType:ke,getParsedType:Za,ZodType:rt,datetimeRegex:tW,ZodString:ro,ZodNumber:zu,ZodBigInt:Vu,ZodBoolean:v0,ZodDate:Rf,ZodSymbol:Tw,ZodUndefined:E0,ZodNull:x0,ZodAny:tp,ZodUnknown:rf,ZodNever:vl,ZodVoid:kw,ZodArray:fo,ZodObject:bn,ZodUnion:S0,ZodDiscriminatedUnion:lx,ZodIntersection:T0,ZodTuple:da,ZodRecord:k0,ZodMap:Aw,ZodSet:Of,ZodFunction:Sd,ZodLazy:A0,ZodLiteral:C0,ZodEnum:ju,ZodNativeEnum:I0,ZodPromise:np,ZodEffects:vo,ZodTransformer:vo,ZodOptional:aa,ZodNullable:Wu,ZodDefault:R0,ZodCatch:O0,ZodNaN:Cw,BRAND:WEe,ZodBranded:KR,ZodPipeline:zy,ZodReadonly:N0,custom:rW,Schema:rt,ZodSchema:rt,late:HEe,get ZodFirstPartyTypeKind(){return Ve},coerce:kxe,any:QEe,array:rxe,bigint:KEe,boolean:oW,date:YEe,discriminatedUnion:axe,effect:JL,enum:gxe,function:dxe,instanceof:qEe,intersection:lxe,lazy:pxe,literal:mxe,map:fxe,nan:GEe,nativeEnum:yxe,never:txe,null:ZEe,nullable:wxe,number:iW,object:sxe,oboolean:Txe,onumber:Sxe,optional:_xe,ostring:xxe,pipeline:Exe,preprocess:vxe,promise:bxe,record:cxe,set:hxe,strictObject:ixe,string:sW,symbol:XEe,transformer:JL,tuple:uxe,undefined:JEe,union:oxe,unknown:exe,void:nxe,NEVER:Axe,ZodIssueCode:fe,quotelessJson:wEe,ZodError:ri});function YR(t){return t instanceof Error&&t.name==="ZodError"&&"issues"in t&&Array.isArray(t.issues)}o(YR,"isZodErrorLike");var DA=class extends Error{static{o(this,"ValidationError")}name;details;constructor(e,n){super(e,n),this.name="ZodValidationError",this.details=Cxe(n)}toString(){return this.message}};function Cxe(t){if(t){const e=t.cause;if(YR(e))return e.issues}return[]}o(Cxe,"getIssuesFromErrorOptions");var Ixe="; ",Rxe=99,aW="Validation error",Oxe=": ",Nxe=", or ";function Mxe(t,e,n){return e!==null?t.length>0?[e,t].join(n):e:t.length>0?t:aW}o(Mxe,"prefixMessage");var Dxe=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function Pxe(t){return t.length===1?t[0].toString():t.reduce((e,n)=>{if(typeof n=="number")return e+"["+n.toString()+"]";if(n.includes('"'))return e+'["'+$xe(n)+'"]';if(!Dxe.test(n))return e+'["'+n+'"]';const r=e.length===0?"":".";return e+r+n},"")}o(Pxe,"joinPath");function $xe(t){return t.replace(/"/g,'\\"')}o($xe,"escapeQuotes");function Lxe(t){return t.length!==0}o(Lxe,"isNonEmptyArray");function i_(t){const{issue:e,issueSeparator:n,unionSeparator:r,includePath:s}=t;if(e.code==="invalid_union")return e.unionErrors.reduce((i,a)=>{const l=a.issues.map(u=>i_({issue:u,issueSeparator:n,unionSeparator:r,includePath:s})).join(n);return i.includes(l)||i.push(l),i},[]).join(r);if(e.code==="invalid_arguments")return[e.message,...e.argumentsError.issues.map(i=>i_({issue:i,issueSeparator:n,unionSeparator:r,includePath:s}))].join(n);if(e.code==="invalid_return_type")return[e.message,...e.returnTypeError.issues.map(i=>i_({issue:i,issueSeparator:n,unionSeparator:r,includePath:s}))].join(n);if(s&&Lxe(e.path)){if(e.path.length===1){const i=e.path[0];if(typeof i=="number")return`${e.message} at index ${i}`}return`${e.message} at "${Pxe(e.path)}"`}return e.message}o(i_,"getMessageFromZodIssue");function AVe(t,e={}){if(!YR(t))throw new TypeError(`Invalid zodError param; expected instance of ZodError. Did you mean to use the "${Bxe.name}" method instead?`);return lW(t,e)}o(AVe,"fromZodError");function lW(t,e={}){const{maxIssuesInMessage:n=Rxe,issueSeparator:r=Ixe,unionSeparator:s=Nxe,prefixSeparator:i=Oxe,prefix:a=aW,includePath:l=!0}=e,u=t.errors,c=u.length===0?t.message:u.slice(0,n).map(h=>i_({issue:h,issueSeparator:r,unionSeparator:s,includePath:l})).join(r),f=Mxe(c,a,i);return new DA(f,{cause:t})}o(lW,"fromZodErrorWithoutRuntimeCheck");var Fxe=o((t={})=>e=>YR(e)?lW(e,t):e instanceof Error?new DA(e.message,{cause:e}):new DA("Unknown error"),"toValidationError");function Bxe(t,e={}){return Fxe(e)(t)}o(Bxe,"fromError");var o_={exports:{}},Uxe=o_.exports,ZL;function zxe(){return ZL||(ZL=1,(function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(Uxe,function(){var e=o(function(){},"noop"),n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),s=["trace","debug","info","warn","error"],i={},a=null;function l(y,b){var _=y[b];if(typeof _.bind=="function")return _.bind(y);try{return Function.prototype.bind.call(_,y)}catch{return function(){return Function.prototype.apply.apply(_,[y,arguments])}}}o(l,"bindMethod");function u(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments]))}o(u,"traceForIE");function c(y){return y==="debug"&&(y="log"),typeof console===n?!1:y==="trace"&&r?u:console[y]!==void 0?l(console,y):console.log!==void 0?l(console,"log"):e}o(c,"realMethod");function f(){for(var y=this.getLevel(),b=0;b<s.length;b++){var _=s[b];this[_]=b<y?e:this.methodFactory(_,y,this.name)}if(this.log=this.debug,typeof console===n&&y<this.levels.SILENT)return"No console available for logging"}o(f,"replaceLoggingMethods");function h(y){return function(){typeof console!==n&&(f.call(this),this[y].apply(this,arguments))}}o(h,"enableLoggingWhenConsoleArrives");function d(y,b,_){return c(y)||h.apply(this,arguments)}o(d,"defaultMethodFactory");function p(y,b){var _=this,S,v,k,C="loglevel";typeof y=="string"?C+=":"+y:typeof y=="symbol"&&(C=void 0);function I(N){var R=(s[N]||"silent").toUpperCase();if(!(typeof window===n||!C)){try{window.localStorage[C]=R;return}catch{}try{window.document.cookie=encodeURIComponent(C)+"="+R+";"}catch{}}}o(I,"persistLevelIfPossible");function x(){var N;if(!(typeof window===n||!C)){try{N=window.localStorage[C]}catch{}if(typeof N===n)try{var R=window.document.cookie,M=encodeURIComponent(C),B=R.indexOf(M+"=");B!==-1&&(N=/^([^;]+)/.exec(R.slice(B+M.length+1))[1])}catch{}return _.levels[N]===void 0&&(N=void 0),N}}o(x,"getPersistedLevel");function E(){if(!(typeof window===n||!C)){try{window.localStorage.removeItem(C)}catch{}try{window.document.cookie=encodeURIComponent(C)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}o(E,"clearPersistedLevel");function T(N){var R=N;if(typeof R=="string"&&_.levels[R.toUpperCase()]!==void 0&&(R=_.levels[R.toUpperCase()]),typeof R=="number"&&R>=0&&R<=_.levels.SILENT)return R;throw new TypeError("log.setLevel() called with invalid level: "+N)}o(T,"normalizeLevel"),_.name=y,_.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},_.methodFactory=b||d,_.getLevel=function(){return k??v??S},_.setLevel=function(N,R){return k=T(N),R!==!1&&I(k),f.call(_)},_.setDefaultLevel=function(N){v=T(N),x()||_.setLevel(N,!1)},_.resetLevel=function(){k=null,E(),f.call(_)},_.enableAll=function(N){_.setLevel(_.levels.TRACE,N)},_.disableAll=function(N){_.setLevel(_.levels.SILENT,N)},_.rebuild=function(){if(a!==_&&(S=T(a.getLevel())),f.call(_),a===_)for(var N in i)i[N].rebuild()},S=T(a?a.getLevel():"WARN");var O=x();O!=null&&(k=T(O)),f.call(_)}o(p,"Logger"),a=new p,a.getLogger=o(function(b){if(typeof b!="symbol"&&typeof b!="string"||b==="")throw new TypeError("You must supply a name when creating a logger.");var _=i[b];return _||(_=i[b]=new p(b,a.methodFactory)),_},"getLogger");var m=typeof window!==n?window.log:void 0;return a.noConflict=function(){return typeof window!==n&&window.log===a&&(window.log=m),a},a.getLoggers=o(function(){return i},"getLoggers"),a.default=a,a})})(o_)),o_.exports}o(zxe,"requireLoglevel");var Vxe=zxe();const CVe=zR(Vxe),ho=o(()=>new Map,"create$6"),PA=o(t=>{const e=ho();return t.forEach((n,r)=>{e.set(r,n)}),e},"copy$1"),fc=o((t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},"setIfUndefined"),jxe=o((t,e)=>{const n=[];for(const[r,s]of t)n.push(e(s,r));return n},"map$3"),Wxe=o((t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1},"any"),rp=o(()=>new Set,"create$5"),VS=o(t=>t[t.length-1],"last"),Hxe=o((t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},"appendTo"),Nf=Array.from,qxe=Array.isArray;class Gxe{static{o(this,"ObservableV2")}constructor(){this._observers=ho()}on(e,n){return fc(this._observers,e,rp).add(n),n}once(e,n){const r=o((...s)=>{this.off(e,r),n(...s)},"_f");this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return Nf((this._observers.get(e)||ho()).values()).forEach(r=>r(...n))}destroy(){this._observers=ho()}}const Hu=Math.floor,a_=Math.abs,uW=o((t,e)=>t<e?t:e,"min"),nh=o((t,e)=>t>e?t:e,"max"),cW=o(t=>t!==0?t<0:1/t<0,"isNegativeZero"),QL=1,e6=2,jS=4,WS=8,M0=32,hl=64,si=128,ux=31,$A=63,sf=127,Kxe=2147483647,fW=Number.MAX_SAFE_INTEGER,Yxe=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&Hu(t)===t),Xxe=o(t=>t.toLowerCase(),"toLowerCase"),Jxe=/^\s*/g,Zxe=o(t=>t.replace(Jxe,""),"trimLeft"),Qxe=/([A-Z])/g,t6=o((t,e)=>Zxe(t.replace(Qxe,n=>`${e}${Xxe(n)}`)),"fromCamelCase"),e2e=o(t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=e.codePointAt(s);return r},"_encodeUtf8Polyfill"),D0=typeof TextEncoder<"u"?new TextEncoder:null,t2e=o(t=>D0.encode(t),"_encodeUtf8Native"),n2e=D0?t2e:e2e;let Cg=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Cg&&Cg.decode(new Uint8Array).length===1&&(Cg=null);class Vy{static{o(this,"Encoder")}constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const cx=o(()=>new Vy,"createEncoder"),r2e=o(t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},"length"),ta=o(t=>{const e=new Uint8Array(r2e(t));let n=0;for(let r=0;r<t.bufs.length;r++){const s=t.bufs[r];e.set(s,n),n+=s.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},"toUint8Array"),s2e=o((t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(nh(n,e)*2),t.cpos=0)},"verifyLen"),nr=o((t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},"write"),LA=nr,Et=o((t,e)=>{for(;e>sf;)nr(t,si|sf&e),e=Hu(e/128);nr(t,sf&e)},"writeVarUint"),XR=o((t,e)=>{const n=cW(e);for(n&&(e=-e),nr(t,(e>$A?si:0)|(n?hl:0)|$A&e),e=Hu(e/64);e>0;)nr(t,(e>sf?si:0)|sf&e),e=Hu(e/128)},"writeVarInt"),FA=new Uint8Array(3e4),i2e=FA.length/3,o2e=o((t,e)=>{if(e.length<i2e){const n=D0.encodeInto(e,FA).written||0;Et(t,n);for(let r=0;r<n;r++)nr(t,FA[r])}else Ws(t,n2e(e))},"_writeVarStringNative"),a2e=o((t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;Et(t,r);for(let s=0;s<r;s++)nr(t,n.codePointAt(s))},"_writeVarStringPolyfill"),Td=D0&&D0.encodeInto?o2e:a2e,fx=o((t,e)=>{const n=t.cbuf.length,r=t.cpos,s=uW(n-r,e.length),i=e.length-s;t.cbuf.set(e.subarray(0,s),r),t.cpos+=s,i>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(nh(n*2,i)),t.cbuf.set(e.subarray(s)),t.cpos=i)},"writeUint8Array"),Ws=o((t,e)=>{Et(t,e.byteLength),fx(t,e)},"writeVarUint8Array"),JR=o((t,e)=>{s2e(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},"writeOnDataView"),l2e=o((t,e)=>JR(t,4).setFloat32(0,e,!1),"writeFloat32"),u2e=o((t,e)=>JR(t,8).setFloat64(0,e,!1),"writeFloat64"),c2e=o((t,e)=>JR(t,8).setBigInt64(0,e,!1),"writeBigInt64"),n6=new DataView(new ArrayBuffer(4)),f2e=o(t=>(n6.setFloat32(0,t),n6.getFloat32(0)===t),"isFloat32"),P0=o((t,e)=>{switch(typeof e){case"string":nr(t,119),Td(t,e);break;case"number":Yxe(e)&&a_(e)<=Kxe?(nr(t,125),XR(t,e)):f2e(e)?(nr(t,124),l2e(t,e)):(nr(t,123),u2e(t,e));break;case"bigint":nr(t,122),c2e(t,e);break;case"object":if(e===null)nr(t,126);else if(qxe(e)){nr(t,117),Et(t,e.length);for(let n=0;n<e.length;n++)P0(t,e[n])}else if(e instanceof Uint8Array)nr(t,116),Ws(t,e);else{nr(t,118);const n=Object.keys(e);Et(t,n.length);for(let r=0;r<n.length;r++){const s=n[r];Td(t,s),P0(t,e[s])}}break;case"boolean":nr(t,e?120:121);break;default:nr(t,127)}},"writeAny");class r6 extends Vy{static{o(this,"RleEncoder")}constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&Et(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const s6=o(t=>{t.count>0&&(XR(t.encoder,t.count===1?t.s:-t.s),t.count>1&&Et(t.encoder,t.count-2))},"flushUintOptRleEncoder");class l_{static{o(this,"UintOptRleEncoder")}constructor(){this.encoder=new Vy,this.s=0,this.count=0}write(e){this.s===e?this.count++:(s6(this),this.count=1,this.s=e)}toUint8Array(){return s6(this),ta(this.encoder)}}const i6=o(t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);XR(t.encoder,e),t.count>1&&Et(t.encoder,t.count-2)}},"flushIntDiffOptRleEncoder");class HS{static{o(this,"IntDiffOptRleEncoder")}constructor(){this.encoder=new Vy,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(i6(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return i6(this),ta(this.encoder)}}class h2e{static{o(this,"StringEncoder")}constructor(){this.sarr=[],this.s="",this.lensE=new l_}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Vy;return this.sarr.push(this.s),this.s="",Td(e,this.sarr.join("")),fx(e,this.lensE.toUint8Array()),ta(e)}}const qu=o(t=>new Error(t),"create$4"),la=o(()=>{throw qu("Method unimplemented")},"methodUnimplemented"),pa=o(()=>{throw qu("Unexpected case")},"unexpectedCase"),hW=qu("Unexpected end of array"),dW=qu("Integer out of Range");class hx{static{o(this,"Decoder")}constructor(e){this.arr=e,this.pos=0}}const Hp=o(t=>new hx(t),"createDecoder"),d2e=o(t=>t.pos!==t.arr.length,"hasContent"),p2e=o((t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},"readUint8Array"),Hs=o(t=>p2e(t,ot(t)),"readVarUint8Array"),sp=o(t=>t.arr[t.pos++],"readUint8"),ot=o(t=>{let e=0,n=1;const r=t.arr.length;for(;t.pos<r;){const s=t.arr[t.pos++];if(e=e+(s&sf)*n,n*=128,s<si)return e;if(e>fW)throw dW}throw hW},"readVarUint"),ZR=o(t=>{let e=t.arr[t.pos++],n=e&$A,r=64;const s=(e&hl)>0?-1:1;if((e&si)===0)return s*n;const i=t.arr.length;for(;t.pos<i;){if(e=t.arr[t.pos++],n=n+(e&sf)*r,r*=128,e<si)return s*n;if(n>fW)throw dW}throw hW},"readVarInt"),m2e=o(t=>{let e=ot(t);if(e===0)return"";{let n=String.fromCodePoint(sp(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(sp(t));else for(;e>0;){const r=e<1e4?e:1e4,s=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,n+=String.fromCodePoint.apply(null,s),e-=r}return decodeURIComponent(escape(n))}},"_readVarStringPolyfill"),g2e=o(t=>Cg.decode(Hs(t)),"_readVarStringNative"),kd=Cg?g2e:m2e,QR=o((t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},"readFromDataView"),y2e=o(t=>QR(t,4).getFloat32(0,!1),"readFloat32"),b2e=o(t=>QR(t,8).getFloat64(0,!1),"readFloat64"),_2e=o(t=>QR(t,8).getBigInt64(0,!1),"readBigInt64"),w2e=[t=>{},t=>null,ZR,y2e,b2e,_2e,t=>!1,t=>!0,kd,t=>{const e=ot(t),n={};for(let r=0;r<e;r++){const s=kd(t);n[s]=$0(t)}return n},t=>{const e=ot(t),n=[];for(let r=0;r<e;r++)n.push($0(t));return n},Hs],$0=o(t=>w2e[127-sp(t)](t),"readAny");class o6 extends hx{static{o(this,"RleDecoder")}constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),d2e(this)?this.count=ot(this)+1:this.count=-1),this.count--,this.s}}class u_ extends hx{static{o(this,"UintOptRleDecoder")}constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=ZR(this);const e=cW(this.s);this.count=1,e&&(this.s=-this.s,this.count=ot(this)+2)}return this.count--,this.s}}class qS extends hx{static{o(this,"IntDiffOptRleDecoder")}constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=ZR(this),n=e&1;this.diff=Hu(e/2),this.count=1,n&&(this.count=ot(this)+2)}return this.s+=this.diff,this.count--,this.s}}class v2e{static{o(this,"StringDecoder")}constructor(e){this.decoder=new u_(e),this.str=kd(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const E2e=crypto.getRandomValues.bind(crypto),pW=o(()=>E2e(new Uint32Array(1))[0],"uint32"),x2e="10000000-1000-4000-8000"+-1e11,S2e=o(()=>x2e.replace(/[018]/g,t=>(t^pW()&15>>t/4).toString(16)),"uuidv4"),a6=o(t=>new Promise(t),"create$3");Promise.all.bind(Promise);const l6=o(t=>t===void 0?null:t,"undefinedToNull");class T2e{static{o(this,"VarStoragePolyfill")}constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let mW=new T2e,k2e=!0;try{typeof localStorage<"u"&&localStorage&&(mW=localStorage,k2e=!1)}catch{}const A2e=mW,C2e=Object.assign,I2e=Object.keys,R2e=o((t,e)=>{for(const n in t)e(t[n],n)},"forEach"),u6=o(t=>I2e(t).length,"size"),O2e=o(t=>{for(const e in t)return!1;return!0},"isEmpty$1"),N2e=o((t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},"every"),M2e=o((t,e)=>Object.prototype.hasOwnProperty.call(t,e),"hasProperty"),D2e=o((t,e)=>t===e||u6(t)===u6(e)&&N2e(t,(n,r)=>(n!==void 0||M2e(e,r))&&e[r]===n),"equalFlat"),P2e=Object.freeze,gW=o(t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&gW(t[e])}return P2e(t)},"deepFreeze"),eO=o((t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&eO(t,e,n+1)}},"callAll"),$2e=o(t=>t,"id"),L2e=o((t,e)=>e.includes(t),"isOneOf");var yW={};const L0=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";let Po;const F2e=o(()=>{if(Po===void 0)if(L0){Po=ho();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&Po.set(e,""),e=r):e!==null&&(Po.set(e,r),e=null)}e!==null&&Po.set(e,"")}else typeof location=="object"?(Po=ho(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");Po.set(`--${t6(e,"-")}`,n),Po.set(`-${t6(e,"-")}`,n)}})):Po=ho();return Po},"computeParams"),BA=o(t=>F2e().has(t),"hasParam"),Iw=o(t=>l6(L0?yW[t.toUpperCase().replaceAll("-","_")]:A2e.getItem(t)),"getVariable"),bW=o(t=>BA("--"+t)||Iw(t)!==null,"hasConf");bW("production");const B2e=L0&&L2e(yW.FORCE_COLOR,["true","1","2"]),U2e=B2e||!BA("--no-colors")&&!bW("no-color")&&(!L0||process.stdout.isTTY)&&(!L0||BA("--color")||Iw("COLORTERM")!==null||(Iw("TERM")||"").includes("color")),z2e=o(t=>new Uint8Array(t),"createUint8ArrayFromLen"),V2e=o(t=>{const e=z2e(t.byteLength);return e.set(t),e},"copyUint8Array");class j2e{static{o(this,"Pair")}constructor(e,n){this.left=e,this.right=n}}const Ua=o((t,e)=>new j2e(t,e),"create$2");typeof DOMParser<"u"&&new DOMParser;const W2e=o(t=>jxe(t,(e,n)=>`${n}:${e};`).join(""),"mapToStyleString"),Ml=Symbol,_W=Ml(),wW=Ml(),H2e=Ml(),q2e=Ml(),G2e=Ml(),vW=Ml(),K2e=Ml(),tO=Ml(),Y2e=Ml(),X2e=o(t=>{t.length===1&&t[0]?.constructor===Function&&(t=t[0]());const e=[],n=[];let r=0;for(;r<t.length;r++){const s=t[r];if(s===void 0)break;if(s.constructor===String||s.constructor===Number)e.push(s);else if(s.constructor===Object)break}for(r>0&&n.push(e.join(""));r<t.length;r++){const s=t[r];s instanceof Symbol||n.push(s)}return n},"computeNoColorLoggingArgs"),J2e={[_W]:Ua("font-weight","bold"),[wW]:Ua("font-weight","normal"),[H2e]:Ua("color","blue"),[G2e]:Ua("color","green"),[q2e]:Ua("color","grey"),[vW]:Ua("color","red"),[K2e]:Ua("color","purple"),[tO]:Ua("color","orange"),[Y2e]:Ua("color","black")},Z2e=o(t=>{t.length===1&&t[0]?.constructor===Function&&(t=t[0]());const e=[],n=[],r=ho();let s=[],i=0;for(;i<t.length;i++){const a=t[i],l=J2e[a];if(l!==void 0)r.set(l.left,l.right);else{if(a===void 0)break;if(a.constructor===String||a.constructor===Number){const u=W2e(r);i>0||u.length>0?(e.push("%c"+a),n.push(u)):e.push(a)}else break}}for(i>0&&(s=n,s.unshift(e.join("")));i<t.length;i++){const a=t[i];a instanceof Symbol||s.push(a)}return s},"computeBrowserLoggingArgs"),EW=U2e?Z2e:X2e,Q2e=o((...t)=>{[...EW(t)],xW.forEach(e=>e.print(t))},"print"),eSe=o((...t)=>{console.warn(...EW(t)),t.unshift(tO),xW.forEach(e=>e.print(t))},"warn$1"),xW=rp(),SW=o(t=>({[Symbol.iterator](){return this},next:t}),"createIterator"),tSe=o((t,e)=>SW(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),"iteratorFilter"),GS=o((t,e)=>SW(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}}),"iteratorMap");class nO{static{o(this,"DeleteItem")}constructor(e,n){this.clock=e,this.len=n}}class jy{static{o(this,"DeleteSet")}constructor(){this.clients=new Map}}const TW=o((t,e,n)=>e.clients.forEach((r,s)=>{const i=t.doc.store.clients.get(s);if(i!=null){const a=i[i.length-1],l=a.id.clock+a.length;for(let u=0,c=r[u];u<r.length&&c.clock<l;c=r[++u])PW(t,i,c.clock,c.len,n)}}),"iterateDeletedStructs"),nSe=o((t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const s=Hu((n+r)/2),i=t[s],a=i.clock;if(a<=e){if(e<a+i.len)return s;n=s+1}else r=s-1}return null},"findIndexDS"),kW=o((t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&nSe(n,e.clock)!==null},"isDeleted"),rO=o(t=>{t.clients.forEach(e=>{e.sort((s,i)=>s.clock-i.clock);let n,r;for(n=1,r=1;n<e.length;n++){const s=e[r-1],i=e[n];s.clock+s.len>=i.clock?s.len=nh(s.len,i.clock+i.len-s.clock):(r<n&&(e[r]=i),r++)}e.length=r})},"sortAndMergeDeleteSet"),rSe=o(t=>{const e=new jy;for(let n=0;n<t.length;n++)t[n].clients.forEach((r,s)=>{if(!e.clients.has(s)){const i=r.slice();for(let a=n+1;a<t.length;a++)Hxe(i,t[a].clients.get(s)||[]);e.clients.set(s,i)}});return rO(e),e},"mergeDeleteSets"),Rw=o((t,e,n,r)=>{fc(t.clients,e,()=>[]).push(new nO(n,r))},"addToDeleteSet"),sSe=o(()=>new jy,"createDeleteSet"),iSe=o(t=>{const e=sSe();return t.clients.forEach((n,r)=>{const s=[];for(let i=0;i<n.length;i++){const a=n[i];if(a.deleted){const l=a.id.clock;let u=a.length;if(i+1<n.length)for(let c=n[i+1];i+1<n.length&&c.deleted;c=n[++i+1])u+=c.length;s.push(new nO(l,u))}}s.length>0&&e.clients.set(r,s)}),e},"createDeleteSetFromStructStore"),qp=o((t,e)=>{Et(t.restEncoder,e.clients.size),Nf(e.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{t.resetDsCurVal(),Et(t.restEncoder,n);const s=r.length;Et(t.restEncoder,s);for(let i=0;i<s;i++){const a=r[i];t.writeDsClock(a.clock),t.writeDsLen(a.len)}})},"writeDeleteSet"),sO=o(t=>{const e=new jy,n=ot(t.restDecoder);for(let r=0;r<n;r++){t.resetDsCurVal();const s=ot(t.restDecoder),i=ot(t.restDecoder);if(i>0){const a=fc(e.clients,s,()=>[]);for(let l=0;l<i;l++)a.push(new nO(t.readDsClock(),t.readDsLen()))}}return e},"readDeleteSet"),c6=o((t,e,n)=>{const r=new jy,s=ot(t.restDecoder);for(let i=0;i<s;i++){t.resetDsCurVal();const a=ot(t.restDecoder),l=ot(t.restDecoder),u=n.clients.get(a)||[],c=fr(n,a);for(let f=0;f<l;f++){const h=t.readDsClock(),d=h+t.readDsLen();if(h<c){c<d&&Rw(r,a,c,d-c);let p=ma(u,h),m=u[p];for(!m.deleted&&m.id.clock<h&&(u.splice(p+1,0,Lw(e,m,h-m.id.clock)),p++);p<u.length&&(m=u[p++],m.id.clock<d);)m.deleted||(d<m.id.clock+m.length&&u.splice(p,0,Lw(e,m,d-m.id.clock)),m.delete(e))}else Rw(r,a,h,d-h)}}if(r.clients.size>0){const i=new Mf;return Et(i.restEncoder,0),qp(i,r),i.toUint8Array()}return null},"readAndApplyDeleteSet"),AW=pW;class Wy extends Gxe{static{o(this,"Doc")}constructor({guid:e=S2e(),collectionid:n=null,gc:r=!0,gcFilter:s=o(()=>!0,"gcFilter"),meta:i=null,autoLoad:a=!1,shouldLoad:l=!0}={}){super(),this.gc=r,this.gcFilter=s,this.clientID=AW(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new MW,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=l,this.autoLoad=a,this.meta=i,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=a6(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});const u=o(()=>a6(c=>{const f=o(h=>{(h===void 0||h===!0)&&(this.off("sync",f),c())},"eventHandler");this.on("sync",f)}),"provideSyncedPromise");this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=u()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=u()}load(){const e=this._item;e!==null&&!this.shouldLoad&&Yt(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Nf(this.subdocs).map(e=>e.guid))}transact(e,n=null){return Yt(this,e,n)}get(e,n=Tr){const r=fc(this.share,e,()=>{const i=new n;return i._integrate(this,null),i}),s=r.constructor;if(n!==Tr&&s!==n)if(s===Tr){const i=new n;i._map=r._map,r._map.forEach(a=>{for(;a!==null;a=a.left)a.parent=i}),i._start=r._start;for(let a=i._start;a!==null;a=a.right)a.parent=i;return i._length=r._length,this.share.set(e,i),i._integrate(this,null),i}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return r}getArray(e=""){return this.get(e,Cd)}getText(e=""){return this.get(e,ap)}getMap(e=""){return this.get(e,op)}getXmlElement(e=""){return this.get(e,lp)}getXmlFragment(e=""){return this.get(e,Df)}toJSON(){const e={};return this.share.forEach((n,r)=>{e[r]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,Nf(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new Wy({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,Yt(e.parent.doc,r=>{const s=n.doc;e.deleted||r.subdocsAdded.add(s),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class CW{static{o(this,"DSDecoderV1")}constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return ot(this.restDecoder)}readDsLen(){return ot(this.restDecoder)}}class IW extends CW{static{o(this,"UpdateDecoderV1")}readLeftID(){return gt(ot(this.restDecoder),ot(this.restDecoder))}readRightID(){return gt(ot(this.restDecoder),ot(this.restDecoder))}readClient(){return ot(this.restDecoder)}readInfo(){return sp(this.restDecoder)}readString(){return kd(this.restDecoder)}readParentInfo(){return ot(this.restDecoder)===1}readTypeRef(){return ot(this.restDecoder)}readLen(){return ot(this.restDecoder)}readAny(){return $0(this.restDecoder)}readBuf(){return V2e(Hs(this.restDecoder))}readJSON(){return JSON.parse(kd(this.restDecoder))}readKey(){return kd(this.restDecoder)}}class oSe{static{o(this,"DSDecoderV2")}constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=ot(this.restDecoder),this.dsCurrVal}readDsLen(){const e=ot(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class ip extends oSe{static{o(this,"UpdateDecoderV2")}constructor(e){super(e),this.keys=[],ot(e),this.keyClockDecoder=new qS(Hs(e)),this.clientDecoder=new u_(Hs(e)),this.leftClockDecoder=new qS(Hs(e)),this.rightClockDecoder=new qS(Hs(e)),this.infoDecoder=new o6(Hs(e),sp),this.stringDecoder=new v2e(Hs(e)),this.parentInfoDecoder=new o6(Hs(e),sp),this.typeRefDecoder=new u_(Hs(e)),this.lenDecoder=new u_(Hs(e))}readLeftID(){return new Ad(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Ad(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return $0(this.restDecoder)}readBuf(){return Hs(this.restDecoder)}readJSON(){return $0(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class aSe{static{o(this,"DSEncoderV1")}constructor(){this.restEncoder=cx()}toUint8Array(){return ta(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){Et(this.restEncoder,e)}writeDsLen(e){Et(this.restEncoder,e)}}class Hy extends aSe{static{o(this,"UpdateEncoderV1")}writeLeftID(e){Et(this.restEncoder,e.client),Et(this.restEncoder,e.clock)}writeRightID(e){Et(this.restEncoder,e.client),Et(this.restEncoder,e.clock)}writeClient(e){Et(this.restEncoder,e)}writeInfo(e){LA(this.restEncoder,e)}writeString(e){Td(this.restEncoder,e)}writeParentInfo(e){Et(this.restEncoder,e?1:0)}writeTypeRef(e){Et(this.restEncoder,e)}writeLen(e){Et(this.restEncoder,e)}writeAny(e){P0(this.restEncoder,e)}writeBuf(e){Ws(this.restEncoder,e)}writeJSON(e){Td(this.restEncoder,JSON.stringify(e))}writeKey(e){Td(this.restEncoder,e)}}class lSe{static{o(this,"DSEncoderV2")}constructor(){this.restEncoder=cx(),this.dsCurrVal=0}toUint8Array(){return ta(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,Et(this.restEncoder,n)}writeDsLen(e){e===0&&pa(),Et(this.restEncoder,e-1),this.dsCurrVal+=e}}class Mf extends lSe{static{o(this,"UpdateEncoderV2")}constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new HS,this.clientEncoder=new l_,this.leftClockEncoder=new HS,this.rightClockEncoder=new HS,this.infoEncoder=new r6(LA),this.stringEncoder=new h2e,this.parentInfoEncoder=new r6(LA),this.typeRefEncoder=new l_,this.lenEncoder=new l_}toUint8Array(){const e=cx();return Et(e,0),Ws(e,this.keyClockEncoder.toUint8Array()),Ws(e,this.clientEncoder.toUint8Array()),Ws(e,this.leftClockEncoder.toUint8Array()),Ws(e,this.rightClockEncoder.toUint8Array()),Ws(e,ta(this.infoEncoder)),Ws(e,this.stringEncoder.toUint8Array()),Ws(e,ta(this.parentInfoEncoder)),Ws(e,this.typeRefEncoder.toUint8Array()),Ws(e,this.lenEncoder.toUint8Array()),fx(e,ta(this.restEncoder)),ta(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){P0(this.restEncoder,e)}writeBuf(e){Ws(this.restEncoder,e)}writeJSON(e){P0(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const uSe=o((t,e,n,r)=>{r=nh(r,e[0].id.clock);const s=ma(e,r);Et(t.restEncoder,e.length-s),t.writeClient(n),Et(t.restEncoder,r);const i=e[s];i.write(t,r-i.id.clock);for(let a=s+1;a<e.length;a++)e[a].write(t,0)},"writeStructs"),iO=o((t,e,n)=>{const r=new Map;n.forEach((s,i)=>{fr(e,i)>s&&r.set(i,s)}),oO(e).forEach((s,i)=>{n.has(i)||r.set(i,0)}),Et(t.restEncoder,r.size),Nf(r.entries()).sort((s,i)=>i[0]-s[0]).forEach(([s,i])=>{uSe(t,e.clients.get(s),s,i)})},"writeClientsStructs"),cSe=o((t,e)=>{const n=ho(),r=ot(t.restDecoder);for(let s=0;s<r;s++){const i=ot(t.restDecoder),a=new Array(i),l=t.readClient();let u=ot(t.restDecoder);n.set(l,{i:0,refs:a});for(let c=0;c<i;c++){const f=t.readInfo();switch(ux&f){case 0:{const h=t.readLen();a[c]=new vi(gt(l,u),h),u+=h;break}case 10:{const h=ot(t.restDecoder);a[c]=new Ei(gt(l,u),h),u+=h;break}default:{const h=(f&(hl|si))===0,d=new Ur(gt(l,u),null,(f&si)===si?t.readLeftID():null,null,(f&hl)===hl?t.readRightID():null,h?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,h&&(f&M0)===M0?t.readString():null,eH(t,f));a[c]=d,u+=d.length}}}}return n},"readClientsStructRefs"),fSe=o((t,e,n)=>{const r=[];let s=Nf(n.keys()).sort((p,m)=>p-m);if(s.length===0)return null;const i=o(()=>{if(s.length===0)return null;let p=n.get(s[s.length-1]);for(;p.refs.length===p.i;)if(s.pop(),s.length>0)p=n.get(s[s.length-1]);else return null;return p},"getNextStructTarget");let a=i();if(a===null)return null;const l=new MW,u=new Map,c=o((p,m)=>{const y=u.get(p);(y==null||y>m)&&u.set(p,m)},"updateMissingSv");let f=a.refs[a.i++];const h=new Map,d=o(()=>{for(const p of r){const m=p.id.client,y=n.get(m);y?(y.i--,l.clients.set(m,y.refs.slice(y.i)),n.delete(m),y.i=0,y.refs=[]):l.clients.set(m,[p]),s=s.filter(b=>b!==m)}r.length=0},"addStackToRestSS");for(;;){if(f.constructor!==Ei){const m=fc(h,f.id.client,()=>fr(e,f.id.client))-f.id.clock;if(m<0)r.push(f),c(f.id.client,f.id.clock-1),d();else{const y=f.getMissing(t,e);if(y!==null){r.push(f);const b=n.get(y)||{refs:[],i:0};if(b.refs.length===b.i)c(y,fr(e,y)),d();else{f=b.refs[b.i++];continue}}else(m===0||m<f.length)&&(f.integrate(t,m),h.set(f.id.client,f.id.clock+f.length))}}if(r.length>0)f=r.pop();else if(a!==null&&a.i<a.refs.length)f=a.refs[a.i++];else{if(a=i(),a===null)break;f=a.refs[a.i++]}}if(l.clients.size>0){const p=new Mf;return iO(p,l,new Map),Et(p.restEncoder,0),{missing:u,update:p.toUint8Array()}}return null},"integrateStructs"),hSe=o((t,e)=>iO(t,e.doc.store,e.beforeState),"writeStructsFromTransaction"),dSe=o((t,e,n,r=new ip(t))=>Yt(e,s=>{s.local=!1;let i=!1;const a=s.doc,l=a.store,u=cSe(r,a),c=fSe(s,l,u),f=l.pendingStructs;if(f){for(const[d,p]of f.missing)if(p<fr(l,d)){i=!0;break}if(c){for(const[d,p]of c.missing){const m=f.missing.get(d);(m==null||m>p)&&f.missing.set(d,p)}f.update=Ow([f.update,c.update])}}else l.pendingStructs=c;const h=c6(r,s,l);if(l.pendingDs){const d=new ip(Hp(l.pendingDs));ot(d.restDecoder);const p=c6(d,s,l);h&&p?l.pendingDs=Ow([h,p]):l.pendingDs=h||p}else l.pendingDs=h;if(i){const d=l.pendingStructs.update;l.pendingStructs=null,RW(s.doc,d)}},n,!1),"readUpdateV2"),RW=o((t,e,n,r=ip)=>{const s=Hp(e);dSe(s,t,n,new r(s))},"applyUpdateV2"),IVe=o((t,e,n)=>RW(t,e,n,IW),"applyUpdate"),pSe=o((t,e,n=new Map)=>{iO(t,e.store,n),qp(t,iSe(e.store))},"writeStateAsUpdate"),mSe=o((t,e=new Uint8Array([0]),n=new Mf)=>{const r=OW(e);pSe(n,t,r);const s=[n.toUint8Array()];if(t.store.pendingDs&&s.push(t.store.pendingDs),t.store.pendingStructs&&s.push(ASe(t.store.pendingStructs.update,e)),s.length>1){if(n.constructor===Hy)return TSe(s.map((i,a)=>a===0?i:ISe(i)));if(n.constructor===Mf)return Ow(s)}return s[0]},"encodeStateAsUpdateV2"),RVe=o((t,e)=>mSe(t,e,new Hy),"encodeStateAsUpdate"),gSe=o(t=>{const e=new Map,n=ot(t.restDecoder);for(let r=0;r<n;r++){const s=ot(t.restDecoder),i=ot(t.restDecoder);e.set(s,i)}return e},"readStateVector"),OW=o(t=>gSe(new CW(Hp(t))),"decodeStateVector");class ySe{static{o(this,"EventHandler")}constructor(){this.l=[]}}const f6=o(()=>new ySe,"createEventHandler"),h6=o((t,e)=>t.l.push(e),"addEventHandlerListener"),d6=o((t,e)=>{const n=t.l,r=n.length;t.l=n.filter(s=>e!==s),r===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},"removeEventHandlerListener"),NW=o((t,e,n)=>eO(t.l,[e,n]),"callEventHandlerListeners");class Ad{static{o(this,"ID")}constructor(e,n){this.client=e,this.clock=n}}const ob=o((t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,"compareIDs"),gt=o((t,e)=>new Ad(t,e),"createID"),bSe=o(t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw pa()},"findRootTypeKey"),Xh=o((t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!kW(e.ds,t.id),"isVisible"),UA=o((t,e)=>{const n=fc(t.meta,UA,rp),r=t.doc.store;n.has(e)||(e.sv.forEach((s,i)=>{s<fr(r,i)&&Gu(t,gt(i,s))}),TW(t,e.ds,s=>{}),n.add(e))},"splitSnapshotAffectedStructs");class MW{static{o(this,"StructStore")}constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const oO=o(t=>{const e=new Map;return t.clients.forEach((n,r)=>{const s=n[n.length-1];e.set(r,s.id.clock+s.length)}),e},"getStateVector"),fr=o((t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},"getState"),DW=o((t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==e.id.clock)throw pa()}n.push(e)},"addStruct"),ma=o((t,e)=>{let n=0,r=t.length-1,s=t[r],i=s.id.clock;if(i===e)return r;let a=Hu(e/(i+s.length-1)*r);for(;n<=r;){if(s=t[a],i=s.id.clock,i<=e){if(e<i+s.length)return a;n=a+1}else r=a-1;a=Hu((n+r)/2)}throw pa()},"findIndexSS"),_Se=o((t,e)=>{const n=t.clients.get(e.client);return n[ma(n,e.clock)]},"find$1"),KS=_Se,zA=o((t,e,n)=>{const r=ma(e,n),s=e[r];return s.id.clock<n&&s instanceof Ur?(e.splice(r+1,0,Lw(t,s,n-s.id.clock)),r+1):r},"findIndexCleanStart"),Gu=o((t,e)=>{const n=t.doc.store.clients.get(e.client);return n[zA(t,n,e.clock)]},"getItemCleanStart"),p6=o((t,e,n)=>{const r=e.clients.get(n.client),s=ma(r,n.clock),i=r[s];return n.clock!==i.id.clock+i.length-1&&i.constructor!==vi&&r.splice(s+1,0,Lw(t,i,n.clock-i.id.clock+1)),i},"getItemCleanEnd"),wSe=o((t,e,n)=>{const r=t.clients.get(e.id.client);r[ma(r,e.id.clock)]=n},"replaceStruct"),PW=o((t,e,n,r,s)=>{if(r===0)return;const i=n+r;let a=zA(t,e,n),l;do l=e[a++],i<l.id.clock+l.length&&zA(t,e,i),s(l);while(a<e.length&&e[a].id.clock<i)},"iterateStructs");let vSe=class{static{o(this,"Transaction")}constructor(e,n,r){this.doc=e,this.deleteSet=new jy,this.beforeState=oO(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}};const m6=o((t,e)=>e.deleteSet.clients.size===0&&!Wxe(e.afterState,(n,r)=>e.beforeState.get(r)!==n)?!1:(rO(e.deleteSet),hSe(t,e),qp(t,e.deleteSet),!0),"writeUpdateMessageFromTransaction"),g6=o((t,e,n)=>{const r=e._item;(r===null||r.id.clock<(t.beforeState.get(r.id.client)||0)&&!r.deleted)&&fc(t.changed,e,rp).add(n)},"addChangedTypeToTransaction"),c_=o((t,e)=>{let n=t[e],r=t[e-1],s=e;for(;s>0;n=r,r=t[--s-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof Ur&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const i=e-s;return i&&t.splice(e+1-i,i),i},"tryToMergeWithLefts"),ESe=o((t,e,n)=>{for(const[r,s]of t.clients.entries()){const i=e.clients.get(r);for(let a=s.length-1;a>=0;a--){const l=s[a],u=l.clock+l.len;for(let c=ma(i,l.clock),f=i[c];c<i.length&&f.id.clock<u;f=i[++c]){const h=i[c];if(l.clock+l.len<=h.id.clock)break;h instanceof Ur&&h.deleted&&!h.keep&&n(h)&&h.gc(e,!1)}}}},"tryGcDeleteSet"),xSe=o((t,e)=>{t.clients.forEach((n,r)=>{const s=e.clients.get(r);for(let i=n.length-1;i>=0;i--){const a=n[i],l=uW(s.length-1,1+ma(s,a.clock+a.len-1));for(let u=l,c=s[u];u>0&&c.id.clock>=a.clock;c=s[u])u-=1+c_(s,u)}})},"tryMergeDeleteSet"),$W=o((t,e)=>{if(e<t.length){const n=t[e],r=n.doc,s=r.store,i=n.deleteSet,a=n._mergeStructs;try{rO(i),n.afterState=oO(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const l=[];n.changed.forEach((u,c)=>l.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(n,u)})),l.push(()=>{n.changedParentTypes.forEach((u,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(u=u.filter(f=>f.target._item===null||!f.target._item.deleted),u.forEach(f=>{f.currentTarget=c,f._path=null}),u.sort((f,h)=>f.path.length-h.path.length),NW(c._dEH,u,n))})}),l.push(()=>r.emit("afterTransaction",[n,r])),eO(l,[]),n._needFormattingCleanup&&jSe(n)}finally{r.gc&&ESe(i,s,r.gcFilter),xSe(i,s),n.afterState.forEach((f,h)=>{const d=n.beforeState.get(h)||0;if(d!==f){const p=s.clients.get(h),m=nh(ma(p,d),1);for(let y=p.length-1;y>=m;)y-=1+c_(p,y)}});for(let f=a.length-1;f>=0;f--){const{client:h,clock:d}=a[f].id,p=s.clients.get(h),m=ma(p,d);m+1<p.length&&c_(p,m+1)>1||m>0&&c_(p,m)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(Q2e(tO,_W,"[yjs] ",wW,vW,"Changed the client-id because another client seems to be using it."),r.clientID=AW()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const f=new Hy;m6(f,n)&&r.emit("update",[f.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const f=new Mf;m6(f,n)&&r.emit("updateV2",[f.toUint8Array(),n.origin,r,n])}const{subdocsAdded:l,subdocsLoaded:u,subdocsRemoved:c}=n;(l.size>0||c.size>0||u.size>0)&&(l.forEach(f=>{f.clientID=r.clientID,f.collectionid==null&&(f.collectionid=r.collectionid),r.subdocs.add(f)}),c.forEach(f=>r.subdocs.delete(f)),r.emit("subdocs",[{loaded:u,added:l,removed:c},r,n]),c.forEach(f=>f.destroy())),t.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,t])):$W(t,e+1)}}},"cleanupTransactions"),Yt=o((t,e,n=null,r=!0)=>{const s=t._transactionCleanups;let i=!1,a=null;t._transaction===null&&(i=!0,t._transaction=new vSe(t,n,r),s.push(t._transaction),s.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{a=e(t._transaction)}finally{if(i){const l=t._transaction===s[0];t._transaction=null,l&&$W(s,0)}}return a},"transact");function*SSe(t){const e=ot(t.restDecoder);for(let n=0;n<e;n++){const r=ot(t.restDecoder),s=t.readClient();let i=ot(t.restDecoder);for(let a=0;a<r;a++){const l=t.readInfo();if(l===10){const u=ot(t.restDecoder);yield new Ei(gt(s,i),u),i+=u}else if((ux&l)!==0){const u=(l&(hl|si))===0,c=new Ur(gt(s,i),null,(l&si)===si?t.readLeftID():null,null,(l&hl)===hl?t.readRightID():null,u?t.readParentInfo()?t.readString():t.readLeftID():null,u&&(l&M0)===M0?t.readString():null,eH(t,l));yield c,i+=c.length}else{const u=t.readLen();yield new vi(gt(s,i),u),i+=u}}}}o(SSe,"lazyStructReaderGenerator");class aO{static{o(this,"LazyStructReader")}constructor(e,n){this.gen=SSe(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===Ei);return this.curr}}class lO{static{o(this,"LazyStructWriter")}constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const TSe=o(t=>Ow(t,IW,Hy),"mergeUpdates"),kSe=o((t,e)=>{if(t.constructor===vi){const{client:n,clock:r}=t.id;return new vi(gt(n,r+e),t.length-e)}else if(t.constructor===Ei){const{client:n,clock:r}=t.id;return new Ei(gt(n,r+e),t.length-e)}else{const n=t,{client:r,clock:s}=n.id;return new Ur(gt(r,s+e),null,gt(r,s+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},"sliceStruct"),Ow=o((t,e=ip,n=Mf)=>{if(t.length===1)return t[0];const r=t.map(f=>new e(Hp(f)));let s=r.map(f=>new aO(f,!0)),i=null;const a=new n,l=new lO(a);for(;s=s.filter(d=>d.curr!==null),s.sort((d,p)=>{if(d.curr.id.client===p.curr.id.client){const m=d.curr.id.clock-p.curr.id.clock;return m===0?d.curr.constructor===p.curr.constructor?0:d.curr.constructor===Ei?1:-1:m}else return p.curr.id.client-d.curr.id.client}),s.length!==0;){const f=s[0],h=f.curr.id.client;if(i!==null){let d=f.curr,p=!1;for(;d!==null&&d.id.clock+d.length<=i.struct.id.clock+i.struct.length&&d.id.client>=i.struct.id.client;)d=f.next(),p=!0;if(d===null||d.id.client!==h||p&&d.id.clock>i.struct.id.clock+i.struct.length)continue;if(h!==i.struct.id.client)cu(l,i.struct,i.offset),i={struct:d,offset:0},f.next();else if(i.struct.id.clock+i.struct.length<d.id.clock)if(i.struct.constructor===Ei)i.struct.length=d.id.clock+d.length-i.struct.id.clock;else{cu(l,i.struct,i.offset);const m=d.id.clock-i.struct.id.clock-i.struct.length;i={struct:new Ei(gt(h,i.struct.id.clock+i.struct.length),m),offset:0}}else{const m=i.struct.id.clock+i.struct.length-d.id.clock;m>0&&(i.struct.constructor===Ei?i.struct.length-=m:d=kSe(d,m)),i.struct.mergeWith(d)||(cu(l,i.struct,i.offset),i={struct:d,offset:0},f.next())}}else i={struct:f.curr,offset:0},f.next();for(let d=f.curr;d!==null&&d.id.client===h&&d.id.clock===i.struct.id.clock+i.struct.length&&d.constructor!==Ei;d=f.next())cu(l,i.struct,i.offset),i={struct:d,offset:0}}i!==null&&(cu(l,i.struct,i.offset),i=null),uO(l);const u=r.map(f=>sO(f)),c=rSe(u);return qp(a,c),a.toUint8Array()},"mergeUpdatesV2"),ASe=o((t,e,n=ip,r=Mf)=>{const s=OW(e),i=new r,a=new lO(i),l=new n(Hp(t)),u=new aO(l,!1);for(;u.curr;){const f=u.curr,h=f.id.client,d=s.get(h)||0;if(u.curr.constructor===Ei){u.next();continue}if(f.id.clock+f.length>d)for(cu(a,f,nh(d-f.id.clock,0)),u.next();u.curr&&u.curr.id.client===h;)cu(a,u.curr,0),u.next();else for(;u.curr&&u.curr.id.client===h&&u.curr.id.clock+u.curr.length<=d;)u.next()}uO(a);const c=sO(l);return qp(i,c),i.toUint8Array()},"diffUpdateV2"),LW=o(t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:ta(t.encoder.restEncoder)}),t.encoder.restEncoder=cx(),t.written=0)},"flushLazyStructWriter"),cu=o((t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&LW(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),Et(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},"writeStructToLazyStructWriter"),uO=o(t=>{LW(t);const e=t.encoder.restEncoder;Et(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const r=t.clientStructs[n];Et(e,r.written),fx(e,r.restEncoder)}},"finishLazyStructWriting"),CSe=o((t,e,n,r)=>{const s=new n(Hp(t)),i=new aO(s,!1),a=new r,l=new lO(a);for(let c=i.curr;c!==null;c=i.next())cu(l,e(c),0);uO(l);const u=sO(s);return qp(a,u),a.toUint8Array()},"convertUpdateFormat"),ISe=o(t=>CSe(t,$2e,ip,Hy),"convertUpdateFormatV2ToV1"),y6="You must not compute changes after the event-handler fired.";class dx{static{o(this,"YEvent")}constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=RSe(this.currentTarget,this.target))}deletes(e){return kW(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw qu(y6);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(s=>{if(s!==null){const i=n._map.get(s);let a,l;if(this.adds(i)){let u=i.left;for(;u!==null&&this.adds(u);)u=u.left;if(this.deletes(i))if(u!==null&&this.deletes(u))a="delete",l=VS(u.content.getContent());else return;else u!==null&&this.deletes(u)?(a="update",l=VS(u.content.getContent())):(a="add",l=void 0)}else if(this.deletes(i))a="delete",l=VS(i.content.getContent());else return;e.set(s,{action:a,oldValue:l})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw qu(y6);const n=this.target,r=rp(),s=rp(),i=[];if(e={added:r,deleted:s,delta:i,keys:this.keys},this.transaction.changed.get(n).has(null)){let l=null;const u=o(()=>{l&&i.push(l)},"packOp");for(let c=n._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((l===null||l.delete===void 0)&&(u(),l={delete:0}),l.delete+=c.length,s.add(c)):this.adds(c)?((l===null||l.insert===void 0)&&(u(),l={insert:[]}),l.insert=l.insert.concat(c.content.getContent()),r.add(c)):((l===null||l.retain===void 0)&&(u(),l={retain:0}),l.retain+=c.length);l!==null&&l.retain===void 0&&u()}this._changes=e}return e}}const RSe=o((t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let r=0,s=e._item.parent._start;for(;s!==e._item&&s!==null;)!s.deleted&&s.countable&&(r+=s.length),s=s.right;n.unshift(r)}e=e._item.parent}return n},"getPathTo"),Vr=o(()=>{eSe("Invalid access: Add Yjs type to a document before reading data.")},"warnPrematureAccess"),FW=80;let cO=0;class OSe{static{o(this,"ArraySearchMarker")}constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=cO++}}const NSe=o(t=>{t.timestamp=cO++},"refreshMarkerTimestamp"),BW=o((t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=cO++},"overwriteMarker"),MSe=o((t,e,n)=>{if(t.length>=FW){const r=t.reduce((s,i)=>s.timestamp<i.timestamp?s:i);return BW(r,e,n),r}else{const r=new OSe(e,n);return t.push(r),r}},"markPosition"),px=o((t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((i,a)=>a_(e-i.index)<a_(e-a.index)?i:a);let r=t._start,s=0;for(n!==null&&(r=n.p,s=n.index,NSe(n));r.right!==null&&s<e;){if(!r.deleted&&r.countable){if(e<s+r.length)break;s+=r.length}r=r.right}for(;r.left!==null&&s>e;)r=r.left,!r.deleted&&r.countable&&(s-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(s-=r.length);return n!==null&&a_(n.index-s)<r.parent.length/FW?(BW(n,r,s),n):MSe(t._searchMarker,r,s)},"findMarker"),F0=o((t,e,n)=>{for(let r=t.length-1;r>=0;r--){const s=t[r];if(n>0){let i=s.p;for(i.marker=!1;i&&(i.deleted||!i.countable);)i=i.left,i&&!i.deleted&&i.countable&&(s.index-=i.length);if(i===null||i.marker===!0){t.splice(r,1);continue}s.p=i,i.marker=!0}(e<s.index||n>0&&e===s.index)&&(s.index=nh(e,s.index+n))}},"updateMarkerChanges"),mx=o((t,e,n)=>{const r=t,s=e.changedParentTypes;for(;fc(s,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;NW(r._eH,n,e)},"callTypeObservers");class Tr{static{o(this,"AbstractType")}constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=f6(),this._dEH=f6(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw la()}clone(){throw la()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){h6(this._eH,e)}observeDeep(e){h6(this._dEH,e)}unobserve(e){d6(this._eH,e)}unobserveDeep(e){d6(this._dEH,e)}toJSON(){}}const UW=o((t,e,n)=>{t.doc??Vr(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let r=n-e;const s=[];let i=t._start;for(;i!==null&&r>0;){if(i.countable&&!i.deleted){const a=i.content.getContent();if(a.length<=e)e-=a.length;else{for(let l=e;l<a.length&&r>0;l++)s.push(a[l]),r--;e=0}}i=i.right}return s},"typeListSlice"),zW=o(t=>{t.doc??Vr();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let s=0;s<r.length;s++)e.push(r[s])}n=n.right}return e},"typeListToArray"),B0=o((t,e)=>{let n=0,r=t._start;for(t.doc??Vr();r!==null;){if(r.countable&&!r.deleted){const s=r.content.getContent();for(let i=0;i<s.length;i++)e(s[i],n++,t)}r=r.right}},"typeListForEach"),VW=o((t,e)=>{const n=[];return B0(t,(r,s)=>{n.push(e(r,s,t))}),n},"typeListMap"),DSe=o(t=>{let e=t._start,n=null,r=0;return{[Symbol.iterator](){return this},next:o(()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),r=0,e=e.right}const s=n[r++];return n.length<=r&&(n=null),{done:!1,value:s}},"next")}},"typeListCreateIterator"),jW=o((t,e)=>{t.doc??Vr();const n=px(t,e);let r=t._start;for(n!==null&&(r=n.p,e-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},"typeListGet"),Nw=o((t,e,n,r)=>{let s=n;const i=t.doc,a=i.clientID,l=i.store,u=n===null?e._start:n.right;let c=[];const f=o(()=>{c.length>0&&(s=new Ur(gt(a,fr(l,a)),s,s&&s.lastId,u,u&&u.id,e,null,new Pf(c)),s.integrate(t,0),c=[])},"packJsonContent");r.forEach(h=>{if(h===null)c.push(h);else switch(h.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(h);break;default:switch(f(),h.constructor){case Uint8Array:case ArrayBuffer:s=new Ur(gt(a,fr(l,a)),s,s&&s.lastId,u,u&&u.id,e,null,new qy(new Uint8Array(h))),s.integrate(t,0);break;case Wy:s=new Ur(gt(a,fr(l,a)),s,s&&s.lastId,u,u&&u.id,e,null,new Gy(h)),s.integrate(t,0);break;default:if(h instanceof Tr)s=new Ur(gt(a,fr(l,a)),s,s&&s.lastId,u,u&&u.id,e,null,new Dl(h)),s.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),f()},"typeListInsertGenericsAfter"),WW=o(()=>qu("Length exceeded!"),"lengthExceeded"),HW=o((t,e,n,r)=>{if(n>e._length)throw WW();if(n===0)return e._searchMarker&&F0(e._searchMarker,n,r.length),Nw(t,e,null,r);const s=n,i=px(e,n);let a=e._start;for(i!==null&&(a=i.p,n-=i.index,n===0&&(a=a.prev,n+=a&&a.countable&&!a.deleted?a.length:0));a!==null;a=a.right)if(!a.deleted&&a.countable){if(n<=a.length){n<a.length&&Gu(t,gt(a.id.client,a.id.clock+n));break}n-=a.length}return e._searchMarker&&F0(e._searchMarker,s,r.length),Nw(t,e,a,r)},"typeListInsertGenerics"),PSe=o((t,e,n)=>{let s=(e._searchMarker||[]).reduce((i,a)=>a.index>i.index?a:i,{index:0,p:e._start}).p;if(s)for(;s.right;)s=s.right;return Nw(t,e,s,n)},"typeListPushGenerics"),qW=o((t,e,n,r)=>{if(r===0)return;const s=n,i=r,a=px(e,n);let l=e._start;for(a!==null&&(l=a.p,n-=a.index);l!==null&&n>0;l=l.right)!l.deleted&&l.countable&&(n<l.length&&Gu(t,gt(l.id.client,l.id.clock+n)),n-=l.length);for(;r>0&&l!==null;)l.deleted||(r<l.length&&Gu(t,gt(l.id.client,l.id.clock+r)),l.delete(t),r-=l.length),l=l.right;if(r>0)throw WW();e._searchMarker&&F0(e._searchMarker,s,-i+r)},"typeListDelete"),Mw=o((t,e,n)=>{const r=e._map.get(n);r!==void 0&&r.delete(t)},"typeMapDelete"),fO=o((t,e,n,r)=>{const s=e._map.get(n)||null,i=t.doc,a=i.clientID;let l;if(r==null)l=new Pf([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:l=new Pf([r]);break;case Uint8Array:l=new qy(r);break;case Wy:l=new Gy(r);break;default:if(r instanceof Tr)l=new Dl(r);else throw new Error("Unexpected content type")}new Ur(gt(a,fr(i.store,a)),s,s&&s.lastId,null,null,e,n,l).integrate(t,0)},"typeMapSet"),hO=o((t,e)=>{t.doc??Vr();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},"typeMapGet"),GW=o(t=>{const e={};return t.doc??Vr(),t._map.forEach((n,r)=>{n.deleted||(e[r]=n.content.getContent()[n.length-1])}),e},"typeMapGetAll"),KW=o((t,e)=>{t.doc??Vr();const n=t._map.get(e);return n!==void 0&&!n.deleted},"typeMapHas"),$Se=o((t,e)=>{const n={};return t._map.forEach((r,s)=>{let i=r;for(;i!==null&&(!e.sv.has(i.id.client)||i.id.clock>=(e.sv.get(i.id.client)||0));)i=i.left;i!==null&&Xh(i,e)&&(n[s]=i.content.getContent()[i.length-1])}),n},"typeMapGetAllSnapshot"),ab=o(t=>(t.doc??Vr(),tSe(t._map.entries(),e=>!e[1].deleted)),"createMapIterator");class LSe extends dx{static{o(this,"YArrayEvent")}}class Cd extends Tr{static{o(this,"YArray")}constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new Cd;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Cd}clone(){const e=new Cd;return e.insert(0,this.toArray().map(n=>n instanceof Tr?n.clone():n)),e}get length(){return this.doc??Vr(),this._length}_callObserver(e,n){super._callObserver(e,n),mx(this,e,new LSe(this,e))}insert(e,n){this.doc!==null?Yt(this.doc,r=>{HW(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?Yt(this.doc,n=>{PSe(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?Yt(this.doc,r=>{qW(r,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return jW(this,e)}toArray(){return zW(this)}slice(e=0,n=this.length){return UW(this,e,n)}toJSON(){return this.map(e=>e instanceof Tr?e.toJSON():e)}map(e){return VW(this,e)}forEach(e){B0(this,e)}[Symbol.iterator](){return DSe(this)}_write(e){e.writeTypeRef(lTe)}}const FSe=o(t=>new Cd,"readYArray");class BSe extends dx{static{o(this,"YMapEvent")}constructor(e,n,r){super(e,n),this.keysChanged=r}}class op extends Tr{static{o(this,"YMap")}constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((r,s)=>{this.set(s,r)}),this._prelimContent=null}_copy(){return new op}clone(){const e=new op;return this.forEach((n,r)=>{e.set(r,n instanceof Tr?n.clone():n)}),e}_callObserver(e,n){mx(this,e,new BSe(this,e,n))}toJSON(){this.doc??Vr();const e={};return this._map.forEach((n,r)=>{if(!n.deleted){const s=n.content.getContent()[n.length-1];e[r]=s instanceof Tr?s.toJSON():s}}),e}get size(){return[...ab(this)].length}keys(){return GS(ab(this),e=>e[0])}values(){return GS(ab(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return GS(ab(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??Vr(),this._map.forEach((n,r)=>{n.deleted||e(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?Yt(this.doc,n=>{Mw(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?Yt(this.doc,r=>{fO(r,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return hO(this,e)}has(e){return KW(this,e)}clear(){this.doc!==null?Yt(this.doc,e=>{this.forEach(function(n,r,s){Mw(e,s,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(uTe)}}const USe=o(t=>new op,"readYMap"),gu=o((t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&D2e(t,e),"equalAttrs");class VA{static{o(this,"ItemTextListPosition")}constructor(e,n,r,s){this.left=e,this.right=n,this.index=r,this.currentAttributes=s}forward(){switch(this.right===null&&pa(),this.right.content.constructor){case Zn:this.right.deleted||Gp(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const b6=o((t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case Zn:e.right.deleted||Gp(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&Gu(t,gt(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},"findNextPosition"),lb=o((t,e,n,r)=>{const s=new Map,i=r?px(e,n):null;if(i){const a=new VA(i.p.left,i.p,i.index,s);return b6(t,a,n-i.index)}else{const a=new VA(null,e._start,0,s);return b6(t,a,n)}},"findPosition"),YW=o((t,e,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===Zn&&gu(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const s=t.doc,i=s.clientID;r.forEach((a,l)=>{const u=n.left,c=n.right,f=new Ur(gt(i,fr(s.store,i)),u,u&&u.lastId,c,c&&c.id,e,null,new Zn(l,a));f.integrate(t,0),n.right=f,n.forward()})},"insertNegatedAttributes"),Gp=o((t,e)=>{const{key:n,value:r}=e;r===null?t.delete(n):t.set(n,r)},"updateCurrentAttributes"),XW=o((t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===Zn&&gu(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},"minimizeAttributeChanges"),JW=o((t,e,n,r)=>{const s=t.doc,i=s.clientID,a=new Map;for(const l in r){const u=r[l],c=n.currentAttributes.get(l)??null;if(!gu(c,u)){a.set(l,c);const{left:f,right:h}=n;n.right=new Ur(gt(i,fr(s.store,i)),f,f&&f.lastId,h,h&&h.id,e,null,new Zn(l,u)),n.right.integrate(t,0),n.forward()}}return a},"insertAttributes"),YS=o((t,e,n,r,s)=>{n.currentAttributes.forEach((d,p)=>{s[p]===void 0&&(s[p]=null)});const i=t.doc,a=i.clientID;XW(n,s);const l=JW(t,e,n,s),u=r.constructor===String?new ga(r):r instanceof Tr?new Dl(r):new rh(r);let{left:c,right:f,index:h}=n;e._searchMarker&&F0(e._searchMarker,n.index,u.getLength()),f=new Ur(gt(a,fr(i.store,a)),c,c&&c.lastId,f,f&&f.id,e,null,u),f.integrate(t,0),n.right=f,n.index=h,n.forward(),YW(t,e,n,l)},"insertText"),_6=o((t,e,n,r,s)=>{const i=t.doc,a=i.clientID;XW(n,s);const l=JW(t,e,n,s);e:for(;n.right!==null&&(r>0||l.size>0&&(n.right.deleted||n.right.content.constructor===Zn));){if(!n.right.deleted)switch(n.right.content.constructor){case Zn:{const{key:u,value:c}=n.right.content,f=s[u];if(f!==void 0){if(gu(f,c))l.delete(u);else{if(r===0)break e;l.set(u,c)}n.right.delete(t)}else n.currentAttributes.set(u,c);break}default:r<n.right.length&&Gu(t,gt(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let u="";for(;r>0;r--)u+=`
`;n.right=new Ur(gt(a,fr(i.store,a)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new ga(u)),n.right.integrate(t,0),n.forward()}YW(t,e,n,l)},"formatText"),ZW=o((t,e,n,r,s)=>{let i=e;const a=ho();for(;i&&(!i.countable||i.deleted);){if(!i.deleted&&i.content.constructor===Zn){const c=i.content;a.set(c.key,c)}i=i.right}let l=0,u=!1;for(;e!==i;){if(n===e&&(u=!0),!e.deleted){const c=e.content;switch(c.constructor){case Zn:{const{key:f,value:h}=c,d=r.get(f)??null;(a.get(f)!==c||d===h)&&(e.delete(t),l++,!u&&(s.get(f)??null)===h&&d!==h&&(d===null?s.delete(f):s.set(f,d))),!u&&!e.deleted&&Gp(s,c);break}}}e=e.right}return l},"cleanupFormattingGap"),zSe=o((t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===Zn){const r=e.content.key;n.has(r)?e.delete(t):n.add(r)}e=e.left}},"cleanupContextlessFormattingGap"),VSe=o(t=>{let e=0;return Yt(t.doc,n=>{let r=t._start,s=t._start,i=ho();const a=PA(i);for(;s;){if(s.deleted===!1)switch(s.content.constructor){case Zn:Gp(a,s.content);break;default:e+=ZW(n,r,s,i,a),i=PA(a),r=s;break}s=s.right}}),e},"cleanupYTextFormatting"),jSe=o(t=>{const e=new Set,n=t.doc;for(const[r,s]of t.afterState.entries()){const i=t.beforeState.get(r)||0;s!==i&&PW(t,n.store.clients.get(r),i,s,a=>{!a.deleted&&a.content.constructor===Zn&&a.constructor!==vi&&e.add(a.parent)})}Yt(n,r=>{TW(t,t.deleteSet,s=>{if(s instanceof vi||!s.parent._hasFormatting||e.has(s.parent))return;const i=s.parent;s.content.constructor===Zn?e.add(i):zSe(r,s)});for(const s of e)VSe(s)})},"cleanupYTextAfterTransaction"),w6=o((t,e,n)=>{const r=n,s=PA(e.currentAttributes),i=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case Dl:case rh:case ga:n<e.right.length&&Gu(t,gt(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}i&&ZW(t,i,e.right,s,e.currentAttributes);const a=(e.left||e.right).parent;return a._searchMarker&&F0(a._searchMarker,e.index,-r+n),e},"deleteText");class WSe extends dx{static{o(this,"YTextEvent")}constructor(e,n,r){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(s=>{s===null?this.childListChanged=!0:this.keysChanged.add(s)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];Yt(e,r=>{const s=new Map,i=new Map;let a=this.target._start,l=null;const u={};let c="",f=0,h=0;const d=o(()=>{if(l!==null){let p=null;switch(l){case"delete":h>0&&(p={delete:h}),h=0;break;case"insert":(typeof c=="object"||c.length>0)&&(p={insert:c},s.size>0&&(p.attributes={},s.forEach((m,y)=>{m!==null&&(p.attributes[y]=m)}))),c="";break;case"retain":f>0&&(p={retain:f},O2e(u)||(p.attributes=C2e({},u))),f=0;break}p&&n.push(p),l=null}},"addOp");for(;a!==null;){switch(a.content.constructor){case Dl:case rh:this.adds(a)?this.deletes(a)||(d(),l="insert",c=a.content.getContent()[0],d()):this.deletes(a)?(l!=="delete"&&(d(),l="delete"),h+=1):a.deleted||(l!=="retain"&&(d(),l="retain"),f+=1);break;case ga:this.adds(a)?this.deletes(a)||(l!=="insert"&&(d(),l="insert"),c+=a.content.str):this.deletes(a)?(l!=="delete"&&(d(),l="delete"),h+=a.length):a.deleted||(l!=="retain"&&(d(),l="retain"),f+=a.length);break;case Zn:{const{key:p,value:m}=a.content;if(this.adds(a)){if(!this.deletes(a)){const y=s.get(p)??null;gu(y,m)?m!==null&&a.delete(r):(l==="retain"&&d(),gu(m,i.get(p)??null)?delete u[p]:u[p]=m)}}else if(this.deletes(a)){i.set(p,m);const y=s.get(p)??null;gu(y,m)||(l==="retain"&&d(),u[p]=y)}else if(!a.deleted){i.set(p,m);const y=u[p];y!==void 0&&(gu(y,m)?y!==null&&a.delete(r):(l==="retain"&&d(),m===null?delete u[p]:u[p]=m))}a.deleted||(l==="insert"&&d(),Gp(s,a.content));break}}a=a.right}for(d();n.length>0;){const p=n[n.length-1];if(p.retain!==void 0&&p.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class ap extends Tr{static{o(this,"YText")}constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Vr(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new ap}clone(){const e=new ap;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const r=new WSe(this,e,n);mx(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??Vr();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===ga&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?Yt(this.doc,r=>{const s=new VA(null,this._start,0,new Map);for(let i=0;i<e.length;i++){const a=e[i];if(a.insert!==void 0){const l=!n&&typeof a.insert=="string"&&i===e.length-1&&s.right===null&&a.insert.slice(-1)===`
`?a.insert.slice(0,-1):a.insert;(typeof l!="string"||l.length>0)&&YS(r,this,s,l,a.attributes||{})}else a.retain!==void 0?_6(r,this,s,a.retain,a.attributes||{}):a.delete!==void 0&&w6(r,s,a.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,r){this.doc??Vr();const s=[],i=new Map,a=this.doc;let l="",u=this._start;function c(){if(l.length>0){const h={};let d=!1;i.forEach((m,y)=>{d=!0,h[y]=m});const p={insert:l};d&&(p.attributes=h),s.push(p),l=""}}o(c,"packStr");const f=o(()=>{for(;u!==null;){if(Xh(u,e)||n!==void 0&&Xh(u,n))switch(u.content.constructor){case ga:{const h=i.get("ychange");e!==void 0&&!Xh(u,e)?(h===void 0||h.user!==u.id.client||h.type!=="removed")&&(c(),i.set("ychange",r?r("removed",u.id):{type:"removed"})):n!==void 0&&!Xh(u,n)?(h===void 0||h.user!==u.id.client||h.type!=="added")&&(c(),i.set("ychange",r?r("added",u.id):{type:"added"})):h!==void 0&&(c(),i.delete("ychange")),l+=u.content.str;break}case Dl:case rh:{c();const h={insert:u.content.getContent()[0]};if(i.size>0){const d={};h.attributes=d,i.forEach((p,m)=>{d[m]=p})}s.push(h);break}case Zn:Xh(u,e)&&(c(),Gp(i,u.content));break}u=u.right}c()},"computeDelta");return e||n?Yt(a,h=>{e&&UA(h,e),n&&UA(h,n),f()},"cleanup"):f(),s}insert(e,n,r){if(n.length<=0)return;const s=this.doc;s!==null?Yt(s,i=>{const a=lb(i,this,e,!r);r||(r={},a.currentAttributes.forEach((l,u)=>{r[u]=l})),YS(i,this,a,n,r)}):this._pending.push(()=>this.insert(e,n,r))}insertEmbed(e,n,r){const s=this.doc;s!==null?Yt(s,i=>{const a=lb(i,this,e,!r);YS(i,this,a,n,r||{})}):this._pending.push(()=>this.insertEmbed(e,n,r||{}))}delete(e,n){if(n===0)return;const r=this.doc;r!==null?Yt(r,s=>{w6(s,lb(s,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,r){if(n===0)return;const s=this.doc;s!==null?Yt(s,i=>{const a=lb(i,this,e,!1);a.right!==null&&_6(i,this,a,n,r)}):this._pending.push(()=>this.format(e,n,r))}removeAttribute(e){this.doc!==null?Yt(this.doc,n=>{Mw(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?Yt(this.doc,r=>{fO(r,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return hO(this,e)}getAttributes(){return GW(this)}_write(e){e.writeTypeRef(cTe)}}const HSe=o(t=>new ap,"readYText");class XS{static{o(this,"YXmlTreeWalker")}constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??Vr()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===lp||n.constructor===Df)&&n._start!==null)e=n._start;else for(;e!==null;){const r=e.next;if(r!==null){e=r;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class Df extends Tr{static{o(this,"YXmlFragment")}constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Df}clone(){const e=new Df;return e.insert(0,this.toArray().map(n=>n instanceof Tr?n.clone():n)),e}get length(){return this.doc??Vr(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new XS(this,e)}querySelector(e){e=e.toUpperCase();const r=new XS(this,s=>s.nodeName&&s.nodeName.toUpperCase()===e).next();return r.done?null:r.value}querySelectorAll(e){return e=e.toUpperCase(),Nf(new XS(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){mx(this,e,new KSe(this,n,e))}toString(){return VW(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},r){const s=e.createDocumentFragment();return r!==void 0&&r._createAssociation(s,this),B0(this,i=>{s.insertBefore(i.toDOM(e,n,r),null)}),s}insert(e,n){this.doc!==null?Yt(this.doc,r=>{HW(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)Yt(this.doc,r=>{const s=e&&e instanceof Tr?e._item:e;Nw(r,this,s,n)});else{const r=this._prelimContent,s=e===null?0:r.findIndex(i=>i===e)+1;if(s===0&&e!==null)throw qu("Reference item not found");r.splice(s,0,...n)}}delete(e,n=1){this.doc!==null?Yt(this.doc,r=>{qW(r,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return zW(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return jW(this,e)}slice(e=0,n=this.length){return UW(this,e,n)}forEach(e){B0(this,e)}_write(e){e.writeTypeRef(hTe)}}const qSe=o(t=>new Df,"readYXmlFragment");class lp extends Df{static{o(this,"YXmlElement")}constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((r,s)=>{this.setAttribute(s,r)}),this._prelimAttrs=null}_copy(){return new lp(this.nodeName)}clone(){const e=new lp(this.nodeName),n=this.getAttributes();return R2e(n,(r,s)=>{typeof r=="string"&&e.setAttribute(s,r)}),e.insert(0,this.toArray().map(r=>r instanceof Tr?r.clone():r)),e}toString(){const e=this.getAttributes(),n=[],r=[];for(const l in e)r.push(l);r.sort();const s=r.length;for(let l=0;l<s;l++){const u=r[l];n.push(u+'="'+e[u]+'"')}const i=this.nodeName.toLocaleLowerCase(),a=n.length>0?" "+n.join(" "):"";return`<${i}${a}>${super.toString()}</${i}>`}removeAttribute(e){this.doc!==null?Yt(this.doc,n=>{Mw(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?Yt(this.doc,r=>{fO(r,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return hO(this,e)}hasAttribute(e){return KW(this,e)}getAttributes(e){return e?$Se(this,e):GW(this)}toDOM(e=document,n={},r){const s=e.createElement(this.nodeName),i=this.getAttributes();for(const a in i){const l=i[a];typeof l=="string"&&s.setAttribute(a,l)}return B0(this,a=>{s.appendChild(a.toDOM(e,n,r))}),r!==void 0&&r._createAssociation(s,this),s}_write(e){e.writeTypeRef(fTe),e.writeKey(this.nodeName)}}const GSe=o(t=>new lp(t.readKey()),"readYXmlElement");class KSe extends dx{static{o(this,"YXmlEvent")}constructor(e,n,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(s=>{s===null?this.childListChanged=!0:this.attributesChanged.add(s)})}}class Dw extends op{static{o(this,"YXmlHook")}constructor(e){super(),this.hookName=e}_copy(){return new Dw(this.hookName)}clone(){const e=new Dw(this.hookName);return this.forEach((n,r)=>{e.set(r,n)}),e}toDOM(e=document,n={},r){const s=n[this.hookName];let i;return s!==void 0?i=s.createDom(this):i=document.createElement(this.hookName),i.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(i,this),i}_write(e){e.writeTypeRef(dTe),e.writeKey(this.hookName)}}const YSe=o(t=>new Dw(t.readKey()),"readYXmlHook");class Pw extends ap{static{o(this,"YXmlText")}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new Pw}clone(){const e=new Pw;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,r){const s=e.createTextNode(this.toString());return r!==void 0&&r._createAssociation(s,this),s}toString(){return this.toDelta().map(e=>{const n=[];for(const s in e.attributes){const i=[];for(const a in e.attributes[s])i.push({key:a,value:e.attributes[s][a]});i.sort((a,l)=>a.key<l.key?-1:1),n.push({nodeName:s,attrs:i})}n.sort((s,i)=>s.nodeName<i.nodeName?-1:1);let r="";for(let s=0;s<n.length;s++){const i=n[s];r+=`<${i.nodeName}`;for(let a=0;a<i.attrs.length;a++){const l=i.attrs[a];r+=` ${l.key}="${l.value}"`}r+=">"}r+=e.insert;for(let s=n.length-1;s>=0;s--)r+=`</${n[s].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(pTe)}}const XSe=o(t=>new Pw,"readYXmlText");class dO{static{o(this,"AbstractStruct")}constructor(e,n){this.id=e,this.length=n}get deleted(){throw la()}mergeWith(e){return!1}write(e,n,r){throw la()}integrate(e,n){throw la()}}const JSe=0;class vi extends dO{static{o(this,"GC")}get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),DW(e.doc.store,this)}write(e,n){e.writeInfo(JSe),e.writeLen(this.length-n)}getMissing(e,n){return null}}class qy{static{o(this,"ContentBinary")}constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new qy(this.content)}splice(e){throw la()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const ZSe=o(t=>new qy(t.readBuf()),"readContentBinary");class U0{static{o(this,"ContentDeleted")}constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new U0(this.len)}splice(e){const n=new U0(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){Rw(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const QSe=o(t=>new U0(t.readLen()),"readContentDeleted"),QW=o((t,e)=>new Wy({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1}),"createDocFromOpts");class Gy{static{o(this,"ContentDoc")}constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Gy(QW(this.doc.guid,this.opts))}splice(e){throw la()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const eTe=o(t=>new Gy(QW(t.readString(),t.readAny())),"readContentDoc");class rh{static{o(this,"ContentEmbed")}constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new rh(this.embed)}splice(e){throw la()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const tTe=o(t=>new rh(t.readJSON()),"readContentEmbed");class Zn{static{o(this,"ContentFormat")}constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Zn(this.key,this.value)}splice(e){throw la()}mergeWith(e){return!1}integrate(e,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const nTe=o(t=>new Zn(t.readKey(),t.readJSON()),"readContentFormat");class $w{static{o(this,"ContentJSON")}constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new $w(this.arr)}splice(e){const n=new $w(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let s=n;s<r;s++){const i=this.arr[s];e.writeString(i===void 0?"undefined":JSON.stringify(i))}}getRef(){return 2}}const rTe=o(t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++){const s=t.readString();s==="undefined"?n.push(void 0):n.push(JSON.parse(s))}return new $w(n)},"readContentJSON"),sTe=Iw("node_env")==="development";class Pf{static{o(this,"ContentAny")}constructor(e){this.arr=e,sTe&&gW(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Pf(this.arr)}splice(e){const n=new Pf(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let s=n;s<r;s++){const i=this.arr[s];e.writeAny(i)}}getRef(){return 8}}const iTe=o(t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++)n.push(t.readAny());return new Pf(n)},"readContentAny");class ga{static{o(this,"ContentString")}constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new ga(this.str)}splice(e){const n=new ga(this.str.slice(e));this.str=this.str.slice(0,e);const r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"",n.str=""+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const oTe=o(t=>new ga(t.readString()),"readContentString"),aTe=[FSe,USe,HSe,GSe,qSe,YSe,XSe],lTe=0,uTe=1,cTe=2,fTe=3,hTe=4,dTe=5,pTe=6;class Dl{static{o(this,"ContentType")}constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Dl(this.type._copy())}splice(e){throw la()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(e,!0),r=r.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const mTe=o(t=>new Dl(aTe[t.readTypeRef()](t)),"readContentType"),Lw=o((t,e,n)=>{const{client:r,clock:s}=e.id,i=new Ur(gt(r,s+n),e,gt(r,s+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&i.markDeleted(),e.keep&&(i.keep=!0),e.redone!==null&&(i.redone=gt(e.redone.client,e.redone.clock+n)),e.right=i,i.right!==null&&(i.right.left=i),t._mergeStructs.push(i),i.parentSub!==null&&i.right===null&&i.parent._map.set(i.parentSub,i),e.length=n,i},"splitItem");let Ur=class jA extends dO{static{o(this,"Item")}constructor(e,n,r,s,i,a,l,u){super(e,u.getLength()),this.origin=r,this.left=n,this.right=s,this.rightOrigin=i,this.parent=a,this.parentSub=l,this.redone=null,this.content=u,this.info=this.content.isCountable()?e6:0}set marker(e){(this.info&WS)>0!==e&&(this.info^=WS)}get marker(){return(this.info&WS)>0}get keep(){return(this.info&QL)>0}set keep(e){this.keep!==e&&(this.info^=QL)}get countable(){return(this.info&e6)>0}get deleted(){return(this.info&jS)>0}set deleted(e){this.deleted!==e&&(this.info^=jS)}markDeleted(){this.info|=jS}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=fr(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=fr(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Ad&&this.id.client!==this.parent.client&&this.parent.clock>=fr(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=p6(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Gu(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===vi||this.right&&this.right.constructor===vi)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===jA?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===jA&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Ad){const r=KS(n,this.parent);r.constructor===vi?this.parent=null:this.parent=r.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=p6(e,e.doc.store,gt(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,s;if(r!==null)s=r.right;else if(this.parentSub!==null)for(s=this.parent._map.get(this.parentSub)||null;s!==null&&s.left!==null;)s=s.left;else s=this.parent._start;const i=new Set,a=new Set;for(;s!==null&&s!==this.right;){if(a.add(s),i.add(s),ob(this.origin,s.origin)){if(s.id.client<this.id.client)r=s,i.clear();else if(ob(this.rightOrigin,s.rightOrigin))break}else if(s.origin!==null&&a.has(KS(e.doc.store,s.origin)))i.has(KS(e.doc.store,s.origin))||(r=s,i.clear());else break;s=s.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),DW(e.doc.store,this),this.content.integrate(e,this),g6(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new vi(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:gt(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&ob(e.origin,this.lastId)&&this.right===e&&ob(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===e&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),Rw(e.deleteSet,this.id.client,this.id.clock,this.length),g6(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw pa();this.content.gc(e),n?wSe(e,this,new vi(this.id,this.length)):this.content=new U0(this.length)}write(e,n){const r=n>0?gt(this.id.client,this.id.clock+n-1):this.origin,s=this.rightOrigin,i=this.parentSub,a=this.content.getRef()&ux|(r===null?0:si)|(s===null?0:hl)|(i===null?0:M0);if(e.writeInfo(a),r!==null&&e.writeLeftID(r),s!==null&&e.writeRightID(s),r===null&&s===null){const l=this.parent;if(l._item!==void 0){const u=l._item;if(u===null){const c=bSe(l);e.writeParentInfo(!0),e.writeString(c)}else e.writeParentInfo(!1),e.writeLeftID(u.id)}else l.constructor===String?(e.writeParentInfo(!0),e.writeString(l)):l.constructor===Ad?(e.writeParentInfo(!1),e.writeLeftID(l)):pa();i!==null&&e.writeString(i)}this.content.write(e,n)}};const eH=o((t,e)=>gTe[e&ux](t),"readItemContent"),gTe=[()=>{pa()},QSe,rTe,ZSe,oTe,tTe,nTe,mTe,iTe,eTe,()=>{pa()}],yTe=10;class Ei extends dO{static{o(this,"Skip")}get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){pa()}write(e,n){e.writeInfo(yTe),Et(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const tH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},nH="__ $YJS$ __";tH[nH]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");tH[nH]=!0;function El(t){return Array.isArray?Array.isArray(t):iH(t)==="[object Array]"}o(El,"isArray");function bTe(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}o(bTe,"baseToString");function _Te(t){return t==null?"":bTe(t)}o(_Te,"toString");function na(t){return typeof t=="string"}o(na,"isString$2");function rH(t){return typeof t=="number"}o(rH,"isNumber$1");function wTe(t){return t===!0||t===!1||vTe(t)&&iH(t)=="[object Boolean]"}o(wTe,"isBoolean");function sH(t){return typeof t=="object"}o(sH,"isObject$1");function vTe(t){return sH(t)&&t!==null}o(vTe,"isObjectLike");function Ks(t){return t!=null}o(Ks,"isDefined");function JS(t){return!t.trim().length}o(JS,"isBlank");function iH(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}o(iH,"getTag");const ETe="Incorrect 'index' type",xTe=o(t=>`Invalid value for key ${t}`,"LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY"),STe=o(t=>`Pattern length exceeds max of ${t}.`,"PATTERN_LENGTH_TOO_LARGE"),TTe=o(t=>`Missing ${t} property in key`,"MISSING_KEY_PROPERTY"),kTe=o(t=>`Property 'weight' in key '${t}' must be a positive integer`,"INVALID_KEY_WEIGHT_VALUE"),v6=Object.prototype.hasOwnProperty;class ATe{static{o(this,"KeyStore")}constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let s=oH(r);this._keys.push(s),this._keyMap[s.id]=s,n+=s.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function oH(t){let e=null,n=null,r=null,s=1,i=null;if(na(t)||El(t))r=t,e=E6(t),n=WA(t);else{if(!v6.call(t,"name"))throw new Error(TTe("name"));const a=t.name;if(r=a,v6.call(t,"weight")&&(s=t.weight,s<=0))throw new Error(kTe(a));e=E6(a),n=WA(a),i=t.getFn}return{path:e,id:n,weight:s,src:r,getFn:i}}o(oH,"createKey$1");function E6(t){return El(t)?t:t.split(".")}o(E6,"createKeyPath");function WA(t){return El(t)?t.join("."):t}o(WA,"createKeyId");function CTe(t,e){let n=[],r=!1;const s=o((i,a,l)=>{if(Ks(i))if(!a[l])n.push(i);else{let u=a[l];const c=i[u];if(!Ks(c))return;if(l===a.length-1&&(na(c)||rH(c)||wTe(c)))n.push(_Te(c));else if(El(c)){r=!0;for(let f=0,h=c.length;f<h;f+=1)s(c[f],a,l+1)}else a.length&&s(c,a,l+1)}},"deepGet");return s(t,na(e)?e.split("."):e,0),r?n:n[0]}o(CTe,"get$1");const ITe={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},RTe={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:o((t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,"sortFn")},OTe={location:0,threshold:.6,distance:100},NTe={useExtendedSearch:!1,getFn:CTe,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ge={...RTe,...ITe,...OTe,...NTe};const MTe=/[^ ]+/g;function DTe(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(s){const i=s.match(MTe).length;if(n.has(i))return n.get(i);const a=1/Math.pow(i,.5*t),l=parseFloat(Math.round(a*r)/r);return n.set(i,l),l},clear(){n.clear()}}}o(DTe,"norm");class pO{static{o(this,"FuseIndex")}constructor({getFn:e=Ge.getFn,fieldNormWeight:n=Ge.fieldNormWeight}={}){this.norm=DTe(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,na(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();na(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!Ks(e)||JS(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((s,i)=>{let a=s.getFn?s.getFn(e):this.getFn(e,s.path);if(Ks(a)){if(El(a)){let l=[];const u=[{nestedArrIndex:-1,value:a}];for(;u.length;){const{nestedArrIndex:c,value:f}=u.pop();if(Ks(f))if(na(f)&&!JS(f)){let h={v:f,i:c,n:this.norm.get(f)};l.push(h)}else El(f)&&f.forEach((h,d)=>{u.push({nestedArrIndex:d,value:h})})}r.$[i]=l}else if(na(a)&&!JS(a)){let l={v:a,n:this.norm.get(a)};r.$[i]=l}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function aH(t,e,{getFn:n=Ge.getFn,fieldNormWeight:r=Ge.fieldNormWeight}={}){const s=new pO({getFn:n,fieldNormWeight:r});return s.setKeys(t.map(oH)),s.setSources(e),s.create(),s}o(aH,"createIndex");function PTe(t,{getFn:e=Ge.getFn,fieldNormWeight:n=Ge.fieldNormWeight}={}){const{keys:r,records:s}=t,i=new pO({getFn:e,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(s),i}o(PTe,"parseIndex");function ub(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:s=Ge.distance,ignoreLocation:i=Ge.ignoreLocation}={}){const a=e/t.length;if(i)return a;const l=Math.abs(r-n);return s?a+l/s:l?1:a}o(ub,"computeScore$1");function $Te(t=[],e=Ge.minMatchCharLength){let n=[],r=-1,s=-1,i=0;for(let a=t.length;i<a;i+=1){let l=t[i];l&&r===-1?r=i:!l&&r!==-1&&(s=i-1,s-r+1>=e&&n.push([r,s]),r=-1)}return t[i-1]&&i-r>=e&&n.push([r,i-1]),n}o($Te,"convertMaskToIndices");const Fc=32;function LTe(t,e,n,{location:r=Ge.location,distance:s=Ge.distance,threshold:i=Ge.threshold,findAllMatches:a=Ge.findAllMatches,minMatchCharLength:l=Ge.minMatchCharLength,includeMatches:u=Ge.includeMatches,ignoreLocation:c=Ge.ignoreLocation}={}){if(e.length>Fc)throw new Error(STe(Fc));const f=e.length,h=t.length,d=Math.max(0,Math.min(r,h));let p=i,m=d;const y=l>1||u,b=y?Array(h):[];let _;for(;(_=t.indexOf(e,m))>-1;){let x=ub(e,{currentLocation:_,expectedLocation:d,distance:s,ignoreLocation:c});if(p=Math.min(x,p),m=_+f,y){let E=0;for(;E<f;)b[_+E]=1,E+=1}}m=-1;let S=[],v=1,k=f+h;const C=1<<f-1;for(let x=0;x<f;x+=1){let E=0,T=k;for(;E<T;)ub(e,{errors:x,currentLocation:d+T,expectedLocation:d,distance:s,ignoreLocation:c})<=p?E=T:k=T,T=Math.floor((k-E)/2+E);k=T;let O=Math.max(1,d-T+1),N=a?h:Math.min(d+T,h)+f,R=Array(N+2);R[N+1]=(1<<x)-1;for(let B=N;B>=O;B-=1){let z=B-1,V=n[t.charAt(z)];if(y&&(b[z]=+!!V),R[B]=(R[B+1]<<1|1)&V,x&&(R[B]|=(S[B+1]|S[B])<<1|1|S[B+1]),R[B]&C&&(v=ub(e,{errors:x,currentLocation:z,expectedLocation:d,distance:s,ignoreLocation:c}),v<=p)){if(p=v,m=z,m<=d)break;O=Math.max(1,2*d-m)}}if(ub(e,{errors:x+1,currentLocation:d,expectedLocation:d,distance:s,ignoreLocation:c})>p)break;S=R}const I={isMatch:m>=0,score:Math.max(.001,v)};if(y){const x=$Te(b,l);x.length?u&&(I.indices=x):I.isMatch=!1}return I}o(LTe,"search");function FTe(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const s=t.charAt(n);e[s]=(e[s]||0)|1<<r-n-1}return e}o(FTe,"createPatternAlphabet");class lH{static{o(this,"BitapSearch")}constructor(e,{location:n=Ge.location,threshold:r=Ge.threshold,distance:s=Ge.distance,includeMatches:i=Ge.includeMatches,findAllMatches:a=Ge.findAllMatches,minMatchCharLength:l=Ge.minMatchCharLength,isCaseSensitive:u=Ge.isCaseSensitive,ignoreLocation:c=Ge.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:s,includeMatches:i,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:c},this.pattern=u?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const f=o((d,p)=>{this.chunks.push({pattern:d,alphabet:FTe(d),startIndex:p})},"addChunk"),h=this.pattern.length;if(h>Fc){let d=0;const p=h%Fc,m=h-p;for(;d<m;)f(this.pattern.substr(d,Fc),d),d+=Fc;if(p){const y=h-Fc;f(this.pattern.substr(y),y)}}else f(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(e=e.toLowerCase()),this.pattern===e){let m={isMatch:!0,score:0};return r&&(m.indices=[[0,e.length-1]]),m}const{location:s,distance:i,threshold:a,findAllMatches:l,minMatchCharLength:u,ignoreLocation:c}=this.options;let f=[],h=0,d=!1;this.chunks.forEach(({pattern:m,alphabet:y,startIndex:b})=>{const{isMatch:_,score:S,indices:v}=LTe(e,m,y,{location:s+b,distance:i,threshold:a,findAllMatches:l,minMatchCharLength:u,includeMatches:r,ignoreLocation:c});_&&(d=!0),h+=S,_&&v&&(f=[...f,...v])});let p={isMatch:d,score:d?h/this.chunks.length:1};return d&&r&&(p.indices=f),p}}class hc{static{o(this,"BaseMatch")}constructor(e){this.pattern=e}static isMultiMatch(e){return x6(e,this.multiRegex)}static isSingleMatch(e){return x6(e,this.singleRegex)}search(){}}function x6(t,e){const n=t.match(e);return n?n[1]:null}o(x6,"getMatch");class BTe extends hc{static{o(this,"ExactMatch")}constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class UTe extends hc{static{o(this,"InverseExactMatch")}constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class zTe extends hc{static{o(this,"PrefixExactMatch")}constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class VTe extends hc{static{o(this,"InversePrefixExactMatch")}constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class jTe extends hc{static{o(this,"SuffixExactMatch")}constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class WTe extends hc{static{o(this,"InverseSuffixExactMatch")}constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class uH extends hc{static{o(this,"FuzzyMatch")}constructor(e,{location:n=Ge.location,threshold:r=Ge.threshold,distance:s=Ge.distance,includeMatches:i=Ge.includeMatches,findAllMatches:a=Ge.findAllMatches,minMatchCharLength:l=Ge.minMatchCharLength,isCaseSensitive:u=Ge.isCaseSensitive,ignoreLocation:c=Ge.ignoreLocation}={}){super(e),this._bitapSearch=new lH(e,{location:n,threshold:r,distance:s,includeMatches:i,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class cH extends hc{static{o(this,"IncludeMatch")}constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const s=[],i=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+i,s.push([r,n-1]);const a=!!s.length;return{isMatch:a,score:a?0:1,indices:s}}}const HA=[BTe,cH,zTe,VTe,WTe,jTe,UTe,uH],S6=HA.length,HTe=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,qTe="|";function GTe(t,e={}){return t.split(qTe).map(n=>{let r=n.trim().split(HTe).filter(i=>i&&!!i.trim()),s=[];for(let i=0,a=r.length;i<a;i+=1){const l=r[i];let u=!1,c=-1;for(;!u&&++c<S6;){const f=HA[c];let h=f.isMultiMatch(l);h&&(s.push(new f(h,e)),u=!0)}if(!u)for(c=-1;++c<S6;){const f=HA[c];let h=f.isSingleMatch(l);if(h){s.push(new f(h,e));break}}}return s})}o(GTe,"parseQuery");const KTe=new Set([uH.type,cH.type]);class YTe{static{o(this,"ExtendedSearch")}constructor(e,{isCaseSensitive:n=Ge.isCaseSensitive,includeMatches:r=Ge.includeMatches,minMatchCharLength:s=Ge.minMatchCharLength,ignoreLocation:i=Ge.ignoreLocation,findAllMatches:a=Ge.findAllMatches,location:l=Ge.location,threshold:u=Ge.threshold,distance:c=Ge.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:s,findAllMatches:a,ignoreLocation:i,location:l,threshold:u,distance:c},this.pattern=n?e:e.toLowerCase(),this.query=GTe(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:s}=this.options;e=s?e:e.toLowerCase();let i=0,a=[],l=0;for(let u=0,c=n.length;u<c;u+=1){const f=n[u];a.length=0,i=0;for(let h=0,d=f.length;h<d;h+=1){const p=f[h],{isMatch:m,indices:y,score:b}=p.search(e);if(m){if(i+=1,l+=b,r){const _=p.constructor.type;KTe.has(_)?a=[...a,...y]:a.push(y)}}else{l=0,i=0,a.length=0;break}}if(i){let h={isMatch:!0,score:l/i};return r&&(h.indices=a),h}}return{isMatch:!1,score:1}}}const qA=[];function XTe(...t){qA.push(...t)}o(XTe,"register$3");function GA(t,e){for(let n=0,r=qA.length;n<r;n+=1){let s=qA[n];if(s.condition(t,e))return new s(t,e)}return new lH(t,e)}o(GA,"createSearcher");const Fw={AND:"$and",OR:"$or"},KA={PATH:"$path",PATTERN:"$val"},YA=o(t=>!!(t[Fw.AND]||t[Fw.OR]),"isExpression"),JTe=o(t=>!!t[KA.PATH],"isPath"),ZTe=o(t=>!El(t)&&sH(t)&&!YA(t),"isLeaf"),T6=o(t=>({[Fw.AND]:Object.keys(t).map(e=>({[e]:t[e]}))}),"convertToExplicit");function fH(t,e,{auto:n=!0}={}){const r=o(s=>{let i=Object.keys(s);const a=JTe(s);if(!a&&i.length>1&&!YA(s))return r(T6(s));if(ZTe(s)){const u=a?s[KA.PATH]:i[0],c=a?s[KA.PATTERN]:s[u];if(!na(c))throw new Error(xTe(u));const f={keyId:WA(u),pattern:c};return n&&(f.searcher=GA(c,e)),f}let l={children:[],operator:i[0]};return i.forEach(u=>{const c=s[u];El(c)&&c.forEach(f=>{l.children.push(r(f))})}),l},"next");return YA(t)||(t=T6(t)),r(t)}o(fH,"parse");function QTe(t,{ignoreFieldNorm:e=Ge.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:s,norm:i,score:a})=>{const l=s?s.weight:null;r*=Math.pow(a===0&&l?Number.EPSILON:a,(l||1)*(e?1:i))}),n.score=r})}o(QTe,"computeScore");function eke(t,e){const n=t.matches;e.matches=[],Ks(n)&&n.forEach(r=>{if(!Ks(r.indices)||!r.indices.length)return;const{indices:s,value:i}=r;let a={indices:s,value:i};r.key&&(a.key=r.key.src),r.idx>-1&&(a.refIndex=r.idx),e.matches.push(a)})}o(eke,"transformMatches");function tke(t,e){e.score=t.score}o(tke,"transformScore");function nke(t,e,{includeMatches:n=Ge.includeMatches,includeScore:r=Ge.includeScore}={}){const s=[];return n&&s.push(eke),r&&s.push(tke),t.map(i=>{const{idx:a}=i,l={item:e[a],refIndex:a};return s.length&&s.forEach(u=>{u(i,l)}),l})}o(nke,"format$1");class Kp{static{o(this,"Fuse")}constructor(e,n={},r){this.options={...Ge,...n},this.options.useExtendedSearch,this._keyStore=new ATe(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof pO))throw new Error(ETe);this._myIndex=n||aH(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Ks(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,s=this._docs.length;r<s;r+=1){const i=this._docs[r];e(i,r)&&(this.removeAt(r),r-=1,s-=1,n.push(i))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:s,shouldSort:i,sortFn:a,ignoreFieldNorm:l}=this.options;let u=na(e)?na(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return QTe(u,{ignoreFieldNorm:l}),i&&u.sort(a),rH(n)&&n>-1&&(u=u.slice(0,n)),nke(u,this._docs,{includeMatches:r,includeScore:s})}_searchStringList(e){const n=GA(e,this.options),{records:r}=this._myIndex,s=[];return r.forEach(({v:i,i:a,n:l})=>{if(!Ks(i))return;const{isMatch:u,score:c,indices:f}=n.searchIn(i);u&&s.push({item:i,idx:a,matches:[{score:c,value:i,norm:l,indices:f}]})}),s}_searchLogical(e){const n=fH(e,this.options),r=o((l,u,c)=>{if(!l.children){const{keyId:h,searcher:d}=l,p=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(u,h),searcher:d});return p&&p.length?[{idx:c,item:u,matches:p}]:[]}const f=[];for(let h=0,d=l.children.length;h<d;h+=1){const p=l.children[h],m=r(p,u,c);if(m.length)f.push(...m);else if(l.operator===Fw.AND)return[]}return f},"evaluate"),s=this._myIndex.records,i={},a=[];return s.forEach(({$:l,i:u})=>{if(Ks(l)){let c=r(n,l,u);c.length&&(i[u]||(i[u]={idx:u,item:l,matches:[]},a.push(i[u])),c.forEach(({matches:f})=>{i[u].matches.push(...f)}))}}),a}_searchObjectList(e){const n=GA(e,this.options),{keys:r,records:s}=this._myIndex,i=[];return s.forEach(({$:a,i:l})=>{if(!Ks(a))return;let u=[];r.forEach((c,f)=>{u.push(...this._findMatches({key:c,value:a[f],searcher:n}))}),u.length&&i.push({idx:l,item:a,matches:u})}),i}_findMatches({key:e,value:n,searcher:r}){if(!Ks(n))return[];let s=[];if(El(n))n.forEach(({v:i,i:a,n:l})=>{if(!Ks(i))return;const{isMatch:u,score:c,indices:f}=r.searchIn(i);u&&s.push({score:c,key:e,value:i,idx:a,norm:l,indices:f})});else{const{v:i,n:a}=n,{isMatch:l,score:u,indices:c}=r.searchIn(i);l&&s.push({score:u,key:e,value:i,norm:a,indices:c})}return s}}Kp.version="7.0.0";Kp.createIndex=aH;Kp.parseIndex=PTe;Kp.config=Ge;Kp.parseQuery=fH;XTe(YTe);function NVe(t,e,n){const r=o(()=>{var a,l;return new Kp((a=Vo(e))!=null?a:[],(l=Vo(n))==null?void 0:l.fuseOptions)},"createFuse"),s=Ie(r());Jt(()=>{var a;return(a=Vo(n))==null?void 0:a.fuseOptions},()=>{s.value=r()},{deep:!0}),Jt(()=>Vo(e),a=>{s.value.setCollection(a)},{deep:!0});const i=qe(()=>{const a=Vo(n);if(a?.matchAllWhenSearchEmpty&&!Vo(t))return Vo(e).map((u,c)=>({item:u,refIndex:c}));const l=a?.resultLimit;return s.value.search(Vo(t),l?{limit:l}:void 0)});return{fuse:s,results:i}}o(NVe,"useFuse");function br(t){this.content=t}o(br,"OrderedMap");br.prototype={constructor:br,find:o(function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},"find"),get:o(function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},"get"),update:o(function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new br(i)},"update"),remove:o(function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new br(n)},"remove"),addToStart:o(function(t,e){return new br([t,e].concat(this.remove(t).content))},"addToStart"),addToEnd:o(function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new br(n)},"addToEnd"),addBefore:o(function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new br(s)},"addBefore"),forEach:o(function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},"forEach"),prepend:o(function(t){return t=br.from(t),t.size?new br(t.content.concat(this.subtract(t).content)):this},"prepend"),append:o(function(t){return t=br.from(t),t.size?new br(this.subtract(t).content.concat(t.content)):this},"append"),subtract:o(function(t){var e=this;t=br.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},"subtract"),toObject:o(function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},"toObject"),get size(){return this.content.length>>1}};br.from=function(t){if(t instanceof br)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new br(e)};function hH(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let a=0;s.text[a]==i.text[a];a++)n++;return n}if(s.content.size||i.content.size){let a=hH(s.content,i.content,n+1);if(a!=null)return a}n+=s.nodeSize}}o(hH,"findDiffStart");function dH(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let a=t.child(--s),l=e.child(--i),u=a.nodeSize;if(a==l){n-=u,r-=u;continue}if(!a.sameMarkup(l))return{a:n,b:r};if(a.isText&&a.text!=l.text){let c=0,f=Math.min(a.text.length,l.text.length);for(;c<f&&a.text[a.text.length-c-1]==l.text[l.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(a.content.size||l.content.size){let c=dH(a.content,l.content,n-1,r-1);if(c)return c}n-=u,r-=u}}o(dH,"findDiffEnd");class ce{static{o(this,"Fragment")}constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let a=0,l=0;l<n;a++){let u=this.content[a],c=l+u.nodeSize;if(c>e&&r(u,s+l,i||null,a)!==!1&&u.content.size){let f=l+1;u.nodesBetween(Math.max(0,e-f),Math.min(u.content.size,n-f),r,s+f)}l=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",a=!0;return this.nodesBetween(e,n,(l,u)=>{let c=l.isText?l.text.slice(Math.max(e,u)-u,n-u):l.isLeaf?s?typeof s=="function"?s(l):s:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&c||l.isTextblock)&&r&&(a?a=!1:i+=r),i+=c},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new ce(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,a=0;a<n;i++){let l=this.content[i],u=a+l.nodeSize;u>e&&((a<e||u>n)&&(l.isText?l=l.cut(Math.max(0,e-a),Math.min(l.text.length,n-a)):l=l.cut(Math.max(0,e-a-1),Math.min(l.content.size,n-a-1))),r.push(l),s+=l.nodeSize),a=u}return new ce(r,s)}cutByIndex(e,n){return e==n?ce.empty:e==0&&n==this.content.length?this:new ce(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new ce(s,i)}addToStart(e){return new ce([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ce(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return hH(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return dH(this,e,n,r)}findIndex(e,n=-1){if(e==0)return cb(0,e);if(e==this.size)return cb(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,s=0;;r++){let i=this.child(r),a=s+i.nodeSize;if(a>=e)return a==e||n>0?cb(r+1,a):cb(r,s);s=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ce.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ce(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ce.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new ce(n||e,r)}static from(e){if(!e)return ce.empty;if(e instanceof ce)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ce([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ce.empty=new ce([],0);const ZS={index:0,offset:0};function cb(t,e){return ZS.index=t,ZS.offset=e,ZS}o(cb,"retIndex");function Bw(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Bw(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Bw(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}o(Bw,"compareDeep");class xt{static{o(this,"Mark")}constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Bw(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return xt.none;if(e instanceof xt)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}}xt.none=[];class Uw extends Error{static{o(this,"ReplaceError")}}class we{static{o(this,"Slice")}constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=mH(this.content,e+this.openStart,n);return r&&new we(r,this.openStart,this.openEnd)}removeBetween(e,n){return new we(pH(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return we.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new we(ce.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new we(e,r,s)}}we.empty=new we(ce.empty,0,0);function pH(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:a,offset:l}=t.findIndex(n);if(s==e||i.isText){if(l!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(pH(i.content,e-s-1,n-s-1)))}o(pH,"removeRange");function mH(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),a=t.maybeChild(s);if(i==e||a.isText)return t.cut(0,e).append(n).append(t.cut(e));let l=mH(a.content,e-i-1,n);return l&&t.replaceChild(s,a.copy(l))}o(mH,"insertInto");function rke(t,e,n){if(n.openStart>t.depth)throw new Uw("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Uw("Inconsistent open depths");return gH(t,e,n,0)}o(rke,"replace$1");function gH(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let a=gH(t,e,n,r+1);return i.copy(i.content.replaceChild(s,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,l=a.content;return af(a,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:a,end:l}=ske(n,t);return af(i,bH(t,a,l,e,r))}else return af(i,zw(t,e,r))}o(gH,"replaceOuter");function yH(t,e){if(!e.type.compatibleContent(t.type))throw new Uw("Cannot join "+e.type.name+" onto "+t.type.name)}o(yH,"checkJoin");function XA(t,e,n){let r=t.node(n);return yH(r,e.node(n)),r}o(XA,"joinable$1");function of(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}o(of,"addNode");function Ig(t,e,n,r){let s=(e||t).node(n),i=0,a=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(of(t.nodeAfter,r),i++));for(let l=i;l<a;l++)of(s.child(l),r);e&&e.depth==n&&e.textOffset&&of(e.nodeBefore,r)}o(Ig,"addRange");function af(t,e){return t.type.checkContent(e),t.copy(e)}o(af,"close");function bH(t,e,n,r,s){let i=t.depth>s&&XA(t,e,s+1),a=r.depth>s&&XA(n,r,s+1),l=[];return Ig(null,t,s,l),i&&a&&e.index(s)==n.index(s)?(yH(i,a),of(af(i,bH(t,e,n,r,s+1)),l)):(i&&of(af(i,zw(t,e,s+1)),l),Ig(e,n,s,l),a&&of(af(a,zw(n,r,s+1)),l)),Ig(r,null,s,l),new ce(l)}o(bH,"replaceThreeWay");function zw(t,e,n){let r=[];if(Ig(null,t,n,r),t.depth>n){let s=XA(t,e,n+1);of(af(s,zw(t,e,n+1)),r)}return Ig(e,null,n,r),new ce(r)}o(zw,"replaceTwoWay");function ske(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)s=e.node(i).copy(ce.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}o(ske,"prepareSliceForReplace");class z0{static{o(this,"ResolvedPos")}constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return xt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let l=r;r=s,s=l}let i=r.marks;for(var a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!s||!i[a].isInSet(s.marks))&&(i=i[a--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Vw(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let a=e;;){let{index:l,offset:u}=a.content.findIndex(i),c=i-u;if(r.push(a,l,s+u),!c||(a=a.child(l),a.isText))break;i=c-1,s+=u+1}return new z0(n,r,i)}static resolveCached(e,n){let r=k6.get(e);if(r)for(let i=0;i<r.elts.length;i++){let a=r.elts[i];if(a.pos==n)return a}else k6.set(e,r=new ike);let s=r.elts[r.i]=z0.resolve(e,n);return r.i=(r.i+1)%oke,s}}class ike{static{o(this,"ResolveCache")}constructor(){this.elts=[],this.i=0}}const oke=12,k6=new WeakMap;class Vw{static{o(this,"NodeRange")}constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ake=Object.create(null);let lf=class JA{static{o(this,"Node")}constructor(e,n,r,s=xt.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||ce.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Bw(this.attrs,n||e.defaultAttrs||ake)&&xt.sameSet(this.marks,r||xt.none)}copy(e=null){return e==this.content?this:new JA(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new JA(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return we.empty;let s=this.resolve(e),i=this.resolve(n),a=r?0:s.sharedDepth(n),l=s.start(a),c=s.node(a).content.cut(s.pos-l,i.pos-l);return new we(c,s.depth-a,i.depth-a)}replace(e,n,r){return rke(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return z0.resolveCached(this,e)}resolveNoCache(e){return z0.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),_H(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ce.empty,s=0,i=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,s,i),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let u=s;u<i;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),a=i&&i.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=xt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!xt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=ce.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};lf.prototype.text=void 0;class jw extends lf{static{o(this,"TextNode")}constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):_H(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new jw(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new jw(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function _H(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}o(_H,"wrapMarks");class $f{static{o(this,"ContentMatch")}constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new lke(e,n);if(r.next==null)return $f.empty;let s=wH(r);r.next&&r.err("Unexpected trailing text");let i=mke(pke(s));return gke(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(a,l){let u=a.matchFragment(e,r);if(u&&(!n||u.validEnd))return ce.from(l.map(c=>c.createAndFill()));for(let c=0;c<a.next.length;c++){let{type:f,next:h}=a.next[c];if(!(f.isText||f.hasRequiredAttrs())&&s.indexOf(h)==-1){s.push(h);let d=i(h,l.concat(f));if(d)return d}}return null}return o(i,"search"),i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let a=[];for(let l=s;l.type;l=l.via)a.push(l.type);return a.reverse()}for(let a=0;a<i.next.length;a++){let{type:l,next:u}=i.next[a];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!s.type||u.validEnd)&&(r.push({match:l.contentMatch,type:l,via:s}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return o(n,"scan"),n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)i+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return i}).join(`
`)}}$f.empty=new $f(!0);class lke{static{o(this,"TokenStream")}constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function wH(t){let e=[];do e.push(uke(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}o(wH,"parseExpr");function uke(t){let e=[];do e.push(cke(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}o(uke,"parseExprSeq");function cke(t){let e=dke(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=fke(t,e);else break;return e}o(cke,"parseExprSubscript");function A6(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}o(A6,"parseNum");function fke(t,e){let n=A6(t),r=n;return t.eat(",")&&(t.next!="}"?r=A6(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}o(fke,"parseExprRange");function hke(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let a=n[i];a.isInGroup(e)&&s.push(a)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}o(hke,"resolveName");function dke(t){if(t.eat("(")){let e=wH(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=hke(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}o(dke,"parseExprAtom");function pke(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}o(n,"node");function r(a,l,u){let c={term:u,to:l};return e[a].push(c),c}o(r,"edge");function s(a,l){a.forEach(u=>u.to=l)}o(s,"connect");function i(a,l){if(a.type=="choice")return a.exprs.reduce((u,c)=>u.concat(i(c,l)),[]);if(a.type=="seq")for(let u=0;;u++){let c=i(a.exprs[u],l);if(u==a.exprs.length-1)return c;s(c,l=n())}else if(a.type=="star"){let u=n();return r(l,u),s(i(a.expr,u),u),[r(u)]}else if(a.type=="plus"){let u=n();return s(i(a.expr,l),u),s(i(a.expr,u),u),[r(u)]}else{if(a.type=="opt")return[r(l)].concat(i(a.expr,l));if(a.type=="range"){let u=l;for(let c=0;c<a.min;c++){let f=n();s(i(a.expr,u),f),u=f}if(a.max==-1)s(i(a.expr,u),u);else for(let c=a.min;c<a.max;c++){let f=n();r(u,f),s(i(a.expr,u),f),u=f}return[r(u)]}else{if(a.type=="name")return[r(l,void 0,a.value)];throw new Error("Unknown expr type")}}}o(i,"compile")}o(pke,"nfa");function vH(t,e){return e-t}o(vH,"cmp");function C6(t,e){let n=[];return r(e),n.sort(vH);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let a=0;a<i.length;a++){let{term:l,to:u}=i[a];!l&&n.indexOf(u)==-1&&r(u)}}o(r,"scan")}o(C6,"nullFrom");function mke(t){let e=Object.create(null);return n(C6(t,0));function n(r){let s=[];r.forEach(a=>{t[a].forEach(({term:l,to:u})=>{if(!l)return;let c;for(let f=0;f<s.length;f++)s[f][0]==l&&(c=s[f][1]);C6(t,u).forEach(f=>{c||s.push([l,c=[]]),c.indexOf(f)==-1&&c.push(f)})})});let i=e[r.join(",")]=new $f(r.indexOf(t.length-1)>-1);for(let a=0;a<s.length;a++){let l=s[a][1].sort(vH);i.next.push({type:s[a][0],next:e[l.join(",")]||n(l)})}return i}}o(mke,"dfa");function gke(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,a=[];for(let l=0;l<s.next.length;l++){let{type:u,next:c}=s.next[l];a.push(u.name),i&&!(u.isText||u.hasRequiredAttrs())&&(i=!1),r.indexOf(c)==-1&&r.push(c)}i&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}o(gke,"checkForDeadEnds");function EH(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}o(EH,"defaultAttrs");function xH(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}o(xH,"computeAttrs");function SH(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}o(SH,"checkAttrs");function TH(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new bke(t,r,e[r]);return n}o(TH,"initAttrs");let I6=class kH{static{o(this,"NodeType")}constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=TH(e,r.attrs),this.defaultAttrs=EH(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==$f.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:xH(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new lf(this,this.computeAttrs(e),ce.from(n),xt.setFrom(r))}createChecked(e=null,n,r){return n=ce.from(n),this.checkContent(n),new lf(this,this.computeAttrs(e),n,xt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ce.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(ce.empty,!0);return i?new lf(this,e,n.append(i),xt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){SH(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:xt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,a)=>r[i]=new kH(i,n,a));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function yke(t,e,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}o(yke,"validateType");class bke{static{o(this,"Attribute")}constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?yke(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class gx{static{o(this,"MarkType")}constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=TH(e,s.attrs),this.excluded=null;let i=EH(this.attrs);this.instance=i?new xt(this,i):null}create(e=null){return!e&&this.instance?this.instance:new xt(this,xH(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,a)=>r[i]=new gx(i,s++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){SH(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}let _ke=class{static{o(this,"Schema")}constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=br.from(e.nodes),n.marks=br.from(e.marks||{}),this.nodes=I6.compile(this.spec.nodes,this),this.marks=gx.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],a=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=r[a]||(r[a]=$f.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?R6(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],a=i.spec.excludes;i.excluded=a==null?[i]:a==""?[]:R6(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof I6){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new jw(r,r.defaultAttrs,e,xt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return lf.fromJSON(this,e)}markFromJSON(e){return xt.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}};function R6(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],a=i;if(i)n.push(i);else for(let l in t.marks){let u=t.marks[l];(s=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(s)>-1)&&n.push(a=u)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}o(R6,"gatherMarks");function wke(t){return t.tag!=null}o(wke,"isTagRule");function vke(t){return t.style!=null}o(vke,"isStyleRule");let AH=class ZA{static{o(this,"DOMParser")}constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(wke(s))this.tags.push(s);else if(vke(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new N6(this,n,!1);return r.addAll(e,xt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new N6(this,n,!0);return r.addAll(e,xt.none,n.from,n.to),we.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(Ske(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let a=i.getAttrs(e);if(a===!1)continue;i.attrs=a||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let a=this.styles[i],l=a.style;if(!(l.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(a.getAttrs){let u=a.getAttrs(n);if(u===!1)continue;a.attrs=u||void 0}return a}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,a=0;for(;a<n.length;a++){let l=n[a];if((l.priority==null?50:l.priority)<i)break}n.splice(a,0,s)}o(r,"insert");for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(a=>{r(a=M6(a)),a.mark||a.ignore||a.clearMark||(a.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(a=>{r(a=M6(a)),a.node||a.ignore||a.mark||(a.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ZA(e,ZA.schemaRules(e)))}};const CH={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Eke={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},IH={ol:!0,ul:!0},V0=1,QA=2,Rg=4;function O6(t,e,n){return e!=null?(e?V0:0)|(e==="full"?QA:0):t&&t.whitespace=="pre"?V0|QA:n&~Rg}o(O6,"wsOptionsFor");class fb{static{o(this,"NodeContext")}constructor(e,n,r,s,i,a){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=a,this.content=[],this.activeMarks=xt.none,this.match=i||(a&Rg?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ce.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&V0)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=ce.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ce.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!CH.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class N6{static{o(this,"ParseContext")}constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,i,a=O6(null,n.preserveWhitespace,0)|(r?Rg:0);s?i=new fb(s.type,s.attrs,xt.none,!0,n.topMatch||s.type.contentMatch,a):r?i=new fb(null,null,xt.none,!0,null,a):i=new fb(e.schema.topNodeType,null,xt.none,!0,null,a),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,i=s.options&QA?"full":this.localPreserveWS||(s.options&V0)>0;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)i!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=s.content[s.content.length-1],l=e.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),l;IH.hasOwnProperty(a)&&this.parser.normalizeLists&&xke(e);let u=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(u?u.ignore:Eke.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(e=u.skip);let c,f=this.needsBlock;if(CH.hasOwnProperty(a))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),c=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let h=u&&u.skip?n:this.readStyles(e,n);h&&this.addAll(e,h),c&&this.sync(i),this.needsBlock=f}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,u,c,u.consuming===!1?l:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],a=r.getPropertyValue(i);if(a)for(let l=void 0;;){let u=this.parser.matchStyle(i,a,this,l);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(c=>!u.clearMark(c)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)l=u;else break}}return n}addElementByRule(e,n,r,s){let i,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r)||this.leafFallback(e,r);else{let u=this.enter(a,n.attrs||null,r,n.preserveWhitespace);u&&(i=!0,r=u)}else{let u=this.parser.schema.marks[n.mark];r=r.concat(u.create(n.attrs))}let l=this.top;if(a&&a.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u,r));else{let u=e;typeof n.contentElement=="string"?u=e.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u,r),this.findAround(e,u,!1)}i&&this.sync(l)&&this.open--}addAll(e,n,r,s){let i=r||0;for(let a=r?e.childNodes[r]:e.firstChild,l=s==null?null:e.childNodes[s];a!=l;a=a.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(a,n);this.findAtPoint(e,i)}findPlace(e,n){let r,s;for(let i=this.open;i>=0;i--){let a=this.nodes[i],l=a.findWrapping(e);if(l&&(!r||r.length>l.length)&&(r=l,s=a,!l.length)||a.solid)break}if(!r)return null;this.sync(s);for(let i=0;i<r.length;i++)n=this.enterInner(r[i],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let i=xt.none;for(let a of r.concat(e.marks))(s.type?s.type.allowsMarkType(a.type):D6(a.type,e.type))&&(i=a.addToSet(i));return s.content.push(e.mark(i)),!0}return!1}enter(e,n,r,s){let i=this.findPlace(e.create(n),r);return i&&(i=this.enterInner(e,n,r,!0,s)),i}enterInner(e,n,r,s=!1,i){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let l=O6(e,i,a.options);a.options&Rg&&a.content.length==0&&(l|=Rg);let u=xt.none;return r=r.filter(c=>(a.type?a.type.allowsMarkType(c.type):D6(c.type,e))?(u=c.addToSet(u),!1):!0),this.nodes.push(new fb(e,n,u,s,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=V0)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),a=o((l,u)=>{for(;l>=0;l--){let c=n[l];if(c==""){if(l==n.length-1||l==0)continue;for(;u>=i;u--)if(a(l-1,u))return!0;return!1}else{let f=u>0||u==0&&s?this.nodes[u].type:r&&u>=i?r.node(u-i).type:null;if(!f||f.name!=c&&!f.isInGroup(c))return!1;u--}}return!0},"match");return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function xke(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&IH.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}o(xke,"normalizeList");function Ske(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}o(Ske,"matches");function M6(t){let e={};for(let n in t)e[n]=t[n];return e}o(M6,"copy");function D6(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],a=o(l=>{i.push(l);for(let u=0;u<l.edgeCount;u++){let{type:c,next:f}=l.edge(u);if(c==e||i.indexOf(f)<0&&a(f))return!0}},"scan");if(a(s.contentMatch))return!0}}o(D6,"markMayApply");class Yp{static{o(this,"DOMSerializer")}constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=QS(n).createDocumentFragment());let s=r,i=[];return e.forEach(a=>{if(i.length||a.marks.length){let l=0,u=0;for(;l<i.length&&u<a.marks.length;){let c=a.marks[u];if(!this.marks[c.type.name]){u++;continue}if(!c.eq(i[l][0])||c.type.spec.spanning===!1)break;l++,u++}for(;l<i.length;)s=i.pop()[1];for(;u<a.marks.length;){let c=a.marks[u++],f=this.serializeMark(c,a.isInline,n);f&&(i.push([c,s]),s.appendChild(f.dom),s=f.contentDOM||f.dom)}}s.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=f_(QS(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&f_(QS(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return f_(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Yp(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=P6(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return P6(e.marks)}}function P6(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}o(P6,"gatherToDOM");function QS(t){return t.document||window.document}o(QS,"doc$1");const $6=new WeakMap;function Tke(t){let e=$6.get(t);return e===void 0&&$6.set(t,e=kke(t)),e}o(Tke,"suspiciousAttributes");function kke(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return o(n,"scan"),n(t),e}o(kke,"suspiciousAttributesInner");function f_(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=Tke(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=s.indexOf(" ");a>0&&(n=s.slice(0,a),s=s.slice(a+1));let l,u=n?t.createElementNS(n,s):t.createElement(s),c=e[1],f=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){f=2;for(let h in c)if(c[h]!=null){let d=h.indexOf(" ");d>0?u.setAttributeNS(h.slice(0,d),h.slice(d+1),c[h]):u.setAttribute(h,c[h])}}for(let h=f;h<e.length;h++){let d=e[h];if(d===0){if(h<e.length-1||h>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:p,contentDOM:m}=f_(t,d,n,r);if(u.appendChild(p),m){if(l)throw new RangeError("Multiple content holes");l=m}}}return{dom:u,contentDOM:l}}o(f_,"renderSpec");const RH=65535,OH=Math.pow(2,16);function Ake(t,e){return t+e*OH}o(Ake,"makeRecover");function L6(t){return t&RH}o(L6,"recoverIndex");function Cke(t){return(t-(t&RH))/OH}o(Cke,"recoverOffset");const NH=1,MH=2,h_=4,DH=8;class eC{static{o(this,"MapResult")}constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&DH)>0}get deletedBefore(){return(this.delInfo&(NH|h_))>0}get deletedAfter(){return(this.delInfo&(MH|h_))>0}get deletedAcross(){return(this.delInfo&h_)>0}}class Ys{static{o(this,"StepMap")}constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Ys.empty)return Ys.empty}recover(e){let n=0,r=L6(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+Cke(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?s:0);if(u>e)break;let c=this.ranges[l+i],f=this.ranges[l+a],h=u+c;if(e<=h){let d=c?e==u?-1:e==h?1:n:n,p=u+s+(d<0?0:f);if(r)return p;let m=e==(n<0?u:h)?null:Ake(l/3,e-u),y=e==u?MH:e==h?NH:h_;return(n<0?e!=u:e!=h)&&(y|=DH),new eC(p,y,m)}s+=f-c}return r?e+s:new eC(e+s,0,null)}touches(e,n){let r=0,s=L6(n),i=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?r:0);if(u>e)break;let c=this.ranges[l+i],f=u+c;if(e<=f&&l==s*3)return!0;r+=this.ranges[l+a]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let a=this.ranges[s],l=a-(this.inverted?i:0),u=a+(this.inverted?0:i),c=this.ranges[s+n],f=this.ranges[s+r];e(l,l+c,u,u+f),i+=f-c}}invert(){return new Ys(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Ys.empty:new Ys(e<0?[0,-e,0]:[0,0,e])}}Ys.empty=new Ys([]);class Id{static{o(this,"Mapping")}constructor(e=[],n,r=0,s=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=s}slice(e=0,n=this.maps.length){return new Id(this.maps,this.mirror,e,n)}copy(){return new Id(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let s=e.getMirror(n);this.appendMap(e.maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e.maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new Id;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let a=this.maps[i],l=a.mapResult(e,n);if(l.recover!=null){let u=this.getMirror(i);if(u!=null&&u>i&&u<this.to){i=u,e=this.maps[u].recover(l.recover);continue}}s|=l.delInfo,e=l.pos}return r?e:new eC(e,s,null)}}const eT=Object.create(null);class Yr{static{o(this,"Step")}getMap(){return Ys.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=eT[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in eT)throw new RangeError("Duplicate use of step JSON ID "+e);return eT[e]=n,n.prototype.jsonID=e,n}}class Bn{static{o(this,"StepResult")}constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Bn(e,null)}static fail(e){return new Bn(null,e)}static fromReplace(e,n,r,s){try{return Bn.ok(e.replace(n,r,s))}catch(i){if(i instanceof Uw)return Bn.fail(i.message);throw i}}}function mO(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(mO(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return ce.fromArray(r)}o(mO,"mapFragment");class yu extends Yr{static{o(this,"AddMarkStep")}constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new we(mO(n.content,(a,l)=>!a.isAtom||!l.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),s),n.openStart,n.openEnd);return Bn.fromReplace(e,this.from,this.to,i)}invert(){return new ra(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new yu(n.pos,r.pos,this.mark)}merge(e){return e instanceof yu&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new yu(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new yu(n.from,n.to,e.markFromJSON(n.mark))}}Yr.jsonID("addMark",yu);class ra extends Yr{static{o(this,"RemoveMarkStep")}constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new we(mO(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return Bn.fromReplace(e,this.from,this.to,r)}invert(){return new yu(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ra(n.pos,r.pos,this.mark)}merge(e){return e instanceof ra&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ra(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ra(n.from,n.to,e.markFromJSON(n.mark))}}Yr.jsonID("removeMark",ra);class bu extends Yr{static{o(this,"AddNodeMarkStep")}constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Bn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Bn.fromReplace(e,this.pos,this.pos+1,new we(ce.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new bu(this.pos,n.marks[s]);return new bu(this.pos,this.mark)}}return new up(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new bu(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new bu(n.pos,e.markFromJSON(n.mark))}}Yr.jsonID("addNodeMark",bu);class up extends Yr{static{o(this,"RemoveNodeMarkStep")}constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Bn.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Bn.fromReplace(e,this.pos,this.pos+1,new we(ce.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new bu(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new up(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new up(n.pos,e.markFromJSON(n.mark))}}Yr.jsonID("removeNodeMark",up);class _r extends Yr{static{o(this,"ReplaceStep")}constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&tC(e,this.from,this.to)?Bn.fail("Structure replace would overwrite content"):Bn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ys([this.from,this.to-this.from,this.slice.size])}invert(e){return new _r(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new _r(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof _r)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?we.empty:new we(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new _r(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?we.empty:new we(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new _r(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new _r(n.from,n.to,we.fromJSON(e,n.slice),!!n.structure)}}Yr.jsonID("replace",_r);class kr extends Yr{static{o(this,"ReplaceAroundStep")}constructor(e,n,r,s,i,a,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=a,this.structure=l}apply(e){if(this.structure&&(tC(e,this.from,this.gapFrom)||tC(e,this.gapTo,this.to)))return Bn.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Bn.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Bn.fromReplace(e,this.from,this.to,r):Bn.fail("Content does not fit in gap")}getMap(){return new Ys([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new kr(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new kr(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new kr(n.from,n.to,n.gapFrom,n.gapTo,we.fromJSON(e,n.slice),n.insert,!!n.structure)}}Yr.jsonID("replaceAround",kr);function tC(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let a=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,s--}}return!1}o(tC,"contentBetween");function Ike(t,e,n,r){let s=[],i=[],a,l;t.doc.nodesBetween(e,n,(u,c,f)=>{if(!u.isInline)return;let h=u.marks;if(!r.isInSet(h)&&f.type.allowsMarkType(r.type)){let d=Math.max(c,e),p=Math.min(c+u.nodeSize,n),m=r.addToSet(h);for(let y=0;y<h.length;y++)h[y].isInSet(m)||(a&&a.to==d&&a.mark.eq(h[y])?a.to=p:s.push(a=new ra(d,p,h[y])));l&&l.to==d?l.to=p:i.push(l=new yu(d,p,r))}}),s.forEach(u=>t.step(u)),i.forEach(u=>t.step(u))}o(Ike,"addMark");function Rke(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(a,l)=>{if(!a.isInline)return;i++;let u=null;if(r instanceof gx){let c=a.marks,f;for(;f=r.isInSet(c);)(u||(u=[])).push(f),c=f.removeFromSet(c)}else r?r.isInSet(a.marks)&&(u=[r]):u=a.marks;if(u&&u.length){let c=Math.min(l+a.nodeSize,n);for(let f=0;f<u.length;f++){let h=u[f],d;for(let p=0;p<s.length;p++){let m=s[p];m.step==i-1&&h.eq(s[p].style)&&(d=m)}d?(d.to=c,d.step=i):s.push({style:h,from:Math.max(l,e),to:c,step:i})}}}),s.forEach(a=>t.step(new ra(a.from,a.to,a.style)))}o(Rke,"removeMark");function gO(t,e,n,r=n.contentMatch,s=!0){let i=t.doc.nodeAt(e),a=[],l=e+1;for(let u=0;u<i.childCount;u++){let c=i.child(u),f=l+c.nodeSize,h=r.matchType(c.type);if(!h)a.push(new _r(l,f,we.empty));else{r=h;for(let d=0;d<c.marks.length;d++)n.allowsMarkType(c.marks[d].type)||t.step(new ra(l,f,c.marks[d]));if(s&&c.isText&&n.whitespace!="pre"){let d,p=/\r?\n|\r/g,m;for(;d=p.exec(c.text);)m||(m=new we(ce.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),a.push(new _r(l+d.index,l+d.index+d[0].length,m))}}l=f}if(!r.validEnd){let u=r.fillBefore(ce.empty,!0);t.replace(l,l,new we(u,0,0))}for(let u=a.length-1;u>=0;u--)t.step(a[u])}o(gO,"clearIncompatible");function Oke(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}o(Oke,"canCut");function Ky(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.$from.node(r),i=t.$from.index(r),a=t.$to.indexAfter(r);if(r<t.depth&&s.canReplace(i,a,n))return r;if(r==0||s.type.spec.isolating||!Oke(s,i,a))break}return null}o(Ky,"liftTarget");function Nke(t,e,n){let{$from:r,$to:s,depth:i}=e,a=r.before(i+1),l=s.after(i+1),u=a,c=l,f=ce.empty,h=0;for(let m=i,y=!1;m>n;m--)y||r.index(m)>0?(y=!0,f=ce.from(r.node(m).copy(f)),h++):u--;let d=ce.empty,p=0;for(let m=i,y=!1;m>n;m--)y||s.after(m+1)<s.end(m)?(y=!0,d=ce.from(s.node(m).copy(d)),p++):c++;t.step(new kr(u,c,a,l,new we(f.append(d),h,p),f.size-h,!0))}o(Nke,"lift$1");function PH(t,e,n=null,r=t){let s=Mke(t,e),i=s&&Dke(r,e);return i?s.map(F6).concat({type:e,attrs:n}).concat(i.map(F6)):null}o(PH,"findWrapping");function F6(t){return{type:t,attrs:null}}o(F6,"withAttrs");function Mke(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let a=i.length?i[0]:e;return n.canReplaceWith(r,s,a)?i:null}o(Mke,"findWrappingOutside");function Dke(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),a=e.contentMatch.findWrapping(i.type);if(!a)return null;let u=(a.length?a[a.length-1]:e).contentMatch;for(let c=r;u&&c<s;c++)u=u.matchType(n.child(c).type);return!u||!u.validEnd?null:a}o(Dke,"findWrappingInside");function Pke(t,e,n){let r=ce.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let l=n[a].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ce.from(n[a].type.create(n[a].attrs,r))}let s=e.start,i=e.end;t.step(new kr(s,i,s,i,new we(r,0,0),n.length,!0))}o(Pke,"wrap$2");function $ke(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(a,l)=>{let u=typeof s=="function"?s(a):s;if(a.isTextblock&&!a.hasMarkup(r,u)&&Lke(t.doc,t.mapping.slice(i).map(l),r)){let c=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!m?c=!1:!p&&m&&(c=!0)}c===!1&&LH(t,a,l,i),gO(t,t.mapping.slice(i).map(l,1),r,void 0,c===null);let f=t.mapping.slice(i),h=f.map(l,1),d=f.map(l+a.nodeSize,1);return t.step(new kr(h,d,h+1,d-1,new we(ce.from(r.create(u,null,a.marks)),0,0),1,!0)),c===!0&&$H(t,a,l,i),!1}})}o($ke,"setBlockType$1");function $H(t,e,n,r){e.forEach((s,i)=>{if(s.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(s.text);){let u=t.mapping.slice(r).map(n+1+i+a.index);t.replaceWith(u,u+1,e.type.schema.linebreakReplacement.create())}}})}o($H,"replaceNewlines");function LH(t,e,n,r){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+i);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}o(LH,"replaceLinebreaks");function Lke(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}o(Lke,"canChangeType");function Fke(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let a=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,a);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new kr(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new we(ce.from(a),0,0),1,!0))}o(Fke,"setNodeMarkup");function Og(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,a=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!a.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let c=s.depth-1,f=n-2;c>i;c--,f--){let h=s.node(c),d=s.index(c);if(h.type.spec.isolating)return!1;let p=h.content.cutByIndex(d,h.childCount),m=r&&r[f+1];m&&(p=p.replaceChild(0,m.type.create(m.attrs)));let y=r&&r[f]||h;if(!h.canReplace(d+1,h.childCount)||!y.type.validContent(p))return!1}let l=s.indexAfter(i),u=r&&r[0];return s.node(i).canReplaceWith(l,l,u?u.type:s.node(i+1).type)}o(Og,"canSplit");function Bke(t,e,n=1,r){let s=t.doc.resolve(e),i=ce.empty,a=ce.empty;for(let l=s.depth,u=s.depth-n,c=n-1;l>u;l--,c--){i=ce.from(s.node(l).copy(i));let f=r&&r[c];a=ce.from(f?f.type.create(f.attrs,a):s.node(l).copy(a))}t.step(new _r(e,e,new we(i.append(a),n,n),!0))}o(Bke,"split");function Yy(t,e){let n=t.resolve(e),r=n.index();return FH(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}o(Yy,"canJoin");function Uke(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),a=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}o(Uke,"canAppendWithSubstitutedLinebreaks");function FH(t,e){return!!(t&&e&&!t.isLeaf&&Uke(t,e))}o(FH,"joinable");function BH(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,a,l=r.index(s);if(s==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(s+1),l++,a=r.node(s).maybeChild(l)):(i=r.node(s).maybeChild(l-1),a=r.node(s+1)),i&&!i.isTextblock&&FH(i,a)&&r.node(s).canReplace(l,l+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}o(BH,"joinPoint");function zke(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-n),a=i.node().type;if(s&&a.inlineContent){let f=a.whitespace=="pre",h=!!a.contentMatch.matchType(s);f&&!h?r=!1:!f&&h&&(r=!0)}let l=t.steps.length;if(r===!1){let f=t.doc.resolve(e+n);LH(t,f.node(),f.before(),l)}a.inlineContent&&gO(t,e+n-1,a,i.node().contentMatchAt(i.index()),r==null);let u=t.mapping.slice(l),c=u.map(e-n);if(t.step(new _r(c,u.map(e+n,-1),we.empty,!0)),r===!0){let f=t.doc.resolve(c);$H(t,f.node(),f.before(),t.steps.length)}return t}o(zke,"join");function Vke(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}o(Vke,"insertPoint");function UH(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let a=r.depth;a>=0;a--){let l=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,u=r.index(a)+(l>0?1:0),c=r.node(a),f=!1;if(i==1)f=c.canReplace(u,u,s);else{let h=c.contentMatchAt(u).findWrapping(s.firstChild.type);f=h&&c.canReplaceWith(u,u,h[0])}if(f)return l==0?r.pos:l<0?r.before(a+1):r.after(a+1)}return null}o(UH,"dropPoint");function yx(t,e,n=e,r=we.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return zH(s,i,r)?new _r(e,n,r):new jke(s,i,r).fit()}o(yx,"replaceStep");function zH(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}o(zH,"fitsTrivially");class jke{static{o(this,"Fitter")}constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ce.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=ce.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,a=r.depth,l=s.depth;for(;a&&l&&i.childCount==1;)i=i.firstChild.content,a--,l--;let u=new we(i,a,l);return e>-1?new kr(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new _r(r.pos,s.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=tT(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let a=s.firstChild;for(let l=this.depth;l>=0;l--){let{type:u,match:c}=this.frontier[l],f,h=null;if(n==1&&(a?c.matchType(a.type)||(h=c.fillBefore(ce.from(a),!1)):i&&u.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:l,parent:i,inject:h};if(n==2&&a&&(f=c.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:l,parent:i,wrap:f};if(i&&c.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=tT(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new we(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=tT(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new we(eg(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new we(eg(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let y=0;y<i.length;y++)this.openFrontierNode(i[y]);let a=this.unplaced,l=r?r.content:a.content,u=a.openStart-e,c=0,f=[],{match:h,type:d}=this.frontier[n];if(s){for(let y=0;y<s.childCount;y++)f.push(s.child(y));h=h.matchFragment(s)}let p=l.size+e-(a.content.size-a.openEnd);for(;c<l.childCount;){let y=l.child(c),b=h.matchType(y.type);if(!b)break;c++,(c>1||u==0||y.content.size)&&(h=b,f.push(VH(y.mark(d.allowedMarks(y.marks)),c==1?u:0,c==l.childCount?p:-1)))}let m=c==l.childCount;m||(p=-1),this.placed=tg(this.placed,n,ce.from(f)),this.frontier[n].match=h,m&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,b=l;y<p;y++){let _=b.lastChild;this.frontier.push({type:_.type,match:_.contentMatchAt(_.childCount)}),b=_.content}this.unplaced=m?e==0?we.empty:new we(eg(a.content,e-1,1),e-1,p<0?a.openEnd:e-1):new we(eg(a.content,e,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!nT(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=nT(e,n,s,r,i);if(a){for(let l=n-1;l>=0;l--){let{match:u,type:c}=this.frontier[l],f=nT(e,l,c,u,!0);if(!f||f.childCount)continue e}return{depth:n,fit:a,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=tg(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=tg(this.placed,this.depth,ce.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ce.empty,!0);n.childCount&&(this.placed=tg(this.placed,this.frontier.length,n))}}function eg(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(eg(t.firstChild.content,e-1,n)))}o(eg,"dropFromFragment");function tg(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(tg(t.lastChild.content,e-1,n)))}o(tg,"addToFragment");function tT(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}o(tT,"contentAt");function VH(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,VH(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ce.empty,!0)))),t.copy(r)}o(VH,"closeNodeStart");function nT(t,e,n,r,s){let i=t.node(e),a=s?t.indexAfter(e):t.index(e);if(a==i.childCount&&!n.compatibleContent(i.type))return null;let l=r.fillBefore(i.content,!0,a);return l&&!Wke(n,i.content,a)?l:null}o(nT,"contentAfterFits");function Wke(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}o(Wke,"invalidMarks");function Hke(t){return t.spec.defining||t.spec.definingForContent}o(Hke,"definesContent");function qke(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(zH(s,i,r))return t.step(new _r(e,n,r));let a=WH(s,t.doc.resolve(n));a[a.length-1]==0&&a.pop();let l=-(s.depth+1);a.unshift(l);for(let d=s.depth,p=s.pos-1;d>0;d--,p--){let m=s.node(d).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;a.indexOf(d)>-1?l=d:s.before(d)==p&&a.splice(1,0,-d)}let u=a.indexOf(l),c=[],f=r.openStart;for(let d=r.content,p=0;;p++){let m=d.firstChild;if(c.push(m),p==r.openStart)break;d=m.content}for(let d=f-1;d>=0;d--){let p=c[d],m=Hke(p.type);if(m&&!p.sameMarkup(s.node(Math.abs(l)-1)))f=d;else if(m||!p.type.isTextblock)break}for(let d=r.openStart;d>=0;d--){let p=(d+f+1)%(r.openStart+1),m=c[p];if(m)for(let y=0;y<a.length;y++){let b=a[(y+u)%a.length],_=!0;b<0&&(_=!1,b=-b);let S=s.node(b-1),v=s.index(b-1);if(S.canReplaceWith(v,v,m.type,m.marks))return t.replace(s.before(b),_?i.after(b):n,new we(jH(r.content,0,r.openStart,p),p,r.openEnd))}}let h=t.steps.length;for(let d=a.length-1;d>=0&&(t.replace(e,n,r),!(t.steps.length>h));d--){let p=a[d];p<0||(e=s.before(p),n=i.after(p))}}o(qke,"replaceRange");function jH(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(jH(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),a=i.fillBefore(t).append(t);t=a.append(i.matchFragment(a).fillBefore(ce.empty,!0))}return t}o(jH,"closeFragment");function Gke(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=Vke(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new we(ce.from(r),0,0))}o(Gke,"replaceRangeWith");function Kke(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=WH(r,s);for(let a=0;a<i.length;a++){let l=i[a],u=a==i.length-1;if(u&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),s.end(l));if(l>0&&(u||r.node(l-1).canReplace(r.index(l-1),s.indexAfter(l-1))))return t.delete(r.before(l),s.after(l))}for(let a=1;a<=r.depth&&a<=s.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&s.end(a)-n!=s.depth-a&&r.start(a-1)==s.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),s.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}o(Kke,"deleteRange");function WH(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}o(WH,"coveredDepths");class Rd extends Yr{static{o(this,"AttrStep")}constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Bn.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return Bn.fromReplace(e,this.pos,this.pos+1,new we(ce.from(s),0,n.isLeaf?0:1))}getMap(){return Ys.empty}invert(e){return new Rd(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Rd(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Rd(n.pos,n.attr,n.value)}}Yr.jsonID("attr",Rd);class j0 extends Yr{static{o(this,"DocAttrStep")}constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Bn.ok(r)}getMap(){return Ys.empty}invert(e){return new j0(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new j0(n.attr,n.value)}}Yr.jsonID("docAttr",j0);let cp=class extends Error{static{o(this,"TransformError")}};cp=o(function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n},"TransformError");cp.prototype=Object.create(Error.prototype);cp.prototype.constructor=cp;cp.prototype.name="TransformError";class HH{static{o(this,"Transform")}constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Id}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new cp(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=we.empty){let s=yx(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new we(ce.from(r),0,0))}delete(e,n){return this.replace(e,n,we.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return qke(this,e,n,r),this}replaceRangeWith(e,n,r){return Gke(this,e,n,r),this}deleteRange(e,n){return Kke(this,e,n),this}lift(e,n){return Nke(this,e,n),this}join(e,n=1){return zke(this,e,n),this}wrap(e,n){return Pke(this,e,n),this}setBlockType(e,n=e,r,s=null){return $ke(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return Fke(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new Rd(e,n,r)),this}setDocAttribute(e,n){return this.step(new j0(e,n)),this}addNodeMark(e,n){return this.step(new bu(e,n)),this}removeNodeMark(e,n){if(!(n instanceof xt)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new up(e,n)),this}split(e,n=1,r){return Bke(this,e,n,r),this}addMark(e,n,r){return Ike(this,e,n,r),this}removeMark(e,n,r){return Rke(this,e,n,r),this}clearIncompatible(e,n,r){return gO(this,e,n,r),this}}const rT=Object.create(null);class Je{static{o(this,"Selection")}constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new qH(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=we.empty){let r=n.content.lastChild,s=null;for(let l=0;l<n.openEnd;l++)s=r,r=r.lastChild;let i=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:u,$to:c}=a[l],f=e.mapping.slice(i);e.replaceRange(f.map(u.pos),f.map(c.pos),l?we.empty:n),l==0&&z6(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:a,$to:l}=s[i],u=e.mapping.slice(r),c=u.map(a.pos),f=u.map(l.pos);i?e.deleteRange(c,f):(e.replaceRangeWith(c,f,n),z6(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new at(e):Jh(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let a=n<0?Jh(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Jh(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Ri(e.node(0))}static atStart(e){return Jh(e,e,0,0,1)||new Ri(e)}static atEnd(e){return Jh(e,e,e.content.size,e.childCount,-1)||new Ri(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=rT[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in rT)throw new RangeError("Duplicate use of selection JSON ID "+e);return rT[e]=n,n.prototype.jsonID=e,n}getBookmark(){return at.between(this.$anchor,this.$head).getBookmark()}}Je.prototype.visible=!0;class qH{static{o(this,"SelectionRange")}constructor(e,n){this.$from=e,this.$to=n}}let B6=!1;function U6(t){!B6&&!t.parent.inlineContent&&(B6=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}o(U6,"checkTextSelection");class at extends Je{static{o(this,"TextSelection")}constructor(e,n=e){U6(e),U6(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Je.near(r);let s=e.resolve(n.map(this.anchor));return new at(s.parent.inlineContent?s:r,r)}replace(e,n=we.empty){if(super.replace(e,n),n==we.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof at&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new bx(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new at(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=Je.findFrom(n,r,!0)||Je.findFrom(n,-r,!0);if(i)n=i.$head;else return Je.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(Je.findFrom(e,-r,!0)||Je.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new at(e,n)}}Je.jsonID("text",at);class bx{static{o(this,"TextBookmark")}constructor(e,n){this.anchor=e,this.head=n}map(e){return new bx(e.map(this.anchor),e.map(this.head))}resolve(e){return at.between(e.resolve(this.anchor),e.resolve(this.head))}}class Be extends Je{static{o(this,"NodeSelection")}constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?Je.near(i):new Be(i)}content(){return new we(ce.from(this.node),0,0)}eq(e){return e instanceof Be&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new yO(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Be(e.resolve(n.anchor))}static create(e,n){return new Be(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Be.prototype.visible=!1;Je.jsonID("node",Be);class yO{static{o(this,"NodeBookmark")}constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new bx(r,r):new yO(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Be.isSelectable(r)?new Be(n):Je.near(n)}}class Ri extends Je{static{o(this,"AllSelection")}constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=we.empty){if(n==we.empty){e.delete(0,e.doc.content.size);let r=Je.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Ri(e)}map(e){return new Ri(e)}eq(e){return e instanceof Ri}getBookmark(){return Yke}}Je.jsonID("all",Ri);const Yke={map(){return this},resolve(t){return new Ri(t)}};function Jh(t,e,n,r,s,i=!1){if(e.inlineContent)return at.create(t,n);for(let a=r-(s>0?0:1);s>0?a<e.childCount:a>=0;a+=s){let l=e.child(a);if(l.isAtom){if(!i&&Be.isSelectable(l))return Be.create(t,n-(s<0?l.nodeSize:0))}else{let u=Jh(t,l,n+s,s<0?l.childCount:0,s,i);if(u)return u}n+=l.nodeSize*s}return null}o(Jh,"findSelectionIn");function z6(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof _r||s instanceof kr))return;let i=t.mapping.maps[r],a;i.forEach((l,u,c,f)=>{a==null&&(a=f)}),t.setSelection(Je.near(t.doc.resolve(a),n))}o(z6,"selectionToInsertionEnd");const V6=1,hb=2,j6=4;class Xke extends HH{static{o(this,"Transaction")}constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|V6)&~hb,this.storedMarks=null,this}get selectionSet(){return(this.updated&V6)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=hb,this}ensureMarks(e){return xt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&hb)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~hb,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||xt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let a=this.doc.resolve(n);i=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),this.selection.empty||this.setSelection(Je.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=j6,this}get scrolledIntoView(){return(this.updated&j6)>0}}function W6(t,e){return!e||!t?t:t.bind(e)}o(W6,"bind$1");class ng{static{o(this,"FieldDesc")}constructor(e,n,r){this.name=e,this.init=W6(n.init,r),this.apply=W6(n.apply,r)}}const Jke=[new ng("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new ng("selection",{init(t,e){return t.selection||Je.atStart(e.doc)},apply(t){return t.selection}}),new ng("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new ng("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class sT{static{o(this,"Configuration")}constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Jke.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ng(r.key,r.spec.state,r))})}}class rg{static{o(this,"EditorState")}constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let a=0;a<this.config.plugins.length;a++){let l=this.config.plugins[a];if(l.spec.appendTransaction){let u=s?s[a].n:0,c=s?s[a].state:this,f=u<n.length&&l.spec.appendTransaction.call(l,u?n.slice(u):n,c,r);if(f&&r.filterTransaction(f,a)){if(f.setMeta("appendedTransaction",e),!s){s=[];for(let h=0;h<this.config.plugins.length;h++)s.push(h<a?{state:r,n:n.length}:{state:this,n:0})}n.push(f),r=r.applyInner(f),i=!0}s&&(s[a]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new rg(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new Xke(this)}static create(e){let n=new sT(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new rg(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new sT(this.schema,e.plugins),r=n.fields,s=new rg(n);for(let i=0;i<r.length;i++){let a=r[i].name;s[a]=this.hasOwnProperty(a)?this[a]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new sT(e.schema,e.plugins),i=new rg(s);return s.fields.forEach(a=>{if(a.name=="doc")i.doc=lf.fromJSON(e.schema,n.doc);else if(a.name=="selection")i.selection=Je.fromJSON(i.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let u=r[l],c=u.spec.state;if(u.key==a.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){i[a.name]=c.fromJSON.call(u,e,n[l],i);return}}i[a.name]=a.init(e,i)}}),i}}function GH(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=GH(s,e,{})),n[r]=s}return n}o(GH,"bindProps");class Xp{static{o(this,"Plugin")}constructor(e){this.spec=e,this.props={},e.props&&GH(e.props,this,this.props),this.key=e.key?e.key.key:KH("plugin")}getState(e){return e[this.key]}}const iT=Object.create(null);function KH(t){return t in iT?t+"$"+ ++iT[t]:(iT[t]=0,t+"$")}o(KH,"createKey");class Xy{static{o(this,"PluginKey")}constructor(e="key"){this.key=KH(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const wr=o(function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},"domIndex"),W0=o(function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e},"parentNode");let nC=null;const Ya=o(function(t,e,n){let r=nC||(nC=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},"textRange"),Zke=o(function(){nC=null},"clearReusedRange"),Lf=o(function(t,e,n,r){return n&&(H6(t,e,n,r,-1)||H6(t,e,n,r,1))},"isEquivalentPosition"),Qke=/^(img|br|input|textarea|hr)$/i;function H6(t,e,n,r,s){for(;;){if(t==n&&e==r)return!0;if(e==(s<0?0:xi(t))){let i=t.parentNode;if(!i||i.nodeType!=1||Jy(t)||Qke.test(t.nodeName)||t.contentEditable=="false")return!1;e=wr(t)+(s<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(s<0?-1:0)],t.contentEditable=="false")return!1;e=s<0?xi(t):0}else return!1}}o(H6,"scanFor");function xi(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}o(xi,"nodeSize");function eAe(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=xi(t)}else if(t.parentNode&&!Jy(t))e=wr(t),t=t.parentNode;else return null}}o(eAe,"textNodeBefore$1");function tAe(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Jy(t))e=wr(t)+1,t=t.parentNode;else return null}}o(tAe,"textNodeAfter$1");function nAe(t,e,n){for(let r=e==0,s=e==xi(t);r||s;){if(t==n)return!0;let i=wr(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==xi(t)}}o(nAe,"isOnEdge");function Jy(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}o(Jy,"hasBlockDesc");const _x=o(function(t){return t.focusNode&&Lf(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)},"selectionCollapsed");function Bc(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}o(Bc,"keyEvent");function rAe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}o(rAe,"deepActiveElement");function sAe(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(xi(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(xi(r.startContainer),r.startOffset)}}}o(sAe,"caretFromPoint");const ya=typeof navigator<"u"?navigator:null,q6=typeof document<"u"?document:null,dc=ya&&ya.userAgent||"",rC=/Edge\/(\d+)/.exec(dc),YH=/MSIE \d/.exec(dc),sC=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(dc),$s=!!(YH||sC||rC),Cu=YH?document.documentMode:sC?+sC[1]:rC?+rC[1]:0,Eo=!$s&&/gecko\/(\d+)/i.test(dc);Eo&&+(/Firefox\/(\d+)/.exec(dc)||[0,0])[1];const iC=!$s&&/Chrome\/(\d+)/.exec(dc),zr=!!iC,XH=iC?+iC[1]:0,bs=!$s&&!!ya&&/Apple Computer/.test(ya.vendor),fp=bs&&(/Mobile\/\w+/.test(dc)||!!ya&&ya.maxTouchPoints>2),wi=fp||(ya?/Mac/.test(ya.platform):!1),iAe=ya?/Win/.test(ya.platform):!1,al=/Android \d/.test(dc),Zy=!!q6&&"webkitFontSmoothing"in q6.documentElement.style,oAe=Zy?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function aAe(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}o(aAe,"windowRect");function za(t,e){return typeof t=="number"?t:t[e]}o(za,"getSide");function lAe(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}o(lAe,"clientRect");function G6(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let a=n||t.dom;a;a=W0(a)){if(a.nodeType!=1)continue;let l=a,u=l==i.body,c=u?aAe(i):lAe(l),f=0,h=0;if(e.top<c.top+za(r,"top")?h=-(c.top-e.top+za(s,"top")):e.bottom>c.bottom-za(r,"bottom")&&(h=e.bottom-e.top>c.bottom-c.top?e.top+za(s,"top")-c.top:e.bottom-c.bottom+za(s,"bottom")),e.left<c.left+za(r,"left")?f=-(c.left-e.left+za(s,"left")):e.right>c.right-za(r,"right")&&(f=e.right-c.right+za(s,"right")),f||h)if(u)i.defaultView.scrollBy(f,h);else{let d=l.scrollLeft,p=l.scrollTop;h&&(l.scrollTop+=h),f&&(l.scrollLeft+=f);let m=l.scrollLeft-d,y=l.scrollTop-p;e={left:e.left-m,top:e.top-y,right:e.right-m,bottom:e.bottom-y}}if(u||/^(fixed|sticky)$/.test(getComputedStyle(a).position))break}}o(G6,"scrollRectIntoView");function uAe(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let l=t.root.elementFromPoint(i,a);if(!l||l==t.dom||!t.dom.contains(l))continue;let u=l.getBoundingClientRect();if(u.top>=n-20){r=l,s=u.top;break}}return{refDOM:r,refTop:s,stack:JH(t.dom)}}o(uAe,"storeScrollPos");function JH(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=W0(r));return e}o(JH,"scrollStack");function cAe({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;ZH(n,r==0?0:r-e)}o(cAe,"resetScrollPos");function ZH(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}o(ZH,"restoreScrollStack");let Ah=null;function fAe(t){if(t.setActive)return t.setActive();if(Ah)return t.focus(Ah);let e=JH(t);t.focus(Ah==null?{get preventScroll(){return Ah={preventScroll:!0},!0}}:void 0),Ah||(Ah=!1,ZH(e,0))}o(fAe,"focusPreventScroll");function QH(t,e){let n,r=2e8,s,i=0,a=e.top,l=e.top,u,c;for(let f=t.firstChild,h=0;f;f=f.nextSibling,h++){let d;if(f.nodeType==1)d=f.getClientRects();else if(f.nodeType==3)d=Ya(f).getClientRects();else continue;for(let p=0;p<d.length;p++){let m=d[p];if(m.top<=a&&m.bottom>=l){a=Math.max(m.bottom,a),l=Math.min(m.top,l);let y=m.left>e.left?m.left-e.left:m.right<e.left?e.left-m.right:0;if(y<r){n=f,r=y,s=y&&n.nodeType==3?{left:m.right<e.left?m.right:m.left,top:e.top}:e,f.nodeType==1&&y&&(i=h+(e.left>=(m.left+m.right)/2?1:0));continue}}else m.top>e.top&&!u&&m.left<=e.left&&m.right>=e.left&&(u=f,c={left:Math.max(m.left,Math.min(m.right,e.left)),top:m.top});!n&&(e.left>=m.right&&e.top>=m.top||e.left>=m.left&&e.top>=m.bottom)&&(i=h+1)}}return!n&&u&&(n=u,s=c,r=0),n&&n.nodeType==3?hAe(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:QH(n,s)}o(QH,"findOffsetInNode");function hAe(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let i=Jl(r,1);if(i.top!=i.bottom&&bO(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}o(hAe,"findOffsetInText");function bO(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}o(bO,"inRect");function dAe(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}o(dAe,"targetKludge");function pAe(t,e,n){let{node:r,offset:s}=QH(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();i=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}o(pAe,"posFromElement");function mAe(t,e,n,r){let s=-1;for(let i=e,a=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0),u;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((u=l.dom.getBoundingClientRect()).width||u.height)&&(l.node.isBlock&&l.parent&&(!a&&u.left>r.left||u.top>r.top?s=l.posBefore:(!a&&u.right<r.left||u.bottom<r.top)&&(s=l.posAfter),a=!0),!l.contentDOM&&s<0&&!l.node.isText))return(l.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}o(mAe,"posFromCaret");function eq(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let a=t.childNodes[i];if(a.nodeType==1){let l=a.getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(bO(e,c))return eq(a,e,c)}}if((i=(i+1)%r)==s)break}return t}o(eq,"elementFromPoint");function gAe(t,e){let n=t.dom.ownerDocument,r,s=0,i=sAe(n,e.left,e.top);i&&({node:r,offset:s}=i);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let c=t.dom.getBoundingClientRect();if(!bO(e,c)||(a=eq(t.dom,e,c),!a))return null}if(bs)for(let c=a;r&&c;c=W0(c))c.draggable&&(r=void 0);if(a=dAe(a,e),r){if(Eo&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let f=r.childNodes[s],h;f.nodeName=="IMG"&&(h=f.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&s++}let c;Zy&&s&&r.nodeType==1&&(c=r.childNodes[s-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(l=mAe(t,r,s,e))}l==null&&(l=pAe(t,a,e));let u=t.docView.nearestDesc(a,!0);return{pos:l,inside:u?u.posAtStart-u.border:-1}}o(gAe,"posAtCoords");function K6(t){return t.top<t.bottom||t.left<t.right}o(K6,"nonZero");function Jl(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(K6(r))return r}return Array.prototype.find.call(n,K6)||t.getBoundingClientRect()}o(Jl,"singleRect");const yAe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function tq(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),a=Zy||Eo;if(r.nodeType==3)if(a&&(yAe.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let u=Jl(Ya(r,s,s),n);if(Eo&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let c=Jl(Ya(r,s-1,s-1),-1);if(c.top==u.top){let f=Jl(Ya(r,s,s+1),-1);if(f.top!=u.top)return Rm(f,f.left<c.left)}}return u}else{let u=s,c=s,f=n<0?1:-1;return n<0&&!s?(c++,f=-1):n>=0&&s==r.nodeValue.length?(u--,f=1):n<0?u--:c++,Rm(Jl(Ya(r,u,c),f),f<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==xi(r))){let u=r.childNodes[s-1];if(u.nodeType==1)return oT(u.getBoundingClientRect(),!1)}if(i==null&&s<xi(r)){let u=r.childNodes[s];if(u.nodeType==1)return oT(u.getBoundingClientRect(),!0)}return oT(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==xi(r))){let u=r.childNodes[s-1],c=u.nodeType==3?Ya(u,xi(u)-(a?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(c)return Rm(Jl(c,1),!1)}if(i==null&&s<xi(r)){let u=r.childNodes[s];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let c=u?u.nodeType==3?Ya(u,0,a?0:1):u.nodeType==1?u:null:null;if(c)return Rm(Jl(c,-1),!0)}return Rm(Jl(r.nodeType==3?Ya(r):r,-n),n>=0)}o(tq,"coordsAtPos");function Rm(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}o(Rm,"flattenV");function oT(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}o(oT,"flattenH");function nq(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}o(nq,"withFlushedState");function bAe(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return nq(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let a=tq(t,s.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=Ya(l,0,l.nodeValue.length).getClientRects();else continue;for(let c=0;c<u.length;c++){let f=u[c];if(f.bottom>f.top+1&&(n=="up"?a.top-f.top>(f.bottom-a.top)*2:f.bottom-a.bottom>(a.bottom-f.top)*2))return!1}}return!0})}o(bAe,"endOfTextblockVertical");const _Ae=/[\u0590-\u08ac]/;function wAe(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,a=s==r.parent.content.size,l=t.domSelection();return l?!_Ae.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?i:a:nq(t,e,()=>{let{focusNode:u,focusOffset:c,anchorNode:f,anchorOffset:h}=t.domSelectionRange(),d=l.caretBidiLevel;l.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:m,focusOffset:y}=t.domSelectionRange(),b=m&&!p.contains(m.nodeType==1?m:m.parentNode)||u==m&&c==y;try{l.collapse(f,h),u&&(u!=f||c!=h)&&l.extend&&l.extend(u,c)}catch{}return d!=null&&(l.caretBidiLevel=d),b}):r.pos==r.start()||r.pos==r.end()}o(wAe,"endOfTextblockHorizontal");let Y6=null,X6=null,J6=!1;function vAe(t,e,n){return Y6==e&&X6==n?J6:(Y6=e,X6=n,J6=n=="up"||n=="down"?bAe(t,e,n):wAe(t,e,n))}o(vAe,"endOfTextblock");const Oi=0,Z6=1,Gc=2,ba=3;class Qy{static{o(this,"ViewDesc")}constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=Oi,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,a;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(a)+a.size:this.posAtStart}else{let i,a;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>wr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),a;if(i&&(!n||i.node))if(r&&(a=i.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)s=s.children[0];return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let a=this.children[r],l=i+a.size;if(l>e||a instanceof sq){s=e-i;break}i=l}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof rq&&i.side>=0;r--);if(n<=0){let i,a=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,a=!1);return i&&n&&a&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?wr(i.dom)+1:0}}else{let i,a=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,a=!1);return i&&a&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?wr(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let a=r,l=0;;l++){let u=this.children[l],c=a+u.size;if(s==-1&&e<=c){let f=a+u.border;if(e>=f&&n<=c-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,f);e=a;for(let h=l;h>0;h--){let d=this.children[h-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){s=wr(d.dom)+1;break}e-=d.size}s==-1&&(s=0)}if(s>-1&&(c>n||l==this.children.length-1)){n=c;for(let f=l+1;f<this.children.length;f++){let h=this.children[f];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){i=wr(h.dom);break}n+=h.size}i==-1&&(i=this.contentDOM.childNodes.length);break}a=c}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),a=Math.max(e,n);for(let p=0,m=0;p<this.children.length;p++){let y=this.children[p],b=m+y.size;if(i>m&&a<b)return y.setSelection(e-m-y.border,n-m-y.border,r,s);m=b}let l=this.domFromPos(e,e?-1:1),u=n==e?l:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),f=r.domSelectionRange(),h=!1;if((Eo||bs)&&e==n){let{node:p,offset:m}=l;if(p.nodeType==3){if(h=!!(m&&p.nodeValue[m-1]==`
`),h&&m==p.nodeValue.length)for(let y=p,b;y;y=y.parentNode){if(b=y.nextSibling){b.nodeName=="BR"&&(l=u={node:b.parentNode,offset:wr(b)+1});break}let _=y.pmViewDesc;if(_&&_.node&&_.node.isBlock)break}}else{let y=p.childNodes[m-1];h=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(Eo&&f.focusNode&&f.focusNode!=u.node&&f.focusNode.nodeType==1){let p=f.focusNode.childNodes[f.focusOffset];p&&p.contentEditable=="false"&&(s=!0)}if(!(s||h&&bs)&&Lf(l.node,l.offset,f.anchorNode,f.anchorOffset)&&Lf(u.node,u.offset,f.focusNode,f.focusOffset))return;let d=!1;if((c.extend||e==n)&&!h){c.collapse(l.node,l.offset);try{e!=n&&c.extend(u.node,u.offset),d=!0}catch{}}if(!d){if(e>n){let m=l;l=u,u=m}let p=document.createRange();p.setEnd(u.node,u.offset),p.setStart(l.node,l.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],a=r+i.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let l=r+i.border,u=a-i.border;if(e>=l&&n<=u){this.dirty=e==r||n==a?Gc:Z6,e==l&&n==u&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=ba:i.markDirty(e-l,n-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Gc:ba}r=a}this.dirty=Gc}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Gc:Z6;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class rq extends Qy{static{o(this,"WidgetViewDesc")}constructor(e,n,r,s){let i,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(a.nodeType!=1){let l=document.createElement("span");l.appendChild(a),a=l}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==Oi&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class EAe extends Qy{static{o(this,"CompositionViewDesc")}constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ff extends Qy{static{o(this,"MarkViewDesc")}constructor(e,n,r,s,i){super(e,[],r,s),this.mark=n,this.spec=i}static create(e,n,r,s){let i=s.nodeViews[n.type.name],a=i&&i(n,s,r);return(!a||!a.dom)&&(a=Yp.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Ff(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&ba||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ba&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Oi){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Oi}}slice(e,n,r){let s=Ff.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=aC(i,n,a,r)),e>0&&(i=aC(i,0,e,r));for(let l=0;l<i.length;l++)i[l].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Iu extends Qy{static{o(this,"NodeViewDesc")}constructor(e,n,r,s,i,a,l,u,c){super(e,[],i,a),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=l}static create(e,n,r,s,i,a){let l=i.nodeViews[n.type.name],u,c=l&&l(n,i,()=>{if(!u)return a;if(u.parent)return u.parent.posBeforeChild(u)},r,s),f=c&&c.dom,h=c&&c.contentDOM;if(n.isText){if(!f)f=document.createTextNode(n.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:h}=Yp.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!h&&!n.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),n.type.spec.draggable&&(f.draggable=!0));let d=f;return f=aq(f,r,n),c?u=new xAe(e,n,r,s,f,h||null,d,c,i,a+1):n.isText?new wx(e,n,r,s,f,d,i):new Iu(e,n,r,s,f,h||null,d,i,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ce.empty)}return e}matchesNode(e,n,r){return this.dirty==Oi&&e.eq(this.node)&&Ww(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,a=i&&i.pos>-1?i:null,l=i&&i.pos<0,u=new TAe(this,a&&a.node,e);CAe(this.node,this.innerDeco,(c,f,h)=>{c.spec.marks?u.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!h&&u.syncToMarks(f==this.node.childCount?xt.none:this.node.child(f).marks,r,e),u.placeWidget(c,e,s)},(c,f,h,d)=>{u.syncToMarks(c.marks,r,e);let p;u.findNodeMatch(c,f,h,d)||l&&e.state.selection.from>s&&e.state.selection.to<s+c.nodeSize&&(p=u.findIndexWithChild(i.node))>-1&&u.updateNodeAt(c,f,h,p,e)||u.updateNextNode(c,f,h,e,d,s)||u.addNode(c,f,h,e,s),s+=c.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==Gc)&&(a&&this.protectLocalComposition(e,a),iq(this.contentDOM,this.children,e),fp&&IAe(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof at)||r<n||s>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let a=i.nodeValue,l=RAe(this.node.content,a,r-n,s-n);return l<0?null:{node:i,pos:l,text:a}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let a=new EAe(this,i,n,s);e.input.compositionNodes.push(a),this.children=aC(this.children,r,r+s.length,e,a)}update(e,n,r,s){return this.dirty==ba||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Oi}updateOuterDeco(e){if(Ww(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=oq(this.dom,this.nodeDOM,oC(this.outerDeco,this.node,n),oC(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Q6(t,e,n,r,s){aq(r,e,t);let i=new Iu(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}o(Q6,"docViewDesc");class wx extends Iu{static{o(this,"TextViewDesc")}constructor(e,n,r,s,i,a,l){super(e,n,r,s,i,null,a,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==ba||this.dirty!=Oi&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Oi||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=Oi,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new wx(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ba)}get domAtom(){return!1}isText(e){return this.node.text==e}}class sq extends Qy{static{o(this,"TrailingHackViewDesc")}parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Oi&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class xAe extends Iu{static{o(this,"CustomNodeViewDesc")}constructor(e,n,r,s,i,a,l,u,c,f){super(e,n,r,s,i,a,l,c,f),this.spec=u}update(e,n,r,s){if(this.dirty==ba)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function iq(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let a=e[i],l=a.dom;if(l.parentNode==t){for(;l!=r;)r=eF(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(l,r);if(a instanceof Ff){let u=r?r.previousSibling:t.lastChild;iq(a.contentDOM,a.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=eF(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}o(iq,"renderDescs");const Ng=o(function(t){t&&(this.nodeName=t)},"OuterDecoLevel");Ng.prototype=Object.create(null);const Kc=[new Ng];function oC(t,e,n){if(t.length==0)return Kc;let r=n?Kc[0]:new Ng,s=[r];for(let i=0;i<t.length;i++){let a=t[i].type.attrs;if(a){a.nodeName&&s.push(r=new Ng(a.nodeName));for(let l in a){let u=a[l];u!=null&&(n&&s.length==1&&s.push(r=new Ng(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+u:l=="style"?r.style=(r.style?r.style+";":"")+u:l!="nodeName"&&(r[l]=u))}}}return s}o(oC,"computeOuterDeco");function oq(t,e,n,r){if(n==Kc&&r==Kc)return e;let s=e;for(let i=0;i<r.length;i++){let a=r[i],l=n[i];if(i){let u;l&&l.nodeName==a.nodeName&&s!=t&&(u=s.parentNode)&&u.nodeName.toLowerCase()==a.nodeName||(u=document.createElement(a.nodeName),u.pmIsDeco=!0,u.appendChild(s),l=Kc[0]),s=u}SAe(s,l||Kc[0],a)}return s}o(oq,"patchOuterDeco");function SAe(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}o(SAe,"patchAttributes");function aq(t,e,n){return oq(t,t,Kc,oC(e,n,t.nodeType!=1))}o(aq,"applyOuterDeco");function Ww(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}o(Ww,"sameOuterDeco");function eF(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}o(eF,"rm");class TAe{static{o(this,"ViewTreeUpdater")}constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=kAe(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,a=Math.min(i,e.length);for(;s<a&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=Oi,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let c=this.top.children[u];if(c.matchesMark(e[i])&&!this.isLocked(c.dom)){l=u;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let u=Ff.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,a;if(s>=this.preMatch.index&&(a=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))i=this.top.children.indexOf(a,this.index);else for(let l=this.index,u=Math.min(this.top.children.length,l+5);l<u;l++){let c=this.top.children[l];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let a=this.top.children[s];return a.dirty==ba&&a.dom==a.contentDOM&&(a.dirty=Gc),a.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,a){for(let l=this.index;l<this.top.children.length;l++){let u=this.top.children[l];if(u instanceof Iu){let c=this.preMatch.matched.get(u);if(c!=null&&c!=i)return!1;let f=u.dom,h,d=this.isLocked(f)&&!(e.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==e.text&&u.dirty!=ba&&Ww(n,u.outerDeco));if(!d&&u.update(e,n,r,s))return this.destroyBetween(this.index,l),u.dom!=f&&(this.changed=!0),this.index++,!0;if(!d&&(h=this.recreateWrapper(u,e,n,r,s,a)))return this.destroyBetween(this.index,l),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=Gc,h.updateChildren(s,a+1),h.dirty=Oi),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Ww(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let l=Iu.create(this.top,n,r,s,i,a);if(l.contentDOM){l.children=e.children,e.children=[];for(let u of l.children)u.parent=l}return e.destroy(),l}addNode(e,n,r,s,i){let a=Iu.create(this.top,e,n,r,s,i);a.contentDOM&&a.updateChildren(s,i+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new rq(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Ff;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof wx)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((bs||zr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new sq(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function kAe(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,a=[];e:for(;s>0;){let l;for(;;)if(r){let c=n.children[r-1];if(c instanceof Ff)n=c,r=c.children.length;else{l=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=l.node;if(u){if(u!=t.child(s-1))break;--s,i.set(l,s),a.push(l)}}return{index:s,matched:i,matches:a.reverse()}}o(kAe,"preMatch");function AAe(t,e){return t.type.side-e.type.side}o(AAe,"compareSide");function CAe(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let c=0;c<t.childCount;c++){let f=t.child(c);r(f,s,e.forChild(i,f),c),i+=f.nodeSize}return}let a=0,l=[],u=null;for(let c=0;;){let f,h;for(;a<s.length&&s[a].to==i;){let b=s[a++];b.widget&&(f?(h||(h=[f])).push(b):f=b)}if(f)if(h){h.sort(AAe);for(let b=0;b<h.length;b++)n(h[b],c,!!u)}else n(f,c,!!u);let d,p;if(u)p=-1,d=u,u=null;else if(c<t.childCount)p=c,d=t.child(c++);else break;for(let b=0;b<l.length;b++)l[b].to<=i&&l.splice(b--,1);for(;a<s.length&&s[a].from<=i&&s[a].to>i;)l.push(s[a++]);let m=i+d.nodeSize;if(d.isText){let b=m;a<s.length&&s[a].from<b&&(b=s[a].from);for(let _=0;_<l.length;_++)l[_].to<b&&(b=l[_].to);b<m&&(u=d.cut(b-i),d=d.cut(0,b-i),m=b,p=-1)}else for(;a<s.length&&s[a].to<m;)a++;let y=d.isInline&&!d.isLeaf?l.filter(b=>!b.inline):l.slice();r(d,y,e.forChild(i,d),p),i=m}}o(CAe,"iterDeco");function IAe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}o(IAe,"iosHacks");function RAe(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let a=t.child(s++),l=i;if(i+=a.nodeSize,!a.isText)continue;let u=a.text;for(;s<t.childCount;){let c=t.child(s++);if(i+=c.nodeSize,!c.isText)break;u+=c.text}if(i>=n){if(i>=r&&u.slice(r-e.length-l,r-l)==e)return r-e.length;let c=l<r?u.lastIndexOf(e,r-l-1):-1;if(c>=0&&c+e.length+l>=n)return l+c;if(n==r&&u.length>=r+e.length-l&&u.slice(r-l,r-l+e.length)==e)return r}}return-1}o(RAe,"findTextInFragment");function aC(t,e,n,r,s){let i=[];for(let a=0,l=0;a<t.length;a++){let u=t[a],c=l,f=l+=u.size;c>=n||f<=e?i.push(u):(c<e&&i.push(u.slice(0,e-c,r)),s&&(i.push(s),s=void 0),f>n&&i.push(u.slice(n-c,u.size,r)))}return i}o(aC,"replaceNodes");function _O(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let l=r.resolve(a),u,c;if(_x(n)){for(u=a;s&&!s.node;)s=s.parent;let h=s.node;if(s&&h.isAtom&&Be.isSelectable(h)&&s.parent&&!(h.isInline&&nAe(n.focusNode,n.focusOffset,s.dom))){let d=s.posBefore;c=new Be(a==d?l:r.resolve(d))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let h=a,d=a;for(let p=0;p<n.rangeCount;p++){let m=n.getRangeAt(p);h=Math.min(h,t.docView.posFromDOM(m.startContainer,m.startOffset,1)),d=Math.max(d,t.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(h<0)return null;[u,a]=d==t.state.selection.anchor?[d,h]:[h,d],l=r.resolve(a)}else u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let f=r.resolve(u);if(!c){let h=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;c=wO(t,f,l,h)}return c}o(_O,"selectionFromDOM");function lq(t){return t.editable?t.hasFocus():cq(t)&&document.activeElement&&document.activeElement.contains(t.dom)}o(lq,"editorOwnsSelection");function dl(t,e=!1){let n=t.state.selection;if(uq(t,n),!!lq(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&zr){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Lf(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)NAe(t);else{let{anchor:r,head:s}=n,i,a;tF&&!(n instanceof at)&&(n.$from.parent.inlineContent||(i=nF(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=nF(t,n.to))),t.docView.setSelection(r,s,t,e),tF&&(i&&rF(i),a&&rF(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&OAe(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}o(dl,"selectionToDOM");const tF=bs||zr&&XH<63;function nF(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(bs&&s&&s.contentEditable=="false")return aT(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return aT(s);if(i)return aT(i)}}o(nF,"temporarilyEditableNear");function aT(t){return t.contentEditable="true",bs&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}o(aT,"setEditable");function rF(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}o(rF,"resetEditable");function OAe(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!lq(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}o(OAe,"removeClassOnSelectionChange");function NAe(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,s=r.nodeName=="IMG";s?n.setStart(r.parentNode,wr(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!s&&!t.state.selection.visible&&$s&&Cu<=11&&(r.disabled=!0,r.disabled=!1)}o(NAe,"selectCursorWrapper");function uq(t,e){if(e instanceof Be){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(sF(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else sF(t)}o(uq,"syncNodeSelection");function sF(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}o(sF,"clearNodeSelection");function wO(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||at.between(e,n,r)}o(wO,"selectionBetween");function iF(t){return t.editable&&!t.hasFocus()?!1:cq(t)}o(iF,"hasFocusAndSelection");function cq(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}o(cq,"hasSelection");function MAe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Lf(e.node,e.offset,n.anchorNode,n.anchorOffset)}o(MAe,"anchorInRightPlace");function lC(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&Je.findFrom(i,e)}o(lC,"moveSelectionBlock");function tu(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}o(tu,"apply$1");function oF(t,e,n){let r=t.state.selection;if(r instanceof at)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let a=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return tu(t,new at(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=lC(t.state,e);return s&&s instanceof Be?tu(t,s):!1}else if(!(wi&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,a;if(!i||i.isText)return!1;let l=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(a=t.docView.descAt(l))&&!a.contentDOM?Be.isSelectable(i)?tu(t,new Be(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):Zy?tu(t,new at(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Be&&r.node.isInline)return tu(t,new at(e>0?r.$to:r.$from));{let s=lC(t.state,e);return s?tu(t,s):!1}}}o(oF,"selectHorizontally");function Hw(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}o(Hw,"nodeLen");function Mg(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}o(Mg,"isIgnorable");function Ch(t,e){return e<0?DAe(t):PAe(t)}o(Ch,"skipIgnoredNodes");function DAe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,a=!1;for(Eo&&n.nodeType==1&&r<Hw(n)&&Mg(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(Mg(l,-1))s=n,i=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(fq(n))break;{let l=n.previousSibling;for(;l&&Mg(l,-1);)s=n.parentNode,i=wr(l),l=l.previousSibling;if(l)n=l,r=Hw(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?uC(t,n,r):s&&uC(t,s,i)}o(DAe,"skipIgnoredNodesBefore");function PAe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=Hw(n),i,a;for(;;)if(r<s){if(n.nodeType!=1)break;let l=n.childNodes[r];if(Mg(l,1))i=n,a=++r;else break}else{if(fq(n))break;{let l=n.nextSibling;for(;l&&Mg(l,1);)i=l.parentNode,a=wr(l)+1,l=l.nextSibling;if(l)n=l,r=0,s=Hw(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&uC(t,i,a)}o(PAe,"skipIgnoredNodesAfter");function fq(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}o(fq,"isBlockNode");function $Ae(t,e){for(;t&&e==t.childNodes.length&&!Jy(t);)e=wr(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}o($Ae,"textNodeAfter");function LAe(t,e){for(;t&&!e&&!Jy(t);)e=wr(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}o(LAe,"textNodeBefore");function uC(t,e,n){if(e.nodeType!=3){let i,a;(a=$Ae(e,n))?(e=a,n=0):(i=LAe(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(_x(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&dl(t)},50)}o(uC,"setSelFocus");function aF(t,e){let n=t.state.doc.resolve(e);if(!(zr||iAe)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),a=(i.top+i.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),a=(i.top+i.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}o(aF,"findDirection");function lF(t,e,n){let r=t.state.selection;if(r instanceof at&&!r.empty||n.indexOf("s")>-1||wi&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=lC(t.state,e);if(a&&a instanceof Be)return tu(t,a)}if(!s.parent.inlineContent){let a=e<0?s:i,l=r instanceof Ri?Je.near(a,e):Je.findFrom(a,e);return l?tu(t,l):!1}return!1}o(lF,"selectVertically");function uF(t,e){if(!(t.state.selection instanceof at))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let a=t.state.tr;return e<0?a.delete(n.pos-i.nodeSize,n.pos):a.delete(n.pos,n.pos+i.nodeSize),t.dispatch(a),!0}return!1}o(uF,"stopNativeHorizontalDelete");function cF(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}o(cF,"switchEditable");function FAe(t){if(!bs||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;cF(t,r,"true"),setTimeout(()=>cF(t,r,"false"),20)}return!1}o(FAe,"safariDownArrowBug");function BAe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}o(BAe,"getMods");function UAe(t,e){let n=e.keyCode,r=BAe(e);if(n==8||wi&&n==72&&r=="c")return uF(t,-1)||Ch(t,-1);if(n==46&&!e.shiftKey||wi&&n==68&&r=="c")return uF(t,1)||Ch(t,1);if(n==13||n==27)return!0;if(n==37||wi&&n==66&&r=="c"){let s=n==37?aF(t,t.state.selection.from)=="ltr"?-1:1:-1;return oF(t,s,r)||Ch(t,s)}else if(n==39||wi&&n==70&&r=="c"){let s=n==39?aF(t,t.state.selection.from)=="ltr"?1:-1:1;return oF(t,s,r)||Ch(t,s)}else{if(n==38||wi&&n==80&&r=="c")return lF(t,-1,r)||Ch(t,-1);if(n==40||wi&&n==78&&r=="c")return FAe(t)||lF(t,1,r)||Ch(t,1);if(r==(wi?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}o(UAe,"captureKeyDown");function hq(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let a=t.someProp("clipboardSerializer")||Yp.fromSchema(t.state.schema),l=bq(),u=l.createElement("div");u.appendChild(a.serializeFragment(r,{document:l}));let c=u.firstChild,f,h=0;for(;c&&c.nodeType==1&&(f=yq[c.nodeName.toLowerCase()]);){for(let p=f.length-1;p>=0;p--){let m=l.createElement(f[p]);for(;u.firstChild;)m.appendChild(u.firstChild);u.appendChild(m),h++}c=u.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${s} ${i}${h?` -${h}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:d,slice:e}}o(hq,"serializeForClipboard");function dq(t,e,n,r,s){let i=s.parent.type.spec.code,a,l;if(!n&&!e)return null;let u=e&&(r||i||!n);if(u){if(t.someProp("transformPastedText",d=>{e=d(e,i||r,t)}),i)return e?new we(ce.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):we.empty;let h=t.someProp("clipboardTextParser",d=>d(e,s,r,t));if(h)l=h;else{let d=s.marks(),{schema:p}=t.state,m=Yp.fromSchema(p);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let b=a.appendChild(document.createElement("p"));y&&b.appendChild(m.serializeNode(p.text(y,d)))})}}else t.someProp("transformPastedHTML",h=>{n=h(n,t)}),a=WAe(n),Zy&&HAe(a);let c=a&&a.querySelector("[data-pm-slice]"),f=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let h=+f[3];h>0;h--){let d=a.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;a=d}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||AH.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(u||f),context:s,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!zAe.test(d.parentNode.nodeName)?{ignore:!0}:null}})),f)l=qAe(fF(l,+f[1],+f[2]),f[4]);else if(l=we.maxOpen(VAe(l.content,s),!0),l.openStart||l.openEnd){let h=0,d=0;for(let p=l.content.firstChild;h<l.openStart&&!p.type.spec.isolating;h++,p=p.firstChild);for(let p=l.content.lastChild;d<l.openEnd&&!p.type.spec.isolating;d++,p=p.lastChild);l=fF(l,h,d)}return t.someProp("transformPasted",h=>{l=h(l,t)}),l}o(dq,"parseFromClipboard");const zAe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function VAe(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),i,a=[];if(t.forEach(l=>{if(!a)return;let u=s.findWrapping(l.type),c;if(!u)return a=null;if(c=a.length&&i.length&&mq(u,i,l,a[a.length-1],0))a[a.length-1]=c;else{a.length&&(a[a.length-1]=gq(a[a.length-1],i.length));let f=pq(l,u);a.push(f),s=s.matchType(f.type),i=u}}),a)return ce.from(a)}return t}o(VAe,"normalizeSiblings");function pq(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ce.from(t));return t}o(pq,"withWrappers");function mq(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=mq(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(ce.from(pq(n,t,s+1))))}}o(mq,"addToSibling");function gq(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,gq(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ce.empty,!0);return t.copy(n.append(r))}o(gq,"closeRight");function cC(t,e,n,r,s,i){let a=e<0?t.firstChild:t.lastChild,l=a.content;return t.childCount>1&&(i=0),s<r-1&&(l=cC(l,e,n,r,s+1,i)),s>=n&&(l=e<0?a.contentMatchAt(0).fillBefore(l,i<=s).append(l):l.append(a.contentMatchAt(a.childCount).fillBefore(ce.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(l))}o(cC,"closeRange");function fF(t,e,n){return e<t.openStart&&(t=new we(cC(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new we(cC(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}o(fF,"closeSlice");const yq={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let hF=null;function bq(){return hF||(hF=document.implementation.createHTMLDocument("title"))}o(bq,"detachedDoc");let lT=null;function jAe(t){let e=window.trustedTypes;return e?(lT||(lT=e.createPolicy("ProseMirrorClipboard",{createHTML:o(n=>n,"createHTML")})),lT.createHTML(t)):t}o(jAe,"maybeWrapTrusted");function WAe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=bq().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&yq[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=jAe(t),s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}o(WAe,"readHTML");function HAe(t){let e=t.querySelectorAll(zr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}o(HAe,"restoreReplacedSpaces");function qAe(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:a}=t;for(let l=r.length-2;l>=0;l-=2){let u=n.nodes[r[l]];if(!u||u.hasRequiredAttrs())break;s=ce.from(u.create(r[l+1],s)),i++,a++}return new we(s,i,a)}o(qAe,"addContext");const _s={},ws={},GAe={touchstart:!0,touchmove:!0};class KAe{static{o(this,"InputState")}constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function YAe(t){for(let e in _s){let n=_s[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{JAe(t,r)&&!vO(t,r)&&(t.editable||!(r.type in ws))&&n(t,r)},GAe[e]?{passive:!0}:void 0)}bs&&t.dom.addEventListener("input",()=>null),fC(t)}o(YAe,"initInput");function _u(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}o(_u,"setSelectionOrigin");function XAe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}o(XAe,"destroyInput");function fC(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>vO(t,r))})}o(fC,"ensureListeners");function vO(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}o(vO,"runCustomHandler");function JAe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}o(JAe,"eventBelongsToView");function ZAe(t,e){!vO(t,e)&&_s[e.type]&&(t.editable||!(e.type in ws))&&_s[e.type](t,e)}o(ZAe,"dispatchEvent");ws.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!wq(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(al&&zr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),fp&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,Bc(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||UAe(t,n)?n.preventDefault():_u(t,"key")};ws.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ws.keypress=(t,e)=>{let n=e;if(wq(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||wi&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof at)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode);!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",i=>i(t,r.$from.pos,r.$to.pos,s))&&t.dispatch(t.state.tr.insertText(s).scrollIntoView()),n.preventDefault()}};function vx(t){return{left:t.clientX,top:t.clientY}}o(vx,"eventCoords");function QAe(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}o(QAe,"isNear");function EO(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let a=i.depth+1;a>0;a--)if(t.someProp(e,l=>a>i.depth?l(t,n,i.nodeAfter,i.before(a),s,!0):l(t,n,i.node(a),i.before(a),s,!1)))return!0;return!1}o(EO,"runHandlerOnContext");function Od(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}o(Od,"updateSelection");function eCe(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Be.isSelectable(r)?(Od(t,new Be(n)),!0):!1}o(eCe,"selectClickedLeaf");function tCe(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof Be&&(r=n.node);let i=t.state.doc.resolve(e);for(let a=i.depth+1;a>0;a--){let l=a>i.depth?i.nodeAfter:i.node(a);if(Be.isSelectable(l)){r&&n.$from.depth>0&&a>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(a);break}}return s!=null?(Od(t,Be.create(t.state.doc,s)),!0):!1}o(tCe,"selectClickedNode");function nCe(t,e,n,r,s){return EO(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?tCe(t,n):eCe(t,n))}o(nCe,"handleSingleClick");function rCe(t,e,n,r){return EO(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}o(rCe,"handleDoubleClick");function sCe(t,e,n,r){return EO(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||iCe(t,n,r)}o(sCe,"handleTripleClick$1");function iCe(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Od(t,at.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let a=i>s.depth?s.nodeAfter:s.node(i),l=s.before(i);if(a.inlineContent)Od(t,at.create(r,l+1,l+1+a.content.size));else if(Be.isSelectable(a))Od(t,Be.create(r,l));else continue;return!0}}o(iCe,"defaultTripleClick");function xO(t){return qw(t)}o(xO,"forceDOMFlush");const _q=wi?"metaKey":"ctrlKey";_s.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=xO(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&QAe(n,t.input.lastClick)&&!n[_q]&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i};let a=t.posAtCoords(vx(n));a&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new oCe(t,a,n,!!r)):(i=="doubleClick"?rCe:sCe)(t,a.pos,a.inside,n)?n.preventDefault():_u(t,"pointer"))};class oCe{static{o(this,"MouseDown")}constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[_q],this.allowDefault=r.shiftKey;let i,a;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),a=n.inside;else{let f=e.state.doc.resolve(n.pos);i=f.parent,a=f.depth?f.before():0}const l=s?null:r.target,u=l?e.docView.nearestDesc(l,!0):null;this.target=u&&u.dom.nodeType==1?u.dom:null;let{selection:c}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof Be&&c.from<=a&&c.to>a)&&(this.mightDrag={node:i,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Eo&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),_u(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>dl(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(vx(e))),this.updateAllowDefault(e),this.allowDefault||!n?_u(this.view,"pointer"):nCe(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||bs&&this.mightDrag&&!this.mightDrag.node.isAtom||zr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Od(this.view,Je.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):_u(this.view,"pointer")}move(e){this.updateAllowDefault(e),_u(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}_s.touchstart=t=>{t.input.lastTouch=Date.now(),xO(t),_u(t,"pointer")};_s.touchmove=t=>{t.input.lastTouch=Date.now(),_u(t,"pointer")};_s.contextmenu=t=>xO(t);function wq(t,e){return t.composing?!0:bs&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}o(wq,"inOrNearComposition");const aCe=al?5e3:-1;ws.compositionstart=ws.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof at&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),qw(t,!0),t.markCursor=null;else if(qw(t,!e.selection.empty),Eo&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let a=i<0?s.lastChild:s.childNodes[i-1];if(!a)break;if(a.nodeType==3){let l=t.domSelection();l&&l.collapse(a,a.nodeValue.length);break}else s=a,i=-1}}t.input.composing=!0}vq(t,aCe)};ws.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,vq(t,20))};function vq(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>qw(t),e))}o(vq,"scheduleComposeEnd");function Eq(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=uCe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}o(Eq,"clearComposition");function lCe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=eAe(e.focusNode,e.focusOffset),r=tAe(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}o(lCe,"findCompositionNode");function uCe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}o(uCe,"timestampFromCustomEvent");function qw(t,e=!1){if(!(al&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Eq(t),e||t.docView&&t.docView.dirty){let n=_O(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}o(qw,"endComposition");function cCe(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}o(cCe,"captureCopy");const H0=$s&&Cu<15||fp&&oAe<604;_s.copy=ws.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=H0?null:n.clipboardData,a=r.content(),{dom:l,text:u}=hq(t,a);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",u)):cCe(t,l),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function fCe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}o(fCe,"sliceSingleNode");function hCe(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?q0(t,r.value,null,s,e):q0(t,r.textContent,r.innerHTML,s,e)},50)}o(hCe,"capturePaste");function q0(t,e,n,r,s){let i=dq(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",u=>u(t,s,i||we.empty)))return!0;if(!i)return!1;let a=fCe(i),l=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}o(q0,"doPaste");function xq(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}o(xq,"getText");ws.paste=(t,e)=>{let n=e;if(t.composing&&!al)return;let r=H0?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&q0(t,xq(r),r.getData("text/html"),s,n)?n.preventDefault():hCe(t,n)};class Sq{static{o(this,"Dragging")}constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const Tq=wi?"altKey":"ctrlKey";_s.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(vx(n)),a;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof Be?s.to-1:s.to))){if(r&&r.mightDrag)a=Be.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let h=t.docView.nearestDesc(n.target,!0);h&&h.node.type.spec.draggable&&h!=t.docView&&(a=Be.create(t.state.doc,h.posBefore))}}let l=(a||t.state.selection).content(),{dom:u,text:c,slice:f}=hq(t,l);(!n.dataTransfer.files.length||!zr||XH>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(H0?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",H0||n.dataTransfer.setData("text/plain",c),t.dragging=new Sq(f,!n[Tq],a)};_s.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ws.dragover=ws.dragenter=(t,e)=>e.preventDefault();ws.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(vx(n));if(!s)return;let i=t.state.doc.resolve(s.pos),a=r&&r.slice;a?t.someProp("transformPasted",m=>{a=m(a,t)}):a=dq(t,xq(n.dataTransfer),H0?null:n.dataTransfer.getData("text/html"),!1,i);let l=!!(r&&!n[Tq]);if(t.someProp("handleDrop",m=>m(t,n,a||we.empty,l))){n.preventDefault();return}if(!a)return;n.preventDefault();let u=a?UH(t.state.doc,i.pos,a):i.pos;u==null&&(u=i.pos);let c=t.state.tr;if(l){let{node:m}=r;m?m.replace(c):c.deleteSelection()}let f=c.mapping.map(u),h=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,d=c.doc;if(h?c.replaceRangeWith(f,f,a.content.firstChild):c.replaceRange(f,f,a),c.doc.eq(d))return;let p=c.doc.resolve(f);if(h&&Be.isSelectable(a.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new Be(p));else{let m=c.mapping.map(u);c.mapping.maps[c.mapping.maps.length-1].forEach((y,b,_,S)=>m=S),c.setSelection(wO(t,p,c.doc.resolve(m)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};_s.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&dl(t)},20))};_s.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};_s.beforeinput=(t,e)=>{if(zr&&al&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,Bc(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in ws)_s[t]=ws[t];function G0(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}o(G0,"compareObjs");class Gw{static{o(this,"WidgetType")}constructor(e,n){this.toDOM=e,this.spec=n||uf,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:a}=e.mapResult(n.from+s,this.side<0?-1:1);return a?null:new hs(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Gw&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&G0(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ru{static{o(this,"InlineType")}constructor(e,n){this.attrs=e,this.spec=n||uf}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=a?null:new hs(i,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Ru&&G0(this.attrs,e.attrs)&&G0(this.spec,e.spec)}static is(e){return e.type instanceof Ru}destroy(){}}class SO{static{o(this,"NodeType")}constructor(e,n){this.attrs=e,this.spec=n||uf}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let a=e.mapResult(n.to+s,-1);return a.deleted||a.pos<=i.pos?null:new hs(i.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof SO&&G0(this.attrs,e.attrs)&&G0(this.spec,e.spec)}destroy(){}}class hs{static{o(this,"Decoration")}constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new hs(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new hs(e,e,new Gw(n,r))}static inline(e,n,r,s){return new hs(e,n,new Ru(r,s))}static node(e,n,r,s){return new hs(e,n,new SO(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ru}get widget(){return this.type instanceof Gw}}const Zh=[],uf={};class xn{static{o(this,"DecorationSet")}constructor(e,n){this.local=e.length?e:Zh,this.children=n.length?n:Zh}static create(e,n){return n.length?Kw(n,e,0,uf):Nr}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let a=0;a<this.local.length;a++){let l=this.local[a];l.from<=n&&l.to>=e&&(!i||i(l.spec))&&r.push(l.copy(l.from+s,l.to+s))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let l=this.children[a]+1;this.children[a+2].findInner(e-l,n-l,r,s+l,i)}}map(e,n,r){return this==Nr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||uf)}mapInner(e,n,r,s,i){let a;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(e,r,s);u&&u.type.valid(n,u)?(a||(a=[])).push(u):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?dCe(this.children,a||[],e,n,r,s,i):a?new xn(a.sort(cf),Zh):Nr}add(e,n){return n.length?this==Nr?xn.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((l,u)=>{let c=u+r,f;if(f=Aq(n,l,c)){for(s||(s=this.children.slice());i<s.length&&s[i]<u;)i+=3;s[i]==u?s[i+2]=s[i+2].addInner(l,f,c+1):s.splice(i,0,u,u+l.nodeSize,Kw(f,l,c+1,uf)),i+=3}});let a=kq(i?Cq(n):n,-r);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||a.splice(l--,1);return new xn(a.length?this.local.concat(a).sort(cf):this.local,s||this.children)}remove(e){return e.length==0||this==Nr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let a,l=r[i]+n,u=r[i+1]+n;for(let f=0,h;f<e.length;f++)(h=e[f])&&h.from>l&&h.to<u&&(e[f]=null,(a||(a=[])).push(h));if(!a)continue;r==this.children&&(r=this.children.slice());let c=r[i+2].removeInner(a,l+1);c!=Nr?r[i+2]=c:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,a;i<e.length;i++)if(a=e[i])for(let l=0;l<s.length;l++)s[l].eq(a,n)&&(s==this.local&&(s=this.local.slice()),s.splice(l--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new xn(s,r):Nr}forChild(e,n){if(this==Nr)return this;if(n.isLeaf)return xn.empty;let r,s;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let i=e+1,a=i+n.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<a&&u.to>i&&u.type instanceof Ru){let c=Math.max(i,u.from)-i,f=Math.min(a,u.to)-i;c<f&&(s||(s=[])).push(u.copy(c,f))}}if(s){let l=new xn(s.sort(cf),Zh);return r?new fu([l,r]):l}return r||Nr}eq(e){if(this==e)return!0;if(!(e instanceof xn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return TO(this.localsInner(e))}localsInner(e){if(this==Nr)return Zh;if(e.inlineContent||!this.local.some(Ru.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Ru||n.push(this.local[r]);return n}forEachSet(e){e(this)}}xn.empty=new xn([],[]);xn.removeOverlap=TO;const Nr=xn.empty;class fu{static{o(this,"DecorationGroup")}constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,uf));return fu.from(r)}forChild(e,n){if(n.isLeaf)return xn.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=Nr&&(i instanceof fu?r=r.concat(i.members):r.push(i))}return fu.from(r)}eq(e){if(!(e instanceof fu)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let a=0;a<i.length;a++)n.push(i[a])}}return n?TO(r?n:n.sort(cf)):Zh}static from(e){switch(e.length){case 0:return Nr;case 1:return e[0];default:return new fu(e.every(n=>n instanceof xn)?e:e.reduce((n,r)=>n.concat(r instanceof xn?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function dCe(t,e,n,r,s,i,a){let l=t.slice();for(let c=0,f=i;c<n.maps.length;c++){let h=0;n.maps[c].forEach((d,p,m,y)=>{let b=y-m-(p-d);for(let _=0;_<l.length;_+=3){let S=l[_+1];if(S<0||d>S+f-h)continue;let v=l[_]+f-h;p>=v?l[_+1]=d<=v?-2:-1:d>=f&&b&&(l[_]+=b,l[_+1]+=b)}h+=b}),f=n.maps[c].map(f,-1)}let u=!1;for(let c=0;c<l.length;c+=3)if(l[c+1]<0){if(l[c+1]==-2){u=!0,l[c+1]=-1;continue}let f=n.map(t[c]+i),h=f-s;if(h<0||h>=r.content.size){u=!0;continue}let d=n.map(t[c+1]+i,-1),p=d-s,{index:m,offset:y}=r.content.findIndex(h),b=r.maybeChild(m);if(b&&y==h&&y+b.nodeSize==p){let _=l[c+2].mapInner(n,b,f+1,t[c]+i+1,a);_!=Nr?(l[c]=h,l[c+1]=p,l[c+2]=_):(l[c+1]=-2,u=!0)}else u=!0}if(u){let c=pCe(l,t,e,n,s,i,a),f=Kw(c,r,0,a);e=f.local;for(let h=0;h<l.length;h+=3)l[h+1]<0&&(l.splice(h,3),h-=3);for(let h=0,d=0;h<f.children.length;h+=3){let p=f.children[h];for(;d<l.length&&l[d]<p;)d+=3;l.splice(d,0,f.children[h],f.children[h+1],f.children[h+2])}}return new xn(e.sort(cf),l)}o(dCe,"mapChildren");function kq(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new hs(s.from+e,s.to+e,s.type))}return n}o(kq,"moveSpans");function pCe(t,e,n,r,s,i,a){function l(u,c){for(let f=0;f<u.local.length;f++){let h=u.local[f].map(r,s,c);h?n.push(h):a.onRemove&&a.onRemove(u.local[f].spec)}for(let f=0;f<u.children.length;f+=3)l(u.children[f+2],u.children[f]+c+1)}o(l,"gather");for(let u=0;u<t.length;u+=3)t[u+1]==-1&&l(t[u+2],e[u]+i+1);return n}o(pCe,"mapAndGatherRemainingDecorations");function Aq(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,a;i<t.length;i++)(a=t[i])&&a.from>n&&a.to<r&&((s||(s=[])).push(a),t[i]=null);return s}o(Aq,"takeSpansForNode");function Cq(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}o(Cq,"withoutNulls");function Kw(t,e,n,r){let s=[],i=!1;e.forEach((l,u)=>{let c=Aq(t,l,u+n);if(c){i=!0;let f=Kw(c,l,n+u+1,r);f!=Nr&&s.push(u,u+l.nodeSize,f)}});let a=kq(i?Cq(t):t,-n).sort(cf);for(let l=0;l<a.length;l++)a[l].type.valid(e,a[l])||(r.onRemove&&r.onRemove(a[l].spec),a.splice(l--,1));return a.length||s.length?new xn(a,s):Nr}o(Kw,"buildTree");function cf(t,e){return t.from-e.from||t.to-e.to}o(cf,"byPos");function TO(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),dF(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),dF(e,s,r.copy(i.from,r.to)));break}}}return e}o(TO,"removeOverlap");function dF(t,e,n){for(;e<t.length&&cf(n,t[e])>0;)e++;t.splice(e,0,n)}o(dF,"insertAhead");function uT(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Nr&&e.push(r)}),t.cursorWrapper&&e.push(xn.create(t.state.doc,[t.cursorWrapper.deco])),fu.from(e)}o(uT,"viewDecorations");const mCe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},gCe=$s&&Cu<=11;class yCe{static{o(this,"SelectionState")}constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class bCe{static{o(this,"DOMObserver")}constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new yCe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);$s&&Cu<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),gCe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,mCe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(iF(this.view)){if(this.suppressingSelectionUpdates)return dl(this.view);if($s&&Cu<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Lf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=W0(i))n.add(i);for(let i=e.anchorNode;i;i=W0(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&iF(e)&&!this.ignoreSelectionChange(r),i=-1,a=-1,l=!1,u=[];if(e.editable)for(let f=0;f<n.length;f++){let h=this.registerMutation(n[f],u);h&&(i=i<0?h.from:Math.min(h.from,i),a=a<0?h.to:Math.max(h.to,a),h.typeOver&&(l=!0))}if(Eo&&u.length){let f=u.filter(h=>h.nodeName=="BR");if(f.length==2){let[h,d]=f;h.parentNode&&h.parentNode.parentNode==d.parentNode?d.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let d of f){let p=d.parentNode;p&&p.nodeName=="LI"&&(!h||vCe(e,h)!=p)&&d.remove()}}}let c=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&_x(r)&&(c=_O(e))&&c.eq(Je.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,dl(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,a),_Ce(e)),this.handleDOMChange(i,a,l,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||dl(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let h=e.addedNodes[f];n.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if($s&&Cu<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:h,nextSibling:d}=e.addedNodes[f];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(s=h),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d)}let a=s&&s.parentNode==e.target?wr(s)+1:0,l=r.localPosFromDOM(e.target,a,-1),u=i&&i.parentNode==e.target?wr(i):e.target.childNodes.length,c=r.localPosFromDOM(e.target,u,1);return{from:l,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let pF=new WeakMap,mF=!1;function _Ce(t){if(!pF.has(t)&&(pF.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Eo,mF)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),mF=!0}}o(_Ce,"checkCSS");function gF(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,i=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return Lf(a.node,a.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}o(gF,"rangeToSelectionRange");function wCe(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return gF(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return o(r,"read"),t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?gF(t,n):null}o(wCe,"safariShadowSelectionRange");function vCe(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}o(vCe,"blockParent");function ECe(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:a,to:l}=t.docView.parseRange(e,n),u=t.domSelectionRange(),c,f=u.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(c=[{node:f,offset:u.anchorOffset}],_x(u)||c.push({node:u.focusNode,offset:u.focusOffset})),zr&&t.input.lastKeyCode===8)for(let b=i;b>s;b--){let _=r.childNodes[b-1],S=_.pmViewDesc;if(_.nodeName=="BR"&&!S){i=b;break}if(!S||S.size)break}let h=t.state.doc,d=t.someProp("domParser")||AH.fromSchema(t.state.schema),p=h.resolve(a),m=null,y=d.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:s,to:i,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:xCe,context:p});if(c&&c[0].pos!=null){let b=c[0].pos,_=c[1]&&c[1].pos;_==null&&(_=b),m={anchor:b+a,head:_+a}}return{doc:y,sel:m,from:a,to:l}}o(ECe,"parseBetween");function xCe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(bs&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||bs&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}o(xCe,"ruleFromNode");const SCe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function TCe(t,e,n,r,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let T=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,O=_O(t,T);if(O&&!t.state.selection.eq(O)){if(zr&&al&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",R=>R(t,Bc(13,"Enter"))))return;let N=t.state.tr.setSelection(O);T=="pointer"?N.setMeta("pointer",!0):T=="key"&&N.scrollIntoView(),i&&N.setMeta("composition",i),t.dispatch(N)}return}let a=t.state.doc.resolve(e),l=a.sharedDepth(n);e=a.before(l+1),n=t.state.doc.resolve(n).after(l+1);let u=t.state.selection,c=ECe(t,e,n),f=t.state.doc,h=f.slice(c.from,c.to),d,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,p="end"):(d=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let m=CCe(h.content,c.doc.content,c.from,d,p);if(m&&t.input.domChangeCount++,(fp&&t.input.lastIOSEnter>Date.now()-225||al)&&s.some(T=>T.nodeType==1&&!SCe.test(T.nodeName))&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",T=>T(t,Bc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(r&&u instanceof at&&!u.empty&&u.$head.sameParent(u.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:u.from,endA:u.to,endB:u.to};else{if(c.sel){let T=yF(t,t.state.doc,c.sel);if(T&&!T.eq(t.state.selection)){let O=t.state.tr.setSelection(T);i&&O.setMeta("composition",i),t.dispatch(O)}}return}t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof at&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),$s&&Cu<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)==" "&&(m.start--,m.endA--,m.endB--);let y=c.doc.resolveNoCache(m.start-c.from),b=c.doc.resolveNoCache(m.endB-c.from),_=f.resolve(m.start),S=y.sameParent(b)&&y.parent.inlineContent&&_.end()>=m.endA,v;if((fp&&t.input.lastIOSEnter>Date.now()-225&&(!S||s.some(T=>T.nodeName=="DIV"||T.nodeName=="P"))||!S&&y.pos<c.doc.content.size&&!y.sameParent(b)&&(v=Je.findFrom(c.doc.resolve(y.pos+1),1,!0))&&v.head==b.pos)&&t.someProp("handleKeyDown",T=>T(t,Bc(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&ACe(f,m.start,m.endA,y,b)&&t.someProp("handleKeyDown",T=>T(t,Bc(8,"Backspace")))){al&&zr&&t.domObserver.suppressSelectionUpdates();return}zr&&m.endB==m.start&&(t.input.lastChromeDelete=Date.now()),al&&!S&&y.start()!=b.start()&&b.parentOffset==0&&y.depth==b.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,b=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(T){return T(t,Bc(13,"Enter"))})},20));let k=m.start,C=m.endA,I,x,E;if(S){if(y.pos==b.pos)$s&&Cu<=11&&y.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>dl(t),20)),I=t.state.tr.delete(k,C),x=f.resolve(m.start).marksAcross(f.resolve(m.endA));else if(m.endA==m.endB&&(E=kCe(y.parent.content.cut(y.parentOffset,b.parentOffset),_.parent.content.cut(_.parentOffset,m.endA-_.start()))))I=t.state.tr,E.type=="add"?I.addMark(k,C,E.mark):I.removeMark(k,C,E.mark);else if(y.parent.child(y.index()).isText&&y.index()==b.index()-(b.textOffset?0:1)){let T=y.parent.textBetween(y.parentOffset,b.parentOffset);if(t.someProp("handleTextInput",O=>O(t,k,C,T)))return;I=t.state.tr.insertText(T,k,C)}}if(I||(I=t.state.tr.replace(k,C,c.doc.slice(m.start-c.from,m.endB-c.from))),c.sel){let T=yF(t,I.doc,c.sel);T&&!(zr&&t.composing&&T.empty&&(m.start!=m.endB||t.input.lastChromeDelete<Date.now()-100)&&(T.head==k||T.head==I.mapping.map(C)-1)||$s&&T.empty&&T.head==k)&&I.setSelection(T)}x&&I.ensureMarks(x),i&&I.setMeta("composition",i),t.dispatch(I.scrollIntoView())}o(TCe,"readDOMChange");function yF(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:wO(t,e.resolve(n.anchor),e.resolve(n.head))}o(yF,"resolveSelection");function kCe(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,a,l,u;for(let f=0;f<r.length;f++)s=r[f].removeFromSet(s);for(let f=0;f<n.length;f++)i=n[f].removeFromSet(i);if(s.length==1&&i.length==0)l=s[0],a="add",u=o(f=>f.mark(l.addToSet(f.marks)),"update");else if(s.length==0&&i.length==1)l=i[0],a="remove",u=o(f=>f.mark(l.removeFromSet(f.marks)),"update");else return null;let c=[];for(let f=0;f<e.childCount;f++)c.push(u(e.child(f)));if(ce.from(c).eq(t))return{mark:l,type:a}}o(kCe,"isMarkChange");function ACe(t,e,n,r,s){if(n-e<=s.pos-r.pos||cT(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let l=i.nodeAfter;return l!=null&&n==e+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let a=t.resolve(cT(i,!0,!0));return!a.parent.isTextblock||a.pos>n||cT(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}o(ACe,"looksLikeBackspace");function cT(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}o(cT,"skipClosingAndOpening");function CCe(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let u=Math.max(0,i-Math.min(a,l));r-=a+u-i}if(a<i&&t.size<e.size){let u=r<=i&&r>=a?i-r:0;i-=u,i&&i<e.size&&bF(e.textBetween(i-1,i+1))&&(i+=u?1:-1),l=i+(l-a),a=i}else if(l<i){let u=r<=i&&r>=l?i-r:0;i-=u,i&&i<t.size&&bF(t.textBetween(i-1,i+1))&&(i+=u?1:-1),a=i+(a-l),l=i}return{start:i,endA:a,endB:l}}o(CCe,"findDiff");function bF(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}o(bF,"isSurrogatePair");class DVe{static{o(this,"EditorView")}constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new KAe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(xF),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=vF(this),wF(this),this.nodeViews=EF(this),this.docView=Q6(this.state.doc,_F(this),uT(this),this.dom,this),this.domObserver=new bCe(this,(r,s,i,a)=>TCe(this,r,s,i,a)),this.domObserver.start(),YAe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&fC(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(xF),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,i=!1,a=!1;e.storedMarks&&this.composing&&(Eq(this),a=!0),this.state=e;let l=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=EF(this);RCe(p,this.nodeViews)&&(this.nodeViews=p,i=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&fC(this),this.editable=vF(this),wF(this);let u=uT(this),c=_F(this),f=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",h=i||!this.docView.matchesNode(e.doc,c,u);(h||!e.selection.eq(s.selection))&&(a=!0);let d=f=="preserve"&&a&&this.dom.style.overflowAnchor==null&&uAe(this);if(a){this.domObserver.stop();let p=h&&($s||zr)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&ICe(s.selection,e.selection);if(h){let m=zr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=lCe(this)),(i||!this.docView.update(e.doc,c,u,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=Q6(e.doc,c,u,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&MAe(this))?dl(this,p):(uq(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():d&&cAe(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Be){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&G6(this,n.getBoundingClientRect(),e)}else G6(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new Sq(e.slice,e.move,s<0?void 0:Be.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let a=0;a<this.directPlugins.length;a++){let l=this.directPlugins[a].props[e];if(l!=null&&(s=n?n(l):l))return s}let i=this.state.plugins;if(i)for(let a=0;a<i.length;a++){let l=i[a].props[e];if(l!=null&&(s=n?n(l):l))return s}}hasFocus(){if($s){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&fAe(this.dom),dl(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return gAe(this,e)}coordsAtPos(e,n=1){return tq(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return vAe(this,n||this.state,e)}pasteHTML(e,n){return q0(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return q0(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(XAe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],uT(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Zke())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return ZAe(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?bs&&this.root.nodeType===11&&rAe(this.dom.ownerDocument)==this.dom&&wCe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function _F(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[hs.node(0,t.state.doc.content.size,e)]}o(_F,"computeDocDeco");function wF(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:hs.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}o(wF,"updateCursorWrapper");function vF(t){return!t.someProp("editable",e=>e(t.state)===!1)}o(vF,"getEditable");function ICe(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}o(ICe,"selectionContextChanged");function EF(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return o(n,"add"),t.someProp("nodeViews",n),t.someProp("markViews",n),e}o(EF,"buildNodeViews");function RCe(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}o(RCe,"changedNodeViews");function xF(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}o(xF,"checkStateComponent");var Ku={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Yw={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},OCe=typeof navigator<"u"&&/Mac/.test(navigator.platform),NCe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var vr=0;vr<10;vr++)Ku[48+vr]=Ku[96+vr]=String(vr);for(var vr=1;vr<=24;vr++)Ku[vr+111]="F"+vr;for(var vr=65;vr<=90;vr++)Ku[vr]=String.fromCharCode(vr+32),Yw[vr]=String.fromCharCode(vr);for(var fT in Ku)Yw.hasOwnProperty(fT)||(Yw[fT]=Ku[fT]);function MCe(t){var e=OCe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||NCe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Yw:Ku)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}o(MCe,"keyName");const DCe=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function PCe(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,a;for(let l=0;l<e.length-1;l++){let u=e[l];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))i=!0;else if(/^mod$/i.test(u))DCe?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),a&&(n="Meta-"+n),i&&(n="Shift-"+n),n}o(PCe,"normalizeKeyName");function $Ce(t){let e=Object.create(null);for(let n in t)e[PCe(n)]=t[n];return e}o($Ce,"normalize$1");function hT(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}o(hT,"modifiers");function PVe(t){return new Xp({props:{handleKeyDown:kO(t)}})}o(PVe,"keymap");function kO(t){let e=$Ce(t);return function(n,r){let s=MCe(r),i,a=e[hT(s,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let l=e[hT(s,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||s.charCodeAt(0)>127)&&(i=Ku[r.keyCode])&&i!=s){let l=e[hT(i,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}o(kO,"keydownHandler");const Iq=o((t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0),"deleteSelection");function Rq(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}o(Rq,"atBlockStart");const LCe=o((t,e,n)=>{let r=Rq(t,n);if(!r)return!1;let s=AO(r);if(!s){let a=r.blockRange(),l=a&&Ky(a);return l==null?!1:(e&&e(t.tr.lift(a,l).scrollIntoView()),!0)}let i=s.nodeBefore;if(Mq(t,s,e,-1))return!0;if(r.parent.content.size==0&&(hp(i,"end")||Be.isSelectable(i)))for(let a=r.depth;;a--){let l=yx(t.doc,r.before(a),r.after(a),we.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(hp(i,"end")?Je.findFrom(u.doc.resolve(u.mapping.map(s.pos,-1)),-1):Be.create(u.doc,s.pos-i.nodeSize)),e(u.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},"joinBackward"),$Ve=o((t,e,n)=>{let r=Rq(t,n);if(!r)return!1;let s=AO(r);return s?Oq(t,s,e):!1},"joinTextblockBackward"),LVe=o((t,e,n)=>{let r=Nq(t,n);if(!r)return!1;let s=CO(r);return s?Oq(t,s,e):!1},"joinTextblockForward");function Oq(t,e,n){let r=e.nodeBefore,s=r,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let f=s.lastChild;if(!f)return!1;s=f}let a=e.nodeAfter,l=a,u=e.pos+1;for(;!l.isTextblock;u++){if(l.type.spec.isolating)return!1;let f=l.firstChild;if(!f)return!1;l=f}let c=yx(t.doc,i,u,we.empty);if(!c||c.from!=i||c instanceof _r&&c.slice.size>=u-i)return!1;if(n){let f=t.tr.step(c);f.setSelection(at.create(f.doc,i)),n(f.scrollIntoView())}return!0}o(Oq,"joinTextblocksAround");function hp(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}o(hp,"textblockAt");const FCe=o((t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=AO(r)}let a=i&&i.nodeBefore;return!a||!Be.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Be.create(t.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)},"selectNodeBackward");function AO(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}o(AO,"findCutBefore");function Nq(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}o(Nq,"atBlockEnd");const BCe=o((t,e,n)=>{let r=Nq(t,n);if(!r)return!1;let s=CO(r);if(!s)return!1;let i=s.nodeAfter;if(Mq(t,s,e,1))return!0;if(r.parent.content.size==0&&(hp(i,"start")||Be.isSelectable(i))){let a=yx(t.doc,r.before(),r.after(),we.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(hp(i,"start")?Je.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):Be.create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},"joinForward"),UCe=o((t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=CO(r)}let a=i&&i.nodeAfter;return!a||!Be.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Be.create(t.doc,i.pos)).scrollIntoView()),!0)},"selectNodeForward");function CO(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}o(CO,"findCutAfter");const FVe=o((t,e)=>{let n=t.selection,r=n instanceof Be,s;if(r){if(n.node.isTextblock||!Yy(t.doc,n.from))return!1;s=n.from}else if(s=BH(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(Be.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},"joinUp"),BVe=o((t,e)=>{let n=t.selection,r;if(n instanceof Be){if(n.node.isTextblock||!Yy(t.doc,n.to))return!1;r=n.to}else if(r=BH(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},"joinDown"),UVe=o((t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&Ky(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},"lift"),zCe=o((t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)},"newlineInCode");function IO(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}o(IO,"defaultBlockAt");const zVe=o((t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),a=IO(s.contentMatchAt(i));if(!a||!s.canReplaceWith(i,i,a))return!1;if(e){let l=n.after(),u=t.tr.replaceWith(l,l,a.createAndFill());u.setSelection(Je.near(u.doc.resolve(l),1)),e(u.scrollIntoView())}return!0},"exitCode"),VCe=o((t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof Ri||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=IO(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let a=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,l=t.tr.insert(a,i.createAndFill());l.setSelection(at.create(l.doc,a+1)),e(l.scrollIntoView())}return!0},"createParagraphNear"),jCe=o((t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Og(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&Ky(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)},"liftEmptyBlock");function WCe(t){return(e,n)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof Be&&e.selection.node.isBlock)return!r.parentOffset||!Og(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],a,l,u=!1,c=!1;for(let p=r.depth;;p--)if(r.node(p).isBlock){u=r.end(p)==r.pos+(r.depth-p),c=r.start(p)==r.pos-(r.depth-p),l=IO(r.node(p-1).contentMatchAt(r.indexAfter(p-1))),i.unshift(u&&l?{type:l}:null),a=p;break}else{if(p==1)return!1;i.unshift(null)}let f=e.tr;(e.selection instanceof at||e.selection instanceof Ri)&&f.deleteSelection();let h=f.mapping.map(r.pos),d=Og(f.doc,h,i.length,i);if(d||(i[0]=l?{type:l}:null,d=Og(f.doc,h,i.length,i)),f.split(h,i.length,i),!u&&c&&r.node(a).type!=l){let p=f.mapping.map(r.before(a)),m=f.doc.resolve(p);l&&r.node(a-1).canReplaceWith(m.index(),m.index()+1,l)&&f.setNodeMarkup(f.mapping.map(r.before(a)),l)}return n&&n(f.scrollIntoView()),!0}}o(WCe,"splitBlockAs");const HCe=WCe(),VVe=o((t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(Be.create(t.doc,s))),!0)},"selectParentNode");function qCe(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||Yy(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}o(qCe,"joinMaybeClear");function Mq(t,e,n,r){let s=e.nodeBefore,i=e.nodeAfter,a,l,u=s.type.spec.isolating||i.type.spec.isolating;if(!u&&qCe(t,e,n))return!0;let c=!u&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(a=(l=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&l.matchType(a[0]||i.type).validEnd){if(n){let p=e.pos+i.nodeSize,m=ce.empty;for(let _=a.length-1;_>=0;_--)m=ce.from(a[_].create(null,m));m=ce.from(s.copy(m));let y=t.tr.step(new kr(e.pos-1,p,e.pos,p,new we(m,1,0),a.length,!0)),b=y.doc.resolve(p+2*a.length);b.nodeAfter&&b.nodeAfter.type==s.type&&Yy(y.doc,b.pos)&&y.join(b.pos),n(y.scrollIntoView())}return!0}let f=i.type.spec.isolating||r>0&&u?null:Je.findFrom(e,1),h=f&&f.$from.blockRange(f.$to),d=h&&Ky(h);if(d!=null&&d>=e.depth)return n&&n(t.tr.lift(h,d).scrollIntoView()),!0;if(c&&hp(i,"start",!0)&&hp(s,"end")){let p=s,m=[];for(;m.push(p),!p.isTextblock;)p=p.lastChild;let y=i,b=1;for(;!y.isTextblock;y=y.firstChild)b++;if(p.canReplace(p.childCount,p.childCount,y.content)){if(n){let _=ce.empty;for(let v=m.length-1;v>=0;v--)_=ce.from(m[v].copy(_));let S=t.tr.step(new kr(e.pos-m.length,e.pos+i.nodeSize,e.pos+b,e.pos+i.nodeSize-b,new we(_,m.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}o(Mq,"deleteBarrier");function Dq(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(at.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}o(Dq,"selectTextblockSide");const jVe=Dq(-1),WVe=Dq(1);function HVe(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,a=s.blockRange(i),l=a&&PH(a,t,e);return l?(r&&r(n.tr.wrap(a,l).scrollIntoView()),!0):!1}}o(HVe,"wrapIn");function qVe(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[i];n.doc.nodesBetween(a,l,(u,c)=>{if(s)return!1;if(!(!u.isTextblock||u.hasMarkup(t,e)))if(u.type==t)s=!0;else{let f=n.doc.resolve(c),h=f.index();s=f.parent.canReplaceWith(h,h+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[a];i.setBlockType(l,u,t,e)}r(i.scrollIntoView())}return!0}}o(qVe,"setBlockType");function RO(...t){return function(e,n,r){for(let s=0;s<t.length;s++)if(t[s](e,n,r))return!0;return!1}}o(RO,"chainCommands");RO(Iq,LCe,FCe);RO(Iq,BCe,UCe);RO(zCe,VCe,jCe,HCe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function GVe(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,a=s.blockRange(i);if(!a)return!1;let l=r?n.tr:null;return GCe(l,a,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}o(GVe,"wrapInList");function GCe(t,e,n,r=null){let s=!1,i=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let u=a.resolve(e.start-2);i=new Vw(u,u,e.depth),e.endIndex<e.parent.childCount&&(e=new Vw(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let l=PH(i,n,r,e);return l?(t&&KCe(t,e,l,s,n),!0):!1}o(GCe,"wrapRangeInList");function KCe(t,e,n,r,s){let i=ce.empty;for(let f=n.length-1;f>=0;f--)i=ce.from(n[f].type.create(n[f].attrs,i));t.step(new kr(e.start-(r?2:0),e.end,e.start,e.end,new we(i,0,0),n.length,!0));let a=0;for(let f=0;f<n.length;f++)n[f].type==s&&(a=f+1);let l=n.length-a,u=e.start+n.length-(r?2:0),c=e.parent;for(let f=e.startIndex,h=e.endIndex,d=!0;f<h;f++,d=!1)!d&&Og(t.doc,u,l)&&(t.split(u,l),u+=2*l),u+=c.child(f).nodeSize;return t}o(KCe,"doWrapInList");function KVe(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,a=>a.childCount>0&&a.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?YCe(e,n,t,i):XCe(e,n,i):!0:!1}}o(KVe,"liftListItem");function YCe(t,e,n,r){let s=t.tr,i=r.end,a=r.$to.end(r.depth);i<a&&(s.step(new kr(i-1,a,i,a,new we(ce.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Vw(s.doc.resolve(r.$from.pos),s.doc.resolve(a),r.depth));const l=Ky(r);if(l==null)return!1;s.lift(r,l);let u=s.mapping.map(i,-1)-1;return Yy(s.doc,u)&&s.join(u),e(s.scrollIntoView()),!0}o(YCe,"liftToOuterList");function XCe(t,e,n){let r=t.tr,s=n.parent;for(let p=n.end,m=n.endIndex-1,y=n.startIndex;m>y;m--)p-=s.child(m).nodeSize,r.delete(p-1,p+1);let i=r.doc.resolve(n.start),a=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,u=n.endIndex==s.childCount,c=i.node(-1),f=i.index(-1);if(!c.canReplace(f+(l?0:1),f+1,a.content.append(u?ce.empty:ce.from(s))))return!1;let h=i.pos,d=h+a.nodeSize;return r.step(new kr(h-(l?1:0),d+(u?1:0),h+1,d-1,new we((l?ce.empty:ce.from(s.copy(ce.empty))).append(u?ce.empty:ce.from(s.copy(ce.empty))),l?0:1,u?0:1),l?0:1)),e(r.scrollIntoView()),!0}o(XCe,"liftOutOfList");function YVe(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,c=>c.childCount>0&&c.firstChild.type==t);if(!i)return!1;let a=i.startIndex;if(a==0)return!1;let l=i.parent,u=l.child(a-1);if(u.type!=t)return!1;if(n){let c=u.lastChild&&u.lastChild.type==l.type,f=ce.from(c?t.create():null),h=new we(ce.from(t.create(null,ce.from(l.type.create(null,f)))),c?3:1,0),d=i.start,p=i.end;n(e.tr.step(new kr(d-(c?3:1),p,d,p,h,1,!0)).scrollIntoView())}return!0}}o(YVe,"sinkListItem");const JCe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",ZCe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",dp=o((t,e)=>{for(const n in e)t[n]=e[n];return t},"assign$2"),hC="numeric",dC="ascii",pC="alpha",Dg="asciinumeric",sg="alphanumeric",mC="domain",Pq="emoji",QCe="scheme",eIe="slashscheme",dT="whitespace";function tIe(t,e){return t in e||(e[t]=[]),e[t]}o(tIe,"registerGroup");function Yc(t,e,n){e[hC]&&(e[Dg]=!0,e[sg]=!0),e[dC]&&(e[Dg]=!0,e[pC]=!0),e[Dg]&&(e[sg]=!0),e[pC]&&(e[sg]=!0),e[sg]&&(e[mC]=!0),e[Pq]&&(e[mC]=!0);for(const r in e){const s=tIe(r,n);s.indexOf(t)<0&&s.push(t)}}o(Yc,"addToGroups");function nIe(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}o(nIe,"flagsForToken");function Rs(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}o(Rs,"State");Rs.groups={};Rs.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],i=e.jr[r][1];if(i&&s.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||Rs.groups;let s;return e&&e.j?s=e:(s=new Rs(e),n&&r&&Yc(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const i=t.length;if(!i)return s;for(let a=0;a<i-1;a++)s=s.tt(t[a]);return s.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||Rs.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let a,l=s.go(t);if(l?(a=new Rs,dp(a.j,l.j),a.jr.push.apply(a.jr,l.jr),a.jd=l.jd,a.t=l.t):a=new Rs,i){if(r)if(a.t&&typeof a.t=="string"){const u=dp(nIe(a.t,r),n);Yc(i,u,r)}else n&&Yc(i,n,r);a.t=i}return s.j[t]=a,a}};const nt=o((t,e,n,r,s)=>t.ta(e,n,r,s),"ta$1"),En=o((t,e,n,r,s)=>t.tr(e,n,r,s),"tr$2"),SF=o((t,e,n,r,s)=>t.ts(e,n,r,s),"ts"),pe=o((t,e,n,r,s)=>t.tt(e,n,r,s),"tt$3"),Ha="WORD",gC="UWORD",$q="ASCIINUMERICAL",Lq="ALPHANUMERICAL",K0="LOCALHOST",yC="TLD",bC="UTLD",d_="SCHEME",Qh="SLASH_SCHEME",OO="NUM",_C="WS",NO="NL",Pg="OPENBRACE",$g="CLOSEBRACE",Xw="OPENBRACKET",Jw="CLOSEBRACKET",Zw="OPENPAREN",Qw="CLOSEPAREN",ev="OPENANGLEBRACKET",tv="CLOSEANGLEBRACKET",nv="FULLWIDTHLEFTPAREN",rv="FULLWIDTHRIGHTPAREN",sv="LEFTCORNERBRACKET",iv="RIGHTCORNERBRACKET",ov="LEFTWHITECORNERBRACKET",av="RIGHTWHITECORNERBRACKET",lv="FULLWIDTHLESSTHAN",uv="FULLWIDTHGREATERTHAN",cv="AMPERSAND",MO="APOSTROPHE",fv="ASTERISK",nu="AT",hv="BACKSLASH",dv="BACKTICK",pv="CARET",hu="COLON",DO="COMMA",mv="DOLLAR",Wo="DOT",gv="EQUALS",PO="EXCLAMATION",gi="HYPHEN",Lg="PERCENT",yv="PIPE",bv="PLUS",_v="POUND",Fg="QUERY",$O="QUOTE",Fq="FULLWIDTHMIDDLEDOT",LO="SEMI",Ho="SLASH",Bg="TILDE",wv="UNDERSCORE",Bq="EMOJI",vv="SYM";var Uq=Object.freeze({__proto__:null,WORD:Ha,UWORD:gC,ASCIINUMERICAL:$q,ALPHANUMERICAL:Lq,LOCALHOST:K0,TLD:yC,UTLD:bC,SCHEME:d_,SLASH_SCHEME:Qh,NUM:OO,WS:_C,NL:NO,OPENBRACE:Pg,CLOSEBRACE:$g,OPENBRACKET:Xw,CLOSEBRACKET:Jw,OPENPAREN:Zw,CLOSEPAREN:Qw,OPENANGLEBRACKET:ev,CLOSEANGLEBRACKET:tv,FULLWIDTHLEFTPAREN:nv,FULLWIDTHRIGHTPAREN:rv,LEFTCORNERBRACKET:sv,RIGHTCORNERBRACKET:iv,LEFTWHITECORNERBRACKET:ov,RIGHTWHITECORNERBRACKET:av,FULLWIDTHLESSTHAN:lv,FULLWIDTHGREATERTHAN:uv,AMPERSAND:cv,APOSTROPHE:MO,ASTERISK:fv,AT:nu,BACKSLASH:hv,BACKTICK:dv,CARET:pv,COLON:hu,COMMA:DO,DOLLAR:mv,DOT:Wo,EQUALS:gv,EXCLAMATION:PO,HYPHEN:gi,PERCENT:Lg,PIPE:yv,PLUS:bv,POUND:_v,QUERY:Fg,QUOTE:$O,FULLWIDTHMIDDLEDOT:Fq,SEMI:LO,SLASH:Ho,TILDE:Bg,UNDERSCORE:wv,EMOJI:Bq,SYM:vv});const Va=/[a-z]/,Om=/\p{L}/u,pT=/\p{Emoji}/u,ja=/\d/,mT=/\s/,TF="\r",gT=`
`,rIe="",sIe="",yT="";let db=null,pb=null;function iIe(t=[]){const e={};Rs.groups=e;const n=new Rs;db==null&&(db=kF(JCe)),pb==null&&(pb=kF(ZCe)),pe(n,"'",MO),pe(n,"{",Pg),pe(n,"}",$g),pe(n,"[",Xw),pe(n,"]",Jw),pe(n,"(",Zw),pe(n,")",Qw),pe(n,"<",ev),pe(n,">",tv),pe(n,"",nv),pe(n,"",rv),pe(n,"",sv),pe(n,"",iv),pe(n,"",ov),pe(n,"",av),pe(n,"",lv),pe(n,"",uv),pe(n,"&",cv),pe(n,"*",fv),pe(n,"@",nu),pe(n,"`",dv),pe(n,"^",pv),pe(n,":",hu),pe(n,",",DO),pe(n,"$",mv),pe(n,".",Wo),pe(n,"=",gv),pe(n,"!",PO),pe(n,"-",gi),pe(n,"%",Lg),pe(n,"|",yv),pe(n,"+",bv),pe(n,"#",_v),pe(n,"?",Fg),pe(n,'"',$O),pe(n,"/",Ho),pe(n,";",LO),pe(n,"~",Bg),pe(n,"_",wv),pe(n,"\\",hv),pe(n,"",Fq);const r=En(n,ja,OO,{[hC]:!0});En(r,ja,r);const s=En(r,Va,$q,{[Dg]:!0}),i=En(r,Om,Lq,{[sg]:!0}),a=En(n,Va,Ha,{[dC]:!0});En(a,ja,s),En(a,Va,a),En(s,ja,s),En(s,Va,s);const l=En(n,Om,gC,{[pC]:!0});En(l,Va),En(l,ja,i),En(l,Om,l),En(i,ja,i),En(i,Va),En(i,Om,i);const u=pe(n,gT,NO,{[dT]:!0}),c=pe(n,TF,_C,{[dT]:!0}),f=En(n,mT,_C,{[dT]:!0});pe(n,yT,f),pe(c,gT,u),pe(c,yT,f),En(c,mT,f),pe(f,TF),pe(f,gT),En(f,mT,f),pe(f,yT,f);const h=En(n,pT,Bq,{[Pq]:!0});pe(h,"#"),En(h,pT,h),pe(h,rIe,h);const d=pe(h,sIe);pe(d,"#"),En(d,pT,h);const p=[[Va,a],[ja,s]],m=[[Va,null],[Om,l],[ja,i]];for(let y=0;y<db.length;y++)Gl(n,db[y],yC,Ha,p);for(let y=0;y<pb.length;y++)Gl(n,pb[y],bC,gC,m);Yc(yC,{tld:!0,ascii:!0},e),Yc(bC,{utld:!0,alpha:!0},e),Gl(n,"file",d_,Ha,p),Gl(n,"mailto",d_,Ha,p),Gl(n,"http",Qh,Ha,p),Gl(n,"https",Qh,Ha,p),Gl(n,"ftp",Qh,Ha,p),Gl(n,"ftps",Qh,Ha,p),Yc(d_,{scheme:!0,ascii:!0},e),Yc(Qh,{slashscheme:!0,ascii:!0},e),t=t.sort((y,b)=>y[0]>b[0]?1:-1);for(let y=0;y<t.length;y++){const b=t[y][0],S=t[y][1]?{[QCe]:!0}:{[eIe]:!0};b.indexOf("-")>=0?S[mC]=!0:Va.test(b)?ja.test(b)?S[Dg]=!0:S[dC]=!0:S[hC]=!0,SF(n,b,b,S)}return SF(n,"localhost",K0,{ascii:!0}),n.jd=new Rs(vv),{start:n,tokens:dp({groups:e},Uq)}}o(iIe,"init$2");function zq(t,e){const n=oIe(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,s=[];let i=0,a=0;for(;a<r;){let l=t,u=null,c=0,f=null,h=-1,d=-1;for(;a<r&&(u=l.go(n[a]));)l=u,l.accepts()?(h=0,d=0,f=l):h>=0&&(h+=n[a].length,d++),c+=n[a].length,i+=n[a].length,a++;i-=h,a-=d,c-=h,s.push({t:f.t,v:e.slice(i-c,i),s:i-c,e:i})}return s}o(zq,"run$1");function oIe(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),i,a=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}o(oIe,"stringToArray");function Gl(t,e,n,r,s){let i;const a=e.length;for(let l=0;l<a-1;l++){const u=e[l];t.j[u]?i=t.j[u]:(i=new Rs(r),i.jr=s.slice(),t.j[u]=i),t=i}return i=new Rs(n),i.jr=s.slice(),t.j[e[a-1]]=i,i}o(Gl,"fastts");function kF(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let i=0;for(;s.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+i),10);a>0;a--)n.pop();r+=i}else n.push(t[r]),r++}return e}o(kF,"decodeTlds");const Y0={defaultProtocol:"http",events:null,format:AF,formatHref:AF,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function FO(t,e=null){let n=dp({},Y0);t&&(n=dp(n,t instanceof FO?t.o:t));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}o(FO,"Options");FO.prototype={o:Y0,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:Y0[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function AF(t){return t}o(AF,"noop$1");function Vq(t,e){this.t="token",this.v=t,this.tk=e}o(Vq,"MultiToken");Vq.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Y0.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),i=this.toFormattedString(t),a={},l=t.get("className",n,e),u=t.get("target",n,e),c=t.get("rel",n,e),f=t.getObj("attributes",n,e),h=t.getObj("events",n,e);return a.href=r,l&&(a.class=l),u&&(a.target=u),c&&(a.rel=c),f&&dp(a,f),{tagName:s,attributes:a,content:i,eventListeners:h}}};function Ex(t,e){class n extends Vq{static{o(this,"Token")}constructor(s,i){super(s,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}o(Ex,"createTokenClass");const CF=Ex("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),IF=Ex("text"),aIe=Ex("nl"),mb=Ex("url",{isLink:!0,toHref(t=Y0.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==K0&&t[1].t===hu}}),fi=o(t=>new Rs(t),"makeState");function lIe({groups:t}){const e=t.domain.concat([cv,fv,nu,hv,dv,pv,mv,gv,gi,OO,Lg,yv,bv,_v,Ho,vv,Bg,wv]),n=[hu,DO,Wo,PO,Lg,Fg,$O,LO,ev,tv,Pg,$g,Jw,Xw,Zw,Qw,nv,rv,sv,iv,ov,av,lv,uv],r=[cv,MO,fv,hv,dv,pv,mv,gv,gi,Pg,$g,Lg,yv,bv,_v,Fg,Ho,vv,Bg,wv],s=fi(),i=pe(s,Bg);nt(i,r,i),nt(i,t.domain,i);const a=fi(),l=fi(),u=fi();nt(s,t.domain,a),nt(s,t.scheme,l),nt(s,t.slashscheme,u),nt(a,r,i),nt(a,t.domain,a);const c=pe(a,nu);pe(i,nu,c),pe(l,nu,c),pe(u,nu,c);const f=pe(i,Wo);nt(f,r,i),nt(f,t.domain,i);const h=fi();nt(c,t.domain,h),nt(h,t.domain,h);const d=pe(h,Wo);nt(d,t.domain,h);const p=fi(CF);nt(d,t.tld,p),nt(d,t.utld,p),pe(c,K0,p);const m=pe(h,gi);pe(m,gi,m),nt(m,t.domain,h),nt(p,t.domain,h),pe(p,Wo,d),pe(p,gi,m);const y=pe(p,hu);nt(y,t.numeric,CF);const b=pe(a,gi),_=pe(a,Wo);pe(b,gi,b),nt(b,t.domain,a),nt(_,r,i),nt(_,t.domain,a);const S=fi(mb);nt(_,t.tld,S),nt(_,t.utld,S),nt(S,t.domain,a),nt(S,r,i),pe(S,Wo,_),pe(S,gi,b),pe(S,nu,c);const v=pe(S,hu),k=fi(mb);nt(v,t.numeric,k);const C=fi(mb),I=fi();nt(C,e,C),nt(C,n,I),nt(I,e,C),nt(I,n,I),pe(S,Ho,C),pe(k,Ho,C);const x=pe(l,hu),E=pe(u,hu),T=pe(E,Ho),O=pe(T,Ho);nt(l,t.domain,a),pe(l,Wo,_),pe(l,gi,b),nt(u,t.domain,a),pe(u,Wo,_),pe(u,gi,b),nt(x,t.domain,C),pe(x,Ho,C),pe(x,Fg,C),nt(O,t.domain,C),nt(O,e,C),pe(O,Ho,C);const N=[[Pg,$g],[Xw,Jw],[Zw,Qw],[ev,tv],[nv,rv],[sv,iv],[ov,av],[lv,uv]];for(let R=0;R<N.length;R++){const[M,B]=N[R],z=pe(C,M);pe(I,M,z),pe(z,B,C);const V=fi(mb);nt(z,e,V);const K=fi();nt(z,n),nt(V,e,V),nt(V,n,K),nt(K,e,V),nt(K,n,K),pe(V,B,C),pe(K,B,C)}return pe(s,K0,S),pe(s,NO,aIe),{start:s,tokens:Uq}}o(lIe,"init$1");function uIe(t,e,n){let r=n.length,s=0,i=[],a=[];for(;s<r;){let l=t,u=null,c=null,f=0,h=null,d=-1;for(;s<r&&!(u=l.go(n[s].t));)a.push(n[s++]);for(;s<r&&(c=u||l.go(n[s].t));)u=null,l=c,l.accepts()?(d=0,h=l):d>=0&&d++,s++,f++;if(d<0)s-=f,s<r&&(a.push(n[s]),s++);else{a.length>0&&(i.push(bT(IF,e,a)),a=[]),s-=d,f-=d;const p=h.t,m=n.slice(s-f,s);i.push(bT(p,e,m))}}return a.length>0&&i.push(bT(IF,e,a)),i}o(uIe,"run");function bT(t,e,n){const r=n[0].s,s=n[n.length-1].e,i=e.slice(r,s);return new t(i,n)}o(bT,"initMultiToken");const cIe=typeof console<"u"&&console&&console.warn||(()=>{}),fIe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",nn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function XVe(){return Rs.groups={},nn.scanner=null,nn.parser=null,nn.tokenQueue=[],nn.pluginQueue=[],nn.customSchemes=[],nn.initialized=!1,nn}o(XVe,"reset");function JVe(t,e=!1){if(nn.initialized&&cIe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${fIe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);nn.customSchemes.push([t,e])}o(JVe,"registerCustomProtocol");function hIe(){nn.scanner=iIe(nn.customSchemes);for(let t=0;t<nn.tokenQueue.length;t++)nn.tokenQueue[t][1]({scanner:nn.scanner});nn.parser=lIe(nn.scanner.tokens);for(let t=0;t<nn.pluginQueue.length;t++)nn.pluginQueue[t][1]({scanner:nn.scanner,parser:nn.parser});return nn.initialized=!0,nn}o(hIe,"init");function jq(t){return nn.initialized||hIe(),uIe(nn.parser.start,t,zq(nn.scanner.start,t))}o(jq,"tokenize");jq.scan=zq;function ZVe(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new FO(n),s=jq(t),i=[];for(let a=0;a<s.length;a++){const l=s[a];l.isLink&&(!e||l.t===e)&&r.check(l)&&i.push(l.toFormattedObject(r))}return i}o(ZVe,"find");var wC,vC;if(typeof WeakMap<"u"){let t=new WeakMap;wC=o(e=>t.get(e),"readFromCache"),vC=o((e,n)=>(t.set(e,n),n),"addToCache")}else{const t=[];let n=0;wC=o(r=>{for(let s=0;s<t.length;s+=2)if(t[s]==r)return t[s+1]},"readFromCache"),vC=o((r,s)=>(n==10&&(n=0),t[n++]=r,t[n++]=s),"addToCache")}var Tn=class{static{o(this,"TableMap")}constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,s=e/this.width|0;let i=r+1,a=s+1;for(let l=1;i<this.width&&this.map[e+l]==n;l++)i++;for(let l=1;a<this.height&&this.map[e+this.width*l]==n;l++)a++;return{left:r,top:s,right:i,bottom:a}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:s,top:i,bottom:a}=this.findCell(t);return e=="horiz"?(n<0?r==0:s==this.width)?null:this.map[i*this.width+(n<0?r-1:s)]:(n<0?i==0:a==this.height)?null:this.map[r+this.width*(n<0?i-1:a)]}rectBetween(t,e){const{left:n,right:r,top:s,bottom:i}=this.findCell(t),{left:a,right:l,top:u,bottom:c}=this.findCell(e);return{left:Math.min(n,a),top:Math.min(s,u),right:Math.max(r,l),bottom:Math.max(i,c)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let s=t.left;s<t.right;s++){const i=r*this.width+s,a=this.map[i];n[a]||(n[a]=!0,!(s==t.left&&s&&this.map[i-1]==a||r==t.top&&r&&this.map[i-this.width]==a)&&e.push(a))}return e}positionAt(t,e,n){for(let r=0,s=0;;r++){const i=s+n.child(r).nodeSize;if(r==t){let a=e+t*this.width;const l=(t+1)*this.width;for(;a<l&&this.map[a]<s;)a++;return a==l?i-1:this.map[a]}s=i}}static get(t){return wC(t)||vC(t,dIe(t))}};function dIe(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=pIe(t),n=t.childCount,r=[];let s=0,i=null;const a=[];for(let c=0,f=e*n;c<f;c++)r[c]=0;for(let c=0,f=0;c<n;c++){const h=t.child(c);f++;for(let m=0;;m++){for(;s<r.length&&r[s]!=0;)s++;if(m==h.childCount)break;const y=h.child(m),{colspan:b,rowspan:_,colwidth:S}=y.attrs;for(let v=0;v<_;v++){if(v+c>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:f,n:_-v});break}const k=s+v*e;for(let C=0;C<b;C++){r[k+C]==0?r[k+C]=f:(i||(i=[])).push({type:"collision",row:c,pos:f,n:b-C});const I=S&&S[C];if(I){const x=(k+C)%e*2,E=a[x];E==null||E!=I&&a[x+1]==1?(a[x]=I,a[x+1]=1):E==I&&a[x+1]++}}}s+=b,f+=y.nodeSize}const d=(c+1)*e;let p=0;for(;s<d;)r[s++]==0&&p++;p&&(i||(i=[])).push({type:"missing",row:c,n:p}),f++}const l=new Tn(e,n,r,i);let u=!1;for(let c=0;!u&&c<a.length;c+=2)a[c]!=null&&a[c+1]<n&&(u=!0);return u&&mIe(l,a,t),l}o(dIe,"computeMap");function pIe(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const s=t.child(r);let i=0;if(n)for(let a=0;a<r;a++){const l=t.child(a);for(let u=0;u<l.childCount;u++){const c=l.child(u);a+c.attrs.rowspan>r&&(i+=c.attrs.colspan)}}for(let a=0;a<s.childCount;a++){const l=s.child(a);i+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=i:e!=i&&(e=Math.max(e,i))}return e}o(pIe,"findWidth");function mIe(t,e,n){t.problems||(t.problems=[]);const r={};for(let s=0;s<t.map.length;s++){const i=t.map[s];if(r[i])continue;r[i]=!0;const a=n.nodeAt(i);if(!a)throw new RangeError(`No cell with offset ${i} found`);let l=null;const u=a.attrs;for(let c=0;c<u.colspan;c++){const f=(s+c)%t.width,h=e[f*2];h!=null&&(!u.colwidth||u.colwidth[c]!=h)&&((l||(l=gIe(u)))[c]=h)}l&&t.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:l})}}o(mIe,"findBadColWidths");function gIe(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}o(gIe,"freshColWidth");function Kr(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],s=r.spec.tableRole;s&&(e[s]=r)}}return e}o(Kr,"tableNodeTypes");var du=new Xy("selectingCells");function Jp(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}o(Jp,"cellAround");function yIe(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}o(yIe,"cellWrapping");function Io(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}o(Io,"isInTable");function xx(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=Jp(e.$head)||bIe(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}o(xx,"selectionCell");function bIe(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}o(bIe,"cellNear");function EC(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}o(EC,"pointsAtCell");function _Ie(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}o(_Ie,"moveCellForward");function BO(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}o(BO,"inSameTable");function Wq(t,e,n){const r=t.node(-1),s=Tn.get(r),i=t.start(-1),a=s.nextCell(t.pos-i,e,n);return a==null?null:t.node(0).resolve(i+a)}o(Wq,"nextCell");function Bf(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(s=>s>0)||(r.colwidth=null)),r}o(Bf,"removeColSpan");function Hq(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let s=0;s<n;s++)r.colwidth.splice(e,0,0)}return r}o(Hq,"addColSpan");function wIe(t,e,n){const r=Kr(e.type.schema).header_cell;for(let s=0;s<t.height;s++)if(e.nodeAt(t.map[n+s*t.width]).type!=r)return!1;return!0}o(wIe,"columnIsHeader");var hn=class qa extends Je{static{o(this,"_CellSelection")}constructor(e,n=e){const r=e.node(-1),s=Tn.get(r),i=e.start(-1),a=s.rectBetween(e.pos-i,n.pos-i),l=e.node(0),u=s.cellsInRect(a).filter(f=>f!=n.pos-i);u.unshift(n.pos-i);const c=u.map(f=>{const h=r.nodeAt(f);if(!h)throw RangeError(`No cell with offset ${f} found`);const d=i+f+1;return new qH(l.resolve(d),l.resolve(d+h.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),s=e.resolve(n.map(this.$headCell.pos));if(EC(r)&&EC(s)&&BO(r,s)){const i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?qa.rowSelection(r,s):i&&this.isColSelection()?qa.colSelection(r,s):new qa(r,s)}return at.between(r,s)}content(){const e=this.$anchorCell.node(-1),n=Tn.get(e),r=this.$anchorCell.start(-1),s=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),i={},a=[];for(let u=s.top;u<s.bottom;u++){const c=[];for(let f=u*n.width+s.left,h=s.left;h<s.right;h++,f++){const d=n.map[f];if(i[d])continue;i[d]=!0;const p=n.findCell(d);let m=e.nodeAt(d);if(!m)throw RangeError(`No cell with offset ${d} found`);const y=s.left-p.left,b=p.right-s.right;if(y>0||b>0){let _=m.attrs;if(y>0&&(_=Bf(_,0,y)),b>0&&(_=Bf(_,_.colspan-b,b)),p.left<s.left){if(m=m.type.createAndFill(_),!m)throw RangeError(`Could not create cell with attrs ${JSON.stringify(_)}`)}else m=m.type.create(_,m.content)}if(p.top<s.top||p.bottom>s.bottom){const _={...m.attrs,rowspan:Math.min(p.bottom,s.bottom)-Math.max(p.top,s.top)};p.top<s.top?m=m.type.createAndFill(_):m=m.type.create(_,m.content)}c.push(m)}a.push(e.child(u).copy(ce.from(c)))}const l=this.isColSelection()&&this.isRowSelection()?e:a;return new we(ce.from(l),1,1)}replace(e,n=we.empty){const r=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){const{$from:l,$to:u}=s[a],c=e.mapping.slice(r);e.replace(c.map(l.pos),c.map(u.pos),a?we.empty:n)}const i=Je.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);i&&e.setSelection(i)}replaceWith(e,n){this.replace(e,new we(ce.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=Tn.get(n),s=this.$anchorCell.start(-1),i=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-s,this.$headCell.pos-s));for(let a=0;a<i.length;a++)e(n.nodeAt(i[a]),s+i[a])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,s=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,s)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),s=Tn.get(r),i=e.start(-1),a=s.findCell(e.pos-i),l=s.findCell(n.pos-i),u=e.node(0);return a.top<=l.top?(a.top>0&&(e=u.resolve(i+s.map[a.left])),l.bottom<s.height&&(n=u.resolve(i+s.map[s.width*(s.height-1)+l.right-1]))):(l.top>0&&(n=u.resolve(i+s.map[l.left])),a.bottom<s.height&&(e=u.resolve(i+s.map[s.width*(s.height-1)+a.right-1]))),new qa(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Tn.get(e),r=this.$anchorCell.start(-1),s=n.colCount(this.$anchorCell.pos-r),i=n.colCount(this.$headCell.pos-r);if(Math.min(s,i)>0)return!1;const a=s+this.$anchorCell.nodeAfter.attrs.colspan,l=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,l)==n.width}eq(e){return e instanceof qa&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),s=Tn.get(r),i=e.start(-1),a=s.findCell(e.pos-i),l=s.findCell(n.pos-i),u=e.node(0);return a.left<=l.left?(a.left>0&&(e=u.resolve(i+s.map[a.top*s.width])),l.right<s.width&&(n=u.resolve(i+s.map[s.width*(l.top+1)-1]))):(l.left>0&&(n=u.resolve(i+s.map[l.top*s.width])),a.right<s.width&&(e=u.resolve(i+s.map[s.width*(a.top+1)-1]))),new qa(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new qa(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new qa(e.resolve(n),e.resolve(r))}getBookmark(){return new vIe(this.$anchorCell.pos,this.$headCell.pos)}};hn.prototype.visible=!1;Je.jsonID("cell",hn);var vIe=class qq{static{o(this,"_CellBookmark")}constructor(e,n){this.anchor=e,this.head=n}map(e){return new qq(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&BO(n,r)?new hn(n,r):Je.near(r,1)}};function EIe(t){if(!(t.selection instanceof hn))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(hs.node(r,r+n.nodeSize,{class:"selectedCell"}))}),xn.create(t.doc,e)}o(EIe,"drawCellSelection");function xIe({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,s=t.depth;for(;s>=0&&!(t.after(s+1)<t.end(s));s--,n++);for(let i=e.depth;i>=0&&!(e.before(i+1)>e.start(i));i--,r--);return n==r&&/row|table/.test(t.node(s).type.spec.tableRole)}o(xIe,"isCellBoundarySelection");function SIe({$from:t,$to:e}){let n,r;for(let s=t.depth;s>0;s--){const i=t.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){n=i;break}}for(let s=e.depth;s>0;s--){const i=e.node(s);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){r=i;break}}return n!==r&&e.parentOffset===0}o(SIe,"isTextSelectionAcrossCells");function TIe(t,e,n){const r=(e||t).selection,s=(e||t).doc;let i,a;if(r instanceof Be&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")i=hn.create(s,r.from);else if(a=="row"){const l=s.resolve(r.from+1);i=hn.rowSelection(l,l)}else if(!n){const l=Tn.get(r.node),u=r.from+1,c=u+l.map[l.width*l.height-1];i=hn.create(s,u+1,c)}}else r instanceof at&&xIe(r)?i=at.create(s,r.from):r instanceof at&&SIe(r)&&(i=at.create(s,r.$from.start(),r.$from.end()));return i&&(e||(e=t.tr)).setSelection(i),e}o(TIe,"normalizeSelection");var kIe=new Xy("fix-tables");function Gq(t,e,n,r){const s=t.childCount,i=e.childCount;e:for(let a=0,l=0;a<i;a++){const u=e.child(a);for(let c=l,f=Math.min(s,a+3);c<f;c++)if(t.child(c)==u){l=c+1,n+=u.nodeSize;continue e}r(u,n),l<s&&t.child(l).sameMarkup(u)?Gq(t.child(l),u,n+1,r):u.nodesBetween(0,u.content.size,r,n+1),n+=u.nodeSize}}o(Gq,"changedDescendants");function AIe(t,e){let n;const r=o((s,i)=>{s.type.spec.tableRole=="table"&&(n=CIe(t,s,i,n))},"check");return e?e.doc!=t.doc&&Gq(e.doc,t.doc,0,r):t.doc.descendants(r),n}o(AIe,"fixTables");function CIe(t,e,n,r){const s=Tn.get(e);if(!s.problems)return r;r||(r=t.tr);const i=[];for(let u=0;u<s.height;u++)i.push(0);for(let u=0;u<s.problems.length;u++){const c=s.problems[u];if(c.type=="collision"){const f=e.nodeAt(c.pos);if(!f)continue;const h=f.attrs;for(let d=0;d<h.rowspan;d++)i[c.row+d]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,Bf(h,h.colspan-c.n,c.n))}else if(c.type=="missing")i[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const f=e.nodeAt(c.pos);if(!f)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...f.attrs,rowspan:f.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const f=e.nodeAt(c.pos);if(!f)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...f.attrs,colwidth:c.colwidth})}}let a,l;for(let u=0;u<i.length;u++)i[u]&&(a==null&&(a=u),l=u);for(let u=0,c=n+1;u<s.height;u++){const f=e.child(u),h=c+f.nodeSize,d=i[u];if(d>0){let p="cell";f.firstChild&&(p=f.firstChild.type.spec.tableRole);const m=[];for(let b=0;b<d;b++){const _=Kr(t.schema)[p].createAndFill();_&&m.push(_)}const y=(u==0||a==u-1)&&l==u?c+1:h-1;r.insert(r.mapping.map(y),m)}c=h}return r.setMeta(kIe,{fixTables:!0})}o(CIe,"fixTable");function Ia(t){const e=t.selection,n=xx(t),r=n.node(-1),s=n.start(-1),i=Tn.get(r);return{...e instanceof hn?i.rectBetween(e.$anchorCell.pos-s,e.$headCell.pos-s):i.findCell(n.pos-s),tableStart:s,map:i,table:r}}o(Ia,"selectedRect");function Kq(t,{map:e,tableStart:n,table:r},s){let i=s>0?-1:0;wIe(e,r,s+i)&&(i=s==0||s==e.width?null:0);for(let a=0;a<e.height;a++){const l=a*e.width+s;if(s>0&&s<e.width&&e.map[l-1]==e.map[l]){const u=e.map[l],c=r.nodeAt(u);t.setNodeMarkup(t.mapping.map(n+u),null,Hq(c.attrs,s-e.colCount(u))),a+=c.attrs.rowspan-1}else{const u=i==null?Kr(r.type.schema).cell:r.nodeAt(e.map[l+i]).type,c=e.positionAt(a,s,r);t.insert(t.mapping.map(n+c),u.createAndFill())}}return t}o(Kq,"addColumn");function QVe(t,e){if(!Io(t))return!1;if(e){const n=Ia(t);e(Kq(t.tr,n,n.left))}return!0}o(QVe,"addColumnBefore");function e7e(t,e){if(!Io(t))return!1;if(e){const n=Ia(t);e(Kq(t.tr,n,n.right))}return!0}o(e7e,"addColumnAfter");function IIe(t,{map:e,table:n,tableStart:r},s){const i=t.mapping.maps.length;for(let a=0;a<e.height;){const l=a*e.width+s,u=e.map[l],c=n.nodeAt(u),f=c.attrs;if(s>0&&e.map[l-1]==u||s<e.width-1&&e.map[l+1]==u)t.setNodeMarkup(t.mapping.slice(i).map(r+u),null,Bf(f,s-e.colCount(u)));else{const h=t.mapping.slice(i).map(r+u);t.delete(h,h+c.nodeSize)}a+=f.rowspan}}o(IIe,"removeColumn");function t7e(t,e){if(!Io(t))return!1;if(e){const n=Ia(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let s=n.right-1;IIe(r,n,s),s!=n.left;s--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=Tn.get(i)}e(r)}return!0}o(t7e,"deleteColumn");function RIe(t,e,n){var r;const s=Kr(e.type.schema).header_cell;for(let i=0;i<t.width;i++)if(((r=e.nodeAt(t.map[i+n*t.width]))==null?void 0:r.type)!=s)return!1;return!0}o(RIe,"rowIsHeader");function Yq(t,{map:e,tableStart:n,table:r},s){var i;let a=n;for(let c=0;c<s;c++)a+=r.child(c).nodeSize;const l=[];let u=s>0?-1:0;RIe(e,r,s+u)&&(u=s==0||s==e.height?null:0);for(let c=0,f=e.width*s;c<e.width;c++,f++)if(s>0&&s<e.height&&e.map[f]==e.map[f-e.width]){const h=e.map[f],d=r.nodeAt(h).attrs;t.setNodeMarkup(n+h,null,{...d,rowspan:d.rowspan+1}),c+=d.colspan-1}else{const h=u==null?Kr(r.type.schema).cell:(i=r.nodeAt(e.map[f+u*e.width]))==null?void 0:i.type,d=h?.createAndFill();d&&l.push(d)}return t.insert(a,Kr(r.type.schema).row.create(null,l)),t}o(Yq,"addRow");function n7e(t,e){if(!Io(t))return!1;if(e){const n=Ia(t);e(Yq(t.tr,n,n.top))}return!0}o(n7e,"addRowBefore");function r7e(t,e){if(!Io(t))return!1;if(e){const n=Ia(t);e(Yq(t.tr,n,n.bottom))}return!0}o(r7e,"addRowAfter");function OIe(t,{map:e,table:n,tableStart:r},s){let i=0;for(let c=0;c<s;c++)i+=n.child(c).nodeSize;const a=i+n.child(s).nodeSize,l=t.mapping.maps.length;t.delete(i+r,a+r);const u=new Set;for(let c=0,f=s*e.width;c<e.width;c++,f++){const h=e.map[f];if(!u.has(h)){if(u.add(h),s>0&&h==e.map[f-e.width]){const d=n.nodeAt(h).attrs;t.setNodeMarkup(t.mapping.slice(l).map(h+r),null,{...d,rowspan:d.rowspan-1}),c+=d.colspan-1}else if(s<e.height&&h==e.map[f+e.width]){const d=n.nodeAt(h),p=d.attrs,m=d.type.create({...p,rowspan:d.attrs.rowspan-1},d.content),y=e.positionAt(s+1,c,n);t.insert(t.mapping.slice(l).map(r+y),m),c+=p.colspan-1}}}}o(OIe,"removeRow");function s7e(t,e){if(!Io(t))return!1;if(e){const n=Ia(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let s=n.bottom-1;OIe(r,n,s),s!=n.top;s--){const i=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!i)throw RangeError("No table found");n.table=i,n.map=Tn.get(n.table)}e(r)}return!0}o(s7e,"deleteRow");function RF(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}o(RF,"isEmpty");function NIe({width:t,height:e,map:n},r){let s=r.top*t+r.left,i=s,a=(r.bottom-1)*t+r.left,l=s+(r.right-r.left-1);for(let u=r.top;u<r.bottom;u++){if(r.left>0&&n[i]==n[i-1]||r.right<t&&n[l]==n[l+1])return!0;i+=t,l+=t}for(let u=r.left;u<r.right;u++){if(r.top>0&&n[s]==n[s-t]||r.bottom<e&&n[a]==n[a+t])return!0;s++,a++}return!1}o(NIe,"cellsOverlapRectangle");function i7e(t,e){const n=t.selection;if(!(n instanceof hn)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Ia(t),{map:s}=r;if(NIe(s,r))return!1;if(e){const i=t.tr,a={};let l=ce.empty,u,c;for(let f=r.top;f<r.bottom;f++)for(let h=r.left;h<r.right;h++){const d=s.map[f*s.width+h],p=r.table.nodeAt(d);if(!(a[d]||!p))if(a[d]=!0,u==null)u=d,c=p;else{RF(p)||(l=l.append(p.content));const m=i.mapping.map(d+r.tableStart);i.delete(m,m+p.nodeSize)}}if(u==null||c==null)return!0;if(i.setNodeMarkup(u+r.tableStart,null,{...Hq(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),rowspan:r.bottom-r.top}),l.size){const f=u+1+c.content.size,h=RF(c)?u+1:f;i.replaceWith(h+r.tableStart,f+r.tableStart,l)}i.setSelection(new hn(i.doc.resolve(u+r.tableStart))),e(i)}return!0}o(i7e,"mergeCells");function o7e(t,e){const n=Kr(t.schema);return MIe(({node:r})=>n[r.type.spec.tableRole])(t,e)}o(o7e,"splitCell");function MIe(t){return(e,n)=>{var r;const s=e.selection;let i,a;if(s instanceof hn){if(s.$anchorCell.pos!=s.$headCell.pos)return!1;i=s.$anchorCell.nodeAfter,a=s.$anchorCell.pos}else{if(i=yIe(s.$from),!i)return!1;a=(r=Jp(s.$from))==null?void 0:r.pos}if(i==null||a==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(n){let l=i.attrs;const u=[],c=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const f=Ia(e),h=e.tr;for(let p=0;p<f.right-f.left;p++)u.push(c?{...l,colwidth:c&&c[p]?[c[p]]:null}:l);let d;for(let p=f.top;p<f.bottom;p++){let m=f.map.positionAt(p,f.left,f.table);p==f.top&&(m+=i.nodeSize);for(let y=f.left,b=0;y<f.right;y++,b++)y==f.left&&p==f.top||h.insert(d=h.mapping.map(m+f.tableStart,1),t({node:i,row:p,col:y}).createAndFill(u[b]))}h.setNodeMarkup(a,t({node:i,row:f.top,col:f.left}),u[0]),s instanceof hn&&h.setSelection(new hn(h.doc.resolve(s.$anchorCell.pos),d?h.doc.resolve(d):void 0)),n(h)}return!0}}o(MIe,"splitCellWithType");function a7e(t,e){return function(n,r){if(!Io(n))return!1;const s=xx(n);if(s.nodeAfter.attrs[t]===e)return!1;if(r){const i=n.tr;n.selection instanceof hn?n.selection.forEachCell((a,l)=>{a.attrs[t]!==e&&i.setNodeMarkup(l,null,{...a.attrs,[t]:e})}):i.setNodeMarkup(s.pos,null,{...s.nodeAfter.attrs,[t]:e}),r(i)}return!0}}o(a7e,"setCellAttr");function DIe(t){return function(e,n){if(!Io(e))return!1;if(n){const r=Kr(e.schema),s=Ia(e),i=e.tr,a=s.map.cellsInRect(t=="column"?{left:s.left,top:0,right:s.right,bottom:s.map.height}:t=="row"?{left:0,top:s.top,right:s.map.width,bottom:s.bottom}:s),l=a.map(u=>s.table.nodeAt(u));for(let u=0;u<a.length;u++)l[u].type==r.header_cell&&i.setNodeMarkup(s.tableStart+a[u],r.cell,l[u].attrs);if(i.steps.length==0)for(let u=0;u<a.length;u++)i.setNodeMarkup(s.tableStart+a[u],r.header_cell,l[u].attrs);n(i)}return!0}}o(DIe,"deprecated_toggleHeader");function OF(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let s=0;s<r.length;s++){const i=e.table.nodeAt(r[s]);if(i&&i.type!==n.header_cell)return!1}return!0}o(OF,"isHeaderEnabledByType");function UO(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?DIe(t):function(n,r){if(!Io(n))return!1;if(r){const s=Kr(n.schema),i=Ia(n),a=n.tr,l=OF("row",i,s),u=OF("column",i,s),f=(t==="column"?l:t==="row"?u:!1)?1:0,h=t=="column"?{left:0,top:f,right:1,bottom:i.map.height}:t=="row"?{left:f,top:0,right:i.map.width,bottom:1}:i,d=t=="column"?u?s.cell:s.header_cell:t=="row"?l?s.cell:s.header_cell:s.cell;i.map.cellsInRect(h).forEach(p=>{const m=p+i.tableStart,y=a.doc.nodeAt(m);y&&a.setNodeMarkup(m,d,y.attrs)}),r(a)}return!0}}o(UO,"toggleHeader");UO("row",{useDeprecatedLogic:!0});UO("column",{useDeprecatedLogic:!0});var l7e=UO("cell",{useDeprecatedLogic:!0});function PIe(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,s=t.before();r>=0;r--){const i=t.node(-1).child(r),a=i.lastChild;if(a)return s-1-a.nodeSize;s-=i.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),s=t.after();r<n.childCount;r++){const i=n.child(r);if(i.childCount)return s+1;s+=i.nodeSize}}return null}o(PIe,"findNextCell");function u7e(t){return function(e,n){if(!Io(e))return!1;const r=PIe(xx(e),t);if(r==null)return!1;if(n){const s=e.doc.resolve(r);n(e.tr.setSelection(at.between(s,_Ie(s))).scrollIntoView())}return!0}}o(u7e,"goToNextCell");function c7e(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}o(c7e,"deleteTable");function gb(t,e){const n=t.selection;if(!(n instanceof hn))return!1;if(e){const r=t.tr,s=Kr(t.schema).cell.createAndFill().content;n.forEachCell((i,a)=>{i.content.eq(s)||r.replace(r.mapping.map(a+1),r.mapping.map(a+i.nodeSize-1),new we(s,0,0))}),r.docChanged&&e(r)}return!0}o(gb,"deleteCellSelection");function $Ie(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const s=e.child(0),i=s.type.spec.tableRole,a=s.type.schema,l=[];if(i=="row")for(let u=0;u<e.childCount;u++){let c=e.child(u).content;const f=u?0:Math.max(0,n-1),h=u<e.childCount-1?0:Math.max(0,r-1);(f||h)&&(c=xC(Kr(a).row,new we(c,f,h)).content),l.push(c)}else if(i=="cell"||i=="header_cell")l.push(n||r?xC(Kr(a).row,new we(e,n,r)).content:e);else return null;return LIe(a,l)}o($Ie,"pastedCells");function LIe(t,e){const n=[];for(let s=0;s<e.length;s++){const i=e[s];for(let a=i.childCount-1;a>=0;a--){const{rowspan:l,colspan:u}=i.child(a).attrs;for(let c=s;c<s+l;c++)n[c]=(n[c]||0)+u}}let r=0;for(let s=0;s<n.length;s++)r=Math.max(r,n[s]);for(let s=0;s<n.length;s++)if(s>=e.length&&e.push(ce.empty),n[s]<r){const i=Kr(t).cell.createAndFill(),a=[];for(let l=n[s];l<r;l++)a.push(i);e[s]=e[s].append(ce.from(a))}return{height:e.length,width:r,rows:e}}o(LIe,"ensureRectangular");function xC(t,e){const n=t.createAndFill();return new HH(n).replace(0,n.content.size,e).doc}o(xC,"fitSlice");function FIe({width:t,height:e,rows:n},r,s){if(t!=r){const i=[],a=[];for(let l=0;l<n.length;l++){const u=n[l],c=[];for(let f=i[l]||0,h=0;f<r;h++){let d=u.child(h%u.childCount);f+d.attrs.colspan>r&&(d=d.type.createChecked(Bf(d.attrs,d.attrs.colspan,f+d.attrs.colspan-r),d.content)),c.push(d),f+=d.attrs.colspan;for(let p=1;p<d.attrs.rowspan;p++)i[l+p]=(i[l+p]||0)+d.attrs.colspan}a.push(ce.from(c))}n=a,t=r}if(e!=s){const i=[];for(let a=0,l=0;a<s;a++,l++){const u=[],c=n[l%e];for(let f=0;f<c.childCount;f++){let h=c.child(f);a+h.attrs.rowspan>s&&(h=h.type.create({...h.attrs,rowspan:Math.max(1,s-h.attrs.rowspan)},h.content)),u.push(h)}i.push(ce.from(u))}n=i,e=s}return{width:t,height:e,rows:n}}o(FIe,"clipCells");function BIe(t,e,n,r,s,i,a){const l=t.doc.type.schema,u=Kr(l);let c,f;if(s>e.width)for(let h=0,d=0;h<e.height;h++){const p=n.child(h);d+=p.nodeSize;const m=[];let y;p.lastChild==null||p.lastChild.type==u.cell?y=c||(c=u.cell.createAndFill()):y=f||(f=u.header_cell.createAndFill());for(let b=e.width;b<s;b++)m.push(y);t.insert(t.mapping.slice(a).map(d-1+r),m)}if(i>e.height){const h=[];for(let m=0,y=(e.height-1)*e.width;m<Math.max(e.width,s);m++){const b=m>=e.width?!1:n.nodeAt(e.map[y+m]).type==u.header_cell;h.push(b?f||(f=u.header_cell.createAndFill()):c||(c=u.cell.createAndFill()))}const d=u.row.create(null,ce.from(h)),p=[];for(let m=e.height;m<i;m++)p.push(d);t.insert(t.mapping.slice(a).map(r+n.nodeSize-2),p)}return!!(c||f)}o(BIe,"growTable");function NF(t,e,n,r,s,i,a,l){if(a==0||a==e.height)return!1;let u=!1;for(let c=s;c<i;c++){const f=a*e.width+c,h=e.map[f];if(e.map[f-e.width]==h){u=!0;const d=n.nodeAt(h),{top:p,left:m}=e.findCell(h);t.setNodeMarkup(t.mapping.slice(l).map(h+r),null,{...d.attrs,rowspan:a-p}),t.insert(t.mapping.slice(l).map(e.positionAt(a,m,n)),d.type.createAndFill({...d.attrs,rowspan:p+d.attrs.rowspan-a})),c+=d.attrs.colspan-1}}return u}o(NF,"isolateHorizontal");function MF(t,e,n,r,s,i,a,l){if(a==0||a==e.width)return!1;let u=!1;for(let c=s;c<i;c++){const f=c*e.width+a,h=e.map[f];if(e.map[f-1]==h){u=!0;const d=n.nodeAt(h),p=e.colCount(h),m=t.mapping.slice(l).map(h+r);t.setNodeMarkup(m,null,Bf(d.attrs,a-p,d.attrs.colspan-(a-p))),t.insert(m+d.nodeSize,d.type.createAndFill(Bf(d.attrs,0,a-p))),c+=d.attrs.rowspan-1}}return u}o(MF,"isolateVertical");function DF(t,e,n,r,s){let i=n?t.doc.nodeAt(n-1):t.doc;if(!i)throw new Error("No table found");let a=Tn.get(i);const{top:l,left:u}=r,c=u+s.width,f=l+s.height,h=t.tr;let d=0;function p(){if(i=n?h.doc.nodeAt(n-1):h.doc,!i)throw new Error("No table found");a=Tn.get(i),d=h.mapping.maps.length}o(p,"recomp"),BIe(h,a,i,n,c,f,d)&&p(),NF(h,a,i,n,u,c,l,d)&&p(),NF(h,a,i,n,u,c,f,d)&&p(),MF(h,a,i,n,l,f,u,d)&&p(),MF(h,a,i,n,l,f,c,d)&&p();for(let m=l;m<f;m++){const y=a.positionAt(m,u,i),b=a.positionAt(m,c,i);h.replace(h.mapping.slice(d).map(y+n),h.mapping.slice(d).map(b+n),new we(s.rows[m-l],0,0))}p(),h.setSelection(new hn(h.doc.resolve(n+a.positionAt(l,u,i)),h.doc.resolve(n+a.positionAt(f-1,c-1,i)))),e(h)}o(DF,"insertCells");var UIe=kO({ArrowLeft:yb("horiz",-1),ArrowRight:yb("horiz",1),ArrowUp:yb("vert",-1),ArrowDown:yb("vert",1),"Shift-ArrowLeft":bb("horiz",-1),"Shift-ArrowRight":bb("horiz",1),"Shift-ArrowUp":bb("vert",-1),"Shift-ArrowDown":bb("vert",1),Backspace:gb,"Mod-Backspace":gb,Delete:gb,"Mod-Delete":gb});function p_(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}o(p_,"maybeSetSelection");function yb(t,e){return(n,r,s)=>{if(!s)return!1;const i=n.selection;if(i instanceof hn)return p_(n,r,Je.near(i.$headCell,e));if(t!="horiz"&&!i.empty)return!1;const a=Xq(s,t,e);if(a==null)return!1;if(t=="horiz")return p_(n,r,Je.near(n.doc.resolve(i.head+e),e));{const l=n.doc.resolve(a),u=Wq(l,t,e);let c;return u?c=Je.near(u,1):e<0?c=Je.near(n.doc.resolve(l.before(-1)),-1):c=Je.near(n.doc.resolve(l.after(-1)),1),p_(n,r,c)}}}o(yb,"arrow$1");function bb(t,e){return(n,r,s)=>{if(!s)return!1;const i=n.selection;let a;if(i instanceof hn)a=i;else{const u=Xq(s,t,e);if(u==null)return!1;a=new hn(n.doc.resolve(u))}const l=Wq(a.$headCell,t,e);return l?p_(n,r,new hn(a.$anchorCell,l)):!1}}o(bb,"shiftArrow");function zIe(t,e){const n=t.state.doc,r=Jp(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new hn(r))),!0):!1}o(zIe,"handleTripleClick");function VIe(t,e,n){if(!Io(t.state))return!1;let r=$Ie(n);const s=t.state.selection;if(s instanceof hn){r||(r={width:1,height:1,rows:[ce.from(xC(Kr(t.state.schema).cell,n))]});const i=s.$anchorCell.node(-1),a=s.$anchorCell.start(-1),l=Tn.get(i).rectBetween(s.$anchorCell.pos-a,s.$headCell.pos-a);return r=FIe(r,l.right-l.left,l.bottom-l.top),DF(t.state,t.dispatch,a,l,r),!0}else if(r){const i=xx(t.state),a=i.start(-1);return DF(t.state,t.dispatch,a,Tn.get(i.node(-1)).findCell(i.pos-a),r),!0}else return!1}o(VIe,"handlePaste");function jIe(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=PF(t,e.target);let s;if(e.shiftKey&&t.state.selection instanceof hn)i(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(s=Jp(t.state.selection.$anchor))!=null&&((n=_T(t,e))==null?void 0:n.pos)!=s.pos)i(s,e),e.preventDefault();else if(!r)return;function i(u,c){let f=_T(t,c);const h=du.getState(t.state)==null;if(!f||!BO(u,f))if(h)f=u;else return;const d=new hn(u,f);if(h||!t.state.selection.eq(d)){const p=t.state.tr.setSelection(d);h&&p.setMeta(du,u.pos),t.dispatch(p)}}o(i,"setCellSelection");function a(){t.root.removeEventListener("mouseup",a),t.root.removeEventListener("dragstart",a),t.root.removeEventListener("mousemove",l),du.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(du,-1))}o(a,"stop");function l(u){const c=u,f=du.getState(t.state);let h;if(f!=null)h=t.state.doc.resolve(f);else if(PF(t,c.target)!=r&&(h=_T(t,e),!h))return a();h&&i(h,c)}o(l,"move"),t.root.addEventListener("mouseup",a),t.root.addEventListener("dragstart",a),t.root.addEventListener("mousemove",l)}o(jIe,"handleMouseDown");function Xq(t,e,n){if(!(t.state.selection instanceof at))return null;const{$head:r}=t.state.selection;for(let s=r.depth-1;s>=0;s--){const i=r.node(s);if((n<0?r.index(s):r.indexAfter(s))!=(n<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const l=r.before(s),u=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(u)?l:null}}return null}o(Xq,"atEndOfCell");function PF(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}o(PF,"domInCell");function _T(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?Jp(t.state.doc.resolve(n.pos)):null}o(_T,"cellUnderMouse");var WIe=class{static{o(this,"TableView")}constructor(t,e){this.node=t,this.defaultCellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${e}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),SC(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,SC(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function SC(t,e,n,r,s,i){var a;let l=0,u=!0,c=e.firstChild;const f=t.firstChild;if(f){for(let h=0,d=0;h<f.childCount;h++){const{colspan:p,colwidth:m}=f.child(h).attrs;for(let y=0;y<p;y++,d++){const b=s==d?i:m&&m[y],_=b?b+"px":"";if(l+=b||r,b||(u=!1),c)c.style.width!=_&&(c.style.width=_),c=c.nextSibling;else{const S=document.createElement("col");S.style.width=_,e.appendChild(S)}}}for(;c;){const h=c.nextSibling;(a=c.parentNode)==null||a.removeChild(c),c=h}u?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}o(SC,"updateColumnsOnResize");var Xs=new Xy("tableColumnResizing");function f7e({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=WIe,lastColumnResizable:s=!0}={}){const i=new Xp({key:Xs,state:{init(a,l){var u,c;const f=(c=(u=i.spec)==null?void 0:u.props)==null?void 0:c.nodeViews,h=Kr(l.schema).table.name;return r&&f&&(f[h]=(d,p)=>new r(d,n,p)),new HIe(-1,!1)},apply(a,l){return l.apply(a)}},props:{attributes:o(a=>{const l=Xs.getState(a);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},"attributes"),handleDOMEvents:{mousemove:o((a,l)=>{qIe(a,l,t,s)},"mousemove"),mouseleave:o(a=>{GIe(a)},"mouseleave"),mousedown:o((a,l)=>{KIe(a,l,e,n)},"mousedown")},decorations:o(a=>{const l=Xs.getState(a);if(l&&l.activeHandle>-1)return QIe(a,l.activeHandle)},"decorations"),nodeViews:{}}});return i}o(f7e,"columnResizing");var HIe=class m_{static{o(this,"_ResizeState")}constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(Xs);if(r&&r.setHandle!=null)return new m_(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new m_(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let s=e.mapping.map(n.activeHandle,-1);return EC(e.doc.resolve(s))||(s=-1),new m_(s,n.dragging)}return n}};function qIe(t,e,n,r){const s=Xs.getState(t.state);if(s&&!s.dragging){const i=XIe(e.target);let a=-1;if(i){const{left:l,right:u}=i.getBoundingClientRect();e.clientX-l<=n?a=$F(t,e,"left",n):u-e.clientX<=n&&(a=$F(t,e,"right",n))}if(a!=s.activeHandle){if(!r&&a!==-1){const l=t.state.doc.resolve(a),u=l.node(-1),c=Tn.get(u),f=l.start(-1);if(c.colCount(l.pos-f)+l.nodeAfter.attrs.colspan-1==c.width-1)return}Jq(t,a)}}}o(qIe,"handleMouseMove");function GIe(t){const e=Xs.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&Jq(t,-1)}o(GIe,"handleMouseLeave");function KIe(t,e,n,r){var s;const i=(s=t.dom.ownerDocument.defaultView)!=null?s:window,a=Xs.getState(t.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const l=t.state.doc.nodeAt(a.activeHandle),u=YIe(t,a.activeHandle,l.attrs);t.dispatch(t.state.tr.setMeta(Xs,{setDragging:{startX:e.clientX,startWidth:u}}));function c(h){i.removeEventListener("mouseup",c),i.removeEventListener("mousemove",f);const d=Xs.getState(t.state);d?.dragging&&(JIe(t,d.activeHandle,LF(d.dragging,h,n)),t.dispatch(t.state.tr.setMeta(Xs,{setDragging:null})))}o(c,"finish");function f(h){if(!h.which)return c(h);const d=Xs.getState(t.state);if(d&&d.dragging){const p=LF(d.dragging,h,n);FF(t,d.activeHandle,p,r)}}return o(f,"move"),FF(t,a.activeHandle,u,r),i.addEventListener("mouseup",c),i.addEventListener("mousemove",f),e.preventDefault(),!0}o(KIe,"handleMouseDown2");function YIe(t,e,{colspan:n,colwidth:r}){const s=r&&r[r.length-1];if(s)return s;const i=t.domAtPos(e);let l=i.node.childNodes[i.offset].offsetWidth,u=n;if(r)for(let c=0;c<n;c++)r[c]&&(l-=r[c],u--);return l/u}o(YIe,"currentColWidth");function XIe(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}o(XIe,"domCellAround");function $F(t,e,n,r){const s=n=="right"?-r:r,i=t.posAtCoords({left:e.clientX+s,top:e.clientY});if(!i)return-1;const{pos:a}=i,l=Jp(t.state.doc.resolve(a));if(!l)return-1;if(n=="right")return l.pos;const u=Tn.get(l.node(-1)),c=l.start(-1),f=u.map.indexOf(l.pos-c);return f%u.width==0?-1:c+u.map[f-1]}o($F,"edgeCell");function LF(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}o(LF,"draggedWidth");function Jq(t,e){t.dispatch(t.state.tr.setMeta(Xs,{setHandle:e}))}o(Jq,"updateHandle");function JIe(t,e,n){const r=t.state.doc.resolve(e),s=r.node(-1),i=Tn.get(s),a=r.start(-1),l=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,u=t.state.tr;for(let c=0;c<i.height;c++){const f=c*i.width+l;if(c&&i.map[f]==i.map[f-i.width])continue;const h=i.map[f],d=s.nodeAt(h).attrs,p=d.colspan==1?0:l-i.colCount(h);if(d.colwidth&&d.colwidth[p]==n)continue;const m=d.colwidth?d.colwidth.slice():ZIe(d.colspan);m[p]=n,u.setNodeMarkup(a+h,null,{...d,colwidth:m})}u.docChanged&&t.dispatch(u)}o(JIe,"updateColumnWidth");function FF(t,e,n,r){const s=t.state.doc.resolve(e),i=s.node(-1),a=s.start(-1),l=Tn.get(i).colCount(s.pos-a)+s.nodeAfter.attrs.colspan-1;let u=t.domAtPos(s.start(-1)).node;for(;u&&u.nodeName!="TABLE";)u=u.parentNode;u&&SC(i,u.firstChild,u,r,l,n)}o(FF,"displayColumnWidth");function ZIe(t){return Array(t).fill(0)}o(ZIe,"zeroes");function QIe(t,e){var n;const r=[],s=t.doc.resolve(e),i=s.node(-1);if(!i)return xn.empty;const a=Tn.get(i),l=s.start(-1),u=a.colCount(s.pos-l)+s.nodeAfter.attrs.colspan-1;for(let c=0;c<a.height;c++){const f=u+c*a.width;if((u==a.width-1||a.map[f]!=a.map[f+1])&&(c==0||a.map[f]!=a.map[f-a.width])){const h=a.map[f],d=l+h+i.nodeAt(h).nodeSize-1,p=document.createElement("div");p.className="column-resize-handle",(n=Xs.getState(t))!=null&&n.dragging&&r.push(hs.node(l+h,l+h+i.nodeAt(h).nodeSize,{class:"column-resize-dragging"})),r.push(hs.widget(d,p))}}return xn.create(t.doc,r)}o(QIe,"handleDecorations");function h7e({allowTableNodeSelection:t=!1}={}){return new Xp({key:du,state:{init(){return null},apply(e,n){const r=e.getMeta(du);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:s,pos:i}=e.mapping.mapResult(n);return s?null:i}},props:{decorations:EIe,handleDOMEvents:{mousedown:jIe},createSelectionBetween(e){return du.getState(e.state)!=null?e.state.selection:null},handleTripleClick:zIe,handleKeyDown:UIe,handlePaste:VIe},appendTransaction(e,n,r){return TIe(r,AIe(r,n),t)}})}o(h7e,"tableEditing");function d7e(t={}){return new Xp({view(e){return new e3e(e,t)}})}o(d7e,"dropCursor");class e3e{static{o(this,"DropCursorView")}constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=o(a=>{this[s](a)},"handler");return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let l=e.nodeBefore,u=e.nodeAfter;if(l||u){let c=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(c){let f=c.getBoundingClientRect(),h=l?f.bottom:f.top;l&&u&&(h=(h+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:f.left,right:f.right,top:h-this.width/2,bottom:h+this.width/2}}}}if(!r){let l=this.editorView.coordsAtPos(this.cursorPos);r={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let i,a;if(!s||s==document.body&&getComputedStyle(s).position=="static")i=-pageXOffset,a=-pageYOffset;else{let l=s.getBoundingClientRect();i=l.left-s.scrollLeft,a=l.top-s.scrollTop}this.element.style.left=r.left-i+"px",this.element.style.top=r.top-a+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=UH(this.editorView.state.doc,a,this.editorView.dragging.slice);l!=null&&(a=l)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}class Sn extends Je{static{o(this,"GapCursor")}constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Sn.valid(r)?new Sn(r):Je.near(r)}content(){return we.empty}eq(e){return e instanceof Sn&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Sn(e.resolve(n.pos))}getBookmark(){return new zO(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!t3e(e)||!n3e(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Sn.valid(e))return e;let s=e.pos,i=null;for(let a=e.depth;;a--){let l=e.node(a);if(n>0?e.indexAfter(a)<l.childCount:e.index(a)>0){i=l.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;s+=n;let u=e.doc.resolve(s);if(Sn.valid(u))return u}for(;;){let a=n>0?i.firstChild:i.lastChild;if(!a){if(i.isAtom&&!i.isText&&!Be.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=a,s+=n;let l=e.doc.resolve(s);if(Sn.valid(l))return l}return null}}}Sn.prototype.visible=!1;Sn.findFrom=Sn.findGapCursorFrom;Je.jsonID("gapcursor",Sn);class zO{static{o(this,"GapBookmark")}constructor(e){this.pos=e}map(e){return new zO(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Sn.valid(n)?new Sn(n):Je.near(n)}}function t3e(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}o(t3e,"closedBefore");function n3e(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}o(n3e,"closedAfter");function p7e(){return new Xp({props:{decorations:o3e,createSelectionBetween(t,e,n){return e.pos==n.pos&&Sn.valid(n)?new Sn(n):null},handleClick:s3e,handleKeyDown:r3e,handleDOMEvents:{beforeinput:i3e}}})}o(p7e,"gapCursor");const r3e=kO({ArrowLeft:_b("horiz",-1),ArrowRight:_b("horiz",1),ArrowUp:_b("vert",-1),ArrowDown:_b("vert",1)});function _b(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,i){let a=r.selection,l=e>0?a.$to:a.$from,u=a.empty;if(a instanceof at){if(!i.endOfTextblock(n)||l.depth==0)return!1;u=!1,l=r.doc.resolve(e>0?l.after():l.before())}let c=Sn.findGapCursorFrom(l,e,u);return c?(s&&s(r.tr.setSelection(new Sn(c))),!0):!1}}o(_b,"arrow");function s3e(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Sn.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&Be.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Sn(r))),!0)}o(s3e,"handleClick");function i3e(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Sn))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=ce.empty;for(let a=r.length-1;a>=0;a--)s=ce.from(r[a].createAndFill(null,s));let i=t.state.tr.replace(n.pos,n.pos,new we(s,0,0));return i.setSelection(at.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}o(i3e,"beforeinput");function o3e(t){if(!(t.selection instanceof Sn))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",xn.create(t.doc,[hs.widget(t.selection.head,e,{key:"gapcursor"})])}o(o3e,"drawGapCursor");var Ev=200,hr=o(function(){},"RopeSequence");hr.prototype.append=o(function(e){return e.length?(e=hr.from(e),!this.length&&e||e.length<Ev&&this.leafAppend(e)||this.length<Ev&&e.leafPrepend(this)||this.appendInner(e)):this},"append");hr.prototype.prepend=o(function(e){return e.length?hr.from(e).append(this):this},"prepend");hr.prototype.appendInner=o(function(e){return new a3e(this,e)},"appendInner");hr.prototype.slice=o(function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?hr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))},"slice");hr.prototype.get=o(function(e){if(!(e<0||e>=this.length))return this.getInner(e)},"get");hr.prototype.forEach=o(function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)},"forEach");hr.prototype.map=o(function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,a){return s.push(e(i,a))},n,r),s},"map");hr.from=o(function(e){return e instanceof hr?e:e&&e.length?new Zq(e):hr.empty},"from");var Zq=(function(t){function e(r){t.call(this),this.values=r}o(e,"Leaf"),t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=o(function(){return this.values},"flatten"),e.prototype.sliceInner=o(function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},"sliceInner"),e.prototype.getInner=o(function(s){return this.values[s]},"getInner"),e.prototype.forEachInner=o(function(s,i,a,l){for(var u=i;u<a;u++)if(s(this.values[u],l+u)===!1)return!1},"forEachInner"),e.prototype.forEachInvertedInner=o(function(s,i,a,l){for(var u=i-1;u>=a;u--)if(s(this.values[u],l+u)===!1)return!1},"forEachInvertedInner"),e.prototype.leafAppend=o(function(s){if(this.length+s.length<=Ev)return new e(this.values.concat(s.flatten()))},"leafAppend"),e.prototype.leafPrepend=o(function(s){if(this.length+s.length<=Ev)return new e(s.flatten().concat(this.values))},"leafPrepend"),n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(hr);hr.empty=new Zq([]);var a3e=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return o(e,"Append"),t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=o(function(){return this.left.flatten().concat(this.right.flatten())},"flatten"),e.prototype.getInner=o(function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},"getInner"),e.prototype.forEachInner=o(function(r,s,i,a){var l=this.left.length;if(s<l&&this.left.forEachInner(r,s,Math.min(i,l),a)===!1||i>l&&this.right.forEachInner(r,Math.max(s-l,0),Math.min(this.length,i)-l,a+l)===!1)return!1},"forEachInner"),e.prototype.forEachInvertedInner=o(function(r,s,i,a){var l=this.left.length;if(s>l&&this.right.forEachInvertedInner(r,s-l,Math.max(i,l)-l,a+l)===!1||i<l&&this.left.forEachInvertedInner(r,Math.min(s,l),i,a)===!1)return!1},"forEachInvertedInner"),e.prototype.sliceInner=o(function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},"sliceInner"),e.prototype.leafAppend=o(function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},"leafAppend"),e.prototype.leafPrepend=o(function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},"leafPrepend"),e.prototype.appendInner=o(function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},"appendInner"),e})(hr);const l3e=500;class Zi{static{o(this,"Branch")}constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let a=e.tr,l,u,c=[],f=[];return this.items.forEach((h,d)=>{if(!h.step){s||(s=this.remapping(r,d+1),i=s.maps.length),i--,f.push(h);return}if(s){f.push(new qo(h.map));let p=h.step.map(s.slice(i)),m;p&&a.maybeStep(p).doc&&(m=a.mapping.maps[a.mapping.maps.length-1],c.push(new qo(m,void 0,void 0,c.length+f.length))),i--,m&&s.appendMap(m,i)}else a.maybeStep(h.step);if(h.selection)return l=s?h.selection.map(s.slice(i)):h.selection,u=new Zi(this.items.slice(0,r).append(f.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:a,selection:l}}addTransform(e,n,r,s){let i=[],a=this.eventCount,l=this.items,u=!s&&l.length?l.get(l.length-1):null;for(let f=0;f<e.steps.length;f++){let h=e.steps[f].invert(e.docs[f]),d=new qo(e.mapping.maps[f],h,n),p;(p=u&&u.merge(d))&&(d=p,f?i.pop():l=l.slice(0,l.length-1)),i.push(d),n&&(a++,n=void 0),s||(u=d)}let c=a-r.depth;return c>c3e&&(l=u3e(l,c),a-=c),new Zi(l.append(i),a)}remapping(e,n){let r=new Id;return this.items.forEach((s,i)=>{let a=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new Zi(this.items.append(e.map(n=>new qo(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,a=e.steps.length,l=this.eventCount;this.items.forEach(d=>{d.selection&&l--},s);let u=n;this.items.forEach(d=>{let p=i.getMirror(--u);if(p==null)return;a=Math.min(a,p);let m=i.maps[p];if(d.step){let y=e.steps[p].invert(e.docs[p]),b=d.selection&&d.selection.map(i.slice(u+1,p));b&&l++,r.push(new qo(m,y,b))}else r.push(new qo(m))},s);let c=[];for(let d=n;d<a;d++)c.push(new qo(i.maps[d]));let f=this.items.slice(0,s).append(c).append(r),h=new Zi(f,l);return h.emptyItemCount()>l3e&&(h=h.compress(this.items.length-r.length)),h}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((a,l)=>{if(l>=e)s.push(a),a.selection&&i++;else if(a.step){let u=a.step.map(n.slice(r)),c=u&&u.getMap();if(r--,c&&n.appendMap(c,r),u){let f=a.selection&&a.selection.map(n.slice(r));f&&i++;let h=new qo(c.invert(),u,f),d,p=s.length-1;(d=s.length&&s[p].merge(h))?s[p]=d:s.push(h)}}else a.map&&r--},this.items.length,0),new Zi(hr.from(s.reverse()),i)}}Zi.empty=new Zi(hr.empty,0);function u3e(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}o(u3e,"cutOffEvents");class qo{static{o(this,"Item")}constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new qo(n.getMap().invert(),n,this.selection)}}}class ru{static{o(this,"HistoryState")}constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const c3e=20;function f3e(t,e,n,r){let s=n.getMeta(ff),i;if(s)return s.historyState;n.getMeta(p3e)&&(t=new ru(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(ff))return a.getMeta(ff).redo?new ru(t.done.addTransform(n,void 0,r,g_(e)),t.undone,BF(n.mapping.maps),t.prevTime,t.prevComposition):new ru(t.done,t.undone.addTransform(n,void 0,r,g_(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),u=t.prevTime==0||!a&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!h3e(n,t.prevRanges)),c=a?wT(t.prevRanges,n.mapping):BF(n.mapping.maps);return new ru(t.done.addTransform(n,u?e.selection.getBookmark():void 0,r,g_(e)),Zi.empty,c,n.time,l??t.prevComposition)}else return(i=n.getMeta("rebased"))?new ru(t.done.rebased(n,i),t.undone.rebased(n,i),wT(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new ru(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),wT(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}o(f3e,"applyTransaction");function h3e(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}o(h3e,"isAdjacentTo");function BF(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,i,a)=>e.push(i,a));return e}o(BF,"rangesFor");function wT(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}o(wT,"mapRanges");function d3e(t,e,n){let r=g_(e),s=ff.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let a=i.selection.resolve(i.transform.doc),l=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,r),u=new ru(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(a).setMeta(ff,{redo:n,historyState:u})}o(d3e,"histTransaction");let vT=!1,UF=null;function g_(t){let e=t.plugins;if(UF!=e){vT=!1,UF=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){vT=!0;break}}return vT}o(g_,"mustPreserveItems");const ff=new Xy("history"),p3e=new Xy("closeHistory");function m7e(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Xp({key:ff,state:{init(){return new ru(Zi.empty,Zi.empty,null,0,-1)},apply(e,n,r){return f3e(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?m3e:r=="historyRedo"?g3e:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}o(m7e,"history");function Qq(t,e){return(n,r)=>{let s=ff.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let i=d3e(s,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}o(Qq,"buildCommand");const m3e=Qq(!1,!0),g3e=Qq(!0,!0),zF={};function y3e(t){let e=zF[t];if(e)return e;e=zF[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);e.push(r)}for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return e}o(y3e,"getDecodeCache");function pp(t,e){typeof e!="string"&&(e=pp.defaultChars);const n=y3e(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(r){let s="";for(let i=0,a=r.length;i<a;i+=3){const l=parseInt(r.slice(i+1,i+3),16);if(l<128){s+=n[l];continue}if((l&224)===192&&i+3<a){const u=parseInt(r.slice(i+4,i+6),16);if((u&192)===128){const c=l<<6&1984|u&63;c<128?s+="":s+=String.fromCharCode(c),i+=3;continue}}if((l&240)===224&&i+6<a){const u=parseInt(r.slice(i+4,i+6),16),c=parseInt(r.slice(i+7,i+9),16);if((u&192)===128&&(c&192)===128){const f=l<<12&61440|u<<6&4032|c&63;f<2048||f>=55296&&f<=57343?s+="":s+=String.fromCharCode(f),i+=6;continue}}if((l&248)===240&&i+9<a){const u=parseInt(r.slice(i+4,i+6),16),c=parseInt(r.slice(i+7,i+9),16),f=parseInt(r.slice(i+10,i+12),16);if((u&192)===128&&(c&192)===128&&(f&192)===128){let h=l<<18&1835008|u<<12&258048|c<<6&4032|f&63;h<65536||h>1114111?s+="":(h-=65536,s+=String.fromCharCode(55296+(h>>10),56320+(h&1023))),i+=9;continue}}s+=""}return s})}o(pp,"decode$1");pp.defaultChars=";/?:@&=+$,#";pp.componentChars="";const VF={};function b3e(t){let e=VF[t];if(e)return e;e=VF[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);/^[0-9a-z]$/i.test(r)?e.push(r):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}o(b3e,"getEncodeCache");function e1(t,e,n){typeof e!="string"&&(n=e,e=e1.defaultChars),typeof n>"u"&&(n=!0);const r=b3e(e);let s="";for(let i=0,a=t.length;i<a;i++){const l=t.charCodeAt(i);if(n&&l===37&&i+2<a&&/^[0-9a-f]{2}$/i.test(t.slice(i+1,i+3))){s+=t.slice(i,i+3),i+=2;continue}if(l<128){s+=r[l];continue}if(l>=55296&&l<=57343){if(l>=55296&&l<=56319&&i+1<a){const u=t.charCodeAt(i+1);if(u>=56320&&u<=57343){s+=encodeURIComponent(t[i]+t[i+1]),i++;continue}}s+="%EF%BF%BD";continue}s+=encodeURIComponent(t[i])}return s}o(e1,"encode$2");e1.defaultChars=";/?:@&=+$,-_.!~*'()#";e1.componentChars="-_.!~*'()";function VO(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}o(VO,"format");function xv(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}o(xv,"Url");const _3e=/^([a-z0-9.+-]+:)/i,w3e=/:[0-9]*$/,v3e=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,E3e=["<",">",'"',"`"," ","\r",`
`,"	"],x3e=["{","}","|","\\","^","`"].concat(E3e),S3e=["'"].concat(x3e),jF=["%","/","?",";","#"].concat(S3e),WF=["/","?","#"],T3e=255,HF=/^[+a-z0-9A-Z_-]{0,63}$/,k3e=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,qF={javascript:!0,"javascript:":!0},GF={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function jO(t,e){if(t&&t instanceof xv)return t;const n=new xv;return n.parse(t,e),n}o(jO,"urlParse");xv.prototype.parse=function(t,e){let n,r,s,i=t;if(i=i.trim(),!e&&t.split("#").length===1){const c=v3e.exec(i);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}let a=_3e.exec(i);if(a&&(a=a[0],n=a.toLowerCase(),this.protocol=a,i=i.substr(a.length)),(e||a||i.match(/^\/\/[^@\/]+@[^@\/]+/))&&(s=i.substr(0,2)==="//",s&&!(a&&qF[a])&&(i=i.substr(2),this.slashes=!0)),!qF[a]&&(s||a&&!GF[a])){let c=-1;for(let m=0;m<WF.length;m++)r=i.indexOf(WF[m]),r!==-1&&(c===-1||r<c)&&(c=r);let f,h;c===-1?h=i.lastIndexOf("@"):h=i.lastIndexOf("@",c),h!==-1&&(f=i.slice(0,h),i=i.slice(h+1),this.auth=f),c=-1;for(let m=0;m<jF.length;m++)r=i.indexOf(jF[m]),r!==-1&&(c===-1||r<c)&&(c=r);c===-1&&(c=i.length),i[c-1]===":"&&c--;const d=i.slice(0,c);i=i.slice(c),this.parseHost(d),this.hostname=this.hostname||"";const p=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!p){const m=this.hostname.split(/\./);for(let y=0,b=m.length;y<b;y++){const _=m[y];if(_&&!_.match(HF)){let S="";for(let v=0,k=_.length;v<k;v++)_.charCodeAt(v)>127?S+="x":S+=_[v];if(!S.match(HF)){const v=m.slice(0,y),k=m.slice(y+1),C=_.match(k3e);C&&(v.push(C[1]),k.unshift(C[2])),k.length&&(i=k.join(".")+i),this.hostname=v.join(".");break}}}}this.hostname.length>T3e&&(this.hostname=""),p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const l=i.indexOf("#");l!==-1&&(this.hash=i.substr(l),i=i.slice(0,l));const u=i.indexOf("?");return u!==-1&&(this.search=i.substr(u),i=i.slice(0,u)),i&&(this.pathname=i),GF[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};xv.prototype.parseHost=function(t){let e=w3e.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const A3e=Object.freeze(Object.defineProperty({__proto__:null,decode:pp,encode:e1,format:VO,parse:jO},Symbol.toStringTag,{value:"Module"})),eG=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,tG=/[\0-\x1F\x7F-\x9F]/,C3e=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,WO=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,nG=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,rG=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,I3e=Object.freeze(Object.defineProperty({__proto__:null,Any:eG,Cc:tG,Cf:C3e,P:WO,S:nG,Z:rG},Symbol.toStringTag,{value:"Module"})),R3e=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),O3e=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var ET;const N3e=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),M3e=(ET=String.fromCodePoint)!==null&&ET!==void 0?ET:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function D3e(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=N3e.get(t))!==null&&e!==void 0?e:t}o(D3e,"replaceCodePoint");var cr;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(cr||(cr={}));const P3e=32;var wu;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(wu||(wu={}));function TC(t){return t>=cr.ZERO&&t<=cr.NINE}o(TC,"isNumber");function $3e(t){return t>=cr.UPPER_A&&t<=cr.UPPER_F||t>=cr.LOWER_A&&t<=cr.LOWER_F}o($3e,"isHexadecimalCharacter");function L3e(t){return t>=cr.UPPER_A&&t<=cr.UPPER_Z||t>=cr.LOWER_A&&t<=cr.LOWER_Z||TC(t)}o(L3e,"isAsciiAlphaNumeric");function F3e(t){return t===cr.EQUALS||L3e(t)}o(F3e,"isEntityInAttributeInvalidEnd");var tr;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(tr||(tr={}));var pu;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(pu||(pu={}));class B3e{static{o(this,"EntityDecoder")}constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=tr.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=pu.Strict}startEntity(e){this.decodeMode=e,this.state=tr.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case tr.EntityStart:return e.charCodeAt(n)===cr.NUM?(this.state=tr.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=tr.NamedEntity,this.stateNamedEntity(e,n));case tr.NumericStart:return this.stateNumericStart(e,n);case tr.NumericDecimal:return this.stateNumericDecimal(e,n);case tr.NumericHex:return this.stateNumericHex(e,n);case tr.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|P3e)===cr.LOWER_X?(this.state=tr.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=tr.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,s){if(n!==r){const i=r-n;this.result=this.result*Math.pow(s,i)+parseInt(e.substr(n,i),s),this.consumed+=i}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const s=e.charCodeAt(n);if(TC(s)||$3e(s))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const s=e.charCodeAt(n);if(TC(s))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===cr.SEMI)this.consumed+=1;else if(this.decodeMode===pu.Strict)return 0;return this.emitCodePoint(D3e(this.result),this.consumed),this.errors&&(e!==cr.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let s=r[this.treeIndex],i=(s&wu.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const a=e.charCodeAt(n);if(this.treeIndex=U3e(r,s,this.treeIndex+Math.max(1,i),a),this.treeIndex<0)return this.result===0||this.decodeMode===pu.Attribute&&(i===0||F3e(a))?0:this.emitNotTerminatedNamedEntity();if(s=r[this.treeIndex],i=(s&wu.VALUE_LENGTH)>>14,i!==0){if(a===cr.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==pu.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,s=(r[n]&wu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[e]&~wu.VALUE_LENGTH:s[e+1],r),n===3&&this.emitCodePoint(s[e+2],r),r}end(){var e;switch(this.state){case tr.NamedEntity:return this.result!==0&&(this.decodeMode!==pu.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case tr.NumericDecimal:return this.emitNumericEntity(0,2);case tr.NumericHex:return this.emitNumericEntity(0,3);case tr.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case tr.EntityStart:return 0}}}function sG(t){let e="";const n=new B3e(t,r=>e+=M3e(r));return o(function(s,i){let a=0,l=0;for(;(l=s.indexOf("&",l))>=0;){e+=s.slice(a,l),n.startEntity(i);const c=n.write(s,l+1);if(c<0){a=l+n.end();break}a=l+c,l=c===0?a+1:a}const u=e+s.slice(a);return e="",u},"decodeWithTrie")}o(sG,"getDecoder");function U3e(t,e,n,r){const s=(e&wu.BRANCH_LENGTH)>>7,i=e&wu.JUMP_TABLE;if(s===0)return i!==0&&r===i?n:-1;if(i){const u=r-i;return u<0||u>=s?-1:t[n+u]-1}let a=n,l=a+s-1;for(;a<=l;){const u=a+l>>>1,c=t[u];if(c<r)a=u+1;else if(c>r)l=u-1;else return t[u+s]}return-1}o(U3e,"determineBranch");const z3e=sG(R3e);sG(O3e);function iG(t,e=pu.Legacy){return z3e(t,e)}o(iG,"decodeHTML");function V3e(t){return Object.prototype.toString.call(t)}o(V3e,"_class$1");function HO(t){return V3e(t)==="[object String]"}o(HO,"isString$1");const j3e=Object.prototype.hasOwnProperty;function W3e(t,e){return j3e.call(t,e)}o(W3e,"has");function Sx(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(r){t[r]=n[r]})}}),t}o(Sx,"assign$1");function oG(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}o(oG,"arrayReplaceAt");function qO(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}o(qO,"isValidEntityCode");function Sv(t){if(t>65535){t-=65536;const e=55296+(t>>10),n=56320+(t&1023);return String.fromCharCode(e,n)}return String.fromCharCode(t)}o(Sv,"fromCodePoint");const aG=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,H3e=/&([a-z#][a-z0-9]{1,31});/gi,q3e=new RegExp(aG.source+"|"+H3e.source,"gi"),G3e=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function K3e(t,e){if(e.charCodeAt(0)===35&&G3e.test(e)){const r=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return qO(r)?Sv(r):t}const n=iG(t);return n!==t?n:t}o(K3e,"replaceEntityPattern");function Y3e(t){return t.indexOf("\\")<0?t:t.replace(aG,"$1")}o(Y3e,"unescapeMd");function mp(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(q3e,function(e,n,r){return n||K3e(e,r)})}o(mp,"unescapeAll");const X3e=/[&<>"]/,J3e=/[&<>"]/g,Z3e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Q3e(t){return Z3e[t]}o(Q3e,"replaceUnsafeChar");function Yu(t){return X3e.test(t)?t.replace(J3e,Q3e):t}o(Yu,"escapeHtml");const eRe=/[.?*+^$[\]\\(){}|-]/g;function tRe(t){return t.replace(eRe,"\\$&")}o(tRe,"escapeRE$1");function Xt(t){switch(t){case 9:case 32:return!0}return!1}o(Xt,"isSpace");function X0(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}o(X0,"isWhiteSpace");function J0(t){return WO.test(t)||nG.test(t)}o(J0,"isPunctChar");function Z0(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}o(Z0,"isMdAsciiPunct");function Tx(t){return t=t.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}o(Tx,"normalizeReference");const nRe={mdurl:A3e,ucmicro:I3e},rRe=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:oG,assign:Sx,escapeHtml:Yu,escapeRE:tRe,fromCodePoint:Sv,has:W3e,isMdAsciiPunct:Z0,isPunctChar:J0,isSpace:Xt,isString:HO,isValidEntityCode:qO,isWhiteSpace:X0,lib:nRe,normalizeReference:Tx,unescapeAll:mp,unescapeMd:Y3e},Symbol.toStringTag,{value:"Module"}));function sRe(t,e,n){let r,s,i,a;const l=t.posMax,u=t.pos;for(t.pos=e+1,r=1;t.pos<l;){if(i=t.src.charCodeAt(t.pos),i===93&&(r--,r===0)){s=!0;break}if(a=t.pos,t.md.inline.skipToken(t),i===91){if(a===t.pos-1)r++;else if(n)return t.pos=u,-1}}let c=-1;return s&&(c=t.pos),t.pos=u,c}o(sRe,"parseLinkLabel");function iRe(t,e,n){let r,s=e;const i={ok:!1,pos:0,str:""};if(t.charCodeAt(s)===60){for(s++;s<n;){if(r=t.charCodeAt(s),r===10||r===60)return i;if(r===62)return i.pos=s+1,i.str=mp(t.slice(e+1,s)),i.ok=!0,i;if(r===92&&s+1<n){s+=2;continue}s++}return i}let a=0;for(;s<n&&(r=t.charCodeAt(s),!(r===32||r<32||r===127));){if(r===92&&s+1<n){if(t.charCodeAt(s+1)===32)break;s+=2;continue}if(r===40&&(a++,a>32))return i;if(r===41){if(a===0)break;a--}s++}return e===s||a!==0||(i.str=mp(t.slice(e,s)),i.pos=s,i.ok=!0),i}o(iRe,"parseLinkDestination");function oRe(t,e,n,r){let s,i=e;const a={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)a.str=r.str,a.marker=r.marker;else{if(i>=n)return a;let l=t.charCodeAt(i);if(l!==34&&l!==39&&l!==40)return a;e++,i++,l===40&&(l=41),a.marker=l}for(;i<n;){if(s=t.charCodeAt(i),s===a.marker)return a.pos=i+1,a.str+=mp(t.slice(e,i)),a.ok=!0,a;if(s===40&&a.marker===41)return a;s===92&&i+1<n&&i++,i++}return a.can_continue=!0,a.str+=mp(t.slice(e,i)),a}o(oRe,"parseLinkTitle");const aRe=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:iRe,parseLinkLabel:sRe,parseLinkTitle:oRe},Symbol.toStringTag,{value:"Module"})),Ra={};Ra.code_inline=function(t,e,n,r,s){const i=t[e];return"<code"+s.renderAttrs(i)+">"+Yu(i.content)+"</code>"};Ra.code_block=function(t,e,n,r,s){const i=t[e];return"<pre"+s.renderAttrs(i)+"><code>"+Yu(t[e].content)+`</code></pre>
`};Ra.fence=function(t,e,n,r,s){const i=t[e],a=i.info?mp(i.info).trim():"";let l="",u="";if(a){const f=a.split(/(\s+)/g);l=f[0],u=f.slice(2).join("")}let c;if(n.highlight?c=n.highlight(i.content,l,u)||Yu(i.content):c=Yu(i.content),c.indexOf("<pre")===0)return c+`
`;if(a){const f=i.attrIndex("class"),h=i.attrs?i.attrs.slice():[];f<0?h.push(["class",n.langPrefix+l]):(h[f]=h[f].slice(),h[f][1]+=" "+n.langPrefix+l);const d={attrs:h};return`<pre><code${s.renderAttrs(d)}>${c}</code></pre>
`}return`<pre><code${s.renderAttrs(i)}>${c}</code></pre>
`};Ra.image=function(t,e,n,r,s){const i=t[e];return i.attrs[i.attrIndex("alt")][1]=s.renderInlineAsText(i.children,n,r),s.renderToken(t,e,n)};Ra.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};Ra.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};Ra.text=function(t,e){return Yu(t[e].content)};Ra.html_block=function(t,e){return t[e].content};Ra.html_inline=function(t,e){return t[e].content};function Zp(){this.rules=Sx({},Ra)}o(Zp,"Renderer");Zp.prototype.renderAttrs=o(function(e){let n,r,s;if(!e.attrs)return"";for(s="",n=0,r=e.attrs.length;n<r;n++)s+=" "+Yu(e.attrs[n][0])+'="'+Yu(e.attrs[n][1])+'"';return s},"renderAttrs");Zp.prototype.renderToken=o(function(e,n,r){const s=e[n];let i="";if(s.hidden)return"";s.block&&s.nesting!==-1&&n&&e[n-1].hidden&&(i+=`
`),i+=(s.nesting===-1?"</":"<")+s.tag,i+=this.renderAttrs(s),s.nesting===0&&r.xhtmlOut&&(i+=" /");let a=!1;if(s.block&&(a=!0,s.nesting===1&&n+1<e.length)){const l=e[n+1];(l.type==="inline"||l.hidden||l.nesting===-1&&l.tag===s.tag)&&(a=!1)}return i+=a?`>
`:">",i},"renderToken");Zp.prototype.renderInline=function(t,e,n){let r="";const s=this.rules;for(let i=0,a=t.length;i<a;i++){const l=t[i].type;typeof s[l]<"u"?r+=s[l](t,i,e,n,this):r+=this.renderToken(t,i,e)}return r};Zp.prototype.renderInlineAsText=function(t,e,n){let r="";for(let s=0,i=t.length;s<i;s++)switch(t[s].type){case"text":r+=t[s].content;break;case"image":r+=this.renderInlineAsText(t[s].children,e,n);break;case"html_inline":case"html_block":r+=t[s].content;break;case"softbreak":case"hardbreak":r+=`
`;break}return r};Zp.prototype.render=function(t,e,n){let r="";const s=this.rules;for(let i=0,a=t.length;i<a;i++){const l=t[i].type;l==="inline"?r+=this.renderInline(t[i].children,e,n):typeof s[l]<"u"?r+=s[l](t,i,e,n,this):r+=this.renderToken(t,i,e,n)}return r};function Ls(){this.__rules__=[],this.__cache__=null}o(Ls,"Ruler");Ls.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};Ls.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){e.indexOf(r)<0&&e.push(r)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||t.__cache__[n].push(r.fn))})})};Ls.prototype.at=function(t,e,n){const r=this.__find__(t),s=n||{};if(r===-1)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=s.alt||[],this.__cache__=null};Ls.prototype.before=function(t,e,n,r){const s=this.__find__(t),i=r||{};if(s===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(s,0,{name:e,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null};Ls.prototype.after=function(t,e,n,r){const s=this.__find__(t),i=r||{};if(s===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(s+1,0,{name:e,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null};Ls.prototype.push=function(t,e,n){const r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null};Ls.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const s=this.__find__(r);if(s<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[s].enabled=!0,n.push(r)},this),this.__cache__=null,n};Ls.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};Ls.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const s=this.__find__(r);if(s<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[s].enabled=!1,n.push(r)},this),this.__cache__=null,n};Ls.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function Ro(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}o(Ro,"Token");Ro.prototype.attrIndex=o(function(e){if(!this.attrs)return-1;const n=this.attrs;for(let r=0,s=n.length;r<s;r++)if(n[r][0]===e)return r;return-1},"attrIndex");Ro.prototype.attrPush=o(function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},"attrPush");Ro.prototype.attrSet=o(function(e,n){const r=this.attrIndex(e),s=[e,n];r<0?this.attrPush(s):this.attrs[r]=s},"attrSet");Ro.prototype.attrGet=o(function(e){const n=this.attrIndex(e);let r=null;return n>=0&&(r=this.attrs[n][1]),r},"attrGet");Ro.prototype.attrJoin=o(function(e,n){const r=this.attrIndex(e);r<0?this.attrPush([e,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n},"attrJoin");function lG(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}o(lG,"StateCore");lG.prototype.Token=Ro;const lRe=/\r\n?|\n/g,uRe=/\0/g;function cRe(t){let e;e=t.src.replace(lRe,`
`),e=e.replace(uRe,""),t.src=e}o(cRe,"normalize");function fRe(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}o(fRe,"block$1");function hRe(t){const e=t.tokens;for(let n=0,r=e.length;n<r;n++){const s=e[n];s.type==="inline"&&t.md.inline.parse(s.content,t.md,t.env,s.children)}}o(hRe,"inline$1");function dRe(t){return/^<a[>\s]/i.test(t)}o(dRe,"isLinkOpen$1");function pRe(t){return/^<\/a\s*>/i.test(t)}o(pRe,"isLinkClose$1");function mRe(t){const e=t.tokens;if(t.md.options.linkify)for(let n=0,r=e.length;n<r;n++){if(e[n].type!=="inline"||!t.md.linkify.pretest(e[n].content))continue;let s=e[n].children,i=0;for(let a=s.length-1;a>=0;a--){const l=s[a];if(l.type==="link_close"){for(a--;s[a].level!==l.level&&s[a].type!=="link_open";)a--;continue}if(l.type==="html_inline"&&(dRe(l.content)&&i>0&&i--,pRe(l.content)&&i++),!(i>0)&&l.type==="text"&&t.md.linkify.test(l.content)){const u=l.content;let c=t.md.linkify.match(u);const f=[];let h=l.level,d=0;c.length>0&&c[0].index===0&&a>0&&s[a-1].type==="text_special"&&(c=c.slice(1));for(let p=0;p<c.length;p++){const m=c[p].url,y=t.md.normalizeLink(m);if(!t.md.validateLink(y))continue;let b=c[p].text;c[p].schema?c[p].schema==="mailto:"&&!/^mailto:/i.test(b)?b=t.md.normalizeLinkText("mailto:"+b).replace(/^mailto:/,""):b=t.md.normalizeLinkText(b):b=t.md.normalizeLinkText("http://"+b).replace(/^http:\/\//,"");const _=c[p].index;if(_>d){const C=new t.Token("text","",0);C.content=u.slice(d,_),C.level=h,f.push(C)}const S=new t.Token("link_open","a",1);S.attrs=[["href",y]],S.level=h++,S.markup="linkify",S.info="auto",f.push(S);const v=new t.Token("text","",0);v.content=b,v.level=h,f.push(v);const k=new t.Token("link_close","a",-1);k.level=--h,k.markup="linkify",k.info="auto",f.push(k),d=c[p].lastIndex}if(d<u.length){const p=new t.Token("text","",0);p.content=u.slice(d),p.level=h,f.push(p)}e[n].children=s=oG(s,a,f)}}}}o(mRe,"linkify$1");const uG=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,gRe=/\((c|tm|r)\)/i,yRe=/\((c|tm|r)\)/ig,bRe={c:"",r:"",tm:""};function _Re(t,e){return bRe[e.toLowerCase()]}o(_Re,"replaceFn");function wRe(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&(r.content=r.content.replace(yRe,_Re)),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}o(wRe,"replace_scoped");function vRe(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&uG.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}o(vRe,"replace_rare");function ERe(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(gRe.test(t.tokens[e].content)&&wRe(t.tokens[e].children),uG.test(t.tokens[e].content)&&vRe(t.tokens[e].children))}o(ERe,"replace");const xRe=/['"]/,KF=/['"]/g,YF="";function wb(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}o(wb,"replaceAt");function SRe(t,e){let n;const r=[];for(let s=0;s<t.length;s++){const i=t[s],a=t[s].level;for(n=r.length-1;n>=0&&!(r[n].level<=a);n--);if(r.length=n+1,i.type!=="text")continue;let l=i.content,u=0,c=l.length;e:for(;u<c;){KF.lastIndex=u;const f=KF.exec(l);if(!f)break;let h=!0,d=!0;u=f.index+1;const p=f[0]==="'";let m=32;if(f.index-1>=0)m=l.charCodeAt(f.index-1);else for(n=s-1;n>=0&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n--)if(t[n].content){m=t[n].content.charCodeAt(t[n].content.length-1);break}let y=32;if(u<c)y=l.charCodeAt(u);else for(n=s+1;n<t.length&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n++)if(t[n].content){y=t[n].content.charCodeAt(0);break}const b=Z0(m)||J0(String.fromCharCode(m)),_=Z0(y)||J0(String.fromCharCode(y)),S=X0(m),v=X0(y);if(v?h=!1:_&&(S||b||(h=!1)),S?d=!1:b&&(v||_||(d=!1)),y===34&&f[0]==='"'&&m>=48&&m<=57&&(d=h=!1),h&&d&&(h=b,d=_),!h&&!d){p&&(i.content=wb(i.content,f.index,YF));continue}if(d)for(n=r.length-1;n>=0;n--){let k=r[n];if(r[n].level<a)break;if(k.single===p&&r[n].level===a){k=r[n];let C,I;p?(C=e.md.options.quotes[2],I=e.md.options.quotes[3]):(C=e.md.options.quotes[0],I=e.md.options.quotes[1]),i.content=wb(i.content,f.index,I),t[k.token].content=wb(t[k.token].content,k.pos,C),u+=I.length-1,k.token===s&&(u+=C.length-1),l=i.content,c=l.length,r.length=n;continue e}}h?r.push({token:s,pos:f.index,single:p,level:a}):d&&p&&(i.content=wb(i.content,f.index,YF))}}}o(SRe,"process_inlines");function TRe(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!xRe.test(t.tokens[e].content)||SRe(t.tokens[e].children,t)}o(TRe,"smartquotes");function kRe(t){let e,n;const r=t.tokens,s=r.length;for(let i=0;i<s;i++){if(r[i].type!=="inline")continue;const a=r[i].children,l=a.length;for(e=0;e<l;e++)a[e].type==="text_special"&&(a[e].type="text");for(e=n=0;e<l;e++)a[e].type==="text"&&e+1<l&&a[e+1].type==="text"?a[e+1].content=a[e].content+a[e+1].content:(e!==n&&(a[n]=a[e]),n++);e!==n&&(a.length=n)}}o(kRe,"text_join");const xT=[["normalize",cRe],["block",fRe],["inline",hRe],["linkify",mRe],["replacements",ERe],["smartquotes",TRe],["text_join",kRe]];function GO(){this.ruler=new Ls;for(let t=0;t<xT.length;t++)this.ruler.push(xT[t][0],xT[t][1])}o(GO,"Core");GO.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,r=e.length;n<r;n++)e[n](t)};GO.prototype.State=lG;function Oa(t,e,n,r){this.src=t,this.md=e,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const s=this.src;for(let i=0,a=0,l=0,u=0,c=s.length,f=!1;a<c;a++){const h=s.charCodeAt(a);if(!f)if(Xt(h)){l++,h===9?u+=4-u%4:u++;continue}else f=!0;(h===10||a===c-1)&&(h!==10&&a++,this.bMarks.push(i),this.eMarks.push(a),this.tShift.push(l),this.sCount.push(u),this.bsCount.push(0),f=!1,l=0,u=0,i=a+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}o(Oa,"StateBlock");Oa.prototype.push=function(t,e,n){const r=new Ro(t,e,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};Oa.prototype.isEmpty=o(function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},"isEmpty");Oa.prototype.skipEmptyLines=o(function(e){for(let n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},"skipEmptyLines");Oa.prototype.skipSpaces=o(function(e){for(let n=this.src.length;e<n;e++){const r=this.src.charCodeAt(e);if(!Xt(r))break}return e},"skipSpaces");Oa.prototype.skipSpacesBack=o(function(e,n){if(e<=n)return e;for(;e>n;)if(!Xt(this.src.charCodeAt(--e)))return e+1;return e},"skipSpacesBack");Oa.prototype.skipChars=o(function(e,n){for(let r=this.src.length;e<r&&this.src.charCodeAt(e)===n;e++);return e},"skipChars");Oa.prototype.skipCharsBack=o(function(e,n,r){if(e<=r)return e;for(;e>r;)if(n!==this.src.charCodeAt(--e))return e+1;return e},"skipCharsBack");Oa.prototype.getLines=o(function(e,n,r,s){if(e>=n)return"";const i=new Array(n-e);for(let a=0,l=e;l<n;l++,a++){let u=0;const c=this.bMarks[l];let f=c,h;for(l+1<n||s?h=this.eMarks[l]+1:h=this.eMarks[l];f<h&&u<r;){const d=this.src.charCodeAt(f);if(Xt(d))d===9?u+=4-(u+this.bsCount[l])%4:u++;else if(f-c<this.tShift[l])u++;else break;f++}u>r?i[a]=new Array(u-r+1).join(" ")+this.src.slice(f,h):i[a]=this.src.slice(f,h)}return i.join("")},"getLines");Oa.prototype.Token=Ro;const ARe=65536;function ST(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];return t.src.slice(n,r)}o(ST,"getLine");function XF(t){const e=[],n=t.length;let r=0,s=t.charCodeAt(r),i=!1,a=0,l="";for(;r<n;)s===124&&(i?(l+=t.substring(a,r-1),a=r):(e.push(l+t.substring(a,r)),l="",a=r+1)),i=s===92,r++,s=t.charCodeAt(r);return e.push(l+t.substring(a)),e}o(XF,"escapedSplit");function CRe(t,e,n,r){if(e+2>n)return!1;let s=e+1;if(t.sCount[s]<t.blkIndent||t.sCount[s]-t.blkIndent>=4)return!1;let i=t.bMarks[s]+t.tShift[s];if(i>=t.eMarks[s])return!1;const a=t.src.charCodeAt(i++);if(a!==124&&a!==45&&a!==58||i>=t.eMarks[s])return!1;const l=t.src.charCodeAt(i++);if(l!==124&&l!==45&&l!==58&&!Xt(l)||a===45&&Xt(l))return!1;for(;i<t.eMarks[s];){const k=t.src.charCodeAt(i);if(k!==124&&k!==45&&k!==58&&!Xt(k))return!1;i++}let u=ST(t,e+1),c=u.split("|");const f=[];for(let k=0;k<c.length;k++){const C=c[k].trim();if(!C){if(k===0||k===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(C))return!1;C.charCodeAt(C.length-1)===58?f.push(C.charCodeAt(0)===58?"center":"right"):C.charCodeAt(0)===58?f.push("left"):f.push("")}if(u=ST(t,e).trim(),u.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;c=XF(u),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop();const h=c.length;if(h===0||h!==f.length)return!1;if(r)return!0;const d=t.parentType;t.parentType="table";const p=t.md.block.ruler.getRules("blockquote"),m=t.push("table_open","table",1),y=[e,0];m.map=y;const b=t.push("thead_open","thead",1);b.map=[e,e+1];const _=t.push("tr_open","tr",1);_.map=[e,e+1];for(let k=0;k<c.length;k++){const C=t.push("th_open","th",1);f[k]&&(C.attrs=[["style","text-align:"+f[k]]]);const I=t.push("inline","",0);I.content=c[k].trim(),I.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let S,v=0;for(s=e+2;s<n&&!(t.sCount[s]<t.blkIndent);s++){let k=!1;for(let I=0,x=p.length;I<x;I++)if(p[I](t,s,n,!0)){k=!0;break}if(k||(u=ST(t,s).trim(),!u)||t.sCount[s]-t.blkIndent>=4||(c=XF(u),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop(),v+=h-c.length,v>ARe))break;if(s===e+2){const I=t.push("tbody_open","tbody",1);I.map=S=[e+2,0]}const C=t.push("tr_open","tr",1);C.map=[s,s+1];for(let I=0;I<h;I++){const x=t.push("td_open","td",1);f[I]&&(x.attrs=[["style","text-align:"+f[I]]]);const E=t.push("inline","",0);E.content=c[I]?c[I].trim():"",E.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return S&&(t.push("tbody_close","tbody",-1),S[1]=s),t.push("table_close","table",-1),y[1]=s,t.parentType=d,t.line=s,!0}o(CRe,"table");function IRe(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let r=e+1,s=r;for(;r<n;){if(t.isEmpty(r)){r++;continue}if(t.sCount[r]-t.blkIndent>=4){r++,s=r;continue}break}t.line=s;const i=t.push("code_block","code",0);return i.content=t.getLines(e,s,4+t.blkIndent,!1)+`
`,i.map=[e,t.line],!0}o(IRe,"code");function RRe(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||s+3>i)return!1;const a=t.src.charCodeAt(s);if(a!==126&&a!==96)return!1;let l=s;s=t.skipChars(s,a);let u=s-l;if(u<3)return!1;const c=t.src.slice(l,s),f=t.src.slice(s,i);if(a===96&&f.indexOf(String.fromCharCode(a))>=0)return!1;if(r)return!0;let h=e,d=!1;for(;h++,!(h>=n||(s=l=t.bMarks[h]+t.tShift[h],i=t.eMarks[h],s<i&&t.sCount[h]<t.blkIndent));)if(t.src.charCodeAt(s)===a&&!(t.sCount[h]-t.blkIndent>=4)&&(s=t.skipChars(s,a),!(s-l<u)&&(s=t.skipSpaces(s),!(s<i)))){d=!0;break}u=t.sCount[e],t.line=h+(d?1:0);const p=t.push("fence","code",0);return p.info=f,p.content=t.getLines(e+1,h,u,!0),p.markup=c,p.map=[e,t.line],!0}o(RRe,"fence");function ORe(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];const a=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(s)!==62)return!1;if(r)return!0;const l=[],u=[],c=[],f=[],h=t.md.block.ruler.getRules("blockquote"),d=t.parentType;t.parentType="blockquote";let p=!1,m;for(m=e;m<n;m++){const v=t.sCount[m]<t.blkIndent;if(s=t.bMarks[m]+t.tShift[m],i=t.eMarks[m],s>=i)break;if(t.src.charCodeAt(s++)===62&&!v){let C=t.sCount[m]+1,I,x;t.src.charCodeAt(s)===32?(s++,C++,x=!1,I=!0):t.src.charCodeAt(s)===9?(I=!0,(t.bsCount[m]+C)%4===3?(s++,C++,x=!1):x=!0):I=!1;let E=C;for(l.push(t.bMarks[m]),t.bMarks[m]=s;s<i;){const T=t.src.charCodeAt(s);if(Xt(T))T===9?E+=4-(E+t.bsCount[m]+(x?1:0))%4:E++;else break;s++}p=s>=i,u.push(t.bsCount[m]),t.bsCount[m]=t.sCount[m]+1+(I?1:0),c.push(t.sCount[m]),t.sCount[m]=E-C,f.push(t.tShift[m]),t.tShift[m]=s-t.bMarks[m];continue}if(p)break;let k=!1;for(let C=0,I=h.length;C<I;C++)if(h[C](t,m,n,!0)){k=!0;break}if(k){t.lineMax=m,t.blkIndent!==0&&(l.push(t.bMarks[m]),u.push(t.bsCount[m]),f.push(t.tShift[m]),c.push(t.sCount[m]),t.sCount[m]-=t.blkIndent);break}l.push(t.bMarks[m]),u.push(t.bsCount[m]),f.push(t.tShift[m]),c.push(t.sCount[m]),t.sCount[m]=-1}const y=t.blkIndent;t.blkIndent=0;const b=t.push("blockquote_open","blockquote",1);b.markup=">";const _=[e,0];b.map=_,t.md.block.tokenize(t,e,m);const S=t.push("blockquote_close","blockquote",-1);S.markup=">",t.lineMax=a,t.parentType=d,_[1]=t.line;for(let v=0;v<f.length;v++)t.bMarks[v+e]=l[v],t.tShift[v+e]=f[v],t.sCount[v+e]=c[v],t.bsCount[v+e]=u[v];return t.blkIndent=y,!0}o(ORe,"blockquote$1");function NRe(t,e,n,r){const s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let i=t.bMarks[e]+t.tShift[e];const a=t.src.charCodeAt(i++);if(a!==42&&a!==45&&a!==95)return!1;let l=1;for(;i<s;){const c=t.src.charCodeAt(i++);if(c!==a&&!Xt(c))return!1;c===a&&l++}if(l<3)return!1;if(r)return!0;t.line=e+1;const u=t.push("hr","hr",0);return u.map=[e,t.line],u.markup=Array(l+1).join(String.fromCharCode(a)),!0}o(NRe,"hr$2");function JF(t,e){const n=t.eMarks[e];let r=t.bMarks[e]+t.tShift[e];const s=t.src.charCodeAt(r++);if(s!==42&&s!==45&&s!==43)return-1;if(r<n){const i=t.src.charCodeAt(r);if(!Xt(i))return-1}return r}o(JF,"skipBulletListMarker");function ZF(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];let s=n;if(s+1>=r)return-1;let i=t.src.charCodeAt(s++);if(i<48||i>57)return-1;for(;;){if(s>=r)return-1;if(i=t.src.charCodeAt(s++),i>=48&&i<=57){if(s-n>=10)return-1;continue}if(i===41||i===46)break;return-1}return s<r&&(i=t.src.charCodeAt(s),!Xt(i))?-1:s}o(ZF,"skipOrderedListMarker");function MRe(t,e){const n=t.level+2;for(let r=e+2,s=t.tokens.length-2;r<s;r++)t.tokens[r].level===n&&t.tokens[r].type==="paragraph_open"&&(t.tokens[r+2].hidden=!0,t.tokens[r].hidden=!0,r+=2)}o(MRe,"markTightParagraphs");function DRe(t,e,n,r){let s,i,a,l,u=e,c=!0;if(t.sCount[u]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[u]-t.listIndent>=4&&t.sCount[u]<t.blkIndent)return!1;let f=!1;r&&t.parentType==="paragraph"&&t.sCount[u]>=t.blkIndent&&(f=!0);let h,d,p;if((p=ZF(t,u))>=0){if(h=!0,a=t.bMarks[u]+t.tShift[u],d=Number(t.src.slice(a,p-1)),f&&d!==1)return!1}else if((p=JF(t,u))>=0)h=!1;else return!1;if(f&&t.skipSpaces(p)>=t.eMarks[u])return!1;if(r)return!0;const m=t.src.charCodeAt(p-1),y=t.tokens.length;h?(l=t.push("ordered_list_open","ol",1),d!==1&&(l.attrs=[["start",d]])):l=t.push("bullet_list_open","ul",1);const b=[u,0];l.map=b,l.markup=String.fromCharCode(m);let _=!1;const S=t.md.block.ruler.getRules("list"),v=t.parentType;for(t.parentType="list";u<n;){i=p,s=t.eMarks[u];const k=t.sCount[u]+p-(t.bMarks[u]+t.tShift[u]);let C=k;for(;i<s;){const z=t.src.charCodeAt(i);if(z===9)C+=4-(C+t.bsCount[u])%4;else if(z===32)C++;else break;i++}const I=i;let x;I>=s?x=1:x=C-k,x>4&&(x=1);const E=k+x;l=t.push("list_item_open","li",1),l.markup=String.fromCharCode(m);const T=[u,0];l.map=T,h&&(l.info=t.src.slice(a,p-1));const O=t.tight,N=t.tShift[u],R=t.sCount[u],M=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=E,t.tight=!0,t.tShift[u]=I-t.bMarks[u],t.sCount[u]=C,I>=s&&t.isEmpty(u+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,u,n,!0),(!t.tight||_)&&(c=!1),_=t.line-u>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=M,t.tShift[u]=N,t.sCount[u]=R,t.tight=O,l=t.push("list_item_close","li",-1),l.markup=String.fromCharCode(m),u=t.line,T[1]=u,u>=n||t.sCount[u]<t.blkIndent||t.sCount[u]-t.blkIndent>=4)break;let B=!1;for(let z=0,V=S.length;z<V;z++)if(S[z](t,u,n,!0)){B=!0;break}if(B)break;if(h){if(p=ZF(t,u),p<0)break;a=t.bMarks[u]+t.tShift[u]}else if(p=JF(t,u),p<0)break;if(m!==t.src.charCodeAt(p-1))break}return h?l=t.push("ordered_list_close","ol",-1):l=t.push("bullet_list_close","ul",-1),l.markup=String.fromCharCode(m),b[1]=u,t.line=u,t.parentType=v,c&&MRe(t,y),!0}o(DRe,"list$1");function PRe(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],i=t.eMarks[e],a=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(s)!==91)return!1;function l(S){const v=t.lineMax;if(S>=v||t.isEmpty(S))return null;let k=!1;if(t.sCount[S]-t.blkIndent>3&&(k=!0),t.sCount[S]<0&&(k=!0),!k){const x=t.md.block.ruler.getRules("reference"),E=t.parentType;t.parentType="reference";let T=!1;for(let O=0,N=x.length;O<N;O++)if(x[O](t,S,v,!0)){T=!0;break}if(t.parentType=E,T)return null}const C=t.bMarks[S]+t.tShift[S],I=t.eMarks[S];return t.src.slice(C,I+1)}o(l,"getNextLine");let u=t.src.slice(s,i+1);i=u.length;let c=-1;for(s=1;s<i;s++){const S=u.charCodeAt(s);if(S===91)return!1;if(S===93){c=s;break}else if(S===10){const v=l(a);v!==null&&(u+=v,i=u.length,a++)}else if(S===92&&(s++,s<i&&u.charCodeAt(s)===10)){const v=l(a);v!==null&&(u+=v,i=u.length,a++)}}if(c<0||u.charCodeAt(c+1)!==58)return!1;for(s=c+2;s<i;s++){const S=u.charCodeAt(s);if(S===10){const v=l(a);v!==null&&(u+=v,i=u.length,a++)}else if(!Xt(S))break}const f=t.md.helpers.parseLinkDestination(u,s,i);if(!f.ok)return!1;const h=t.md.normalizeLink(f.str);if(!t.md.validateLink(h))return!1;s=f.pos;const d=s,p=a,m=s;for(;s<i;s++){const S=u.charCodeAt(s);if(S===10){const v=l(a);v!==null&&(u+=v,i=u.length,a++)}else if(!Xt(S))break}let y=t.md.helpers.parseLinkTitle(u,s,i);for(;y.can_continue;){const S=l(a);if(S===null)break;u+=S,s=i,i=u.length,a++,y=t.md.helpers.parseLinkTitle(u,s,i,y)}let b;for(s<i&&m!==s&&y.ok?(b=y.str,s=y.pos):(b="",s=d,a=p);s<i;){const S=u.charCodeAt(s);if(!Xt(S))break;s++}if(s<i&&u.charCodeAt(s)!==10&&b)for(b="",s=d,a=p;s<i;){const S=u.charCodeAt(s);if(!Xt(S))break;s++}if(s<i&&u.charCodeAt(s)!==10)return!1;const _=Tx(u.slice(1,c));return _?(r||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[_]>"u"&&(t.env.references[_]={title:b,href:h}),t.line=a),!0):!1}o(PRe,"reference");const $Re=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],LRe="[a-zA-Z_:][a-zA-Z0-9:._-]*",FRe="[^\"'=<>`\\x00-\\x20]+",BRe="'[^']*'",URe='"[^"]*"',zRe="(?:"+FRe+"|"+BRe+"|"+URe+")",VRe="(?:\\s+"+LRe+"(?:\\s*=\\s*"+zRe+")?)",cG="<[A-Za-z][A-Za-z0-9\\-]*"+VRe+"*\\s*\\/?>",fG="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",jRe="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",WRe="<[?][\\s\\S]*?[?]>",HRe="<![A-Za-z][^>]*>",qRe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",GRe=new RegExp("^(?:"+cG+"|"+fG+"|"+jRe+"|"+WRe+"|"+HRe+"|"+qRe+")"),KRe=new RegExp("^(?:"+cG+"|"+fG+")"),Ih=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+$Re.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(KRe.source+"\\s*$"),/^$/,!1]];function YRe(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(s)!==60)return!1;let a=t.src.slice(s,i),l=0;for(;l<Ih.length&&!Ih[l][0].test(a);l++);if(l===Ih.length)return!1;if(r)return Ih[l][2];let u=e+1;if(!Ih[l][1].test(a)){for(;u<n&&!(t.sCount[u]<t.blkIndent);u++)if(s=t.bMarks[u]+t.tShift[u],i=t.eMarks[u],a=t.src.slice(s,i),Ih[l][1].test(a)){a.length!==0&&u++;break}}t.line=u;const c=t.push("html_block","",0);return c.map=[e,u],c.content=t.getLines(e,u,t.blkIndent,!0),!0}o(YRe,"html_block");function XRe(t,e,n,r){let s=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let a=t.src.charCodeAt(s);if(a!==35||s>=i)return!1;let l=1;for(a=t.src.charCodeAt(++s);a===35&&s<i&&l<=6;)l++,a=t.src.charCodeAt(++s);if(l>6||s<i&&!Xt(a))return!1;if(r)return!0;i=t.skipSpacesBack(i,s);const u=t.skipCharsBack(i,35,s);u>s&&Xt(t.src.charCodeAt(u-1))&&(i=u),t.line=e+1;const c=t.push("heading_open","h"+String(l),1);c.markup="########".slice(0,l),c.map=[e,t.line];const f=t.push("inline","",0);f.content=t.src.slice(s,i).trim(),f.map=[e,t.line],f.children=[];const h=t.push("heading_close","h"+String(l),-1);return h.markup="########".slice(0,l),!0}o(XRe,"heading$1");function JRe(t,e,n){const r=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const s=t.parentType;t.parentType="paragraph";let i=0,a,l=e+1;for(;l<n&&!t.isEmpty(l);l++){if(t.sCount[l]-t.blkIndent>3)continue;if(t.sCount[l]>=t.blkIndent){let p=t.bMarks[l]+t.tShift[l];const m=t.eMarks[l];if(p<m&&(a=t.src.charCodeAt(p),(a===45||a===61)&&(p=t.skipChars(p,a),p=t.skipSpaces(p),p>=m))){i=a===61?1:2;break}}if(t.sCount[l]<0)continue;let d=!1;for(let p=0,m=r.length;p<m;p++)if(r[p](t,l,n,!0)){d=!0;break}if(d)break}if(!i)return!1;const u=t.getLines(e,l,t.blkIndent,!1).trim();t.line=l+1;const c=t.push("heading_open","h"+String(i),1);c.markup=String.fromCharCode(a),c.map=[e,t.line];const f=t.push("inline","",0);f.content=u,f.map=[e,t.line-1],f.children=[];const h=t.push("heading_close","h"+String(i),-1);return h.markup=String.fromCharCode(a),t.parentType=s,!0}o(JRe,"lheading$1");function ZRe(t,e,n){const r=t.md.block.ruler.getRules("paragraph"),s=t.parentType;let i=e+1;for(t.parentType="paragraph";i<n&&!t.isEmpty(i);i++){if(t.sCount[i]-t.blkIndent>3||t.sCount[i]<0)continue;let c=!1;for(let f=0,h=r.length;f<h;f++)if(r[f](t,i,n,!0)){c=!0;break}if(c)break}const a=t.getLines(e,i,t.blkIndent,!1).trim();t.line=i;const l=t.push("paragraph_open","p",1);l.map=[e,t.line];const u=t.push("inline","",0);return u.content=a,u.map=[e,t.line],u.children=[],t.push("paragraph_close","p",-1),t.parentType=s,!0}o(ZRe,"paragraph$1");const vb=[["table",CRe,["paragraph","reference"]],["code",IRe],["fence",RRe,["paragraph","reference","blockquote","list"]],["blockquote",ORe,["paragraph","reference","blockquote","list"]],["hr",NRe,["paragraph","reference","blockquote","list"]],["list",DRe,["paragraph","reference","blockquote"]],["reference",PRe],["html_block",YRe,["paragraph","reference","blockquote"]],["heading",XRe,["paragraph","reference","blockquote"]],["lheading",JRe],["paragraph",ZRe]];function kx(){this.ruler=new Ls;for(let t=0;t<vb.length;t++)this.ruler.push(vb[t][0],vb[t][1],{alt:(vb[t][2]||[]).slice()})}o(kx,"ParserBlock");kx.prototype.tokenize=function(t,e,n){const r=this.ruler.getRules(""),s=r.length,i=t.md.options.maxNesting;let a=e,l=!1;for(;a<n&&(t.line=a=t.skipEmptyLines(a),!(a>=n||t.sCount[a]<t.blkIndent));){if(t.level>=i){t.line=n;break}const u=t.line;let c=!1;for(let f=0;f<s;f++)if(c=r[f](t,a,n,!1),c){if(u>=t.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");t.tight=!l,t.isEmpty(t.line-1)&&(l=!0),a=t.line,a<n&&t.isEmpty(a)&&(l=!0,a++,t.line=a)}};kx.prototype.parse=function(t,e,n,r){if(!t)return;const s=new this.State(t,e,n,r);this.tokenize(s,s.line,s.lineMax)};kx.prototype.State=Oa;function t1(t,e,n,r){this.src=t,this.env=n,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}o(t1,"StateInline");t1.prototype.pushPending=function(){const t=new Ro("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};t1.prototype.push=function(t,e,n){this.pending&&this.pushPending();const r=new Ro(t,e,n);let s=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],s={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(s),r};t1.prototype.scanDelims=function(t,e){const n=this.posMax,r=this.src.charCodeAt(t),s=t>0?this.src.charCodeAt(t-1):32;let i=t;for(;i<n&&this.src.charCodeAt(i)===r;)i++;const a=i-t,l=i<n?this.src.charCodeAt(i):32,u=Z0(s)||J0(String.fromCharCode(s)),c=Z0(l)||J0(String.fromCharCode(l)),f=X0(s),h=X0(l),d=!h&&(!c||f||u),p=!f&&(!u||h||c);return{can_open:d&&(e||!p||u),can_close:p&&(e||!d||c),length:a}};t1.prototype.Token=Ro;function QRe(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}o(QRe,"isTerminatorChar");function eOe(t,e){let n=t.pos;for(;n<t.posMax&&!QRe(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}o(eOe,"text$1");const tOe=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function nOe(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const n=t.pos,r=t.posMax;if(n+3>r||t.src.charCodeAt(n)!==58||t.src.charCodeAt(n+1)!==47||t.src.charCodeAt(n+2)!==47)return!1;const s=t.pending.match(tOe);if(!s)return!1;const i=s[1],a=t.md.linkify.matchAtStart(t.src.slice(n-i.length));if(!a)return!1;let l=a.url;if(l.length<=i.length)return!1;l=l.replace(/\*+$/,"");const u=t.md.normalizeLink(l);if(!t.md.validateLink(u))return!1;if(!e){t.pending=t.pending.slice(0,-i.length);const c=t.push("link_open","a",1);c.attrs=[["href",u]],c.markup="linkify",c.info="auto";const f=t.push("text","",0);f.content=t.md.normalizeLinkText(l);const h=t.push("link_close","a",-1);h.markup="linkify",h.info="auto"}return t.pos+=l.length-i.length,!0}o(nOe,"linkify");function rOe(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==10)return!1;const r=t.pending.length-1,s=t.posMax;if(!e)if(r>=0&&t.pending.charCodeAt(r)===32)if(r>=1&&t.pending.charCodeAt(r-1)===32){let i=r-1;for(;i>=1&&t.pending.charCodeAt(i-1)===32;)i--;t.pending=t.pending.slice(0,i),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<s&&Xt(t.src.charCodeAt(n));)n++;return t.pos=n,!0}o(rOe,"newline$1");const KO=[];for(let t=0;t<256;t++)KO.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){KO[t.charCodeAt(0)]=1});function sOe(t,e){let n=t.pos;const r=t.posMax;if(t.src.charCodeAt(n)!==92||(n++,n>=r))return!1;let s=t.src.charCodeAt(n);if(s===10){for(e||t.push("hardbreak","br",0),n++;n<r&&(s=t.src.charCodeAt(n),!!Xt(s));)n++;return t.pos=n,!0}let i=t.src[n];if(s>=55296&&s<=56319&&n+1<r){const l=t.src.charCodeAt(n+1);l>=56320&&l<=57343&&(i+=t.src[n+1],n++)}const a="\\"+i;if(!e){const l=t.push("text_special","",0);s<256&&KO[s]!==0?l.content=i:l.content=a,l.markup=a,l.info="escape"}return t.pos=n+1,!0}o(sOe,"escape$3");function iOe(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==96)return!1;const s=n;n++;const i=t.posMax;for(;n<i&&t.src.charCodeAt(n)===96;)n++;const a=t.src.slice(s,n),l=a.length;if(t.backticksScanned&&(t.backticks[l]||0)<=s)return e||(t.pending+=a),t.pos+=l,!0;let u=n,c;for(;(c=t.src.indexOf("`",u))!==-1;){for(u=c+1;u<i&&t.src.charCodeAt(u)===96;)u++;const f=u-c;if(f===l){if(!e){const h=t.push("code_inline","code",0);h.markup=a,h.content=t.src.slice(n,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=u,!0}t.backticks[f]=c}return t.backticksScanned=!0,e||(t.pending+=a),t.pos+=l,!0}o(iOe,"backtick");function oOe(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==126)return!1;const s=t.scanDelims(t.pos,!0);let i=s.length;const a=String.fromCharCode(r);if(i<2)return!1;let l;i%2&&(l=t.push("text","",0),l.content=a,i--);for(let u=0;u<i;u+=2)l=t.push("text","",0),l.content=a+a,t.delimiters.push({marker:r,length:0,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return t.pos+=s.length,!0}o(oOe,"strikethrough_tokenize");function QF(t,e){let n;const r=[],s=e.length;for(let i=0;i<s;i++){const a=e[i];if(a.marker!==126||a.end===-1)continue;const l=e[a.end];n=t.tokens[a.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[l.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",t.tokens[l.token-1].type==="text"&&t.tokens[l.token-1].content==="~"&&r.push(l.token-1)}for(;r.length;){const i=r.pop();let a=i+1;for(;a<t.tokens.length&&t.tokens[a].type==="s_close";)a++;a--,i!==a&&(n=t.tokens[a],t.tokens[a]=t.tokens[i],t.tokens[i]=n)}}o(QF,"postProcess$1");function aOe(t){const e=t.tokens_meta,n=t.tokens_meta.length;QF(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&QF(t,e[r].delimiters)}o(aOe,"strikethrough_postProcess");const hG={tokenize:oOe,postProcess:aOe};function lOe(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==95&&r!==42)return!1;const s=t.scanDelims(t.pos,r===42);for(let i=0;i<s.length;i++){const a=t.push("text","",0);a.content=String.fromCharCode(r),t.delimiters.push({marker:r,length:s.length,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close})}return t.pos+=s.length,!0}o(lOe,"emphasis_tokenize");function e8(t,e){const n=e.length;for(let r=n-1;r>=0;r--){const s=e[r];if(s.marker!==95&&s.marker!==42||s.end===-1)continue;const i=e[s.end],a=r>0&&e[r-1].end===s.end+1&&e[r-1].marker===s.marker&&e[r-1].token===s.token-1&&e[s.end+1].token===i.token+1,l=String.fromCharCode(s.marker),u=t.tokens[s.token];u.type=a?"strong_open":"em_open",u.tag=a?"strong":"em",u.nesting=1,u.markup=a?l+l:l,u.content="";const c=t.tokens[i.token];c.type=a?"strong_close":"em_close",c.tag=a?"strong":"em",c.nesting=-1,c.markup=a?l+l:l,c.content="",a&&(t.tokens[e[r-1].token].content="",t.tokens[e[s.end+1].token].content="",r--)}}o(e8,"postProcess");function uOe(t){const e=t.tokens_meta,n=t.tokens_meta.length;e8(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&e8(t,e[r].delimiters)}o(uOe,"emphasis_post_process");const dG={tokenize:lOe,postProcess:uOe};function cOe(t,e){let n,r,s,i,a="",l="",u=t.pos,c=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const f=t.pos,h=t.posMax,d=t.pos+1,p=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(p<0)return!1;let m=p+1;if(m<h&&t.src.charCodeAt(m)===40){for(c=!1,m++;m<h&&(n=t.src.charCodeAt(m),!(!Xt(n)&&n!==10));m++);if(m>=h)return!1;if(u=m,s=t.md.helpers.parseLinkDestination(t.src,m,t.posMax),s.ok){for(a=t.md.normalizeLink(s.str),t.md.validateLink(a)?m=s.pos:a="",u=m;m<h&&(n=t.src.charCodeAt(m),!(!Xt(n)&&n!==10));m++);if(s=t.md.helpers.parseLinkTitle(t.src,m,t.posMax),m<h&&u!==m&&s.ok)for(l=s.str,m=s.pos;m<h&&(n=t.src.charCodeAt(m),!(!Xt(n)&&n!==10));m++);}(m>=h||t.src.charCodeAt(m)!==41)&&(c=!0),m++}if(c){if(typeof t.env.references>"u")return!1;if(m<h&&t.src.charCodeAt(m)===91?(u=m+1,m=t.md.helpers.parseLinkLabel(t,m),m>=0?r=t.src.slice(u,m++):m=p+1):m=p+1,r||(r=t.src.slice(d,p)),i=t.env.references[Tx(r)],!i)return t.pos=f,!1;a=i.href,l=i.title}if(!e){t.pos=d,t.posMax=p;const y=t.push("link_open","a",1),b=[["href",a]];y.attrs=b,l&&b.push(["title",l]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=m,t.posMax=h,!0}o(cOe,"link$1");function fOe(t,e){let n,r,s,i,a,l,u,c,f="";const h=t.pos,d=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const p=t.pos+2,m=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(m<0)return!1;if(i=m+1,i<d&&t.src.charCodeAt(i)===40){for(i++;i<d&&(n=t.src.charCodeAt(i),!(!Xt(n)&&n!==10));i++);if(i>=d)return!1;for(c=i,l=t.md.helpers.parseLinkDestination(t.src,i,t.posMax),l.ok&&(f=t.md.normalizeLink(l.str),t.md.validateLink(f)?i=l.pos:f=""),c=i;i<d&&(n=t.src.charCodeAt(i),!(!Xt(n)&&n!==10));i++);if(l=t.md.helpers.parseLinkTitle(t.src,i,t.posMax),i<d&&c!==i&&l.ok)for(u=l.str,i=l.pos;i<d&&(n=t.src.charCodeAt(i),!(!Xt(n)&&n!==10));i++);else u="";if(i>=d||t.src.charCodeAt(i)!==41)return t.pos=h,!1;i++}else{if(typeof t.env.references>"u")return!1;if(i<d&&t.src.charCodeAt(i)===91?(c=i+1,i=t.md.helpers.parseLinkLabel(t,i),i>=0?s=t.src.slice(c,i++):i=m+1):i=m+1,s||(s=t.src.slice(p,m)),a=t.env.references[Tx(s)],!a)return t.pos=h,!1;f=a.href,u=a.title}if(!e){r=t.src.slice(p,m);const y=[];t.md.inline.parse(r,t.md,t.env,y);const b=t.push("image","img",0),_=[["src",f],["alt",""]];b.attrs=_,b.children=y,b.content=r,u&&_.push(["title",u])}return t.pos=i,t.posMax=d,!0}o(fOe,"image");const hOe=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,dOe=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function pOe(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==60)return!1;const r=t.pos,s=t.posMax;for(;;){if(++n>=s)return!1;const a=t.src.charCodeAt(n);if(a===60)return!1;if(a===62)break}const i=t.src.slice(r+1,n);if(dOe.test(i)){const a=t.md.normalizeLink(i);if(!t.md.validateLink(a))return!1;if(!e){const l=t.push("link_open","a",1);l.attrs=[["href",a]],l.markup="autolink",l.info="auto";const u=t.push("text","",0);u.content=t.md.normalizeLinkText(i);const c=t.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return t.pos+=i.length+2,!0}if(hOe.test(i)){const a=t.md.normalizeLink("mailto:"+i);if(!t.md.validateLink(a))return!1;if(!e){const l=t.push("link_open","a",1);l.attrs=[["href",a]],l.markup="autolink",l.info="auto";const u=t.push("text","",0);u.content=t.md.normalizeLinkText(i);const c=t.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return t.pos+=i.length+2,!0}return!1}o(pOe,"autolink$1");function mOe(t){return/^<a[>\s]/i.test(t)}o(mOe,"isLinkOpen");function gOe(t){return/^<\/a\s*>/i.test(t)}o(gOe,"isLinkClose");function yOe(t){const e=t|32;return e>=97&&e<=122}o(yOe,"isLetter");function bOe(t,e){if(!t.md.options.html)return!1;const n=t.posMax,r=t.pos;if(t.src.charCodeAt(r)!==60||r+2>=n)return!1;const s=t.src.charCodeAt(r+1);if(s!==33&&s!==63&&s!==47&&!yOe(s))return!1;const i=t.src.slice(r).match(GRe);if(!i)return!1;if(!e){const a=t.push("html_inline","",0);a.content=i[0],mOe(a.content)&&t.linkLevel++,gOe(a.content)&&t.linkLevel--}return t.pos+=i[0].length,!0}o(bOe,"html_inline");const _Oe=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,wOe=/^&([a-z][a-z0-9]{1,31});/i;function vOe(t,e){const n=t.pos,r=t.posMax;if(t.src.charCodeAt(n)!==38||n+1>=r)return!1;if(t.src.charCodeAt(n+1)===35){const i=t.src.slice(n).match(_Oe);if(i){if(!e){const a=i[1][0].toLowerCase()==="x"?parseInt(i[1].slice(1),16):parseInt(i[1],10),l=t.push("text_special","",0);l.content=qO(a)?Sv(a):Sv(65533),l.markup=i[0],l.info="entity"}return t.pos+=i[0].length,!0}}else{const i=t.src.slice(n).match(wOe);if(i){const a=iG(i[0]);if(a!==i[0]){if(!e){const l=t.push("text_special","",0);l.content=a,l.markup=i[0],l.info="entity"}return t.pos+=i[0].length,!0}}}return!1}o(vOe,"entity");function t8(t){const e={},n=t.length;if(!n)return;let r=0,s=-2;const i=[];for(let a=0;a<n;a++){const l=t[a];if(i.push(0),(t[r].marker!==l.marker||s!==l.token-1)&&(r=a),s=l.token,l.length=l.length||0,!l.close)continue;e.hasOwnProperty(l.marker)||(e[l.marker]=[-1,-1,-1,-1,-1,-1]);const u=e[l.marker][(l.open?3:0)+l.length%3];let c=r-i[r]-1,f=c;for(;c>u;c-=i[c]+1){const h=t[c];if(h.marker===l.marker&&h.open&&h.end<0){let d=!1;if((h.close||l.open)&&(h.length+l.length)%3===0&&(h.length%3!==0||l.length%3!==0)&&(d=!0),!d){const p=c>0&&!t[c-1].open?i[c-1]+1:0;i[a]=a-c+p,i[c]=p,l.open=!1,h.end=a,h.close=!1,f=-1,s=-2;break}}}f!==-1&&(e[l.marker][(l.open?3:0)+(l.length||0)%3]=f)}}o(t8,"processDelimiters");function EOe(t){const e=t.tokens_meta,n=t.tokens_meta.length;t8(t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&t8(e[r].delimiters)}o(EOe,"link_pairs");function xOe(t){let e,n,r=0;const s=t.tokens,i=t.tokens.length;for(e=n=0;e<i;e++)s[e].nesting<0&&r--,s[e].level=r,s[e].nesting>0&&r++,s[e].type==="text"&&e+1<i&&s[e+1].type==="text"?s[e+1].content=s[e].content+s[e+1].content:(e!==n&&(s[n]=s[e]),n++);e!==n&&(s.length=n)}o(xOe,"fragments_join");const TT=[["text",eOe],["linkify",nOe],["newline",rOe],["escape",sOe],["backticks",iOe],["strikethrough",hG.tokenize],["emphasis",dG.tokenize],["link",cOe],["image",fOe],["autolink",pOe],["html_inline",bOe],["entity",vOe]],kT=[["balance_pairs",EOe],["strikethrough",hG.postProcess],["emphasis",dG.postProcess],["fragments_join",xOe]];function n1(){this.ruler=new Ls;for(let t=0;t<TT.length;t++)this.ruler.push(TT[t][0],TT[t][1]);this.ruler2=new Ls;for(let t=0;t<kT.length;t++)this.ruler2.push(kT[t][0],kT[t][1])}o(n1,"ParserInline");n1.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),r=n.length,s=t.md.options.maxNesting,i=t.cache;if(typeof i[e]<"u"){t.pos=i[e];return}let a=!1;if(t.level<s){for(let l=0;l<r;l++)if(t.level++,a=n[l](t,!0),t.level--,a){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;a||t.pos++,i[e]=t.pos};n1.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,r=t.posMax,s=t.md.options.maxNesting;for(;t.pos<r;){const i=t.pos;let a=!1;if(t.level<s){for(let l=0;l<n;l++)if(a=e[l](t,!1),a){if(i>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(a){if(t.pos>=r)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};n1.prototype.parse=function(t,e,n,r){const s=new this.State(t,e,n,r);this.tokenize(s);const i=this.ruler2.getRules(""),a=i.length;for(let l=0;l<a;l++)i[l](s)};n1.prototype.State=t1;function SOe(t){const e={};t=t||{},e.src_Any=eG.source,e.src_Cc=tG.source,e.src_Z=rG.source,e.src_P=WO.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}o(SOe,"reFactory");function kC(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}o(kC,"assign");function Ax(t){return Object.prototype.toString.call(t)}o(Ax,"_class");function TOe(t){return Ax(t)==="[object String]"}o(TOe,"isString");function kOe(t){return Ax(t)==="[object Object]"}o(kOe,"isObject");function AOe(t){return Ax(t)==="[object RegExp]"}o(AOe,"isRegExp");function n8(t){return Ax(t)==="[object Function]"}o(n8,"isFunction");function COe(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}o(COe,"escapeRE");const pG={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function IOe(t){return Object.keys(t||{}).reduce(function(e,n){return e||pG.hasOwnProperty(n)},!1)}o(IOe,"isOptionsObj");const ROe={"http:":{validate:o(function(t,e,n){const r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0},"validate")},"https:":"http:","ftp:":"http:","//":{validate:o(function(t,e,n){const r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0},"validate")},"mailto:":{validate:o(function(t,e,n){const r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0},"validate")}},OOe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",NOe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function MOe(t){t.__index__=-1,t.__text_cache__=""}o(MOe,"resetScanCache");function DOe(t){return function(e,n){const r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}o(DOe,"createValidator");function r8(){return function(t,e){e.normalize(t)}}o(r8,"createNormalizer");function Tv(t){const e=t.re=SOe(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(OOe),n.push(e.src_xn),e.src_tlds=n.join("|");function r(l){return l.replace("%TLDS%",e.src_tlds)}o(r,"untpl"),e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const s=[];t.__compiled__={};function i(l,u){throw new Error('(LinkifyIt) Invalid schema "'+l+'": '+u)}o(i,"schemaError"),Object.keys(t.__schemas__).forEach(function(l){const u=t.__schemas__[l];if(u===null)return;const c={validate:null,link:null};if(t.__compiled__[l]=c,kOe(u)){AOe(u.validate)?c.validate=DOe(u.validate):n8(u.validate)?c.validate=u.validate:i(l,u),n8(u.normalize)?c.normalize=u.normalize:u.normalize?i(l,u):c.normalize=r8();return}if(TOe(u)){s.push(l);return}i(l,u)}),s.forEach(function(l){t.__compiled__[t.__schemas__[l]]&&(t.__compiled__[l].validate=t.__compiled__[t.__schemas__[l]].validate,t.__compiled__[l].normalize=t.__compiled__[t.__schemas__[l]].normalize)}),t.__compiled__[""]={validate:null,normalize:r8()};const a=Object.keys(t.__compiled__).filter(function(l){return l.length>0&&t.__compiled__[l]}).map(COe).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+a+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+a+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),MOe(t)}o(Tv,"compile");function POe(t,e){const n=t.__index__,r=t.__last_index__,s=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=s,this.text=s,this.url=s}o(POe,"Match");function AC(t,e){const n=new POe(t,e);return t.__compiled__[n.schema].normalize(n,t),n}o(AC,"createMatch");function oi(t,e){if(!(this instanceof oi))return new oi(t,e);e||IOe(t)&&(e=t,t={}),this.__opts__=kC({},pG,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=kC({},ROe,t),this.__compiled__={},this.__tlds__=NOe,this.__tlds_replaced__=!1,this.re={},Tv(this)}o(oi,"LinkifyIt");oi.prototype.add=o(function(e,n){return this.__schemas__[e]=n,Tv(this),this},"add");oi.prototype.set=o(function(e){return this.__opts__=kC(this.__opts__,e),this},"set");oi.prototype.test=o(function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,r,s,i,a,l,u,c,f;if(this.re.schema_test.test(e)){for(u=this.re.schema_search,u.lastIndex=0;(n=u.exec(e))!==null;)if(i=this.testSchemaAt(e,n[2],u.lastIndex),i){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+i;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(a=r.index+r[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(f=e.indexOf("@"),f>=0&&(s=e.match(this.re.email_fuzzy))!==null&&(a=s.index+s[1].length,l=s.index+s[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&l>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=l))),this.__index__>=0},"test");oi.prototype.pretest=o(function(e){return this.re.pretest.test(e)},"pretest");oi.prototype.testSchemaAt=o(function(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0},"testSchemaAt");oi.prototype.match=o(function(e){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(AC(this,r)),r=this.__last_index__);let s=r?e.slice(r):e;for(;this.test(s);)n.push(AC(this,r)),s=s.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null},"match");oi.prototype.matchAtStart=o(function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const r=this.testSchemaAt(e,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,AC(this,0)):null},"matchAtStart");oi.prototype.tlds=o(function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,s,i){return r!==i[s-1]}).reverse(),Tv(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Tv(this),this)},"tlds");oi.prototype.normalize=o(function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)},"normalize");oi.prototype.onCompile=o(function(){},"onCompile");const Nd=2147483647,sa=36,YO=1,Q0=26,$Oe=38,LOe=700,mG=72,gG=128,yG="-",FOe=/^xn--/,BOe=/[^\0-\x7F]/,UOe=/[\x2E\u3002\uFF0E\uFF61]/g,zOe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},AT=sa-YO,ia=Math.floor,CT=String.fromCharCode;function su(t){throw new RangeError(zOe[t])}o(su,"error");function VOe(t,e){const n=[];let r=t.length;for(;r--;)n[r]=e(t[r]);return n}o(VOe,"map$2");function bG(t,e){const n=t.split("@");let r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(UOe,".");const s=t.split("."),i=VOe(s,e).join(".");return r+i}o(bG,"mapDomain");function _G(t){const e=[];let n=0;const r=t.length;for(;n<r;){const s=t.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const i=t.charCodeAt(n++);(i&64512)==56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),n--)}else e.push(s)}return e}o(_G,"ucs2decode");const jOe=o(t=>String.fromCodePoint(...t),"ucs2encode"),WOe=o(function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:sa},"basicToDigit"),s8=o(function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},"digitToBasic"),wG=o(function(t,e,n){let r=0;for(t=n?ia(t/LOe):t>>1,t+=ia(t/e);t>AT*Q0>>1;r+=sa)t=ia(t/AT);return ia(r+(AT+1)*t/(t+$Oe))},"adapt"),vG=o(function(t){const e=[],n=t.length;let r=0,s=gG,i=mG,a=t.lastIndexOf(yG);a<0&&(a=0);for(let l=0;l<a;++l)t.charCodeAt(l)>=128&&su("not-basic"),e.push(t.charCodeAt(l));for(let l=a>0?a+1:0;l<n;){const u=r;for(let f=1,h=sa;;h+=sa){l>=n&&su("invalid-input");const d=WOe(t.charCodeAt(l++));d>=sa&&su("invalid-input"),d>ia((Nd-r)/f)&&su("overflow"),r+=d*f;const p=h<=i?YO:h>=i+Q0?Q0:h-i;if(d<p)break;const m=sa-p;f>ia(Nd/m)&&su("overflow"),f*=m}const c=e.length+1;i=wG(r-u,c,u==0),ia(r/c)>Nd-s&&su("overflow"),s+=ia(r/c),r%=c,e.splice(r++,0,s)}return String.fromCodePoint(...e)},"decode"),EG=o(function(t){const e=[];t=_G(t);const n=t.length;let r=gG,s=0,i=mG;for(const u of t)u<128&&e.push(CT(u));const a=e.length;let l=a;for(a&&e.push(yG);l<n;){let u=Nd;for(const f of t)f>=r&&f<u&&(u=f);const c=l+1;u-r>ia((Nd-s)/c)&&su("overflow"),s+=(u-r)*c,r=u;for(const f of t)if(f<r&&++s>Nd&&su("overflow"),f===r){let h=s;for(let d=sa;;d+=sa){const p=d<=i?YO:d>=i+Q0?Q0:d-i;if(h<p)break;const m=h-p,y=sa-p;e.push(CT(s8(p+m%y,0))),h=ia(m/y)}e.push(CT(s8(h,0))),i=wG(s,c,l===a),s=0,++l}++s,++r}return e.join("")},"encode$1"),HOe=o(function(t){return bG(t,function(e){return FOe.test(e)?vG(e.slice(4).toLowerCase()):e})},"toUnicode"),qOe=o(function(t){return bG(t,function(e){return BOe.test(e)?"xn--"+EG(e):e})},"toASCII"),xG={version:"2.3.1",ucs2:{decode:_G,encode:jOe},decode:vG,encode:EG,toASCII:qOe,toUnicode:HOe},GOe={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},KOe={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},YOe={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},XOe={default:GOe,zero:KOe,commonmark:YOe},JOe=/^(vbscript|javascript|file|data):/,ZOe=/^data:image\/(gif|png|jpeg|webp);/;function QOe(t){const e=t.trim().toLowerCase();return JOe.test(e)?ZOe.test(e):!0}o(QOe,"validateLink");const SG=["http:","https:","mailto:"];function eNe(t){const e=jO(t,!0);if(e.hostname&&(!e.protocol||SG.indexOf(e.protocol)>=0))try{e.hostname=xG.toASCII(e.hostname)}catch{}return e1(VO(e))}o(eNe,"normalizeLink");function tNe(t){const e=jO(t,!0);if(e.hostname&&(!e.protocol||SG.indexOf(e.protocol)>=0))try{e.hostname=xG.toUnicode(e.hostname)}catch{}return pp(VO(e),pp.defaultChars+"%")}o(tNe,"normalizeLinkText");function Li(t,e){if(!(this instanceof Li))return new Li(t,e);e||HO(t)||(e=t||{},t="default"),this.inline=new n1,this.block=new kx,this.core=new GO,this.renderer=new Zp,this.linkify=new oi,this.validateLink=QOe,this.normalizeLink=eNe,this.normalizeLinkText=tNe,this.utils=rRe,this.helpers=Sx({},aRe),this.options={},this.configure(t),e&&this.set(e)}o(Li,"MarkdownIt");Li.prototype.set=function(t){return Sx(this.options,t),this};Li.prototype.configure=function(t){const e=this;if(HO(t)){const n=t;if(t=XOe[n],!t)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};Li.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));const r=t.filter(function(s){return n.indexOf(s)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};Li.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));const r=t.filter(function(s){return n.indexOf(s)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};Li.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};Li.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};Li.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};Li.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};Li.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};const nNe=new _ke({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["div",["hr"]]}},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(t){return["h"+t.attrs.level,0]}},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:o(t=>({params:t.getAttribute("data-params")||""}),"getAttrs")}],toDOM(t){return["pre",t.attrs.params?{"data-params":t.attrs.params}:{},["code",0]]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1,tight:t.hasAttribute("data-tight")}}}],toDOM(t){return["ol",{start:t.attrs.order==1?null:t.attrs.order,"data-tight":t.attrs.tight?"true":null},0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:o(t=>({tight:t.hasAttribute("data-tight")}),"getAttrs")}],toDOM(t){return["ul",{"data-tight":t.attrs.tight?"true":null},0]}},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM(){return["li",0]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(t){return{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")}}}],toDOM(t){return["img",t.attrs]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:o(t=>t.type.name=="em","clearMark")}],toDOM(){return["em"]}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:o(t=>t.style.fontWeight!="normal"&&null,"getAttrs")},{style:"font-weight=400",clearMark:o(t=>t.type.name=="strong","clearMark")},{style:"font-weight",getAttrs:o(t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null,"getAttrs")}],toDOM(){return["strong"]}},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(t){return{href:t.getAttribute("href"),title:t.getAttribute("title")}}}],toDOM(t){return["a",t.attrs]}},code:{parseDOM:[{tag:"code"}],toDOM(){return["code"]}}}});function rNe(t,e){if(t.isText&&e.isText&&xt.sameSet(t.marks,e.marks))return t.withText(t.text+e.text)}o(rNe,"maybeMerge");class sNe{static{o(this,"MarkdownParseState")}constructor(e,n){this.schema=e,this.tokenHandlers=n,this.stack=[{type:e.topNodeType,attrs:null,content:[],marks:xt.none}]}top(){return this.stack[this.stack.length-1]}push(e){this.stack.length&&this.top().content.push(e)}addText(e){if(!e)return;let n=this.top(),r=n.content,s=r[r.length-1],i=this.schema.text(e,n.marks),a;s&&(a=rNe(s,i))?r[r.length-1]=a:r.push(i)}openMark(e){let n=this.top();n.marks=e.addToSet(n.marks)}closeMark(e){let n=this.top();n.marks=e.removeFromSet(n.marks)}parseTokens(e){for(let n=0;n<e.length;n++){let r=e[n],s=this.tokenHandlers[r.type];if(!s)throw new Error("Token type `"+r.type+"` not supported by Markdown parser");s(this,r,e,n)}}addNode(e,n,r){let s=this.top(),i=e.createAndFill(n,r,s?s.marks:[]);return i?(this.push(i),i):null}openNode(e,n){this.stack.push({type:e,attrs:n,content:[],marks:xt.none})}closeNode(){let e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)}}function Nm(t,e,n,r){return t.getAttrs?t.getAttrs(e,n,r):t.attrs instanceof Function?t.attrs(e):t.attrs}o(Nm,"attrs");function IT(t,e){return t.noCloseToken||e=="code_inline"||e=="code_block"||e=="fence"}o(IT,"noCloseToken");function i8(t){return t[t.length-1]==`
`?t.slice(0,t.length-1):t}o(i8,"withoutTrailingNewline");function RT(){}o(RT,"noOp");function iNe(t,e){let n=Object.create(null);for(let r in e){let s=e[r];if(s.block){let i=t.nodeType(s.block);IT(s,r)?n[r]=(a,l,u,c)=>{a.openNode(i,Nm(s,l,u,c)),a.addText(i8(l.content)),a.closeNode()}:(n[r+"_open"]=(a,l,u,c)=>a.openNode(i,Nm(s,l,u,c)),n[r+"_close"]=a=>a.closeNode())}else if(s.node){let i=t.nodeType(s.node);n[r]=(a,l,u,c)=>a.addNode(i,Nm(s,l,u,c))}else if(s.mark){let i=t.marks[s.mark];IT(s,r)?n[r]=(a,l,u,c)=>{a.openMark(i.create(Nm(s,l,u,c))),a.addText(i8(l.content)),a.closeMark(i)}:(n[r+"_open"]=(a,l,u,c)=>a.openMark(i.create(Nm(s,l,u,c))),n[r+"_close"]=a=>a.closeMark(i))}else if(s.ignore)IT(s,r)?n[r]=RT:(n[r+"_open"]=RT,n[r+"_close"]=RT);else throw new RangeError("Unrecognized parsing spec "+JSON.stringify(s))}return n.text=(r,s)=>r.addText(s.content),n.inline=(r,s)=>r.parseTokens(s.children),n.softbreak=n.softbreak||(r=>r.addText(" ")),n}o(iNe,"tokenHandlers");class oNe{static{o(this,"MarkdownParser")}constructor(e,n,r){this.schema=e,this.tokenizer=n,this.tokens=r,this.tokenHandlers=iNe(e,r)}parse(e,n={}){let r=new sNe(this.schema,this.tokenHandlers),s;r.parseTokens(this.tokenizer.parse(e,n));do s=r.closeNode();while(r.stack.length);return s||this.schema.topNodeType.createAndFill()}}function o8(t,e){for(;++e<t.length;)if(t[e].type!="list_item_open")return t[e].hidden;return!1}o(o8,"listIsTight");new oNe(nNe,Li("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:o((t,e,n)=>({tight:o8(e,n)}),"getAttrs")},ordered_list:{block:"ordered_list",getAttrs:o((t,e,n)=>({order:+t.attrGet("start")||1,tight:o8(e,n)}),"getAttrs")},heading:{block:"heading",getAttrs:o(t=>({level:+t.tag.slice(1)}),"getAttrs")},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:o(t=>({params:t.info||""}),"getAttrs"),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:o(t=>({src:t.attrGet("src"),title:t.attrGet("title")||null,alt:t.children[0]&&t.children[0].content||null}),"getAttrs")},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:o(t=>({href:t.attrGet("href"),title:t.attrGet("title")||null}),"getAttrs")},code_inline:{mark:"code",noCloseToken:!0}});const aNe={open:"",close:"",mixable:!0};class lNe{static{o(this,"MarkdownSerializer")}constructor(e,n,r={}){this.nodes=e,this.marks=n,this.options=r}serialize(e,n={}){n=Object.assign({},this.options,n);let r=new cNe(this.nodes,this.marks,n);return r.renderContent(e),r.out}}const g7e=new lNe({blockquote(t,e){t.wrapBlock("> ",null,e,()=>t.renderContent(e))},code_block(t,e){const n=e.textContent.match(/`{3,}/gm),r=n?n.sort().slice(-1)[0]+"`":"```";t.write(r+(e.attrs.params||"")+`
`),t.text(e.textContent,!1),t.write(`
`),t.write(r),t.closeBlock(e)},heading(t,e){t.write(t.repeat("#",e.attrs.level)+" "),t.renderInline(e,!1),t.closeBlock(e)},horizontal_rule(t,e){t.write(e.attrs.markup||"---"),t.closeBlock(e)},bullet_list(t,e){t.renderList(e,"  ",()=>(e.attrs.bullet||"*")+" ")},ordered_list(t,e){let n=e.attrs.order||1,r=String(n+e.childCount-1).length,s=t.repeat(" ",r+2);t.renderList(e,s,i=>{let a=String(n+i);return t.repeat(" ",r-a.length)+a+". "})},list_item(t,e){t.renderContent(e)},paragraph(t,e){t.renderInline(e),t.closeBlock(e)},image(t,e){t.write("!["+t.esc(e.attrs.alt||"")+"]("+e.attrs.src.replace(/[\(\)]/g,"\\$&")+(e.attrs.title?' "'+e.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(t,e,n,r){for(let s=r+1;s<n.childCount;s++)if(n.child(s).type!=e.type){t.write(`\\
`);return}},text(t,e){t.text(e.text,!t.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open(t,e,n,r){return t.inAutolink=uNe(e,n,r),t.inAutolink?"<":"["},close(t,e,n,r){let{inAutolink:s}=t;return t.inAutolink=void 0,s?">":"]("+e.attrs.href.replace(/[\(\)"]/g,"\\$&")+(e.attrs.title?` "${e.attrs.title.replace(/"/g,'\\"')}"`:"")+")"},mixable:!0},code:{open(t,e,n,r){return a8(n.child(r),-1)},close(t,e,n,r){return a8(n.child(r-1),1)},escape:!1}});function a8(t,e){let n=/`+/g,r,s=0;if(t.isText)for(;r=n.exec(t.text);)s=Math.max(s,r[0].length);let i=s>0&&e>0?" `":"`";for(let a=0;a<s;a++)i+="`";return s>0&&e<0&&(i+=" "),i}o(a8,"backticksFor");function uNe(t,e,n){if(t.attrs.title||!/^\w+:/.test(t.attrs.href))return!1;let r=e.child(n);return!r.isText||r.text!=t.attrs.href||r.marks[r.marks.length-1]!=t?!1:n==e.childCount-1||!t.isInSet(e.child(n+1).marks)}o(uNe,"isPlainURL");let cNe=class{static{o(this,"MarkdownSerializerState")}constructor(e,n,r){this.nodes=e,this.marks=n,this.options=r,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,typeof this.options.tightLists>"u"&&(this.options.tightLists=!1),typeof this.options.hardBreakNodeName>"u"&&(this.options.hardBreakNodeName="hard_break")}flushClose(e=2){if(this.closed){if(this.atBlank()||(this.out+=`
`),e>1){let n=this.delim,r=/\s+$/.exec(n);r&&(n=n.slice(0,n.length-r[0].length));for(let s=1;s<e;s++)this.out+=n+`
`}this.closed=null}}getMark(e){let n=this.marks[e];if(!n){if(this.options.strict!==!1)throw new Error(`Mark type \`${e}\` not supported by Markdown renderer`);n=aNe}return n}wrapBlock(e,n,r,s){let i=this.delim;this.write(n??e),this.delim+=e,s(),this.delim=i,this.closeBlock(r)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+=`
`)}write(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)}closeBlock(e){this.closed=e}text(e,n=!0){let r=e.split(`
`);for(let s=0;s<r.length;s++)this.write(),!n&&r[s][0]=="["&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=n?this.esc(r[s],this.atBlockStart):r[s],s!=r.length-1&&(this.out+=`
`)}render(e,n,r){if(this.nodes[e.type.name])this.nodes[e.type.name](this,e,n,r);else{if(this.options.strict!==!1)throw new Error("Token type `"+e.type.name+"` not supported by Markdown renderer");e.type.isLeaf||(e.type.inlineContent?this.renderInline(e):this.renderContent(e),e.isBlock&&this.closeBlock(e))}}renderContent(e){e.forEach((n,r,s)=>this.render(n,e,s))}renderInline(e,n=!0){this.atBlockStart=n;let r=[],s="",i=o((a,l,u)=>{let c=a?a.marks:[];a&&a.type.name===this.options.hardBreakNodeName&&(c=c.filter(y=>{if(u+1==e.childCount)return!1;let b=e.child(u+1);return y.isInSet(b.marks)&&(!b.isText||/\S/.test(b.text))}));let f=s;if(s="",a&&a.isText&&c.some(y=>{let b=this.getMark(y.type.name);return b&&b.expelEnclosingWhitespace&&!y.isInSet(r)})){let[y,b,_]=/^(\s*)(.*)$/m.exec(a.text);b&&(f+=b,a=_?a.withText(_):null,a||(c=r))}if(a&&a.isText&&c.some(y=>{let b=this.getMark(y.type.name);return b&&b.expelEnclosingWhitespace&&(u==e.childCount-1||!y.isInSet(e.child(u+1).marks))})){let[y,b,_]=/^(.*?)(\s*)$/m.exec(a.text);_&&(s=_,a=b?a.withText(b):null,a||(c=r))}let h=c.length?c[c.length-1]:null,d=h&&this.getMark(h.type.name).escape===!1,p=c.length-(d?1:0);e:for(let y=0;y<p;y++){let b=c[y];if(!this.getMark(b.type.name).mixable)break;for(let _=0;_<r.length;_++){let S=r[_];if(!this.getMark(S.type.name).mixable)break;if(b.eq(S)){y>_?c=c.slice(0,_).concat(b).concat(c.slice(_,y)).concat(c.slice(y+1,p)):_>y&&(c=c.slice(0,y).concat(c.slice(y+1,_)).concat(b).concat(c.slice(_,p)));continue e}}}let m=0;for(;m<Math.min(r.length,p)&&c[m].eq(r[m]);)++m;for(;m<r.length;)this.text(this.markString(r.pop(),!1,e,u),!1);if(f&&this.text(f),a){for(;r.length<p;){let y=c[r.length];r.push(y),this.text(this.markString(y,!0,e,u),!1),this.atBlockStart=!1}d&&a.isText?this.text(this.markString(h,!0,e,u)+a.text+this.markString(h,!1,e,u+1),!1):this.render(a,e,u),this.atBlockStart=!1}a?.isText&&a.nodeSize>0&&(this.atBlockStart=!1)},"progress");e.forEach(i),i(null,0,e.childCount),this.atBlockStart=!1}renderList(e,n,r){this.closed&&this.closed.type==e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let s=typeof e.attrs.tight<"u"?e.attrs.tight:this.options.tightLists,i=this.inTightList;this.inTightList=s,e.forEach((a,l,u)=>{u&&s&&this.flushClose(1),this.wrapBlock(n,r(u),e,()=>this.render(a,e,u))}),this.inTightList=i}esc(e,n=!1){return e=e.replace(/[`*\\~\[\]_]/g,(r,s)=>r=="_"&&s>0&&s+1<e.length&&e[s-1].match(/\w/)&&e[s+1].match(/\w/)?r:"\\"+r),n&&(e=e.replace(/^(\+[ ]|[\-*>])/,"\\$&").replace(/^(\s*)(#{1,6})(\s|$)/,"$1\\$2$3").replace(/^(\s*\d+)\.\s/,"$1\\. ")),this.options.escapeExtraCharacters&&(e=e.replace(this.options.escapeExtraCharacters,"\\$&")),e}quote(e){let n=e.indexOf('"')==-1?'""':e.indexOf("'")==-1?"''":"()";return n[0]+e+n[1]}repeat(e,n){let r="";for(let s=0;s<n;s++)r+=e;return r}markString(e,n,r,s){let i=this.getMark(e.type.name),a=n?i.open:i.close;return typeof a=="string"?a:a(this,e,r,s)}getEnclosingWhitespace(e){return{leading:(e.match(/^(\s+)/)||[void 0])[0],trailing:(e.match(/(\s+)$/)||[void 0])[0]}}};var OT,l8;function fNe(){if(l8)return OT;l8=1;var t=!0,e=!1,n=!1;OT=o(function(y,b){b&&(t=!b.enabled,e=!!b.label,n=!!b.labelAfter),y.core.ruler.after("inline","github-task-lists",function(_){for(var S=_.tokens,v=2;v<S.length;v++)i(S,v)&&(a(S[v],_.Token),r(S[v-2],"class","task-list-item"+(t?"":" enabled")),r(S[s(S,v-2)],"class","contains-task-list"))})},"markdownItTaskLists");function r(y,b,_){var S=y.attrIndex(b),v=[b,_];S<0?y.attrPush(v):y.attrs[S]=v}o(r,"attrSet");function s(y,b){for(var _=y[b].level-1,S=b-1;S>=0;S--)if(y[S].level===_)return S;return-1}o(s,"parentToken");function i(y,b){return h(y[b])&&d(y[b-1])&&p(y[b-2])&&m(y[b])}o(i,"isTodoItem");function a(y,b){if(y.children.unshift(l(y,b)),y.children[1].content=y.children[1].content.slice(3),y.content=y.content.slice(3),e)if(n){y.children.pop();var _="task-item-"+Math.ceil(Math.random()*(1e4*1e3)-1e3);y.children[0].content=y.children[0].content.slice(0,-1)+' id="'+_+'">',y.children.push(f(y.content,_,b))}else y.children.unshift(u(b)),y.children.push(c(b))}o(a,"todoify");function l(y,b){var _=new b("html_inline","",0),S=t?' disabled="" ':"";return y.content.indexOf("[ ] ")===0?_.content='<input class="task-list-item-checkbox"'+S+'type="checkbox">':(y.content.indexOf("[x] ")===0||y.content.indexOf("[X] ")===0)&&(_.content='<input class="task-list-item-checkbox" checked=""'+S+'type="checkbox">'),_}o(l,"makeCheckbox");function u(y){var b=new y("html_inline","",0);return b.content="<label>",b}o(u,"beginLabel");function c(y){var b=new y("html_inline","",0);return b.content="</label>",b}o(c,"endLabel");function f(y,b,_){var S=new _("html_inline","",0);return S.content='<label class="task-list-item-label" for="'+b+'">'+y+"</label>",S.attrs=[{for:b}],S}o(f,"afterLabel");function h(y){return y.type==="inline"}o(h,"isInline");function d(y){return y.type==="paragraph_open"}o(d,"isParagraph");function p(y){return y.type==="list_item_open"}o(p,"isListItem");function m(y){return y.content.indexOf("[ ] ")===0||y.content.indexOf("[x] ")===0||y.content.indexOf("[X] ")===0}return o(m,"startsWithTodoMarkdown"),OT}o(fNe,"requireMarkdownItTaskLists");var hNe=fNe();const b7e=zR(hNe);var kv;(function(t){t.INIT="init",t.INIT_CHANNEL="initChannel",t.INTERMEDIATE="intermediate",t.EXECUTE="execute",t.INTERCOM_INIT="interComInit",t.INTERCOM_INTERMEDIATE="interComIntermediate",t.INTERCOM_EXECUTE="interComExecute"})(kv||(kv={}));var Ug;(function(t){t.INIT_COMPLETE="initComplete",t.INIT_CHANNEL_COMPLETE="initChannelComplete",t.INTERMEDIATE_CONFIRM="intermediateConfirm",t.EXECUTE_COMPLETE="executeComplete",t.INTERCOM_INIT_COMPLETE="interComInitComplete",t.INTERCOM_INTERMEDIATE_CONFIRM="interComIntermediateConfirm",t.INTERCOM_EXECUTE_COMPLETE="interComExecuteComplete"})(Ug||(Ug={}));var u8;(function(t){t.INIT_OFFSCREEN_CANVAS="initOffscreenCanvas",t.PROXY_START="proxyStart",t.PROXY_EVENT="proxyEvent",t.RESIZE="resize"})(u8||(u8={}));var c8;(function(t){t.INIT_OFFSCREEN_CANVAS_COMPLETE="initOffscreenCanvasComplete",t.PROXY_START_COMPLETE="proxyStartComplete",t.PROXY_EVENT_COMPLETE="proxyEventComplete",t.RESIZE_COMPLETE="resizeComplete"})(c8||(c8={}));class CC{static{o(this,"PayloadRegister")}static handler=new Map}class Uc{static{o(this,"WorkerTaskMessage")}cmd="unknown";uuid="unknown";name="unnamed";workerId=0;progress=0;payloads=[];constructor(e){this.cmd=e?.cmd??this.cmd,this.name=e?.name??this.name,this.workerId=e?.workerId??this.workerId,this.progress=e?.progress??this.progress}addPayload(e){e&&(Array.isArray(e)?this.payloads=this.payloads.concat(e):this.payloads.push(e))}static createNew(e){return new Uc(e)}static createEmpty(){return Uc.createNew({})}static createFromExisting(e,n){const r=Uc.createNew(e);return r.uuid=e.uuid,n?.overrideCmd&&(r.cmd=n.overrideCmd),n?.overrideUuid&&(r.uuid=n.overrideUuid),r}static pack(e,n){const r=[];if(e)for(const s of e)CC.handler.get(s.$type)?.pack(s,r,n===!0);return r}static unpack(e,n){const r=Uc.createFromExisting(e,{overrideUuid:e.uuid});if(e.payloads)for(const s of e.payloads){const i=CC.handler.get(s.$type);r.addPayload(i?.unpack(s,n===!0))}return r}static fromPayload(e,n){const r=Uc.createNew({cmd:n});return r.addPayload(e),r}}class _7e{static{o(this,"WorkerTask")}taskName;workerId;workerConfig;verbose=!1;worker;executing=!1;executionCounter=0;awaitAnswers=new Map;constructor(e){this.taskName=e.taskName,this.workerId=e.workerId,this.workerConfig=e.workerConfig,this.verbose=e.verbose===!0}isWorkerExecuting(){return this.executing}markExecuting(e){this.executing=e}getWorker(){return this.worker}connectWorker(){if(this.worker)throw new Error("Worker already created. Aborting...");if(this.workerConfig.$type==="WorkerConfigDirect"?this.worker=this.workerConfig.worker:this.workerConfig.$type==="WorkerConfigParams"&&this.workerConfig.url&&(this.workerConfig.blob?this.worker=new Worker(this.workerConfig.url):this.worker=new Worker(this.workerConfig.url.href,{type:this.workerConfig.workerType})),!this.worker)throw new Error("No valid worker configuration was supplied. Aborting...");this.worker.onmessage=(async e=>{const n=e.data;n.cmd?this.awaitAnswers.get(n.uuid??"unknown")?.forEach(s=>{if(s.name===n.cmd){if(s.log===!0){const i=`Received: ${n.cmd} (workerName: ${n.name??"unknown"}) with uuid: ${n.uuid}`}for(const i of s.resolve)i(n);s.endExecution===!0&&this.markExecuting(!1),s.remove===!0&&this.awaitAnswers.delete(n.uuid)}}):console.error(`Received: unknown message: ${n}`)}),this.worker.onerror=(async e=>{`${e.error}`,Promise.reject(e),this.markExecuting(!1)})}async initWorker(e){return new Promise((n,r)=>{if(!this.worker)r(new Error("No worker is available. Aborting...")),this.markExecuting(!1);else{this.verbose&&`${this.taskName}`;const s=e.message;s.cmd=kv.INIT;const i=this.handleTransferables(e);this.updateAwaitHandlers(s,[{name:Ug.INIT_COMPLETE,resolve:[n],reject:r,remove:!0,log:this.verbose}]),this.worker?.postMessage(s,i)}})}async executeWorker(e){return new Promise((n,r)=>{if(!this.worker)r(new Error("No worker is available. Aborting...")),this.markExecuting(!1);else{this.markExecuting(!0);const s=e.message;s.cmd=kv.EXECUTE;const i=this.handleTransferables(e),a=[],l=[];e.onComplete&&l.push(e.onComplete),l.push(n),a.push({name:Ug.EXECUTE_COMPLETE,resolve:l,reject:r,remove:!0,endExecution:!0,log:this.verbose}),typeof e.onIntermediateConfirm=="function"&&a.push({name:Ug.INTERMEDIATE_CONFIRM,resolve:[e.onIntermediateConfirm],reject:r,remove:!1,log:this.verbose}),this.updateAwaitHandlers(s,a),this.worker.postMessage(s,i)}})}sentMessage(e){return new Promise((n,r)=>{if(this.checkWorker(r)){const s=e.message;if(s.cmd==="unknown"||s.cmd.length===0)throw new Error("No command provided. Aborting...");const i=this.handleTransferables(e);if(e.awaitAnswer===!0){if(!e.answer){r(new Error("No answer name provided. Aborting..."));return}this.updateAwaitHandlers(s,[{name:e.answer,resolve:[n],reject:r,remove:!0,log:this.verbose}])}this.worker?.postMessage(s,i),e.awaitAnswer||n(Uc.createEmpty())}})}updateAwaitHandlers(e,n){e.workerId=this.workerId,e.uuid=this.buildUuid(),this.awaitAnswers.set(e.uuid,n)}buildUuid(){return`${this.workerId}_${this.executionCounter++}_${Math.floor(Math.random()*1e8)}`}handleTransferables(e){let n=[];if(e.transferables)if(e.copyTransferables===!0)for(const r of e.transferables)n.push(r.slice(0));else n=e.transferables;return n}checkWorker(e){return this.worker?!0:(e(new Error("No worker is available. Aborting...")),this.markExecuting(!1),!1)}dispose(){this.worker?.terminate()}printAwaitAnswers(){`${this.taskName}`,this.awaitAnswers}}const dNe=o((t,e,n)=>{for(const r of t){const s=n?r.slice(0):r,i=s.buffer;i?e.push(i):e.push(s)}},"fillTransferables");class pNe{static{o(this,"DataPayload")}$type="DataPayload";message={buffers:new Map,params:{}};progress=0}class mNe{static{o(this,"DataPayloadHandler")}pack(e,n,r){const s=e;return s.message.buffers&&dNe(s.message.buffers?.values(),n,r),n}unpack(e,n){const r=e,s=Object.assign(new pNe,e);if(r.message.buffers)for(const[i,a]of r.message.buffers.entries())s.message.buffers&&s.message.buffers.set(i,n?a.slice(0):a);return s}}CC.handler.set("DataPayload",new mNe);function gNe(t){if(Array.isArray(t))return t}o(gNe,"_arrayWithHoles");function yNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(f){c=!0,s=f}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw s}}return l}}o(yNe,"_iterableToArrayLimit");function IC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}o(IC,"_arrayLikeToArray$2");function TG(t,e){if(t){if(typeof t=="string")return IC(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?IC(t,e):void 0}}o(TG,"_unsupportedIterableToArray$2");function bNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o(bNe,"_nonIterableRest");function kG(t,e){return gNe(t)||yNe(t,e)||TG(t,e)||bNe()}o(kG,"_slicedToArray");var NT={},Mm={},f8;function AG(){if(f8)return Mm;f8=1,Object.defineProperty(Mm,"__esModule",{value:!0}),Mm.bind=void 0;function t(e,n){var r=n.type,s=n.listener,i=n.options;return e.addEventListener(r,s,i),o(function(){e.removeEventListener(r,s,i)},"unbind")}return o(t,"bind$1"),Mm.bind=t,Mm}o(AG,"requireBind");var Ac={},h8;function _Ne(){if(h8)return Ac;h8=1;var t=Ac&&Ac.__assign||function(){return t=Object.assign||function(i){for(var a,l=1,u=arguments.length;l<u;l++){a=arguments[l];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(i[c]=a[c])}return i},t.apply(this,arguments)};Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.bindAll=void 0;var e=AG();function n(i){if(!(typeof i>"u"))return typeof i=="boolean"?{capture:i}:i}o(n,"toOptions");function r(i,a){if(a==null)return i;var l=t(t({},i),{options:t(t({},n(a)),n(i.options))});return l}o(r,"getBinding");function s(i,a,l){var u=a.map(function(c){var f=r(c,l);return(0,e.bind)(i,f)});return o(function(){u.forEach(function(f){return f()})},"unbindAll")}return o(s,"bindAll$1"),Ac.bindAll=s,Ac}o(_Ne,"requireBindAll");var d8;function wNe(){return d8||(d8=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.bindAll=t.bind=void 0;var e=AG();Object.defineProperty(t,"bind",{enumerable:!0,get:o(function(){return e.bind},"get")});var n=_Ne();Object.defineProperty(t,"bindAll",{enumerable:!0,get:o(function(){return n.bindAll},"get")})})(NT)),NT}o(wNe,"requireDist");var gp=wNe(),CG="data-pdnd-honey-pot";function IG(t){return t instanceof Element&&t.hasAttribute(CG)}o(IG,"isHoneyPotElement");function RG(t){var e=document.elementsFromPoint(t.x,t.y),n=kG(e,2),r=n[0],s=n[1];return r?IG(r)?s??null:r:null}o(RG,"getElementFromPointWithoutHoneypot");function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}o(ey,"_typeof");function vNe(t,e){if(ey(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}o(vNe,"toPrimitive");function ENe(t){var e=vNe(t,"string");return ey(e)=="symbol"?e:e+""}o(ENe,"toPropertyKey");function XO(t,e,n){return(e=ENe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}o(XO,"_defineProperty");var OG=2147483647;function p8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}o(p8,"ownKeys$2");function m8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p8(Object(n),!0).forEach(function(r){XO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}o(m8,"_objectSpread$2");var ty=2,g8=ty/2;function xNe(t){return{x:Math.floor(t.x),y:Math.floor(t.y)}}o(xNe,"floorToClosestPixel");function SNe(t){return{x:t.x-g8,y:t.y-g8}}o(SNe,"pullBackByHalfHoneyPotSize");function TNe(t){return{x:Math.max(t.x,0),y:Math.max(t.y,0)}}o(TNe,"preventGoingBackwardsOffScreen");function kNe(t){return{x:Math.min(t.x,window.innerWidth-ty),y:Math.min(t.y,window.innerHeight-ty)}}o(kNe,"preventGoingForwardsOffScreen");function y8(t){var e=t.client,n=kNe(TNe(SNe(xNe(e))));return DOMRect.fromRect({x:n.x,y:n.y,width:ty,height:ty})}o(y8,"getHoneyPotRectFor");function b8(t){var e=t.clientRect;return{left:"".concat(e.left,"px"),top:"".concat(e.top,"px"),width:"".concat(e.width,"px"),height:"".concat(e.height,"px")}}o(b8,"getRectStyles");function ANe(t){var e=t.client,n=t.clientRect;return e.x>=n.x&&e.x<=n.x+n.width&&e.y>=n.y&&e.y<=n.y+n.height}o(ANe,"isWithin");function CNe(t){var e=t.initial,n=document.createElement("div");n.setAttribute(CG,"true");var r=y8({client:e});Object.assign(n.style,m8(m8({backgroundColor:"transparent",position:"fixed",padding:0,margin:0,boxSizing:"border-box"},b8({clientRect:r})),{},{pointerEvents:"auto",zIndex:OG})),document.body.appendChild(n);var s=gp.bind(window,{type:"pointermove",listener:o(function(a){var l={x:a.clientX,y:a.clientY};r=y8({client:l}),Object.assign(n.style,b8({clientRect:r}))},"listener"),options:{capture:!0}});return o(function(a){var l=a.current;if(s(),ANe({client:l,clientRect:r})){n.remove();return}function u(){c(),n.remove()}o(u,"cleanup");var c=gp.bindAll(window,[{type:"pointerdown",listener:u},{type:"pointermove",listener:u},{type:"focusin",listener:u},{type:"focusout",listener:u},{type:"dragstart",listener:u},{type:"dragenter",listener:u},{type:"dragover",listener:u}],{capture:!0})},"finish")}o(CNe,"mountHoneyPot");function INe(){var t=null;function e(){return t=null,gp.bind(window,{type:"pointermove",listener:o(function(s){t={x:s.clientX,y:s.clientY}},"listener"),options:{capture:!0}})}o(e,"bindEvents");function n(){var r=null;return o(function(i){var a=i.eventName,l=i.payload;if(a==="onDragStart"){var u,c=l.location.initial.input,f=(u=t)!==null&&u!==void 0?u:{x:c.clientX,y:c.clientY};r=CNe({initial:f})}if(a==="onDrop"){var h,d=l.location.current.input;(h=r)===null||h===void 0||h({current:{x:d.clientX,y:d.clientY}}),r=null,t=null}},"onPostEvent")}return o(n,"getOnPostDispatch"),{bindEvents:e,getOnPostDispatch:n}}o(INe,"makeHoneyPotFix");function RNe(t){if(Array.isArray(t))return IC(t)}o(RNe,"_arrayWithoutHoles");function ONe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}o(ONe,"_iterableToArray");function NNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o(NNe,"_nonIterableSpread");function NG(t){return RNe(t)||ONe(t)||TG(t)||NNe()}o(NG,"_toConsumableArray");function JO(t){var e=null;return o(function(){if(!e){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var a=t.apply(this,s);e={result:a}}return e.result},"wrapped")}o(JO,"once");var MNe=JO(o(function(){return navigator.userAgent.includes("Firefox")},"isFirefox2")),Cx=JO(o(function(){var e=navigator,n=e.userAgent;return n.includes("AppleWebKit")&&!n.includes("Chrome")},"isSafari2")),RC={isLeavingWindow:Symbol("leaving"),isEnteringWindow:Symbol("entering")};function DNe(t){var e=t.dragLeave;return Cx()?e.hasOwnProperty(RC.isLeavingWindow):!1}o(DNe,"isLeavingWindowInSafari");o((function(){if(typeof window>"u"||!Cx())return;function e(){return{enterCount:0,isOverWindow:!1}}o(e,"getInitialState");var n=e();function r(){n=e()}o(r,"resetState"),gp.bindAll(window,[{type:"dragstart",listener:o(function(){n.enterCount=0,n.isOverWindow=!0},"listener")},{type:"drop",listener:r},{type:"dragend",listener:r},{type:"dragenter",listener:o(function(i){!n.isOverWindow&&n.enterCount===0&&(i[RC.isEnteringWindow]=!0),n.isOverWindow=!0,n.enterCount++},"listener")},{type:"dragleave",listener:o(function(i){n.enterCount--,n.isOverWindow&&n.enterCount===0&&(i[RC.isLeavingWindow]=!0,n.isOverWindow=!1)},"listener")}],{capture:!0})}),"fixSafari")();function PNe(t){return"nodeName"in t}o(PNe,"isNodeLike");function $Ne(t){return PNe(t)&&t.ownerDocument!==document}o($Ne,"isFromAnotherWindow");function LNe(t){var e=t.dragLeave,n=e.type,r=e.relatedTarget;return n!=="dragleave"?!1:Cx()?DNe({dragLeave:e}):r==null?!0:MNe()?$Ne(r):r instanceof HTMLIFrameElement}o(LNe,"isLeavingWindow");function FNe(t){var e=t.onDragEnd;return[{type:"pointermove",listener:(function(){var n=0;return o(function(){if(n<20){n++;return}e()},"listener")})()},{type:"pointerdown",listener:e}]}o(FNe,"getBindingsForBrokenDrags");function zg(t){return{altKey:t.altKey,button:t.button,buttons:t.buttons,ctrlKey:t.ctrlKey,metaKey:t.metaKey,shiftKey:t.shiftKey,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}o(zg,"getInput");var BNe=o(function(e){var n=[],r=null,s=o(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];n=l,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))},"wrapperFn");return s.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},s},"rafSchd"),MT=BNe(function(t){return t()}),Eb=(function(){var t=null;function e(r){var s=requestAnimationFrame(function(){t=null,r()});t={frameId:s,fn:r}}o(e,"schedule");function n(){t&&(cancelAnimationFrame(t.frameId),t.fn(),t=null)}return o(n,"flush"),{schedule:e,flush:n}})();function UNe(t){var e=t.source,n=t.initial,r=t.dispatchEvent,s={dropTargets:[]};function i(l){r(l),s={dropTargets:l.payload.location.current.dropTargets}}o(i,"safeDispatch");var a={start:o(function(u){var c=u.nativeSetDragImage,f={current:n,previous:s,initial:n};i({eventName:"onGenerateDragPreview",payload:{source:e,location:f,nativeSetDragImage:c}}),Eb.schedule(function(){i({eventName:"onDragStart",payload:{source:e,location:f}})})},"start"),dragUpdate:o(function(u){var c=u.current;Eb.flush(),MT.cancel(),i({eventName:"onDropTargetChange",payload:{source:e,location:{initial:n,previous:s,current:c}}})},"dragUpdate"),drag:o(function(u){var c=u.current;MT(function(){Eb.flush();var f={initial:n,previous:s,current:c};i({eventName:"onDrag",payload:{source:e,location:f}})})},"drag"),drop:o(function(u){var c=u.current,f=u.updatedSourcePayload;Eb.flush(),MT.cancel(),i({eventName:"onDrop",payload:{source:f??e,location:{current:c,previous:s,initial:n}}})},"drop")};return a}o(UNe,"makeDispatch");var OC={isActive:!1};function MG(){return!OC.isActive}o(MG,"canStart");function zNe(t){return t.dataTransfer?t.dataTransfer.setDragImage.bind(t.dataTransfer):null}o(zNe,"getNativeSetDragImage");function VNe(t){var e=t.current,n=t.next;if(e.length!==n.length)return!0;for(var r=0;r<e.length;r++)if(e[r].element!==n[r].element)return!0;return!1}o(VNe,"hasHierarchyChanged");function jNe(t){var e=t.event,n=t.dragType,r=t.getDropTargetsOver,s=t.dispatchEvent;if(!MG())return;var i=WNe({event:e,dragType:n,getDropTargetsOver:r});OC.isActive=!0;var a={current:i};DT({event:e,current:i.dropTargets});var l=UNe({source:n.payload,dispatchEvent:s,initial:i});function u(p){var m=VNe({current:a.current.dropTargets,next:p.dropTargets});a.current=p,m&&l.dragUpdate({current:a.current})}o(u,"updateState");function c(p){var m=zg(p),y=IG(p.target)?RG({x:m.clientX,y:m.clientY}):p.target,b=r({target:y,input:m,source:n.payload,current:a.current.dropTargets});b.length&&(p.preventDefault(),DT({event:p,current:b})),u({dropTargets:b,input:m})}o(c,"onUpdateEvent");function f(){a.current.dropTargets.length&&u({dropTargets:[],input:a.current.input}),l.drop({current:a.current,updatedSourcePayload:null}),h()}o(f,"cancel");function h(){OC.isActive=!1,d()}o(h,"finish");var d=gp.bindAll(window,[{type:"dragover",listener:o(function(m){c(m),l.drag({current:a.current})},"listener")},{type:"dragenter",listener:c},{type:"dragleave",listener:o(function(m){LNe({dragLeave:m})&&(u({input:a.current.input,dropTargets:[]}),n.startedFrom==="external"&&f())},"listener")},{type:"drop",listener:o(function(m){if(a.current={dropTargets:a.current.dropTargets,input:zg(m)},!a.current.dropTargets.length){f();return}m.preventDefault(),DT({event:m,current:a.current.dropTargets}),l.drop({current:a.current,updatedSourcePayload:n.type==="external"?n.getDropPayload(m):null}),h()},"listener")},{type:"dragend",listener:o(function(m){a.current={dropTargets:a.current.dropTargets,input:zg(m)},f()},"listener")}].concat(NG(FNe({onDragEnd:f}))),{capture:!0});l.start({nativeSetDragImage:zNe(e)})}o(jNe,"start");function DT(t){var e,n=t.event,r=t.current,s=(e=r[0])===null||e===void 0?void 0:e.dropEffect;s!=null&&n.dataTransfer&&(n.dataTransfer.dropEffect=s)}o(DT,"setDropEffectOnEvent");function WNe(t){var e=t.event,n=t.dragType,r=t.getDropTargetsOver,s=zg(e);if(n.startedFrom==="external")return{input:s,dropTargets:[]};var i=r({input:s,source:n.payload,target:e.target,current:[]});return{input:s,dropTargets:i}}o(WNe,"getStartLocation");var _8={canStart:MG,start:jNe},NC=new Map;function HNe(t){var e=t.typeKey,n=t.mount,r=NC.get(e);if(r)return r.usageCount++,r;var s={typeKey:e,unmount:n(),usageCount:1};return NC.set(e,s),s}o(HNe,"registerUsage");function qNe(t){var e=HNe(t);return o(function(){e.usageCount--,!(e.usageCount>0)&&(e.unmount(),NC.delete(t.typeKey))},"unregister")}o(qNe,"register$2");function ZO(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(function(){e.forEach(function(s){return s()})},"cleanup")}o(ZO,"combine");function DG(t,e){var n=e.attribute,r=e.value;return t.setAttribute(n,r),function(){return t.removeAttribute(n)}}o(DG,"addAttribute");function w8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}o(w8,"ownKeys$1");function Kl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(n),!0).forEach(function(r){XO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}o(Kl,"_objectSpread$1");function PT(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=GNe(t))||e){n&&(t=n);var r=0,s=o(function(){},"F2");return{s,n:o(function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},"n"),e:o(function(c){throw c},"e2"),f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:o(function(){n=n.call(t)},"s"),n:o(function(){var c=n.next();return a=c.done,c},"n"),e:o(function(c){l=!0,i=c},"e2"),f:o(function(){try{a||n.return==null||n.return()}finally{if(l)throw i}},"f")}}o(PT,"_createForOfIteratorHelper$1");function GNe(t,e){if(t){if(typeof t=="string")return v8(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v8(t,e):void 0}}o(GNe,"_unsupportedIterableToArray$1");function v8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}o(v8,"_arrayLikeToArray$1");function $T(t){return t.slice(0).reverse()}o($T,"copyReverse");function KNe(t){var e=t.typeKey,n=t.defaultDropEffect,r=new WeakMap,s="data-drop-target-for-".concat(e),i="[".concat(s,"]");function a(p){return r.set(p.element,p),function(){return r.delete(p.element)}}o(a,"addToRegistry");function l(p){return ZO(DG(p.element,{attribute:s,value:"true"}),a(p))}o(l,"dropTargetForConsumers");function u(p){var m,y,b,_,S=p.source,v=p.target,k=p.input,C=p.result,I=C===void 0?[]:C;if(v==null)return I;if(!(v instanceof Element))return v instanceof Node?u({source:S,target:v.parentElement,input:k,result:I}):I;var x=v.closest(i);if(x==null)return I;var E=r.get(x);if(E==null)return I;var T={input:k,source:S,element:E.element};if(E.canDrop&&!E.canDrop(T))return u({source:S,target:E.element.parentElement,input:k,result:I});var O=(m=(y=E.getData)===null||y===void 0?void 0:y.call(E,T))!==null&&m!==void 0?m:{},N=(b=(_=E.getDropEffect)===null||_===void 0?void 0:_.call(E,T))!==null&&b!==void 0?b:n,R={data:O,element:E.element,dropEffect:N,isActiveDueToStickiness:!1};return u({source:S,target:E.element.parentElement,input:k,result:[].concat(NG(I),[R])})}o(u,"getActualDropTargets");function c(p){var m=p.eventName,y=p.payload,b=PT(y.location.current.dropTargets),_;try{for(b.s();!(_=b.n()).done;){var S,v=_.value,k=r.get(v.element),C=Kl(Kl({},y),{},{self:v});k==null||(S=k[m])===null||S===void 0||S.call(k,C)}}catch(I){b.e(I)}finally{b.f()}}o(c,"notifyCurrent");var f={onGenerateDragPreview:c,onDrag:c,onDragStart:c,onDrop:c,onDropTargetChange:o(function(m){var y=m.payload,b=new Set(y.location.current.dropTargets.map(function(K){return K.element})),_=new Set,S=PT(y.location.previous.dropTargets),v;try{for(S.s();!(v=S.n()).done;){var k,C=v.value;_.add(C.element);var I=r.get(C.element),x=b.has(C.element),E=Kl(Kl({},y),{},{self:C});if(I==null||(k=I.onDropTargetChange)===null||k===void 0||k.call(I,E),!x){var T;I==null||(T=I.onDragLeave)===null||T===void 0||T.call(I,E)}}}catch(K){S.e(K)}finally{S.f()}var O=PT(y.location.current.dropTargets),N;try{for(O.s();!(N=O.n()).done;){var R,M,B=N.value;if(!_.has(B.element)){var z=Kl(Kl({},y),{},{self:B}),V=r.get(B.element);V==null||(R=V.onDropTargetChange)===null||R===void 0||R.call(V,z),V==null||(M=V.onDragEnter)===null||M===void 0||M.call(V,z)}}}catch(K){O.e(K)}finally{O.f()}},"onDropTargetChange")};function h(p){f[p.eventName](p)}o(h,"dispatchEvent");function d(p){var m=p.source,y=p.target,b=p.input,_=p.current,S=u({source:m,target:y,input:b});if(S.length>=_.length)return S;for(var v=$T(_),k=$T(S),C=[],I=0;I<v.length;I++){var x,E=v[I],T=k[I];if(T!=null){C.push(T);continue}var O=C[I-1],N=v[I-1];if(O?.element!==N?.element)break;var R=r.get(E.element);if(!R)break;var M={input:b,source:m,element:R.element};if(R.canDrop&&!R.canDrop(M)||!((x=R.getIsSticky)!==null&&x!==void 0&&x.call(R,M)))break;C.push(Kl(Kl({},E),{},{isActiveDueToStickiness:!0}))}return $T(C)}return o(d,"getIsOver"),{dropTargetForConsumers:l,getIsOver:d,dispatchEvent:h}}o(KNe,"makeDropTarget");function YNe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=XNe(t))||e){n&&(t=n);var r=0,s=o(function(){},"F");return{s,n:o(function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},"n"),e:o(function(c){throw c},"e"),f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,l=!1;return{s:o(function(){n=n.call(t)},"s"),n:o(function(){var c=n.next();return a=c.done,c},"n"),e:o(function(c){l=!0,i=c},"e"),f:o(function(){try{a||n.return==null||n.return()}finally{if(l)throw i}},"f")}}o(YNe,"_createForOfIteratorHelper");function XNe(t,e){if(t){if(typeof t=="string")return E8(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E8(t,e):void 0}}o(XNe,"_unsupportedIterableToArray");function E8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}o(E8,"_arrayLikeToArray");function x8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}o(x8,"ownKeys");function JNe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x8(Object(n),!0).forEach(function(r){XO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}o(JNe,"_objectSpread");function ZNe(){var t=new Set,e=null;function n(i){e&&(!i.canMonitor||i.canMonitor(e.canMonitorArgs))&&e.active.add(i)}o(n,"tryAddToActive");function r(i){var a=JNe({},i);return t.add(a),n(a),o(function(){t.delete(a),e&&e.active.delete(a)},"cleanup")}o(r,"monitorForConsumers");function s(i){var a=i.eventName,l=i.payload;if(a==="onGenerateDragPreview"){e={canMonitorArgs:{initial:l.location.initial,source:l.source},active:new Set};var u=YNe(t),c;try{for(u.s();!(c=u.n()).done;){var f=c.value;n(f)}}catch(b){u.e(b)}finally{u.f()}}if(e){for(var h=Array.from(e.active),d=0,p=h;d<p.length;d++){var m=p[d];if(e.active.has(m)){var y;(y=m[a])===null||y===void 0||y.call(m,l)}}a==="onDrop"&&(e.active.clear(),e=null)}}return o(s,"dispatchEvent"),{dispatchEvent:s,monitorForConsumers:r}}o(ZNe,"makeMonitor");function QNe(t){var e=t.typeKey,n=t.mount,r=t.dispatchEventToSource,s=t.onPostDispatch,i=t.defaultDropEffect,a=ZNe(),l=KNe({typeKey:e,defaultDropEffect:i});function u(h){r?.(h),l.dispatchEvent(h),a.dispatchEvent(h),s?.(h)}o(u,"dispatchEvent");function c(h){var d=h.event,p=h.dragType;_8.start({event:d,dragType:p,getDropTargetsOver:l.getIsOver,dispatchEvent:u})}o(c,"start");function f(){function h(){var d={canStart:_8.canStart,start:c};return n(d)}return o(h,"mountAdapter"),qNe({typeKey:e,mount:h})}return o(f,"registerUsage"),{registerUsage:f,dropTarget:l.dropTargetForConsumers,monitor:a.monitorForConsumers}}o(QNe,"makeAdapter");var eMe=JO(o(function(){return navigator.userAgent.toLocaleLowerCase().includes("android")},"isAndroid")),tMe="pdnd:android-fallback",S8="text/plain",nMe="text/uri-list",rMe="application/vnd.pdnd",Av=new WeakMap;function sMe(t){return Av.set(t.element,t),o(function(){Av.delete(t.element)},"cleanup")}o(sMe,"addToRegistry");var T8=INe(),QO=QNe({typeKey:"element",defaultDropEffect:"move",mount:o(function(e){return ZO(T8.bindEvents(),gp.bind(document,{type:"dragstart",listener:o(function(r){var s,i,a,l,u,c;if(e.canStart(r)&&!r.defaultPrevented&&r.dataTransfer){var f=r.target;if(!(f instanceof HTMLElement))return null;var h=Av.get(f);if(!h)return null;var d=zg(r),p={element:h.element,dragHandle:(s=h.dragHandle)!==null&&s!==void 0?s:null,input:d};if(h.canDrag&&!h.canDrag(p))return r.preventDefault(),null;if(h.dragHandle){var m=RG({x:d.clientX,y:d.clientY});if(!h.dragHandle.contains(m))return r.preventDefault(),null}var y=(i=(a=h.getInitialDataForExternal)===null||a===void 0?void 0:a.call(h,p))!==null&&i!==void 0?i:null;if(y)for(var b=0,_=Object.entries(y);b<_.length;b++){var S=kG(_[b],2),v=S[0],k=S[1];r.dataTransfer.setData(v,k??"")}eMe()&&!r.dataTransfer.types.includes(S8)&&!r.dataTransfer.types.includes(nMe)&&r.dataTransfer.setData(S8,tMe),r.dataTransfer.setData(rMe,"");var C={element:h.element,dragHandle:(l=h.dragHandle)!==null&&l!==void 0?l:null,data:(u=(c=h.getInitialData)===null||c===void 0?void 0:c.call(h,p))!==null&&u!==void 0?u:{}},I={type:"element",payload:C,startedFrom:"internal"};e.start({event:r,dragType:I})}},"listener")}))},"mount"),dispatchEventToSource:o(function(e){var n,r,s=e.eventName,i=e.payload;(n=Av.get(i.source.element))===null||n===void 0||(r=n[s])===null||r===void 0||r.call(n,i)},"dispatchEventToSource"),onPostDispatch:T8.getOnPostDispatch()}),w7e=QO.dropTarget,iMe=QO.monitor;function v7e(t){return ZO(QO.registerUsage(),sMe(t),DG(t.element,{attribute:"draggable",value:"true"}))}o(v7e,"draggable");function oMe(){return{x:0,y:0}}o(oMe,"defaultOffset");function E7e(t){var e=t.render,n=t.nativeSetDragImage,r=t.getOffset,s=r===void 0?oMe:r,i=document.createElement("div");Object.assign(i.style,{position:"fixed",top:0,left:0,zIndex:OG,pointerEvents:"none"}),document.body.append(i);var a=e({container:i});queueMicrotask(function(){var c=s({container:i});if(Cx()){var f=i.getBoundingClientRect();if(f.width===0)return;i.style.left="-".concat(f.width-1e-4,"px")}n?.(i,c.x,c.y)});function l(){u(),a?.(),document.body.removeChild(i)}o(l,"cleanup");var u=iMe({onDragStart:l,onDrop:l})}o(E7e,"setCustomNativeDragPreview");var aMe=(t=>(t.PENDING="pending",t.IN_PROGRESS="in_progress",t.COMPLETED="completed",t.PAUSED="paused",t.ERROR="error",t.CANCELLED="cancelled",t))(aMe||{});const{entries:PG,setPrototypeOf:k8,isFrozen:lMe,getPrototypeOf:uMe,getOwnPropertyDescriptor:cMe}=Object;let{freeze:vs,seal:Fi,create:$G}=Object,{apply:MC,construct:DC}=typeof Reflect<"u"&&Reflect;vs||(vs=o(function(e){return e},"freeze"));Fi||(Fi=o(function(e){return e},"seal"));MC||(MC=o(function(e,n,r){return e.apply(n,r)},"apply"));DC||(DC=o(function(e,n){return new e(...n)},"construct"));const xb=Es(Array.prototype.forEach),fMe=Es(Array.prototype.lastIndexOf),A8=Es(Array.prototype.pop),Dm=Es(Array.prototype.push),hMe=Es(Array.prototype.splice),y_=Es(String.prototype.toLowerCase),LT=Es(String.prototype.toString),C8=Es(String.prototype.match),Pm=Es(String.prototype.replace),dMe=Es(String.prototype.indexOf),pMe=Es(String.prototype.trim),Hi=Es(Object.prototype.hasOwnProperty),Qr=Es(RegExp.prototype.test),$m=mMe(TypeError);function Es(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return MC(t,e,r)}}o(Es,"unapply");function mMe(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return DC(t,n)}}o(mMe,"unconstruct");function ct(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y_;k8&&k8(t,null);let r=e.length;for(;r--;){let s=e[r];if(typeof s=="string"){const i=n(s);i!==s&&(lMe(e)||(e[r]=i),s=i)}t[s]=!0}return t}o(ct,"addToSet");function gMe(t){for(let e=0;e<t.length;e++)Hi(t,e)||(t[e]=null);return t}o(gMe,"cleanArray");function Dc(t){const e=$G(null);for(const[n,r]of PG(t))Hi(t,n)&&(Array.isArray(r)?e[n]=gMe(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Dc(r):e[n]=r);return e}o(Dc,"clone$2");function Lm(t,e){for(;t!==null;){const r=cMe(t,e);if(r){if(r.get)return Es(r.get);if(typeof r.value=="function")return Es(r.value)}t=uMe(t)}function n(){return null}return o(n,"fallbackValue"),n}o(Lm,"lookupGetter");const I8=vs(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),FT=vs(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),BT=vs(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),yMe=vs(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),UT=vs(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),bMe=vs(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),R8=vs(["#text"]),O8=vs(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),zT=vs(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),N8=vs(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Sb=vs(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),_Me=Fi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),wMe=Fi(/<%[\w\W]*|[\w\W]*%>/gm),vMe=Fi(/\$\{[\w\W]*/gm),EMe=Fi(/^data-[\-\w.\u00B7-\uFFFF]+$/),xMe=Fi(/^aria-[\-\w]+$/),LG=Fi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),SMe=Fi(/^(?:\w+script|data):/i),TMe=Fi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),FG=Fi(/^html$/i),kMe=Fi(/^[a-z][.\w]*(-[.\w]+)+$/i);var M8=Object.freeze({__proto__:null,ARIA_ATTR:xMe,ATTR_WHITESPACE:TMe,CUSTOM_ELEMENT:kMe,DATA_ATTR:EMe,DOCTYPE_NAME:FG,ERB_EXPR:wMe,IS_ALLOWED_URI:LG,IS_SCRIPT_OR_DATA:SMe,MUSTACHE_EXPR:_Me,TMPLIT_EXPR:vMe});const Fm={element:1,text:3,progressingInstruction:7,comment:8,document:9},AMe=o(function(){return typeof window>"u"?null:window},"getGlobal"),CMe=o(function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(r=n.getAttribute(s));const i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},"_createTrustedTypesPolicy"),D8=o(function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},"_createHooksMap");function BG(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:AMe();const e=o(Ne=>BG(Ne),"DOMPurify");if(e.version="3.2.5",e.removed=[],!t||!t.document||t.document.nodeType!==Fm.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,s=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:a,Node:l,Element:u,NodeFilter:c,NamedNodeMap:f=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:d,trustedTypes:p}=t,m=u.prototype,y=Lm(m,"cloneNode"),b=Lm(m,"remove"),_=Lm(m,"nextSibling"),S=Lm(m,"childNodes"),v=Lm(m,"parentNode");if(typeof a=="function"){const Ne=n.createElement("template");Ne.content&&Ne.content.ownerDocument&&(n=Ne.content.ownerDocument)}let k,C="";const{implementation:I,createNodeIterator:x,createDocumentFragment:E,getElementsByTagName:T}=n,{importNode:O}=r;let N=D8();e.isSupported=typeof PG=="function"&&typeof v=="function"&&I&&I.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:R,ERB_EXPR:M,TMPLIT_EXPR:B,DATA_ATTR:z,ARIA_ATTR:V,IS_SCRIPT_OR_DATA:K,ATTR_WHITESPACE:ee,CUSTOM_ELEMENT:Z}=M8;let{IS_ALLOWED_URI:ue}=M8,ae=null;const he=ct({},[...I8,...FT,...BT,...UT,...R8]);let ve=null;const lt=ct({},[...O8,...zT,...N8,...Sb]);let Re=Object.seal($G(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ke=null,Mt=null,Xr=!0,As=!0,Ln=!1,zs=!0,L=!1,F=!0,X=!1,W=!1,G=!1,te=!1,le=!1,re=!1,D=!0,$=!1;const H="user-content-";let J=!0,me=!1,ye={},Te=null;const $e=ct({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ut=null;const qn=ct({},["audio","video","img","source","image","track"]);let Rn=null;const Jr=ct({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),On="http://www.w3.org/1998/Math/MathML",Vs="http://www.w3.org/2000/svg",Zr="http://www.w3.org/1999/xhtml";let ln=Zr,Cr=!1,$l=null;const im=ct({},[On,Vs,Zr],LT);let mc=ct({},["mi","mo","mn","ms","mtext"]),yh=ct({},["annotation-xml"]);const gc=ct({},["title","style","font","a","script"]);let Ma=null;const om=["application/xhtml+xml","text/html"],Ll="text/html";let Nn=null,No=null;const v1=n.createElement("form"),Fl=o(function(U){return U instanceof RegExp||U instanceof Function},"isRegexOrFunction"),bh=o(function(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(No&&No===U)){if((!U||typeof U!="object")&&(U={}),U=Dc(U),Ma=om.indexOf(U.PARSER_MEDIA_TYPE)===-1?Ll:U.PARSER_MEDIA_TYPE,Nn=Ma==="application/xhtml+xml"?LT:y_,ae=Hi(U,"ALLOWED_TAGS")?ct({},U.ALLOWED_TAGS,Nn):he,ve=Hi(U,"ALLOWED_ATTR")?ct({},U.ALLOWED_ATTR,Nn):lt,$l=Hi(U,"ALLOWED_NAMESPACES")?ct({},U.ALLOWED_NAMESPACES,LT):im,Rn=Hi(U,"ADD_URI_SAFE_ATTR")?ct(Dc(Jr),U.ADD_URI_SAFE_ATTR,Nn):Jr,ut=Hi(U,"ADD_DATA_URI_TAGS")?ct(Dc(qn),U.ADD_DATA_URI_TAGS,Nn):qn,Te=Hi(U,"FORBID_CONTENTS")?ct({},U.FORBID_CONTENTS,Nn):$e,Ke=Hi(U,"FORBID_TAGS")?ct({},U.FORBID_TAGS,Nn):{},Mt=Hi(U,"FORBID_ATTR")?ct({},U.FORBID_ATTR,Nn):{},ye=Hi(U,"USE_PROFILES")?U.USE_PROFILES:!1,Xr=U.ALLOW_ARIA_ATTR!==!1,As=U.ALLOW_DATA_ATTR!==!1,Ln=U.ALLOW_UNKNOWN_PROTOCOLS||!1,zs=U.ALLOW_SELF_CLOSE_IN_ATTR!==!1,L=U.SAFE_FOR_TEMPLATES||!1,F=U.SAFE_FOR_XML!==!1,X=U.WHOLE_DOCUMENT||!1,te=U.RETURN_DOM||!1,le=U.RETURN_DOM_FRAGMENT||!1,re=U.RETURN_TRUSTED_TYPE||!1,G=U.FORCE_BODY||!1,D=U.SANITIZE_DOM!==!1,$=U.SANITIZE_NAMED_PROPS||!1,J=U.KEEP_CONTENT!==!1,me=U.IN_PLACE||!1,ue=U.ALLOWED_URI_REGEXP||LG,ln=U.NAMESPACE||Zr,mc=U.MATHML_TEXT_INTEGRATION_POINTS||mc,yh=U.HTML_INTEGRATION_POINTS||yh,Re=U.CUSTOM_ELEMENT_HANDLING||{},U.CUSTOM_ELEMENT_HANDLING&&Fl(U.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Re.tagNameCheck=U.CUSTOM_ELEMENT_HANDLING.tagNameCheck),U.CUSTOM_ELEMENT_HANDLING&&Fl(U.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Re.attributeNameCheck=U.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),U.CUSTOM_ELEMENT_HANDLING&&typeof U.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Re.allowCustomizedBuiltInElements=U.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),L&&(As=!1),le&&(te=!0),ye&&(ae=ct({},R8),ve=[],ye.html===!0&&(ct(ae,I8),ct(ve,O8)),ye.svg===!0&&(ct(ae,FT),ct(ve,zT),ct(ve,Sb)),ye.svgFilters===!0&&(ct(ae,BT),ct(ve,zT),ct(ve,Sb)),ye.mathMl===!0&&(ct(ae,UT),ct(ve,N8),ct(ve,Sb))),U.ADD_TAGS&&(ae===he&&(ae=Dc(ae)),ct(ae,U.ADD_TAGS,Nn)),U.ADD_ATTR&&(ve===lt&&(ve=Dc(ve)),ct(ve,U.ADD_ATTR,Nn)),U.ADD_URI_SAFE_ATTR&&ct(Rn,U.ADD_URI_SAFE_ATTR,Nn),U.FORBID_CONTENTS&&(Te===$e&&(Te=Dc(Te)),ct(Te,U.FORBID_CONTENTS,Nn)),J&&(ae["#text"]=!0),X&&ct(ae,["html","head","body"]),ae.table&&(ct(ae,["tbody"]),delete Ke.tbody),U.TRUSTED_TYPES_POLICY){if(typeof U.TRUSTED_TYPES_POLICY.createHTML!="function")throw $m('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof U.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw $m('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=U.TRUSTED_TYPES_POLICY,C=k.createHTML("")}else k===void 0&&(k=CMe(p,s)),k!==null&&typeof C=="string"&&(C=k.createHTML(""));vs&&vs(U),No=U}},"_parseConfig"),Qn=ct({},[...FT,...BT,...yMe]),am=ct({},[...UT,...bMe]),yc=o(function(U){let de=v(U);(!de||!de.tagName)&&(de={namespaceURI:ln,tagName:"template"});const Ce=y_(U.tagName),zt=y_(de.tagName);return $l[U.namespaceURI]?U.namespaceURI===Vs?de.namespaceURI===Zr?Ce==="svg":de.namespaceURI===On?Ce==="svg"&&(zt==="annotation-xml"||mc[zt]):!!Qn[Ce]:U.namespaceURI===On?de.namespaceURI===Zr?Ce==="math":de.namespaceURI===Vs?Ce==="math"&&yh[zt]:!!am[Ce]:U.namespaceURI===Zr?de.namespaceURI===Vs&&!yh[zt]||de.namespaceURI===On&&!mc[zt]?!1:!am[Ce]&&(gc[Ce]||!Qn[Ce]):!!(Ma==="application/xhtml+xml"&&$l[U.namespaceURI]):!1},"_checkValidNamespace"),Ir=o(function(U){Dm(e.removed,{element:U});try{v(U).removeChild(U)}catch{b(U)}},"_forceRemove"),_h=o(function(U,de){try{Dm(e.removed,{attribute:de.getAttributeNode(U),from:de})}catch{Dm(e.removed,{attribute:null,from:de})}if(de.removeAttribute(U),U==="is")if(te||le)try{Ir(de)}catch{}else try{de.setAttribute(U,"")}catch{}},"_removeAttribute"),E1=o(function(U){let de=null,Ce=null;if(G)U="<remove></remove>"+U;else{const vn=C8(U,/^[\r\n\t ]+/);Ce=vn&&vn[0]}Ma==="application/xhtml+xml"&&ln===Zr&&(U='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+U+"</body></html>");const zt=k?k.createHTML(U):U;if(ln===Zr)try{de=new d().parseFromString(zt,Ma)}catch{}if(!de||!de.documentElement){de=I.createDocument(ln,"template",null);try{de.documentElement.innerHTML=Cr?C:zt}catch{}}const er=de.body||de.documentElement;return U&&Ce&&er.insertBefore(n.createTextNode(Ce),er.childNodes[0]||null),ln===Zr?T.call(de,X?"html":"body")[0]:X?de.documentElement:er},"_initDocument"),Da=o(function(U){return x.call(U.ownerDocument||U,U,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},"_createNodeIterator"),lm=o(function(U){return U instanceof h&&(typeof U.nodeName!="string"||typeof U.textContent!="string"||typeof U.removeChild!="function"||!(U.attributes instanceof f)||typeof U.removeAttribute!="function"||typeof U.setAttribute!="function"||typeof U.namespaceURI!="string"||typeof U.insertBefore!="function"||typeof U.hasChildNodes!="function")},"_isClobbered"),x1=o(function(U){return typeof l=="function"&&U instanceof l},"_isNode");function js(Ne,U,de){xb(Ne,Ce=>{Ce.call(e,U,de,No)})}o(js,"_executeHooks");const S1=o(function(U){let de=null;if(js(N.beforeSanitizeElements,U,null),lm(U))return Ir(U),!0;const Ce=Nn(U.nodeName);if(js(N.uponSanitizeElement,U,{tagName:Ce,allowedTags:ae}),U.hasChildNodes()&&!x1(U.firstElementChild)&&Qr(/<[/\w!]/g,U.innerHTML)&&Qr(/<[/\w!]/g,U.textContent)||U.nodeType===Fm.progressingInstruction||F&&U.nodeType===Fm.comment&&Qr(/<[/\w]/g,U.data))return Ir(U),!0;if(!ae[Ce]||Ke[Ce]){if(!Ke[Ce]&&bc(Ce)&&(Re.tagNameCheck instanceof RegExp&&Qr(Re.tagNameCheck,Ce)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(Ce)))return!1;if(J&&!Te[Ce]){const zt=v(U)||U.parentNode,er=S(U)||U.childNodes;if(er&&zt){const vn=er.length;for(let mr=vn-1;mr>=0;--mr){const Cs=y(er[mr],!0);Cs.__removalCount=(U.__removalCount||0)+1,zt.insertBefore(Cs,_(U))}}}return Ir(U),!0}return U instanceof u&&!yc(U)||(Ce==="noscript"||Ce==="noembed"||Ce==="noframes")&&Qr(/<\/no(script|embed|frames)/i,U.innerHTML)?(Ir(U),!0):(L&&U.nodeType===Fm.text&&(de=U.textContent,xb([R,M,B],zt=>{de=Pm(de,zt," ")}),U.textContent!==de&&(Dm(e.removed,{element:U.cloneNode()}),U.textContent=de)),js(N.afterSanitizeElements,U,null),!1)},"_sanitizeElements"),wh=o(function(U,de,Ce){if(D&&(de==="id"||de==="name")&&(Ce in n||Ce in v1))return!1;if(!(As&&!Mt[de]&&Qr(z,de))){if(!(Xr&&Qr(V,de))){if(!ve[de]||Mt[de]){if(!(bc(U)&&(Re.tagNameCheck instanceof RegExp&&Qr(Re.tagNameCheck,U)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(U))&&(Re.attributeNameCheck instanceof RegExp&&Qr(Re.attributeNameCheck,de)||Re.attributeNameCheck instanceof Function&&Re.attributeNameCheck(de))||de==="is"&&Re.allowCustomizedBuiltInElements&&(Re.tagNameCheck instanceof RegExp&&Qr(Re.tagNameCheck,Ce)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(Ce))))return!1}else if(!Rn[de]){if(!Qr(ue,Pm(Ce,ee,""))){if(!((de==="src"||de==="xlink:href"||de==="href")&&U!=="script"&&dMe(Ce,"data:")===0&&ut[U])){if(!(Ln&&!Qr(K,Pm(Ce,ee,"")))){if(Ce)return!1}}}}}}return!0},"_isValidAttribute"),bc=o(function(U){return U!=="annotation-xml"&&C8(U,Z)},"_isBasicCustomElement"),zi=o(function(U){js(N.beforeSanitizeAttributes,U,null);const{attributes:de}=U;if(!de||lm(U))return;const Ce={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ve,forceKeepAttr:void 0};let zt=de.length;for(;zt--;){const er=de[zt],{name:vn,namespaceURI:mr,value:Cs}=er,Vi=Nn(vn);let pn=vn==="value"?Cs:pMe(Cs);if(Ce.attrName=Vi,Ce.attrValue=pn,Ce.keepAttr=!0,Ce.forceKeepAttr=void 0,js(N.uponSanitizeAttribute,U,Ce),pn=Ce.attrValue,$&&(Vi==="id"||Vi==="name")&&(_h(vn,U),pn=H+pn),F&&Qr(/((--!?|])>)|<\/(style|title)/i,pn)){_h(vn,U);continue}if(Ce.forceKeepAttr||(_h(vn,U),!Ce.keepAttr))continue;if(!zs&&Qr(/\/>/i,pn)){_h(vn,U);continue}L&&xb([R,M,B],k1=>{pn=Pm(pn,k1," ")});const vh=Nn(U.nodeName);if(wh(vh,Vi,pn)){if(k&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!mr)switch(p.getAttributeType(vh,Vi)){case"TrustedHTML":{pn=k.createHTML(pn);break}case"TrustedScriptURL":{pn=k.createScriptURL(pn);break}}try{mr?U.setAttributeNS(mr,vn,pn):U.setAttribute(vn,pn),lm(U)?Ir(U):A8(e.removed)}catch{}}}js(N.afterSanitizeAttributes,U,null)},"_sanitizeAttributes"),T1=o(function Ne(U){let de=null;const Ce=Da(U);for(js(N.beforeSanitizeShadowDOM,U,null);de=Ce.nextNode();)js(N.uponSanitizeShadowNode,de,null),S1(de),zi(de),de.content instanceof i&&Ne(de.content);js(N.afterSanitizeShadowDOM,U,null)},"_sanitizeShadowDOM");return e.sanitize=function(Ne){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},de=null,Ce=null,zt=null,er=null;if(Cr=!Ne,Cr&&(Ne="<!-->"),typeof Ne!="string"&&!x1(Ne))if(typeof Ne.toString=="function"){if(Ne=Ne.toString(),typeof Ne!="string")throw $m("dirty is not a string, aborting")}else throw $m("toString is not a function");if(!e.isSupported)return Ne;if(W||bh(U),e.removed=[],typeof Ne=="string"&&(me=!1),me){if(Ne.nodeName){const Cs=Nn(Ne.nodeName);if(!ae[Cs]||Ke[Cs])throw $m("root node is forbidden and cannot be sanitized in-place")}}else if(Ne instanceof l)de=E1("<!---->"),Ce=de.ownerDocument.importNode(Ne,!0),Ce.nodeType===Fm.element&&Ce.nodeName==="BODY"||Ce.nodeName==="HTML"?de=Ce:de.appendChild(Ce);else{if(!te&&!L&&!X&&Ne.indexOf("<")===-1)return k&&re?k.createHTML(Ne):Ne;if(de=E1(Ne),!de)return te?null:re?C:""}de&&G&&Ir(de.firstChild);const vn=Da(me?Ne:de);for(;zt=vn.nextNode();)S1(zt),zi(zt),zt.content instanceof i&&T1(zt.content);if(me)return Ne;if(te){if(le)for(er=E.call(de.ownerDocument);de.firstChild;)er.appendChild(de.firstChild);else er=de;return(ve.shadowroot||ve.shadowrootmode)&&(er=O.call(r,er,!0)),er}let mr=X?de.outerHTML:de.innerHTML;return X&&ae["!doctype"]&&de.ownerDocument&&de.ownerDocument.doctype&&de.ownerDocument.doctype.name&&Qr(FG,de.ownerDocument.doctype.name)&&(mr="<!DOCTYPE "+de.ownerDocument.doctype.name+`>
`+mr),L&&xb([R,M,B],Cs=>{mr=Pm(mr,Cs," ")}),k&&re?k.createHTML(mr):mr},e.setConfig=function(){let Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};bh(Ne),W=!0},e.clearConfig=function(){No=null,W=!1},e.isValidAttribute=function(Ne,U,de){No||bh({});const Ce=Nn(Ne),zt=Nn(U);return wh(Ce,zt,de)},e.addHook=function(Ne,U){typeof U=="function"&&Dm(N[Ne],U)},e.removeHook=function(Ne,U){if(U!==void 0){const de=fMe(N[Ne],U);return de===-1?void 0:hMe(N[Ne],de,1)[0]}return A8(N[Ne])},e.removeHooks=function(Ne){N[Ne]=[]},e.removeAllHooks=function(){N=D8()},e}o(BG,"createDOMPurify");var x7e=BG();function eN(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}o(eN,"_getDefaults");let sh=eN();function UG(t){sh=t}o(UG,"changeDefaults");const Vg={exec:o(()=>null,"exec")};function Ot(t,e=""){let n=typeof t=="string"?t:t.source;const r={replace:o((s,i)=>{let a=typeof i=="string"?i:i.source;return a=a.replace(ds.caret,"$1"),n=n.replace(s,a),r},"replace"),getRegex:o(()=>new RegExp(n,e),"getRegex")};return r}o(Ot,"edit");const ds={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:o(t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),"listItemRegex"),nextBulletRegex:o(t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),"nextBulletRegex"),hrRegex:o(t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),"hrRegex"),fencesBeginRegex:o(t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),"fencesBeginRegex"),headingBeginRegex:o(t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),"headingBeginRegex"),htmlBeginRegex:o(t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i"),"htmlBeginRegex")},IMe=/^(?:[ \t]*(?:\n|$))+/,RMe=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,OMe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,r1=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,NMe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,tN=/(?:[*+-]|\d{1,9}[.)])/,zG=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,VG=Ot(zG).replace(/bull/g,tN).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),MMe=Ot(zG).replace(/bull/g,tN).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),nN=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,DMe=/^[^\n]+/,rN=/(?!\s*\])(?:\\.|[^\[\]\\])+/,PMe=Ot(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",rN).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),$Me=Ot(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,tN).getRegex(),Ix="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",sN=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,LMe=Ot("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",sN).replace("tag",Ix).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),jG=Ot(nN).replace("hr",r1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ix).getRegex(),FMe=Ot(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",jG).getRegex(),iN={blockquote:FMe,code:RMe,def:PMe,fences:OMe,heading:NMe,hr:r1,html:LMe,lheading:VG,list:$Me,newline:IMe,paragraph:jG,table:Vg,text:DMe},P8=Ot("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",r1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ix).getRegex(),BMe={...iN,lheading:MMe,table:P8,paragraph:Ot(nN).replace("hr",r1).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",P8).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ix).getRegex()},UMe={...iN,html:Ot(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",sN).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Vg,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ot(nN).replace("hr",r1).replace("heading",` *#{1,6} *[^
]`).replace("lheading",VG).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},zMe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,VMe=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,WG=/^( {2,}|\\)\n(?!\s*$)/,jMe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Rx=/[\p{P}\p{S}]/u,oN=/[\s\p{P}\p{S}]/u,HG=/[^\s\p{P}\p{S}]/u,WMe=Ot(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,oN).getRegex(),qG=/(?!~)[\p{P}\p{S}]/u,HMe=/(?!~)[\s\p{P}\p{S}]/u,qMe=/(?:[^\s\p{P}\p{S}]|~)/u,GMe=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,GG=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,KMe=Ot(GG,"u").replace(/punct/g,Rx).getRegex(),YMe=Ot(GG,"u").replace(/punct/g,qG).getRegex(),KG="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",XMe=Ot(KG,"gu").replace(/notPunctSpace/g,HG).replace(/punctSpace/g,oN).replace(/punct/g,Rx).getRegex(),JMe=Ot(KG,"gu").replace(/notPunctSpace/g,qMe).replace(/punctSpace/g,HMe).replace(/punct/g,qG).getRegex(),ZMe=Ot("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,HG).replace(/punctSpace/g,oN).replace(/punct/g,Rx).getRegex(),QMe=Ot(/\\(punct)/,"gu").replace(/punct/g,Rx).getRegex(),eDe=Ot(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),tDe=Ot(sN).replace("(?:-->|$)","-->").getRegex(),nDe=Ot("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",tDe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Cv=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,rDe=Ot(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Cv).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),YG=Ot(/^!?\[(label)\]\[(ref)\]/).replace("label",Cv).replace("ref",rN).getRegex(),XG=Ot(/^!?\[(ref)\](?:\[\])?/).replace("ref",rN).getRegex(),sDe=Ot("reflink|nolink(?!\\()","g").replace("reflink",YG).replace("nolink",XG).getRegex(),aN={_backpedal:Vg,anyPunctuation:QMe,autolink:eDe,blockSkip:GMe,br:WG,code:VMe,del:Vg,emStrongLDelim:KMe,emStrongRDelimAst:XMe,emStrongRDelimUnd:ZMe,escape:zMe,link:rDe,nolink:XG,punctuation:WMe,reflink:YG,reflinkSearch:sDe,tag:nDe,text:jMe,url:Vg},iDe={...aN,link:Ot(/^!?\[(label)\]\((.*?)\)/).replace("label",Cv).getRegex(),reflink:Ot(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Cv).getRegex()},PC={...aN,emStrongRDelimAst:JMe,emStrongLDelim:YMe,url:Ot(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},oDe={...PC,br:Ot(WG).replace("{2,}","*").getRegex(),text:Ot(PC.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Tb={normal:iN,gfm:BMe,pedantic:UMe},Bm={normal:aN,gfm:PC,breaks:oDe,pedantic:iDe},aDe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$8=o(t=>aDe[t],"getEscapeReplacement");function Fo(t,e){if(e){if(ds.escapeTest.test(t))return t.replace(ds.escapeReplace,$8)}else if(ds.escapeTestNoEncode.test(t))return t.replace(ds.escapeReplaceNoEncode,$8);return t}o(Fo,"escape$2");function L8(t){try{t=encodeURI(t).replace(ds.percentDecode,"%")}catch{return null}return t}o(L8,"cleanUrl");function F8(t,e){const n=t.replace(ds.findPipe,(i,a,l)=>{let u=!1,c=a;for(;--c>=0&&l[c]==="\\";)u=!u;return u?"|":" |"}),r=n.split(ds.splitPipe);let s=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(ds.slashPipe,"|");return r}o(F8,"splitCells");function Um(t,e,n){const r=t.length;if(r===0)return"";let s=0;for(;s<r&&t.charAt(r-s-1)===e;)s++;return t.slice(0,r-s)}o(Um,"rtrim");function lDe(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}o(lDe,"findClosingBracket");function B8(t,e,n,r,s){const i=e.href,a=e.title||null,l=t[1].replace(s.other.outputLinkReplace,"$1");r.state.inLink=!0;const u={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:i,title:a,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,u}o(B8,"outputLink");function uDe(t,e,n){const r=t.match(n.other.indentCodeCompensation);if(r===null)return e;const s=r[1];return e.split(`
`).map(i=>{const a=i.match(n.other.beginningSpace);if(a===null)return i;const[l]=a;return l.length>=s.length?i.slice(s.length):i}).join(`
`)}o(uDe,"indentCodeCompensation");class Iv{static{o(this,"_Tokenizer")}options;rules;lexer;constructor(e){this.options=e||sh}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Um(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],s=uDe(r,n[3]||"",this.rules);return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:s}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(this.rules.other.endingHash.test(r)){const s=Um(r,"#");(this.options.pedantic||!s||this.rules.other.endingSpaceChar.test(s))&&(r=s.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:Um(n[0],`
`)}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let r=Um(n[0],`
`).split(`
`),s="",i="";const a=[];for(;r.length>0;){let l=!1;const u=[];let c;for(c=0;c<r.length;c++)if(this.rules.other.blockquoteStart.test(r[c]))u.push(r[c]),l=!0;else if(!l)u.push(r[c]);else break;r=r.slice(c);const f=u.join(`
`),h=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");s=s?`${s}
${f}`:f,i=i?`${i}
${h}`:h;const d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,a,!0),this.lexer.state.top=d,r.length===0)break;const p=a.at(-1);if(p?.type==="code")break;if(p?.type==="blockquote"){const m=p,y=m.raw+`
`+r.join(`
`),b=this.blockquote(y);a[a.length-1]=b,s=s.substring(0,s.length-m.raw.length)+b.raw,i=i.substring(0,i.length-m.text.length)+b.text;break}else if(p?.type==="list"){const m=p,y=m.raw+`
`+r.join(`
`),b=this.list(y);a[a.length-1]=b,s=s.substring(0,s.length-p.raw.length)+b.raw,i=i.substring(0,i.length-m.raw.length)+b.raw,r=y.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:s,tokens:a,text:i}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim();const s=r.length>1,i={type:"list",raw:"",ordered:s,start:s?+r.slice(0,-1):"",loose:!1,items:[]};r=s?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=s?r:"[*+-]");const a=this.rules.other.listItemRegex(r);let l=!1;for(;e;){let c=!1,f="",h="";if(!(n=a.exec(e))||this.rules.block.hr.test(e))break;f=n[0],e=e.substring(f.length);let d=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,S=>" ".repeat(3*S.length)),p=e.split(`
`,1)[0],m=!d.trim(),y=0;if(this.options.pedantic?(y=2,h=d.trimStart()):m?y=n[1].length+1:(y=n[2].search(this.rules.other.nonSpaceChar),y=y>4?1:y,h=d.slice(y),y+=n[1].length),m&&this.rules.other.blankLine.test(p)&&(f+=p+`
`,e=e.substring(p.length+1),c=!0),!c){const S=this.rules.other.nextBulletRegex(y),v=this.rules.other.hrRegex(y),k=this.rules.other.fencesBeginRegex(y),C=this.rules.other.headingBeginRegex(y),I=this.rules.other.htmlBeginRegex(y);for(;e;){const x=e.split(`
`,1)[0];let E;if(p=x,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),E=p):E=p.replace(this.rules.other.tabCharGlobal,"    "),k.test(p)||C.test(p)||I.test(p)||S.test(p)||v.test(p))break;if(E.search(this.rules.other.nonSpaceChar)>=y||!p.trim())h+=`
`+E.slice(y);else{if(m||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||k.test(d)||C.test(d)||v.test(d))break;h+=`
`+p}!m&&!p.trim()&&(m=!0),f+=x+`
`,e=e.substring(x.length+1),d=E.slice(y)}}i.loose||(l?i.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(l=!0));let b=null,_;this.options.gfm&&(b=this.rules.other.listIsTask.exec(h),b&&(_=b[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:f,task:!!b,checked:_,loose:!1,text:h,tokens:[]}),i.raw+=f}const u=i.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let c=0;c<i.items.length;c++)if(this.lexer.state.top=!1,i.items[c].tokens=this.lexer.blockTokens(i.items[c].text,[]),!i.loose){const f=i.items[c].tokens.filter(d=>d.type==="space"),h=f.length>0&&f.some(d=>this.rules.other.anyLine.test(d.raw));i.loose=h}if(i.loose)for(let c=0;c<i.items.length;c++)i.items[c].loose=!0;return i}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),s=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:s,title:i}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;const r=F8(n[1]),s=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=n[3]?.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===s.length){for(const l of s)this.rules.other.tableAlignRight.test(l)?a.align.push("right"):this.rules.other.tableAlignCenter.test(l)?a.align.push("center"):this.rules.other.tableAlignLeft.test(l)?a.align.push("left"):a.align.push(null);for(let l=0;l<r.length;l++)a.header.push({text:r[l],tokens:this.lexer.inline(r[l]),header:!0,align:a.align[l]});for(const l of i)a.rows.push(F8(l,a.header.length).map((u,c)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:a.align[c]})));return a}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;const a=Um(r.slice(0,-1),"\\");if((r.length-a.length)%2===0)return}else{const a=lDe(n[2],"()");if(a===-2)return;if(a>-1){const u=(n[0].indexOf("!")===0?5:4)+n[1].length+a;n[2]=n[2].substring(0,a),n[0]=n[0].substring(0,u).trim(),n[3]=""}}let s=n[2],i="";if(this.options.pedantic){const a=this.rules.other.pedanticHrefTitle.exec(s);a&&(s=a[1],i=a[3])}else i=n[3]?n[3].slice(1,-1):"";return s=s.trim(),this.rules.other.startAngleBracket.test(s)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?s=s.slice(1):s=s.slice(1,-1)),B8(n,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const s=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=n[s.toLowerCase()];if(!i){const a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return B8(r,i,r[0],this.lexer,this.rules)}}emStrong(e,n,r=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!s||s[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(s[1]||s[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const a=[...s[0]].length-1;let l,u,c=a,f=0;const h=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,n=n.slice(-1*e.length+a);(s=h.exec(n))!=null;){if(l=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!l)continue;if(u=[...l].length,s[3]||s[4]){c+=u;continue}else if((s[5]||s[6])&&a%3&&!((a+u)%3)){f+=u;continue}if(c-=u,c>0)continue;u=Math.min(u,u+c+f);const d=[...s[0]][0].length,p=e.slice(0,a+s.index+d+u);if(Math.min(a,u)%2){const y=p.slice(1,-1);return{type:"em",raw:p,text:y,tokens:this.lexer.inlineTokens(y)}}const m=p.slice(2,-2);return{type:"strong",raw:p,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(this.rules.other.newLineCharGlobal," ");const s=this.rules.other.nonSpaceChar.test(r),i=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return s&&i&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let r,s;return n[2]==="@"?(r=n[1],s="mailto:"+r):(r=n[1],s=r),{type:"link",raw:n[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let n;if(n=this.rules.inline.url.exec(e)){let r,s;if(n[2]==="@")r=n[0],s="mailto:"+r;else{let i;do i=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(i!==n[0]);r=n[0],n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){const r=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:r}}}}class Ti{static{o(this,"_Lexer")}tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||sh,this.options.tokenizer=this.options.tokenizer||new Iv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:ds,block:Tb.normal,inline:Bm.normal};this.options.pedantic?(n.block=Tb.pedantic,n.inline=Bm.pedantic):this.options.gfm&&(n.block=Tb.gfm,this.options.breaks?n.inline=Bm.breaks:n.inline=Bm.gfm),this.tokenizer.rules=n}static get rules(){return{block:Tb,inline:Bm}}static lex(e,n){return new Ti(n).lex(e)}static lexInline(e,n){return new Ti(n).inlineTokens(e)}lex(e){e=e.replace(ds.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){for(this.options.pedantic&&(e=e.replace(ds.tabCharGlobal,"    ").replace(ds.spaceLine,""));e;){let s;if(this.options.extensions?.block?.some(a=>(s=a.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))continue;if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length);const a=n.at(-1);s.raw.length===1&&a!==void 0?a.raw+=`
`:n.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length);const a=n.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=`
`+s.raw,a.text+=`
`+s.text,this.inlineQueue.at(-1).src=a.text):n.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length);const a=n.at(-1);a?.type==="paragraph"||a?.type==="text"?(a.raw+=`
`+s.raw,a.text+=`
`+s.raw,this.inlineQueue.at(-1).src=a.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),n.push(s);continue}let i=e;if(this.options.extensions?.startBlock){let a=1/0;const l=e.slice(1);let u;this.options.extensions.startBlock.forEach(c=>{u=c.call({lexer:this},l),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(i=e.substring(0,a+1))}if(this.state.top&&(s=this.tokenizer.paragraph(i))){const a=n.at(-1);r&&a?.type==="paragraph"?(a.raw+=`
`+s.raw,a.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):n.push(s),r=i.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length);const a=n.at(-1);a?.type==="text"?(a.raw+=`
`+s.raw,a.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):n.push(s);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r=e,s=null;if(this.tokens.links){const l=Object.keys(this.tokens.links);if(l.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)l.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,a="";for(;e;){i||(a=""),i=!1;let l;if(this.options.extensions?.inline?.some(c=>(l=c.call({lexer:this},e,n))?(e=e.substring(l.raw.length),n.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);const c=n.at(-1);l.type==="text"&&c?.type==="text"?(c.raw+=l.raw,c.text+=l.text):n.push(l);continue}if(l=this.tokenizer.emStrong(e,r,a)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),n.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),n.push(l);continue}let u=e;if(this.options.extensions?.startInline){let c=1/0;const f=e.slice(1);let h;this.options.extensions.startInline.forEach(d=>{h=d.call({lexer:this},f),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(u=e.substring(0,c+1))}if(l=this.tokenizer.inlineText(u)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(a=l.raw.slice(-1)),i=!0;const c=n.at(-1);c?.type==="text"?(c.raw+=l.raw,c.text+=l.text):n.push(l);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}}class Rv{static{o(this,"_Renderer")}options;parser;constructor(e){this.options=e||sh}space(e){return""}code({text:e,lang:n,escaped:r}){const s=(n||"").match(ds.notSpaceStart)?.[0],i=e.replace(ds.endingNewline,"")+`
`;return s?'<pre><code class="language-'+Fo(s)+'">'+(r?i:Fo(i,!0))+`</code></pre>
`:"<pre><code>"+(r?i:Fo(i,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){const n=e.ordered,r=e.start;let s="";for(let l=0;l<e.items.length;l++){const u=e.items[l];s+=this.listitem(u)}const i=n?"ol":"ul",a=n&&r!==1?' start="'+r+'"':"";return"<"+i+a+`>
`+s+"</"+i+`>
`}listitem(e){let n="";if(e.task){const r=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+Fo(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):n+=r+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",r="";for(let i=0;i<e.header.length;i++)r+=this.tablecell(e.header[i]);n+=this.tablerow({text:r});let s="";for(let i=0;i<e.rows.length;i++){const a=e.rows[i];r="";for(let l=0;l<a.length;l++)r+=this.tablecell(a[l]);s+=this.tablerow({text:r})}return s&&(s=`<tbody>${s}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+s+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const n=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Fo(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:r}){const s=this.parser.parseInline(r),i=L8(e);if(i===null)return s;e=i;let a='<a href="'+e+'"';return n&&(a+=' title="'+Fo(n)+'"'),a+=">"+s+"</a>",a}image({href:e,title:n,text:r,tokens:s}){s&&(r=this.parser.parseInline(s,this.parser.textRenderer));const i=L8(e);if(i===null)return Fo(r);e=i;let a=`<img src="${e}" alt="${r}"`;return n&&(a+=` title="${Fo(n)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Fo(e.text)}}class lN{static{o(this,"_TextRenderer")}strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class ki{static{o(this,"_Parser")}options;renderer;textRenderer;constructor(e){this.options=e||sh,this.options.renderer=this.options.renderer||new Rv,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new lN}static parse(e,n){return new ki(n).parse(e)}static parseInline(e,n){return new ki(n).parseInline(e)}parse(e,n=!0){let r="";for(let s=0;s<e.length;s++){const i=e[s];if(this.options.extensions?.renderers?.[i.type]){const l=i,u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){r+=u||"";continue}}const a=i;switch(a.type){case"space":{r+=this.renderer.space(a);continue}case"hr":{r+=this.renderer.hr(a);continue}case"heading":{r+=this.renderer.heading(a);continue}case"code":{r+=this.renderer.code(a);continue}case"table":{r+=this.renderer.table(a);continue}case"blockquote":{r+=this.renderer.blockquote(a);continue}case"list":{r+=this.renderer.list(a);continue}case"html":{r+=this.renderer.html(a);continue}case"paragraph":{r+=this.renderer.paragraph(a);continue}case"text":{let l=a,u=this.renderer.text(l);for(;s+1<e.length&&e[s+1].type==="text";)l=e[++s],u+=`
`+this.renderer.text(l);n?r+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):r+=u;continue}default:{const l='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}parseInline(e,n=this.renderer){let r="";for(let s=0;s<e.length;s++){const i=e[s];if(this.options.extensions?.renderers?.[i.type]){const l=this.options.extensions.renderers[i.type].call({parser:this},i);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=l||"";continue}}const a=i;switch(a.type){case"escape":{r+=n.text(a);break}case"html":{r+=n.html(a);break}case"link":{r+=n.link(a);break}case"image":{r+=n.image(a);break}case"strong":{r+=n.strong(a);break}case"em":{r+=n.em(a);break}case"codespan":{r+=n.codespan(a);break}case"br":{r+=n.br(a);break}case"del":{r+=n.del(a);break}case"text":{r+=n.text(a);break}default:{const l='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}}class b_{static{o(this,"_Hooks")}options;block;constructor(e){this.options=e||sh}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Ti.lex:Ti.lexInline}provideParser(){return this.block?ki.parse:ki.parseInline}}class cDe{static{o(this,"Marked")}defaults=eN();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=ki;Renderer=Rv;TextRenderer=lN;Lexer=Ti;Tokenizer=Iv;Hooks=b_;constructor(...e){this.use(...e)}walkTokens(e,n){let r=[];for(const s of e)switch(r=r.concat(n.call(this,s)),s.type){case"table":{const i=s;for(const a of i.header)r=r.concat(this.walkTokens(a.tokens,n));for(const a of i.rows)for(const l of a)r=r.concat(this.walkTokens(l.tokens,n));break}case"list":{const i=s;r=r.concat(this.walkTokens(i.items,n));break}default:{const i=s;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(a=>{const l=i[a].flat(1/0);r=r.concat(this.walkTokens(l,n))}):i.tokens&&(r=r.concat(this.walkTokens(i.tokens,n)))}}return r}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const s={...r};if(s.async=this.defaults.async||s.async||!1,r.extensions&&(r.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const a=n.renderers[i.name];a?n.renderers[i.name]=function(...l){let u=i.renderer.apply(this,l);return u===!1&&(u=a.apply(this,l)),u}:n.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=n[i.level];a?a.unshift(i.tokenizer):n[i.level]=[i.tokenizer],i.start&&(i.level==="block"?n.startBlock?n.startBlock.push(i.start):n.startBlock=[i.start]:i.level==="inline"&&(n.startInline?n.startInline.push(i.start):n.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(n.childTokens[i.name]=i.childTokens)}),s.extensions=n),r.renderer){const i=this.defaults.renderer||new Rv(this.defaults);for(const a in r.renderer){if(!(a in i))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;const l=a,u=r.renderer[l],c=i[l];i[l]=(...f)=>{let h=u.apply(i,f);return h===!1&&(h=c.apply(i,f)),h||""}}s.renderer=i}if(r.tokenizer){const i=this.defaults.tokenizer||new Iv(this.defaults);for(const a in r.tokenizer){if(!(a in i))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const l=a,u=r.tokenizer[l],c=i[l];i[l]=(...f)=>{let h=u.apply(i,f);return h===!1&&(h=c.apply(i,f)),h}}s.tokenizer=i}if(r.hooks){const i=this.defaults.hooks||new b_;for(const a in r.hooks){if(!(a in i))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;const l=a,u=r.hooks[l],c=i[l];b_.passThroughHooks.has(a)?i[l]=f=>{if(this.defaults.async)return Promise.resolve(u.call(i,f)).then(d=>c.call(i,d));const h=u.call(i,f);return c.call(i,h)}:i[l]=(...f)=>{let h=u.apply(i,f);return h===!1&&(h=c.apply(i,f)),h}}s.hooks=i}if(r.walkTokens){const i=this.defaults.walkTokens,a=r.walkTokens;s.walkTokens=function(l){let u=[];return u.push(a.call(this,l)),i&&(u=u.concat(i.call(this,l))),u}}this.defaults={...this.defaults,...s}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return Ti.lex(e,n??this.defaults)}parser(e,n){return ki.parse(e,n??this.defaults)}parseMarkdown(e){return o((r,s)=>{const i={...s},a={...this.defaults,...i},l=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&i.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));a.hooks&&(a.hooks.options=a,a.hooks.block=e);const u=a.hooks?a.hooks.provideLexer():e?Ti.lex:Ti.lexInline,c=a.hooks?a.hooks.provideParser():e?ki.parse:ki.parseInline;if(a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(r):r).then(f=>u(f,a)).then(f=>a.hooks?a.hooks.processAllTokens(f):f).then(f=>a.walkTokens?Promise.all(this.walkTokens(f,a.walkTokens)).then(()=>f):f).then(f=>c(f,a)).then(f=>a.hooks?a.hooks.postprocess(f):f).catch(l);try{a.hooks&&(r=a.hooks.preprocess(r));let f=u(r,a);a.hooks&&(f=a.hooks.processAllTokens(f)),a.walkTokens&&this.walkTokens(f,a.walkTokens);let h=c(f,a);return a.hooks&&(h=a.hooks.postprocess(h)),h}catch(f){return l(f)}},"parse")}onError(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+Fo(r.message+"",!0)+"</pre>";return n?Promise.resolve(s):s}if(n)return Promise.reject(r);throw r}}}const Uf=new cDe;function Bt(t,e){return Uf.parse(t,e)}o(Bt,"marked");Bt.options=Bt.setOptions=function(t){return Uf.setOptions(t),Bt.defaults=Uf.defaults,UG(Bt.defaults),Bt};Bt.getDefaults=eN;Bt.defaults=sh;Bt.use=function(...t){return Uf.use(...t),Bt.defaults=Uf.defaults,UG(Bt.defaults),Bt};Bt.walkTokens=function(t,e){return Uf.walkTokens(t,e)};Bt.parseInline=Uf.parseInline;Bt.Parser=ki;Bt.parser=ki.parse;Bt.Renderer=Rv;Bt.TextRenderer=lN;Bt.Lexer=Ti;Bt.lexer=Ti.lex;Bt.Tokenizer=Iv;Bt.Hooks=b_;Bt.parse=Bt;Bt.options;Bt.setOptions;Bt.use;Bt.walkTokens;Bt.parseInline;ki.parse;Ti.lex;var VT,U8;function fDe(){if(U8)return VT;U8=1;class t{static{o(this,"QuickLRU")}constructor(n={}){if(!(n.maxSize&&n.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof n.maxAge=="number"&&n.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=n.maxSize,this.maxAge=n.maxAge||1/0,this.onEviction=n.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(n){if(typeof this.onEviction=="function")for(const[r,s]of n)this.onEviction(r,s.value)}_deleteIfExpired(n,r){return typeof r.expiry=="number"&&r.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(n,r.value),this.delete(n)):!1}_getOrDeleteIfExpired(n,r){if(this._deleteIfExpired(n,r)===!1)return r.value}_getItemValue(n,r){return r.expiry?this._getOrDeleteIfExpired(n,r):r.value}_peek(n,r){const s=r.get(n);return this._getItemValue(n,s)}_set(n,r){this.cache.set(n,r),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(n,r){this.oldCache.delete(n),this._set(n,r)}*_entriesAscending(){for(const n of this.oldCache){const[r,s]=n;this.cache.has(r)||this._deleteIfExpired(r,s)===!1&&(yield n)}for(const n of this.cache){const[r,s]=n;this._deleteIfExpired(r,s)===!1&&(yield n)}}get(n){if(this.cache.has(n)){const r=this.cache.get(n);return this._getItemValue(n,r)}if(this.oldCache.has(n)){const r=this.oldCache.get(n);if(this._deleteIfExpired(n,r)===!1)return this._moveToRecent(n,r),r.value}}set(n,r,{maxAge:s=this.maxAge===1/0?void 0:Date.now()+this.maxAge}={}){this.cache.has(n)?this.cache.set(n,{value:r,maxAge:s}):this._set(n,{value:r,expiry:s})}has(n){return this.cache.has(n)?!this._deleteIfExpired(n,this.cache.get(n)):this.oldCache.has(n)?!this._deleteIfExpired(n,this.oldCache.get(n)):!1}peek(n){if(this.cache.has(n))return this._peek(n,this.cache);if(this.oldCache.has(n))return this._peek(n,this.oldCache)}delete(n){const r=this.cache.delete(n);return r&&this._size--,this.oldCache.delete(n)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(n){if(!(n&&n>0))throw new TypeError("`maxSize` must be a number greater than 0");const r=[...this._entriesAscending()],s=r.length-n;s<0?(this.cache=new Map(r),this.oldCache=new Map,this._size=r.length):(s>0&&this._emitEvictions(r.slice(0,s)),this.oldCache=new Map(r.slice(s)),this.cache=new Map,this._size=0),this.maxSize=n}*keys(){for(const[n]of this)yield n}*values(){for(const[,n]of this)yield n}*[Symbol.iterator](){for(const n of this.cache){const[r,s]=n;this._deleteIfExpired(r,s)===!1&&(yield[r,s.value])}for(const n of this.oldCache){const[r,s]=n;this.cache.has(r)||this._deleteIfExpired(r,s)===!1&&(yield[r,s.value])}}*entriesDescending(){let n=[...this.cache];for(let r=n.length-1;r>=0;--r){const s=n[r],[i,a]=s;this._deleteIfExpired(i,a)===!1&&(yield[i,a.value])}n=[...this.oldCache];for(let r=n.length-1;r>=0;--r){const s=n[r],[i,a]=s;this.cache.has(i)||this._deleteIfExpired(i,a)===!1&&(yield[i,a.value])}}*entriesAscending(){for(const[n,r]of this._entriesAscending())yield[n,r.value]}get size(){if(!this._size)return this.oldCache.size;let n=0;for(const r of this.oldCache.keys())this.cache.has(r)||n++;return Math.min(this._size+n,this.maxSize)}}return VT=t,VT}o(fDe,"requireQuickLru");var hDe=fDe();const S7e=zR(hDe);var ih="0.8.2",j=Symbol(`typegpu:${ih}:$internal`),$t=Symbol(`typegpu:${ih}:$gpuValueOf`),In=Symbol(`typegpu:${ih}:$getNameForward`),Xc=Symbol(`typegpu:${ih}:$providing`),Fs=Symbol(`typegpu:${ih}:$ownSnippet`),Ye=Symbol(`typegpu:${ih}:$resolve`),Qp=Symbol(`typegpu:${ih}:$repr`);function Nt(t){return!!t?.[j]}o(Nt,"u");var Ms={[j]:!0,type:"void",toString(){return"void"}},dDe=["bool","f32","f16","i32","u32","u16","vec2f","vec2h","vec2i","vec2u","vec2<bool>","vec3f","vec3h","vec3i","vec3u","vec3<bool>","vec4f","vec4h","vec4i","vec4u","vec4<bool>","mat2x2f","mat3x3f","mat4x4f","struct","array","ptr","atomic","decorated","abstractInt","abstractFloat","void","texture_1d","texture_storage_1d","texture_2d","texture_storage_2d","texture_multisampled_2d","texture_depth_2d","texture_depth_multisampled_2d","texture_2d_array","texture_storage_2d_array","texture_depth_2d_array","texture_cube","texture_depth_cube","texture_cube_array","texture_depth_cube_array","texture_3d","texture_storage_3d","texture_external","sampler","sampler_comparison"];function fn(t){let e=t;return Nt(e)&&typeof e.kind=="string"&&e.kind.startsWith("vec")}o(fn,"Ee$1");function $C(t){let e=t;return Nt(e)&&typeof e.type=="string"&&e.type.startsWith("vec2")}o($C,"Ct$1");function LC(t){let e=t;return Nt(e)&&typeof e.type=="string"&&e.type.startsWith("vec3")}o(LC,"Ot$1");function JG(t){let e=t;return Nt(e)&&typeof e.type=="string"&&e.type.startsWith("vec4")}o(JG,"Mt$1");function xl(t){return $C(t)||LC(t)||JG(t)}o(xl,"ae$1");function Xo(t){let e=t;return Nt(e)&&typeof e.kind?.startsWith=="function"&&e.kind.startsWith("mat")}o(Xo,"Xe$2");function ZG(t){return Nt(t)&&t?.type==="mat2x2f"}o(ZG,"Lt");function QG(t){return Nt(t)&&t?.type==="mat3x3f"}o(QG,"jt$1");function pDe(t){return Nt(t)&&t?.type==="mat4x4f"}o(pDe,"Gt$1");function ny(t){return ZG(t)||QG(t)||pDe(t)}o(ny,"Ue$1");function z8(t){return fn(t)&&["vec2f","vec3f","vec4f"].includes(t.kind)}o(z8,"Ln$1");function oh(t){return Nt(t)&&dDe.includes(t?.type)}o(oh,"C");function po(t){return Nt(t)&&t?.type==="array"}o(po,"fe$1");function xs(t){return Nt(t)&&t?.type==="struct"}o(xs,"we$2");function V8(t){return Nt(t)&&t?.type==="ptr"}o(V8,"jn$1");function mDe(t){return Nt(t)&&t?.type==="atomic"}o(mDe,"Gn$1");function eK(t){return Nt(t)&&t?.type==="@align"}o(eK,"Te$2");function tK(t){return Nt(t)&&t?.type==="@size"}o(tK,"ge$1");function gDe(t){return Nt(t)&&t?.type==="@location"}o(gDe,"Ze$1");function yDe(t){return Nt(t)&&t?.type==="@builtin"}o(yDe,"Ne");function ah(t){return Nt(t)&&t?.type==="decorated"}o(ah,"_$1");function nK(t){return Nt(t)&&t.type==="void"}o(nK,"Yn$2");function Sl(t){let e=t?.type;return Nt(t)&&(e==="abstractInt"||e==="abstractFloat"||e==="f32"||e==="f16"||e==="i32"||e==="u32")}o(Sl,"Qe$2");function uN(t){let e=t?.type;return Nt(t)&&(e==="f16"||e==="vec2h"||e==="vec3h"||e==="vec4h")}o(uN,"Hn$2");Object.assign(globalThis,{__TYPEGPU_AUTONAME__:o((t,e)=>(Ox(t)&&Nt(t)&&!Se(t)&&t.$name(e),t),"__TYPEGPU_AUTONAME__")});var FC=globalThis;function rK(t){return!!t?.[In]}o(rK,"et$2");function Se(t){return rK(t)?Se(t[In]):Nx(t)?.name}o(Se,"D");function Ut(t,e){rK(t)&&Ut(t[In],e),bDe(t,{name:e})}o(Ut,"k");function Ox(t){return!!t?.$name}o(Ox,"Yt$1");function jg(t){return!!Nx(t)?.ast}o(jg,"tt$2");function Nx(t){return FC.__TYPEGPU_META__.get(t)}o(Nx,"nt$2");function bDe(t,e){FC.__TYPEGPU_META__??=new WeakMap;let n=FC.__TYPEGPU_META__;n.set(t,{...n.get(t),...e})}o(bDe,"Ht$1");var sK=["uint8","uint8x2","uint8x4","sint8","sint8x2","sint8x4","unorm8","unorm8x2","unorm8x4","snorm8","snorm8x2","snorm8x4","uint16","uint16x2","uint16x4","sint16","sint16x2","sint16x4","unorm16","unorm16x2","unorm16x4","snorm16","snorm16x2","snorm16x4","float16","float16x2","float16x4","float32","float32x2","float32x3","float32x4","uint32","uint32x2","uint32x3","uint32x4","sint32","sint32x2","sint32x3","sint32x4","unorm10-10-10-2","unorm8x4-bgra"],_De={f32:"float32",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",f16:"float16",vec2h:"float16x2",vec4h:"float16x4",u32:"uint32",vec2u:"uint32x2",vec3u:"uint32x3",vec4u:"uint32x4",i32:"sint32",vec2i:"sint32x2",vec3i:"sint32x3",vec4i:"sint32x4"};function Xu(t){return t.type==="decorated"||t.type==="loose-decorated"?t.inner:t}o(Xu,"S$2");var wDe=["unstruct","disarray","loose-decorated",...sK];function s1(t){return Nt(t)&&wDe.includes(t?.type)}o(s1,"Re$1");function em(t){return Nt(t)&&t?.type==="disarray"}o(em,"ce$1");function pc(t){return Nt(t)&&t?.type==="unstruct"}o(pc,"ye$2");function lh(t){return Nt(t)&&t?.type==="loose-decorated"}o(lh,"I$1");function Wg(t){return t.attribs?.find(eK)?.params[0]}o(Wg,"O$3");function vDe(t){return t.attribs?.find(tK)?.params[0]}o(vDe,"at$1");function Ju(t){return t.attribs?.find(gDe)?.params[0]}o(Ju,"or$2");function tm(t){return oh(t)||s1(t)}o(tm,"ar$2");var cs={type:"unknown",toString(){return"unknown"}},j8=class{static{o(this,"it")}constructor(e,n,r){this.name=e,this.lhs=n,this.operator=r}},W8=class{static{o(this,"st")}constructor(e){this.matrix=e}},H8=class{static{o(this,"ot")}constructor(e){this.op=e,Ut(this,"consoleLog")}[j]=!0},EDe="Invariant failed";function ll(t,e){if(!t)throw new Error(EDe)}o(ll,"Ve$2");var ig=class BC extends Error{static{o(this,"e")}constructor(e,n){let r=n.map(s=>`- ${jg(s)?`fn*:${Se(s)}`:s}`);r.length>20&&(r=[...r.slice(0,11),"...",...r.slice(-10)]),super(`Resolution of the following tree failed:
${r.join(`
`)}: ${e&&typeof e=="object"&&"message"in e?e.message:e}`),this.cause=e,this.trace=n,Object.setPrototypeOf(this,BC.prototype)}appendToTrace(e){let n=[e,...this.trace];return new BC(this.cause,n)}},q8=class UC extends Error{static{o(this,"e2")}constructor(e,n){let r=n.map(s=>`- ${s}`);r.length>20&&(r=[...r.slice(0,11),"...",...r.slice(-10)]),super(`Execution of the following tree failed:
${r.join(`
`)}: ${e&&typeof e=="object"&&"message"in e?e.message:e}`),this.cause=e,this.trace=n,Object.setPrototypeOf(this,UC.prototype)}appendToTrace(e){let n=[e,...this.trace];return new UC(this.cause,n)}},xDe=class iK extends Error{static{o(this,"e3")}constructor(e){super(`Missing value for '${e}'`),this.slot=e,Object.setPrototypeOf(this,iK.prototype)}},SDe=class oK extends Error{static{o(this,"e4")}constructor(e){super(`Buffer '${Se(e)??"<unnamed>"}' is not bindable as a uniform. Use .$usage('uniform') to allow it.`),Object.setPrototypeOf(this,oK.prototype)}},TDe=class aK extends Error{static{o(this,"e5")}constructor(e,n){super(`The function '${e??"<unnamed>"}' is missing links to the following external values: ${n}.`),Object.setPrototypeOf(this,aK.prototype)}},cN=class lK extends Error{static{o(this,"e6")}constructor(e){super(`Missing bind groups for layouts: '${[...e].map(n=>Se(n)??"<unnamed>").join(", ")}'. Please provide it using pipeline.with(bindGroup).(...)`),Object.setPrototypeOf(this,lK.prototype)}},uK=class cK extends Error{static{o(this,"e7")}constructor(e){super(`Missing vertex buffers for layouts: '${[...e].map(n=>Se(n)??"<unnamed>").join(", ")}'. Please provide it using pipeline.with(layout, buffer).(...)`),Object.setPrototypeOf(this,cK.prototype)}},G8=class fK extends Error{static{o(this,"e8")}constructor(e){super(e),Object.setPrototypeOf(this,fK.prototype)}},K8=class hK extends Error{static{o(this,"e9")}constructor(e){super(e),Object.setPrototypeOf(this,hK.prototype)}},_i=class dK extends Error{static{o(this,"e10")}constructor(e){super(e),Object.setPrototypeOf(this,dK.prototype)}};function zC(t){return t?.resourceType==="slot"}o(zC,"wt");function VC(t){return t?.resourceType==="derived"}o(VC,"Tt$1");function jC(t){return t?.[Xc]!==void 0}o(jC,"gt$1");function Mx(t){return t?.resourceType==="accessor"}o(Mx,"dr$1");var pK=class{static{o(this,"ze")}constructor(e,n){this.value=e,this.dataType=n}};function fN(t){return t instanceof pK}o(fN,"Ce$3");function kb(t){return Sl(t.dataType)}o(kb,"gr$1");function oe(t,e){return new pK(t,Xu(e))}o(oe,"x$1");var mK=class{static{o(this,"Se")}type="normal"},kDe=class{static{o(this,"vt")}type="codegen"},ADe=class{static{o(this,"bt")}constructor(t,e){this.buffers=t,this.vars=e}type="simulate"};function gK(t){return!!t?.[Ye]}o(gK,"Jt$1");function hN(t){return t?.[Fs]}o(hN,"Vt$2");function CDe(t){return typeof t=="number"||typeof t=="boolean"||typeof t=="string"||gK(t)||oh(t)||zC(t)||VC(t)||jC(t)}o(CDe,"_r$2");function WC(t){return!!t&&typeof t=="object"&&"getMappedRange"in t&&"mapAsync"in t}o(WC,"Ar$1");var __=!1;function IDe(t){if(__)return t();try{return __=!0,t()}finally{__=!1}}o(IDe,"Fr$2");function Ov(){return __}o(Ov,"Pr$2");var mu;function yK(t,e){if(ll(mu===void 0||mu===t),mu===t)return e();mu=t;try{return e()}finally{mu=void 0}}o(yK,"Br$2");function zf(){return mu}o(zf,"zt$2");var bK=new mK;function Nv(){return mu?.mode??bK}o(Nv,"Er$2");function Na(){return mu?.mode.type==="codegen"}o(Na,"Oe$1");function ne(t,...e){let n=zf();function r(i){return fN(i)?n.resolve(i.value,i.dataType).value:i}o(r,"r");let s="";for(let i=0;i<t.length;++i){s+=t[i];let a=e[i];Array.isArray(a)?s+=a.filter(l=>l!==void 0).map(r).join(", "):a&&(s+=r(a))}return s}o(ne,"d$2");function yp(t,e){throw new Error(`Failed to handle ${t} at ${e}`)}o(yp,"St");var dN={rank:Number.POSITIVE_INFINITY,action:"none"};function Mv(t,e){let n=Xu(t),r=Xu(e);if(n.type===r.type)return{rank:0,action:"none"};if(n.type==="abstractFloat"){if(r.type==="f32")return{rank:1,action:"none"};if(r.type==="f16")return{rank:2,action:"none"}}if(n.type==="abstractInt"){if(r.type==="i32")return{rank:3,action:"none"};if(r.type==="u32")return{rank:4,action:"none"};if(r.type==="abstractFloat")return{rank:5,action:"none"};if(r.type==="f32")return{rank:6,action:"none"};if(r.type==="f16")return{rank:7,action:"none"}}return xl(n)&&xl(r)?Mv(n.primitive,r.primitive):ny(n)&&ny(r)?{rank:0,action:"none"}:dN}o(Mv,"_e$2");function RDe(t,e){let n=Xu(t),r=Xu(e);if(n.type==="ptr"&&Mv(n.inner,r).rank<Number.POSITIVE_INFINITY)return{rank:0,action:"deref"};if(r.type==="ptr"&&Mv(n,r.inner).rank<Number.POSITIVE_INFINITY)return{rank:1,action:"ref"};let s={f32:0,f16:1,i32:2,u32:3,bool:4};if(n.type in s&&r.type in s){let i=n.type,a=r.type;if(i!==a){let l=s[i];return{rank:s[a]<l?10:20,action:"cast",targetType:r}}}if(n.type==="abstractFloat"){if(r.type==="u32")return{rank:2,action:"cast",targetType:r};if(r.type==="i32")return{rank:1,action:"cast",targetType:r}}return dN}o(RDe,"Zt$1");function ODe(t,e,n){let r=Mv(t,e);return r.rank<Number.POSITIVE_INFINITY?r:n?RDe(t,e):dN}o(ODe,"Qt$1");function Y8(t,e,n){let r;for(let i of e){let a=[],l=0;for(let u of t){let c=ODe(u,i,n);if(l+=c.rank,c.rank===Number.POSITIVE_INFINITY)break;a.push(c)}l<(r?.sum??Number.POSITIVE_INFINITY)&&(r={type:i,details:a,sum:l})}if(!r)return;let s=r.details.map((i,a)=>({sourceIndex:a,action:i.action,...i.action==="cast"&&{targetType:i.targetType}}));return{targetType:r.type,actions:s,hasImplicitConversions:s.some(i=>i.action==="cast")}}o(Y8,"It");function pN(t,e){if(t.length===0)return;let n=[...new Set((e||t).map(Xu))],r=Y8(t,n,!1);if(r)return r;let s=Y8(t,n,!0);if(s)return s}o(pN,"_t$2");function NDe(t,e,n){if(e.action==="none")return oe(t.value,n);switch(e.action){case"ref":return oe(ne`&${t}`,n);case"deref":return oe(ne`*${t}`,n);case"cast":return n(t);default:yp(e.action,"applyActionToSnippet")}}o(NDe,"en$2");function Ts(t,e){if(t.some(r=>r.type==="unknown"))return;let n=pN(t,e);if(n)return t.map(()=>n.targetType)}o(Ts,"Hr$1");function Hg(t,e,n=!0){let r=t.map(i=>i.dataType);if(r.some(i=>i.type==="unknown"))return;let s=pN(r,e);if(s)return t.map((i,a)=>{let l=s.actions[a];return ll(l),NDe(i,l,s.targetType)})}o(Hg,"At");function HC(t,e,n=!0){if(e===t.dataType)return oe(t.value,e);if(t.dataType.type==="unknown")return oe(ne`${oe(t.value,e)}`,e);let r=Hg([t],[e],n);if(!r)throw new _i(`Cannot convert value of type '${t.dataType.type}' to type '${e.type}'`);return r[0]}o(HC,"Dt$1");function MDe(t,e){return Object.keys(t.propTypes).map(n=>{let r=e[n];if(!r)throw new Error(`Missing property ${n}`);let s=t.propTypes[n];return Hg([r],[s])?.[0]??r})}o(MDe,"qr$1");function DDe(t){return typeof t!="string"&&hN(t)===void 0}o(DDe,"tn$2");function dr(t,e,n,r="keep"){let s=o(((...i)=>Na()?e(...i):t(...i)),"i");return Ut(s,n),s.toString=()=>n,Object.defineProperty(s,j,{value:{jsImpl:t,gpuImpl:e,argConversionHint:r}}),s}o(dr,"$t");var ai=class extends Error{static{o(this,"Ae")}constructor(e){super(e),this.name=this.constructor.name}};function ge(t){let e=o((...r)=>{let{argTypes:s,returnType:i}=typeof t.signature=="function"?t.signature(...r.map(l=>l.dataType)):t.signature,a=r.map((l,u)=>HC(l,s[u],!t.ignoreImplicitCastWarning));if(a.every(l=>DDe(l.value))&&typeof t.normalImpl=="function")try{return oe(t.normalImpl(...a.map(l=>l.value)),i)}catch(l){if(!(l instanceof ai))throw l}return oe(t.codegenImpl(...a),i)},"t"),n=o(((...r)=>{if(Na())return e(...r);if(typeof t.normalImpl=="string")throw new ai(t.normalImpl);return t.normalImpl(...r)}),"n");return Ut(n,t.name),n.toString=()=>t.name,Object.defineProperty(n,j,{value:{jsImpl:t.normalImpl,gpuImpl:e,argConversionHint:"keep"}}),n}o(ge,"P");var Dx={[j]:!0,type:"abstractInt",toString(){return"abstractInt"}},xo={[j]:!0,type:"abstractFloat",toString(){return"abstractFloat"}},PDe=ge({name:"bool",signature:o(t=>({argTypes:t?[t]:[],returnType:_n}),"signature"),normalImpl(t){return t===void 0?!1:typeof t=="boolean"?t:!!t},codegenImpl:o(t=>t.dataType.type==="bool"?ne`${t}`:ne`bool(${t})`,"codegenImpl")}),_n=Object.assign(PDe,{type:"bool"}),$De=ge({name:"u32",signature:o(t=>({argTypes:t?[t]:[],returnType:De}),"signature"),normalImpl(t){return t===void 0?0:typeof t=="boolean"?t?1:0:(t&4294967295)>>>0},codegenImpl:o(t=>t.dataType.type==="u32"?ne`${t}`:ne`u32(${t})`,"codegenImpl")}),De=Object.assign($De,{type:"u32"}),LDe=ge({name:"i32",signature:o(t=>({argTypes:t?[t]:[],returnType:Lt}),"signature"),normalImpl(t){return t===void 0?0:typeof t=="boolean"?t?1:0:t|0},codegenImpl:o(t=>t.dataType.type==="i32"?ne`${t}`:ne`i32(${t})`,"codegenImpl")}),Lt=Object.assign(LDe,{type:"i32"}),FDe=ge({name:"f32",signature:o(t=>({argTypes:t?[t]:[],returnType:se}),"signature"),normalImpl(t){return t===void 0?0:typeof t=="boolean"?t?1:0:Math.fround(t)},codegenImpl:o(t=>t.dataType.type==="f32"?ne`${t}`:ne`f32(${t})`,"codegenImpl")}),se=Object.assign(FDe,{type:"f32"}),_K=new ArrayBuffer(4),BDe=new Float32Array(_K),UDe=new Uint32Array(_K);function zDe(t){BDe[0]=t;let e=UDe[0],n=e>>>31&1,r=e>>>23&255,s=e&8388607;return r===255?n<<15|31744|(s?512:0):(r=r-127+15,r<=0?r<-10?n<<15:(s=(s|8388608)>>1-r,s=s+4096>>13,n<<15|s):r>=31||(s=s+4096,s&8388608&&(s=0,++r,r>=31))?n<<15|31744:n<<15|r<<10|s>>13)}o(zDe,"cn$1");function VDe(t){let e=t&32768?-1:1,n=t>>10&31,r=t&1023;return n===0?r?e*r*2**-24:e*0:n===31?r?Number.NaN:e===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e*(1+r/1024)*2**(n-15)}o(VDe,"yn");function jDe(t){return VDe(zDe(t))}o(jDe,"ln$1");var WDe=ge({name:"f16",signature:o(t=>({argTypes:t?[t]:[],returnType:jn}),"signature"),normalImpl(t){return t===void 0?0:typeof t=="boolean"?t?1:0:jDe(t)},codegenImpl:o(t=>t.dataType.type==="f16"?ne`${t}`:ne`f16(${t})`,"codegenImpl")}),jn=Object.assign(WDe,{type:"f16"}),mN=class extends Array{static{o(this,"le")}castElement(){return this[j].elementSchema[j].jsImpl}[Ye](){let e=this[j].elementSchema;return this.every(n=>!n)?oe(`${this.kind}()`,e):this.every(n=>this[0]===n)?oe(`${this.kind}(${this[0]})`,e):oe(`${this.kind}(${this.join(", ")})`,e)}toString(){return this[Ye]().value}get xx(){return new this._Vec2(this[0],this[0])}get xy(){return new this._Vec2(this[0],this[1])}get xz(){return new this._Vec2(this[0],this[2])}get xw(){return new this._Vec2(this[0],this[3])}get yx(){return new this._Vec2(this[1],this[0])}get yy(){return new this._Vec2(this[1],this[1])}get yz(){return new this._Vec2(this[1],this[2])}get yw(){return new this._Vec2(this[1],this[3])}get zx(){return new this._Vec2(this[2],this[0])}get zy(){return new this._Vec2(this[2],this[1])}get zz(){return new this._Vec2(this[2],this[2])}get zw(){return new this._Vec2(this[2],this[3])}get wx(){return new this._Vec2(this[3],this[0])}get wy(){return new this._Vec2(this[3],this[1])}get wz(){return new this._Vec2(this[3],this[2])}get ww(){return new this._Vec2(this[3],this[3])}get xxx(){return new this._Vec3(this[0],this[0],this[0])}get xxy(){return new this._Vec3(this[0],this[0],this[1])}get xxz(){return new this._Vec3(this[0],this[0],this[2])}get xxw(){return new this._Vec3(this[0],this[0],this[3])}get xyx(){return new this._Vec3(this[0],this[1],this[0])}get xyy(){return new this._Vec3(this[0],this[1],this[1])}get xyz(){return new this._Vec3(this[0],this[1],this[2])}get xyw(){return new this._Vec3(this[0],this[1],this[3])}get xzx(){return new this._Vec3(this[0],this[2],this[0])}get xzy(){return new this._Vec3(this[0],this[2],this[1])}get xzz(){return new this._Vec3(this[0],this[2],this[2])}get xzw(){return new this._Vec3(this[0],this[2],this[3])}get xwx(){return new this._Vec3(this[0],this[3],this[0])}get xwy(){return new this._Vec3(this[0],this[3],this[1])}get xwz(){return new this._Vec3(this[0],this[3],this[2])}get xww(){return new this._Vec3(this[0],this[3],this[3])}get yxx(){return new this._Vec3(this[1],this[0],this[0])}get yxy(){return new this._Vec3(this[1],this[0],this[1])}get yxz(){return new this._Vec3(this[1],this[0],this[2])}get yxw(){return new this._Vec3(this[1],this[0],this[3])}get yyx(){return new this._Vec3(this[1],this[1],this[0])}get yyy(){return new this._Vec3(this[1],this[1],this[1])}get yyz(){return new this._Vec3(this[1],this[1],this[2])}get yyw(){return new this._Vec3(this[1],this[1],this[3])}get yzx(){return new this._Vec3(this[1],this[2],this[0])}get yzy(){return new this._Vec3(this[1],this[2],this[1])}get yzz(){return new this._Vec3(this[1],this[2],this[2])}get yzw(){return new this._Vec3(this[1],this[2],this[3])}get ywx(){return new this._Vec3(this[1],this[3],this[0])}get ywy(){return new this._Vec3(this[1],this[3],this[1])}get ywz(){return new this._Vec3(this[1],this[3],this[2])}get yww(){return new this._Vec3(this[1],this[3],this[3])}get zxx(){return new this._Vec3(this[2],this[0],this[0])}get zxy(){return new this._Vec3(this[2],this[0],this[1])}get zxz(){return new this._Vec3(this[2],this[0],this[2])}get zxw(){return new this._Vec3(this[2],this[0],this[3])}get zyx(){return new this._Vec3(this[2],this[1],this[0])}get zyy(){return new this._Vec3(this[2],this[1],this[1])}get zyz(){return new this._Vec3(this[2],this[1],this[2])}get zyw(){return new this._Vec3(this[2],this[1],this[3])}get zzx(){return new this._Vec3(this[2],this[2],this[0])}get zzy(){return new this._Vec3(this[2],this[2],this[1])}get zzz(){return new this._Vec3(this[2],this[2],this[2])}get zzw(){return new this._Vec3(this[2],this[2],this[3])}get zwx(){return new this._Vec3(this[2],this[3],this[0])}get zwy(){return new this._Vec3(this[2],this[3],this[1])}get zwz(){return new this._Vec3(this[2],this[3],this[2])}get zww(){return new this._Vec3(this[2],this[3],this[3])}get wxx(){return new this._Vec3(this[3],this[0],this[0])}get wxy(){return new this._Vec3(this[3],this[0],this[1])}get wxz(){return new this._Vec3(this[3],this[0],this[2])}get wxw(){return new this._Vec3(this[3],this[0],this[3])}get wyx(){return new this._Vec3(this[3],this[1],this[0])}get wyy(){return new this._Vec3(this[3],this[1],this[1])}get wyz(){return new this._Vec3(this[3],this[1],this[2])}get wyw(){return new this._Vec3(this[3],this[1],this[3])}get wzx(){return new this._Vec3(this[3],this[2],this[0])}get wzy(){return new this._Vec3(this[3],this[2],this[1])}get wzz(){return new this._Vec3(this[3],this[2],this[2])}get wzw(){return new this._Vec3(this[3],this[2],this[3])}get wwx(){return new this._Vec3(this[3],this[3],this[0])}get wwy(){return new this._Vec3(this[3],this[3],this[1])}get wwz(){return new this._Vec3(this[3],this[3],this[2])}get www(){return new this._Vec3(this[3],this[3],this[3])}get xxxx(){return new this._Vec4(this[0],this[0],this[0],this[0])}get xxxy(){return new this._Vec4(this[0],this[0],this[0],this[1])}get xxxz(){return new this._Vec4(this[0],this[0],this[0],this[2])}get xxxw(){return new this._Vec4(this[0],this[0],this[0],this[3])}get xxyx(){return new this._Vec4(this[0],this[0],this[1],this[0])}get xxyy(){return new this._Vec4(this[0],this[0],this[1],this[1])}get xxyz(){return new this._Vec4(this[0],this[0],this[1],this[2])}get xxyw(){return new this._Vec4(this[0],this[0],this[1],this[3])}get xxzx(){return new this._Vec4(this[0],this[0],this[2],this[0])}get xxzy(){return new this._Vec4(this[0],this[0],this[2],this[1])}get xxzz(){return new this._Vec4(this[0],this[0],this[2],this[2])}get xxzw(){return new this._Vec4(this[0],this[0],this[2],this[3])}get xxwx(){return new this._Vec4(this[0],this[0],this[3],this[0])}get xxwy(){return new this._Vec4(this[0],this[0],this[3],this[1])}get xxwz(){return new this._Vec4(this[0],this[0],this[3],this[2])}get xxww(){return new this._Vec4(this[0],this[0],this[3],this[3])}get xyxx(){return new this._Vec4(this[0],this[1],this[0],this[0])}get xyxy(){return new this._Vec4(this[0],this[1],this[0],this[1])}get xyxz(){return new this._Vec4(this[0],this[1],this[0],this[2])}get xyxw(){return new this._Vec4(this[0],this[1],this[0],this[3])}get xyyx(){return new this._Vec4(this[0],this[1],this[1],this[0])}get xyyy(){return new this._Vec4(this[0],this[1],this[1],this[1])}get xyyz(){return new this._Vec4(this[0],this[1],this[1],this[2])}get xyyw(){return new this._Vec4(this[0],this[1],this[1],this[3])}get xyzx(){return new this._Vec4(this[0],this[1],this[2],this[0])}get xyzy(){return new this._Vec4(this[0],this[1],this[2],this[1])}get xyzz(){return new this._Vec4(this[0],this[1],this[2],this[2])}get xyzw(){return new this._Vec4(this[0],this[1],this[2],this[3])}get xywx(){return new this._Vec4(this[0],this[1],this[3],this[0])}get xywy(){return new this._Vec4(this[0],this[1],this[3],this[1])}get xywz(){return new this._Vec4(this[0],this[1],this[3],this[2])}get xyww(){return new this._Vec4(this[0],this[1],this[3],this[3])}get xzxx(){return new this._Vec4(this[0],this[2],this[0],this[0])}get xzxy(){return new this._Vec4(this[0],this[2],this[0],this[1])}get xzxz(){return new this._Vec4(this[0],this[2],this[0],this[2])}get xzxw(){return new this._Vec4(this[0],this[2],this[0],this[3])}get xzyx(){return new this._Vec4(this[0],this[2],this[1],this[0])}get xzyy(){return new this._Vec4(this[0],this[2],this[1],this[1])}get xzyz(){return new this._Vec4(this[0],this[2],this[1],this[2])}get xzyw(){return new this._Vec4(this[0],this[2],this[1],this[3])}get xzzx(){return new this._Vec4(this[0],this[2],this[2],this[0])}get xzzy(){return new this._Vec4(this[0],this[2],this[2],this[1])}get xzzz(){return new this._Vec4(this[0],this[2],this[2],this[2])}get xzzw(){return new this._Vec4(this[0],this[2],this[2],this[3])}get xzwx(){return new this._Vec4(this[0],this[2],this[3],this[0])}get xzwy(){return new this._Vec4(this[0],this[2],this[3],this[1])}get xzwz(){return new this._Vec4(this[0],this[2],this[3],this[2])}get xzww(){return new this._Vec4(this[0],this[2],this[3],this[3])}get xwxx(){return new this._Vec4(this[0],this[3],this[0],this[0])}get xwxy(){return new this._Vec4(this[0],this[3],this[0],this[1])}get xwxz(){return new this._Vec4(this[0],this[3],this[0],this[2])}get xwxw(){return new this._Vec4(this[0],this[3],this[0],this[3])}get xwyx(){return new this._Vec4(this[0],this[3],this[1],this[0])}get xwyy(){return new this._Vec4(this[0],this[3],this[1],this[1])}get xwyz(){return new this._Vec4(this[0],this[3],this[1],this[2])}get xwyw(){return new this._Vec4(this[0],this[3],this[1],this[3])}get xwzx(){return new this._Vec4(this[0],this[3],this[2],this[0])}get xwzy(){return new this._Vec4(this[0],this[3],this[2],this[1])}get xwzz(){return new this._Vec4(this[0],this[3],this[2],this[2])}get xwzw(){return new this._Vec4(this[0],this[3],this[2],this[3])}get xwwx(){return new this._Vec4(this[0],this[3],this[3],this[0])}get xwwy(){return new this._Vec4(this[0],this[3],this[3],this[1])}get xwwz(){return new this._Vec4(this[0],this[3],this[3],this[2])}get xwww(){return new this._Vec4(this[0],this[3],this[3],this[3])}get yxxx(){return new this._Vec4(this[1],this[0],this[0],this[0])}get yxxy(){return new this._Vec4(this[1],this[0],this[0],this[1])}get yxxz(){return new this._Vec4(this[1],this[0],this[0],this[2])}get yxxw(){return new this._Vec4(this[1],this[0],this[0],this[3])}get yxyx(){return new this._Vec4(this[1],this[0],this[1],this[0])}get yxyy(){return new this._Vec4(this[1],this[0],this[1],this[1])}get yxyz(){return new this._Vec4(this[1],this[0],this[1],this[2])}get yxyw(){return new this._Vec4(this[1],this[0],this[1],this[3])}get yxzx(){return new this._Vec4(this[1],this[0],this[2],this[0])}get yxzy(){return new this._Vec4(this[1],this[0],this[2],this[1])}get yxzz(){return new this._Vec4(this[1],this[0],this[2],this[2])}get yxzw(){return new this._Vec4(this[1],this[0],this[2],this[3])}get yxwx(){return new this._Vec4(this[1],this[0],this[3],this[0])}get yxwy(){return new this._Vec4(this[1],this[0],this[3],this[1])}get yxwz(){return new this._Vec4(this[1],this[0],this[3],this[2])}get yxww(){return new this._Vec4(this[1],this[0],this[3],this[3])}get yyxx(){return new this._Vec4(this[1],this[1],this[0],this[0])}get yyxy(){return new this._Vec4(this[1],this[1],this[0],this[1])}get yyxz(){return new this._Vec4(this[1],this[1],this[0],this[2])}get yyxw(){return new this._Vec4(this[1],this[1],this[0],this[3])}get yyyx(){return new this._Vec4(this[1],this[1],this[1],this[0])}get yyyy(){return new this._Vec4(this[1],this[1],this[1],this[1])}get yyyz(){return new this._Vec4(this[1],this[1],this[1],this[2])}get yyyw(){return new this._Vec4(this[1],this[1],this[1],this[3])}get yyzx(){return new this._Vec4(this[1],this[1],this[2],this[0])}get yyzy(){return new this._Vec4(this[1],this[1],this[2],this[1])}get yyzz(){return new this._Vec4(this[1],this[1],this[2],this[2])}get yyzw(){return new this._Vec4(this[1],this[1],this[2],this[3])}get yywx(){return new this._Vec4(this[1],this[1],this[3],this[0])}get yywy(){return new this._Vec4(this[1],this[1],this[3],this[1])}get yywz(){return new this._Vec4(this[1],this[1],this[3],this[2])}get yyww(){return new this._Vec4(this[1],this[1],this[3],this[3])}get yzxx(){return new this._Vec4(this[1],this[2],this[0],this[0])}get yzxy(){return new this._Vec4(this[1],this[2],this[0],this[1])}get yzxz(){return new this._Vec4(this[1],this[2],this[0],this[2])}get yzxw(){return new this._Vec4(this[1],this[2],this[0],this[3])}get yzyx(){return new this._Vec4(this[1],this[2],this[1],this[0])}get yzyy(){return new this._Vec4(this[1],this[2],this[1],this[1])}get yzyz(){return new this._Vec4(this[1],this[2],this[1],this[2])}get yzyw(){return new this._Vec4(this[1],this[2],this[1],this[3])}get yzzx(){return new this._Vec4(this[1],this[2],this[2],this[0])}get yzzy(){return new this._Vec4(this[1],this[2],this[2],this[1])}get yzzz(){return new this._Vec4(this[1],this[2],this[2],this[2])}get yzzw(){return new this._Vec4(this[1],this[2],this[2],this[3])}get yzwx(){return new this._Vec4(this[1],this[2],this[3],this[0])}get yzwy(){return new this._Vec4(this[1],this[2],this[3],this[1])}get yzwz(){return new this._Vec4(this[1],this[2],this[3],this[2])}get yzww(){return new this._Vec4(this[1],this[2],this[3],this[3])}get ywxx(){return new this._Vec4(this[1],this[3],this[0],this[0])}get ywxy(){return new this._Vec4(this[1],this[3],this[0],this[1])}get ywxz(){return new this._Vec4(this[1],this[3],this[0],this[2])}get ywxw(){return new this._Vec4(this[1],this[3],this[0],this[3])}get ywyx(){return new this._Vec4(this[1],this[3],this[1],this[0])}get ywyy(){return new this._Vec4(this[1],this[3],this[1],this[1])}get ywyz(){return new this._Vec4(this[1],this[3],this[1],this[2])}get ywyw(){return new this._Vec4(this[1],this[3],this[1],this[3])}get ywzx(){return new this._Vec4(this[1],this[3],this[2],this[0])}get ywzy(){return new this._Vec4(this[1],this[3],this[2],this[1])}get ywzz(){return new this._Vec4(this[1],this[3],this[2],this[2])}get ywzw(){return new this._Vec4(this[1],this[3],this[2],this[3])}get ywwx(){return new this._Vec4(this[1],this[3],this[3],this[0])}get ywwy(){return new this._Vec4(this[1],this[3],this[3],this[1])}get ywwz(){return new this._Vec4(this[1],this[3],this[3],this[2])}get ywww(){return new this._Vec4(this[1],this[3],this[3],this[3])}get zxxx(){return new this._Vec4(this[2],this[0],this[0],this[0])}get zxxy(){return new this._Vec4(this[2],this[0],this[0],this[1])}get zxxz(){return new this._Vec4(this[2],this[0],this[0],this[2])}get zxxw(){return new this._Vec4(this[2],this[0],this[0],this[3])}get zxyx(){return new this._Vec4(this[2],this[0],this[1],this[0])}get zxyy(){return new this._Vec4(this[2],this[0],this[1],this[1])}get zxyz(){return new this._Vec4(this[2],this[0],this[1],this[2])}get zxyw(){return new this._Vec4(this[2],this[0],this[1],this[3])}get zxzx(){return new this._Vec4(this[2],this[0],this[2],this[0])}get zxzy(){return new this._Vec4(this[2],this[0],this[2],this[1])}get zxzz(){return new this._Vec4(this[2],this[0],this[2],this[2])}get zxzw(){return new this._Vec4(this[2],this[0],this[2],this[3])}get zxwx(){return new this._Vec4(this[2],this[0],this[3],this[0])}get zxwy(){return new this._Vec4(this[2],this[0],this[3],this[1])}get zxwz(){return new this._Vec4(this[2],this[0],this[3],this[2])}get zxww(){return new this._Vec4(this[2],this[0],this[3],this[3])}get zyxx(){return new this._Vec4(this[2],this[1],this[0],this[0])}get zyxy(){return new this._Vec4(this[2],this[1],this[0],this[1])}get zyxz(){return new this._Vec4(this[2],this[1],this[0],this[2])}get zyxw(){return new this._Vec4(this[2],this[1],this[0],this[3])}get zyyx(){return new this._Vec4(this[2],this[1],this[1],this[0])}get zyyy(){return new this._Vec4(this[2],this[1],this[1],this[1])}get zyyz(){return new this._Vec4(this[2],this[1],this[1],this[2])}get zyyw(){return new this._Vec4(this[2],this[1],this[1],this[3])}get zyzx(){return new this._Vec4(this[2],this[1],this[2],this[0])}get zyzy(){return new this._Vec4(this[2],this[1],this[2],this[1])}get zyzz(){return new this._Vec4(this[2],this[1],this[2],this[2])}get zyzw(){return new this._Vec4(this[2],this[1],this[2],this[3])}get zywx(){return new this._Vec4(this[2],this[1],this[3],this[0])}get zywy(){return new this._Vec4(this[2],this[1],this[3],this[1])}get zywz(){return new this._Vec4(this[2],this[1],this[3],this[2])}get zyww(){return new this._Vec4(this[2],this[1],this[3],this[3])}get zzxx(){return new this._Vec4(this[2],this[2],this[0],this[0])}get zzxy(){return new this._Vec4(this[2],this[2],this[0],this[1])}get zzxz(){return new this._Vec4(this[2],this[2],this[0],this[2])}get zzxw(){return new this._Vec4(this[2],this[2],this[0],this[3])}get zzyx(){return new this._Vec4(this[2],this[2],this[1],this[0])}get zzyy(){return new this._Vec4(this[2],this[2],this[1],this[1])}get zzyz(){return new this._Vec4(this[2],this[2],this[1],this[2])}get zzyw(){return new this._Vec4(this[2],this[2],this[1],this[3])}get zzzx(){return new this._Vec4(this[2],this[2],this[2],this[0])}get zzzy(){return new this._Vec4(this[2],this[2],this[2],this[1])}get zzzz(){return new this._Vec4(this[2],this[2],this[2],this[2])}get zzzw(){return new this._Vec4(this[2],this[2],this[2],this[3])}get zzwx(){return new this._Vec4(this[2],this[2],this[3],this[0])}get zzwy(){return new this._Vec4(this[2],this[2],this[3],this[1])}get zzwz(){return new this._Vec4(this[2],this[2],this[3],this[2])}get zzww(){return new this._Vec4(this[2],this[2],this[3],this[3])}get zwxx(){return new this._Vec4(this[2],this[3],this[0],this[0])}get zwxy(){return new this._Vec4(this[2],this[3],this[0],this[1])}get zwxz(){return new this._Vec4(this[2],this[3],this[0],this[2])}get zwxw(){return new this._Vec4(this[2],this[3],this[0],this[3])}get zwyx(){return new this._Vec4(this[2],this[3],this[1],this[0])}get zwyy(){return new this._Vec4(this[2],this[3],this[1],this[1])}get zwyz(){return new this._Vec4(this[2],this[3],this[1],this[2])}get zwyw(){return new this._Vec4(this[2],this[3],this[1],this[3])}get zwzx(){return new this._Vec4(this[2],this[3],this[2],this[0])}get zwzy(){return new this._Vec4(this[2],this[3],this[2],this[1])}get zwzz(){return new this._Vec4(this[2],this[3],this[2],this[2])}get zwzw(){return new this._Vec4(this[2],this[3],this[2],this[3])}get zwwx(){return new this._Vec4(this[2],this[3],this[3],this[0])}get zwwy(){return new this._Vec4(this[2],this[3],this[3],this[1])}get zwwz(){return new this._Vec4(this[2],this[3],this[3],this[2])}get zwww(){return new this._Vec4(this[2],this[3],this[3],this[3])}get wxxx(){return new this._Vec4(this[3],this[0],this[0],this[0])}get wxxy(){return new this._Vec4(this[3],this[0],this[0],this[1])}get wxxz(){return new this._Vec4(this[3],this[0],this[0],this[2])}get wxxw(){return new this._Vec4(this[3],this[0],this[0],this[3])}get wxyx(){return new this._Vec4(this[3],this[0],this[1],this[0])}get wxyy(){return new this._Vec4(this[3],this[0],this[1],this[1])}get wxyz(){return new this._Vec4(this[3],this[0],this[1],this[2])}get wxyw(){return new this._Vec4(this[3],this[0],this[1],this[3])}get wxzx(){return new this._Vec4(this[3],this[0],this[2],this[0])}get wxzy(){return new this._Vec4(this[3],this[0],this[2],this[1])}get wxzz(){return new this._Vec4(this[3],this[0],this[2],this[2])}get wxzw(){return new this._Vec4(this[3],this[0],this[2],this[3])}get wxwx(){return new this._Vec4(this[3],this[0],this[3],this[0])}get wxwy(){return new this._Vec4(this[3],this[0],this[3],this[1])}get wxwz(){return new this._Vec4(this[3],this[0],this[3],this[2])}get wxww(){return new this._Vec4(this[3],this[0],this[3],this[3])}get wyxx(){return new this._Vec4(this[3],this[1],this[0],this[0])}get wyxy(){return new this._Vec4(this[3],this[1],this[0],this[1])}get wyxz(){return new this._Vec4(this[3],this[1],this[0],this[2])}get wyxw(){return new this._Vec4(this[3],this[1],this[0],this[3])}get wyyx(){return new this._Vec4(this[3],this[1],this[1],this[0])}get wyyy(){return new this._Vec4(this[3],this[1],this[1],this[1])}get wyyz(){return new this._Vec4(this[3],this[1],this[1],this[2])}get wyyw(){return new this._Vec4(this[3],this[1],this[1],this[3])}get wyzx(){return new this._Vec4(this[3],this[1],this[2],this[0])}get wyzy(){return new this._Vec4(this[3],this[1],this[2],this[1])}get wyzz(){return new this._Vec4(this[3],this[1],this[2],this[2])}get wyzw(){return new this._Vec4(this[3],this[1],this[2],this[3])}get wywx(){return new this._Vec4(this[3],this[1],this[3],this[0])}get wywy(){return new this._Vec4(this[3],this[1],this[3],this[1])}get wywz(){return new this._Vec4(this[3],this[1],this[3],this[2])}get wyww(){return new this._Vec4(this[3],this[1],this[3],this[3])}get wzxx(){return new this._Vec4(this[3],this[2],this[0],this[0])}get wzxy(){return new this._Vec4(this[3],this[2],this[0],this[1])}get wzxz(){return new this._Vec4(this[3],this[2],this[0],this[2])}get wzxw(){return new this._Vec4(this[3],this[2],this[0],this[3])}get wzyx(){return new this._Vec4(this[3],this[2],this[1],this[0])}get wzyy(){return new this._Vec4(this[3],this[2],this[1],this[1])}get wzyz(){return new this._Vec4(this[3],this[2],this[1],this[2])}get wzyw(){return new this._Vec4(this[3],this[2],this[1],this[3])}get wzzx(){return new this._Vec4(this[3],this[2],this[2],this[0])}get wzzy(){return new this._Vec4(this[3],this[2],this[2],this[1])}get wzzz(){return new this._Vec4(this[3],this[2],this[2],this[2])}get wzzw(){return new this._Vec4(this[3],this[2],this[2],this[3])}get wzwx(){return new this._Vec4(this[3],this[2],this[3],this[0])}get wzwy(){return new this._Vec4(this[3],this[2],this[3],this[1])}get wzwz(){return new this._Vec4(this[3],this[2],this[3],this[2])}get wzww(){return new this._Vec4(this[3],this[2],this[3],this[3])}get wwxx(){return new this._Vec4(this[3],this[3],this[0],this[0])}get wwxy(){return new this._Vec4(this[3],this[3],this[0],this[1])}get wwxz(){return new this._Vec4(this[3],this[3],this[0],this[2])}get wwxw(){return new this._Vec4(this[3],this[3],this[0],this[3])}get wwyx(){return new this._Vec4(this[3],this[3],this[1],this[0])}get wwyy(){return new this._Vec4(this[3],this[3],this[1],this[1])}get wwyz(){return new this._Vec4(this[3],this[3],this[1],this[2])}get wwyw(){return new this._Vec4(this[3],this[3],this[1],this[3])}get wwzx(){return new this._Vec4(this[3],this[3],this[2],this[0])}get wwzy(){return new this._Vec4(this[3],this[3],this[2],this[1])}get wwzz(){return new this._Vec4(this[3],this[3],this[2],this[2])}get wwzw(){return new this._Vec4(this[3],this[3],this[2],this[3])}get wwwx(){return new this._Vec4(this[3],this[3],this[3],this[0])}get wwwy(){return new this._Vec4(this[3],this[3],this[3],this[1])}get wwwz(){return new this._Vec4(this[3],this[3],this[3],this[2])}get wwww(){return new this._Vec4(this[3],this[3],this[3],this[3])}},i1=class extends mN{static{o(this,"U")}e0;e1;constructor(e,n){super(2),this.e0=this.castElement()(e),this.e1=this.castElement()(n??e)}get 0(){return this.e0}get 1(){return this.e1}set 0(e){this.e0=this.castElement()(e)}set 1(e){this.e1=this.castElement()(e)}get x(){return this[0]}get y(){return this[1]}set x(e){this[0]=this.castElement()(e)}set y(e){this[1]=this.castElement()(e)}},o1=class extends mN{static{o(this,"N")}e0;e1;e2;constructor(e,n,r){super(3),this.e0=this.castElement()(e),this.e1=this.castElement()(n??e),this.e2=this.castElement()(r??e)}get 0(){return this.e0}get 1(){return this.e1}get 2(){return this.e2}set 0(e){this.e0=this.castElement()(e)}set 1(e){this.e1=this.castElement()(e)}set 2(e){this.e2=this.castElement()(e)}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=this.castElement()(e)}set y(e){this[1]=this.castElement()(e)}set z(e){this[2]=this.castElement()(e)}},a1=class extends mN{static{o(this,"R")}e0;e1;e2;e3;constructor(e,n,r,s){super(4),this.e0=this.castElement()(e),this.e1=this.castElement()(n??e),this.e2=this.castElement()(r??e),this.e3=this.castElement()(s??e)}get 0(){return this.e0}get 1(){return this.e1}get 2(){return this.e2}get 3(){return this.e3}set 0(e){this.e0=this.castElement()(e)}set 1(e){this.e1=this.castElement()(e)}set 2(e){this.e2=this.castElement()(e)}set 3(e){this.e3=this.castElement()(e)}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set w(e){this[3]=e}},gN=class wK extends i1{static{o(this,"e11")}get[j](){return{elementSchema:se}}get kind(){return"vec2f"}get _Vec2(){return wK}get _Vec3(){return vN}get _Vec4(){return kN}},yN=class vK extends i1{static{o(this,"e12")}get[j](){return{elementSchema:jn}}get kind(){return"vec2h"}get _Vec2(){return vK}get _Vec3(){return EN}get _Vec4(){return AN}},bN=class EK extends i1{static{o(this,"e13")}get[j](){return{elementSchema:Lt}}get kind(){return"vec2i"}get _Vec2(){return EK}get _Vec3(){return xN}get _Vec4(){return CN}},_N=class xK extends i1{static{o(this,"e14")}get[j](){return{elementSchema:De}}get kind(){return"vec2u"}get _Vec2(){return xK}get _Vec3(){return SN}get _Vec4(){return IN}},wN=class SK extends i1{static{o(this,"e15")}get[j](){return{elementSchema:_n}}get kind(){return"vec2<bool>"}get _Vec2(){return SK}get _Vec3(){return TN}get _Vec4(){return RN}},vN=class TK extends o1{static{o(this,"e16")}get[j](){return{elementSchema:se}}get kind(){return"vec3f"}get _Vec2(){return gN}get _Vec3(){return TK}get _Vec4(){return kN}},EN=class kK extends o1{static{o(this,"e17")}get[j](){return{elementSchema:jn}}get kind(){return"vec3h"}get _Vec2(){return yN}get _Vec3(){return kK}get _Vec4(){return AN}},xN=class AK extends o1{static{o(this,"e18")}get[j](){return{elementSchema:Lt}}get kind(){return"vec3i"}get _Vec2(){return bN}get _Vec3(){return AK}get _Vec4(){return CN}},SN=class CK extends o1{static{o(this,"e19")}get[j](){return{elementSchema:De}}get kind(){return"vec3u"}get _Vec2(){return _N}get _Vec3(){return CK}get _Vec4(){return IN}},TN=class IK extends o1{static{o(this,"e20")}get[j](){return{elementSchema:_n}}get kind(){return"vec3<bool>"}get _Vec2(){return wN}get _Vec3(){return IK}get _Vec4(){return RN}},kN=class RK extends a1{static{o(this,"e21")}get[j](){return{elementSchema:se}}get kind(){return"vec4f"}get _Vec2(){return gN}get _Vec3(){return vN}get _Vec4(){return RK}},AN=class OK extends a1{static{o(this,"e22")}get[j](){return{elementSchema:jn}}get kind(){return"vec4h"}get _Vec2(){return yN}get _Vec3(){return EN}get _Vec4(){return OK}},CN=class NK extends a1{static{o(this,"e23")}get[j](){return{elementSchema:Lt}}get kind(){return"vec4i"}get _Vec2(){return bN}get _Vec3(){return xN}get _Vec4(){return NK}},IN=class MK extends a1{static{o(this,"e24")}get[j](){return{elementSchema:De}}get kind(){return"vec4u"}get _Vec2(){return _N}get _Vec3(){return SN}get _Vec4(){return MK}},RN=class DK extends a1{static{o(this,"e25")}get[j](){return{elementSchema:_n}}get kind(){return"vec4<bool>"}get _Vec2(){return wN}get _Vec3(){return TN}get _Vec4(){return DK}},Wt=ks(gN,se),_a=ks(yN,jn),xr=ks(bN,Lt),Zs=ks(_N,De),uh=ks(wN,_n),Ar=ks(vN,se),wa=ks(EN,jn),li=ks(xN,Lt),Un=ks(SN,De),ch=ks(TN,_n),ie=ks(kN,se),va=ks(AN,jn),Kt=ks(CN,Lt),un=ks(IN,De),fh=ks(RN,_n),Dv={vec2f:Wt,vec2h:_a,vec2i:xr,vec2u:Zs,"vec2<bool>":uh,vec3f:Ar,vec3h:wa,vec3i:li,vec3u:Un,"vec3<bool>":ch,vec4f:ie,vec4h:va,vec4i:Kt,vec4u:un,"vec4<bool>":fh};function ks(t,e){let{kind:n,length:r}=new t,s=ge({name:n,signature:o((...a)=>({argTypes:a.map(l=>{let u=Xu(l);return xl(u)?u:e}),returnType:i}),"signature"),normalImpl:o((...a)=>{let l=new Array(a.length),u=0;for(let c of a)if(typeof c=="number"||typeof c=="boolean")l[u++]=c;else for(let f=0;f<c.length;++f)l[u++]=c[f];if(l.length<=1||l.length===r)return new t(...l);throw new Error(`'${n}' constructor called with invalid number of arguments.`)},"normalImpl"),ignoreImplicitCastWarning:!0,codegenImpl:o((...a)=>ne`${n}(${a})`,"codegenImpl")}),i=Object.assign(s,{type:n,primitive:e,[Qp]:void 0});return i}o(ks,"f$1");var Zu={uint8:De,uint8x2:Zs,uint8x4:un,sint8:Lt,sint8x2:xr,sint8x4:Kt,unorm8:se,unorm8x2:Wt,unorm8x4:ie,snorm8:se,snorm8x2:Wt,snorm8x4:ie,uint16:De,uint16x2:Zs,uint16x4:un,sint16:Lt,sint16x2:xr,sint16x4:Kt,unorm16:se,unorm16x2:Wt,unorm16x4:ie,snorm16:se,snorm16x2:Wt,snorm16x4:ie,float16:se,float16x2:Wt,float16x4:ie,float32:se,float32x2:Wt,float32x3:Ar,float32x4:ie,uint32:De,uint32x2:Zs,uint32x3:Un,uint32x4:un,sint32:Lt,sint32x2:xr,sint32x3:li,sint32x4:Kt,"unorm10-10-10-2":ie,"unorm8x4-bgra":ie},PK=new Set(Object.keys(Zu));function HDe(t){return Nt(t)&&PK.has(t?.type)}o(HDe,"ds");function ry(t){let e=String(t);if(e!=="[object Object]")return e;try{return JSON.stringify(t)}catch(n){return console.error("Error parsing JSON:",n),"<invalid json>"}}o(ry,"Pt$1");function qC(t){return fn(t)||Xo(t)?t.toString():Array.isArray(t)?`[${t.map(qC).join(", ")}]`:t&&typeof t=="object"?`{ ${Object.entries(t).map(([e,n])=>`${e}: ${qC(n)}`).join(", ")} }`:String(t)}o(qC,"Ft$1");var qDe={f32:4,f16:2,i32:4,u32:4,bool:4,u16:2,vec2f:8,vec2h:4,vec2i:8,vec2u:8,vec2b:8,vec3f:16,vec3h:8,vec3i:16,vec3u:16,vec3b:16,vec4f:16,vec4h:8,vec4i:16,vec4u:16,vec4b:16,mat2x2f:8,mat3x3f:16,mat4x4f:16,atomic:4};function GDe(t){let e=t?.type,n=qDe[e];if(n!==void 0)return n;if(xs(t))return Object.values(t.propTypes).map(Cn).reduce((r,s)=>r>s?r:s);if(po(t))return Cn(t.elementType);if(pc(t)){let r=Object.values(t.propTypes)[0];return r?Wg(r)??1:1}if(em(t))return Wg(t.elementType)??1;if(ah(t)||lh(t))return Wg(t)??Cn(t.inner);if(PK.has(e))return 1;throw new Error(`Cannot determine alignment of data: ${ry(t)}`)}o(GDe,"gn$1");function KDe(t){if(pc(t)){let e=Object.values(t.propTypes)[0];return e?Ni(e):1}return em(t)?Ni(t.elementType):lh(t)?Wg(t)??Ni(t.inner):Wg(t)??1}o(KDe,"vn$1");var X8=new WeakMap,J8=new WeakMap;function Cn(t){let e=X8.get(t);return e===void 0&&(e=GDe(t),X8.set(t,e)),e}o(Cn,"V");function Ni(t){let e=J8.get(t);return e===void 0&&(e=KDe(t),J8.set(t,e)),e}o(Ni,"re$1");var ii=o((t,e)=>{let n=e-1,r=~n;return(t&n)===0?t:(t&r)+e},"ie$2"),YDe={bool:4,f32:4,f16:2,i32:4,u32:4,u16:2,vec2f:8,vec2h:4,vec2i:8,vec2u:8,"vec2<bool>":8,vec3f:12,vec3h:6,vec3i:12,vec3u:12,"vec3<bool>":12,vec4f:16,vec4h:8,vec4i:16,vec4u:16,"vec4<bool>":16,mat2x2f:16,mat3x3f:48,mat4x4f:64,uint8:1,uint8x2:2,uint8x4:4,sint8:1,sint8x2:2,sint8x4:4,unorm8:1,unorm8x2:2,unorm8x4:4,snorm8:1,snorm8x2:2,snorm8x4:4,uint16:2,uint16x2:4,uint16x4:8,sint16:2,sint16x2:4,sint16x4:8,unorm16:2,unorm16x2:4,unorm16x4:8,snorm16:2,snorm16x2:4,snorm16x4:8,float16:2,float16x2:4,float16x4:8,float32:4,float32x2:8,float32x3:12,float32x4:16,uint32:4,uint32x2:8,uint32x3:12,uint32x4:16,sint32:4,sint32x2:8,sint32x3:12,sint32x4:16,"unorm10-10-10-2":4,"unorm8x4-bgra":4,atomic:4};function XDe(t){let e=0,n=t.propTypes;for(let r of Object.values(n)){if(Number.isNaN(e))throw new Error("Only the last property of a struct can be unbounded");if(e=ii(e,Cn(r)),e+=mt(r),Number.isNaN(e)&&r.type!=="array")throw new Error("Cannot nest unbounded struct within another struct")}return ii(e,Cn(t))}o(XDe,"Vn$1");function JDe(t){let e=0,n=t.propTypes;for(let r of Object.values(n)){let s=Ni(r);e=ii(e,s),e+=mt(r)}return e}o(JDe,"zn$1");function ZDe(t){let e=YDe[t?.type];if(e!==void 0)return e;if(xs(t))return XDe(t);if(pc(t))return JDe(t);if(po(t)){if(t.elementCount===0)return Number.NaN;let n=Cn(t.elementType);return ii(mt(t.elementType),n)*t.elementCount}if(em(t)){let n=Ni(t.elementType);return ii(mt(t.elementType),n)*t.elementCount}if(ah(t)||lh(t))return vDe(t)??mt(t.inner);throw new Error(`Cannot determine size of data: ${t}`)}o(ZDe,"Sn$1");var Z8=new WeakMap;function mt(t){let e=Z8.get(t);return e===void 0&&(e=ZDe(t),Z8.set(t,e)),e}o(mt,"z");function $7e(t){return mt(t)}o($7e,"$s");function $K(t,e){return ah(t)?new Q8(t.inner,[e,...t.attribs]):lh(t)?new e5(t.inner,[e,...t.attribs]):s1(t)?new e5(t,[e]):new Q8(t,[e])}o($K,"W");function GC(t,e){return $K(e,{[j]:!0,type:"@location",params:[t]})}o(GC,"Ws");function l1(t){return(ah(t)||lh(t))&&t.attribs.find(yDe)!==void 0}o(l1,"In$1");function ON(t){return!ah(t)&&!lh(t)?"":t.attribs.map(e=>e.params.length===0?`${e.type} `:`${e.type}(${e.params.join(", ")}) `).join("")}o(ON,"Ms$1");var LK=class{static{o(this,"$e")}constructor(e,n){this.inner=e,this.attribs=n;let r=n.find(eK)?.params[0],s=n.find(tK)?.params[0];if(r!==void 0){if(r<=0)throw new Error(`Custom data alignment must be a positive number, got: ${r}.`);if(Math.log2(r)%1!==0)throw new Error(`Alignment has to be a power of 2, got: ${r}.`);if(oh(this.inner)&&r%Cn(this.inner)!==0)throw new Error(`Custom alignment has to be a multiple of the standard data alignment. Got: ${r}, expected multiple of: ${Cn(this.inner)}.`)}if(s!==void 0){if(s<mt(this.inner))throw new Error(`Custom data size cannot be smaller then the standard data size. Got: ${s}, expected at least: ${mt(this.inner)}.`);if(s<=0)throw new Error(`Custom data size must be a positive number. Got: ${s}.`)}}[j]=!0},Q8=class extends LK{static{o(this,"ke")}[j]=!0;type="decorated"},e5=class extends LK{static{o(this,"Fe")}[j]=!0;type="loose-decorated"};function sy(t,e){let n=t?.type,r=n in Zu?Zu[n]:t;return typeof r!="function"?e:e===void 0?r():r(e)}o(sy,"Pe$2");function FK(t){return BK(t,!1)}o(FK,"qs");function sr(t){return BK(t,!0)}o(sr,"Js");function BK(t,e){let n=o(r=>Object.fromEntries(Object.entries(t).map(([s,i])=>[s,sy(i,r?.[s])])),"n");return Object.setPrototypeOf(n,QDe),n.propTypes=t,Object.defineProperty(n,j,{value:{isAbstruct:e}}),n}o(BK,"Nt$1");var QDe={type:"struct",$name(t){return Ut(this,t),this},toString(){return`struct:${Se(this)??"<unnamed>"}`}},iy=dr(((t,e)=>e===void 0?n=>jT(t,n):jT(t,e)),(t,e)=>{if(e?.value===void 0){let n=o(r=>iy[j].gpuImpl(t,r),"n");return n[j]=!0,oe(n,cs)}if(typeof e.value!="number")throw new Error(`Cannot create array schema with count unknown at compile-time: '${e.value}'`);return oe(jT(t.value,e.value),t.value)},"arrayOf");function jT(t,e){let n=o(r=>{if(r&&r.length!==e)throw new Error(`Array schema of ${e} elements of type ${t.type} called with ${r.length} argument(s).`);return Array.from({length:e},(s,i)=>sy(t,r?.[i]))},"n");if(Object.setPrototypeOf(n,e4e),Number.isNaN(mt(t)))throw new Error("Cannot nest runtime sized arrays.");if(n.elementType=t,!Number.isInteger(e)||e<0)throw new Error(`Cannot create array schema with invalid element count: ${e}.`);return n.elementCount=e,n}o(jT,"Ke$1");var e4e={[j]:!0,type:"array",toString(){return`arrayOf(${this.elementType}, ${this.elementCount})`}};function es(t,e){return $K(t,{[j]:!0,type:"@builtin",params:[e]})}o(es,"w$1");var t4e={vertexIndex:es(De,"vertex_index"),instanceIndex:es(De,"instance_index"),position:es(ie,"position"),clipDistances:es(iy(De,8),"clip_distances"),frontFacing:es(_n,"front_facing"),fragDepth:es(se,"frag_depth"),sampleIndex:es(De,"sample_index"),sampleMask:es(De,"sample_mask"),localInvocationId:es(Un,"local_invocation_id"),localInvocationIndex:es(De,"local_invocation_index"),globalInvocationId:es(Un,"global_invocation_id"),workgroupId:es(Un,"workgroup_id"),numWorkgroups:es(Un,"num_workgroups"),subgroupInvocationId:es(De,"subgroup_invocation_id"),subgroupSize:es(De,"subgroup_size")},n4e={block:0,binaryExpr:1,assignmentExpr:2,logicalExpr:3,unaryExpr:4,numericLiteral:5,call:6,memberAccess:7,indexAccess:8,return:10,if:11,let:12,const:13,for:14,while:15,continue:16,break:17,arrayExpr:100,preUpdate:101,postUpdate:102,stringLiteral:103,objectExpr:104},KC={identifier:"i",destructuredObject:"d"},r4e=1;const s4e=Object.freeze(Object.defineProperty({__proto__:null,FORMAT_VERSION:r4e,FuncParameterType:KC,NodeTypeCatalog:n4e},Symbol.toStringTag,{value:"Module"}));function qg(t,e){for(let[n,r]of Object.entries(e))t[n]=r,r&&(typeof r=="object"||typeof r=="function")&&Se(r)===void 0&&Ut(r,n)}o(qg,"S$1");function i4e(t,e,n){let r=[...t.matchAll(/:\s*(?<arg>.*?)\s*[,)]/g)].map(s=>s?s[1]:void 0);n(Object.fromEntries(e.flatMap((s,i)=>{let a=r?r[i]:void 0;return xs(s)&&a!==void 0?[[a,s]]:[]})))}o(i4e,"Se");function UK(t,e,n){let r=t.match(/->\s(?<output>[\w\d_]+)\s{/),s=r?r[1]?.trim():void 0;xs(e)&&s&&!/\s/g.test(s)&&n({[s]:e})}o(UK,"$e$1");function o4e(t){return new RegExp(`(?<![\\w\\$_.])${t.replaceAll(".","\\.").replaceAll("$","\\$")}(?![\\w\\$_])`,"g")}o(o4e,"ue");function Px(t,e,n){return Object.entries(e).reduce((r,[s,i])=>{let a=o4e(s);if(n&&s!=="Out"&&s!=="In"&&!a.test(n)&&console.warn(`The external '${s}' wasn't used in the resolved template.`),CDe(i)||s1(i)||jg(i))return r.replaceAll(a,t.resolve(i).value);if(i!==null&&typeof i=="object"){let l=[...n.matchAll(new RegExp(`${s.replaceAll(".","\\.").replaceAll("$","\\$")}\\.(?<prop>.*?)(?![\\w\\$_])`,"g"))].map(u=>u[1]);return[...new Set(l)].reduce((u,c)=>c&&c in i?Px(t,{[`${s}.${c}`]:i[c]},u):u,r)}return console.warn(`During resolution, the external '${s}' has been omitted. Only primitives, TGPU resources and plain JS objects can be used as externals.`),r},n)}o(Px,"R");function a4e(t){let{strippedCode:e,argRange:n}=l4e(t),r=new zK(e);r.consume("(");let s=[];for(;!r.isAt(")");){let a=[];for(;r.isAt("@");)r.parseUntil(t5,n5),r.consume(")"),a.push(r.lastParsed);r.parseUntil(c4e);let l=r.lastParsed,u;r.isAt(":")&&(r.consume(":"),r.parseUntil(f4e,d4e),u=r.lastParsed),s.push({identifier:l,attributes:a,type:u}),r.isAt(",")&&r.consume(",")}r.consume(")");let i;if(r.isAt("->")){r.consume("->");let a=[];for(;r.isAt("@");)r.parseUntil(t5,n5),r.consume(")"),a.push(r.lastParsed);i={type:r.str.slice(r.pos),attributes:a}}return{args:s,ret:i,range:{begin:n[0],end:n[1]}}}o(a4e,"Y$1");function l4e(t){let e=new zK(t),n="",r;for(;!e.isFinished();){if(e.isAt(u4e)){e.advanceBy(1);continue}if(e.isAt("//")){e.consume("//"),e.parseUntil(VK),e.advanceBy(1);continue}if(e.isAt("/*")){e.parseUntil(h4e,p4e),e.consume("*/");continue}if(e.isAt("{"))return{strippedCode:n,argRange:[r,e.pos]};e.isAt("(")&&r===void 0&&(r=e.pos),r!==void 0&&(n+=e.str[e.pos]),e.advanceBy(1)}throw new Error("Invalid wgsl code!")}o(l4e,"pe$1");var zK=class{static{o(this,"$")}constructor(e){this.str=e,this.#t=0}#e;#t;get pos(){return this.#t}get lastParsed(){if(this.#e===void 0)throw new Error("Parse was not called yet!");return this.str.slice(this.#e,this.pos)}isFinished(){return this.#t>=this.str.length}isAt(e){if(typeof e=="string"){for(let n=0;n<e.length;n++)if(this.str[this.#t+n]!==e[n])return!1;return!0}for(let n of e)if(this.isAt(n))return!0;return!1}parseUntil(e,n){this.#e=this.#t;let r=0;for(;this.#t<this.str.length;){if(n&&this.isAt(n[0])&&(r+=1),n&&this.isAt(n[1])&&(r-=1),r===0&&this.isAt(e))return this.#t;this.#t+=1}throw new Error("Reached the end of the string without finding a match!")}advanceBy(e){this.#t+=e}consume(e){if(!this.isAt(e))throw new Error(`Expected '${e}' at position ${this.#t}, but found '${this.str.slice(this.#t,this.#t+e.length)}'`);this.advanceBy(e.length)}},VK=new Set([`
`,"\v","\f","\r","","\u2028","\u2029"]),u4e=new Set([...VK," ","	","",""]),t5=new Set([")"]),c4e=new Set([":",",",")"]),f4e=new Set([",",")"]),h4e=new Set(["*/"]),n5=["(",")"],d4e=["<",">"],p4e=["/*","*/"];function u1(t,e=""){let n=[],r={applyExternals(i){n.push(i)},resolve(i,a,l){let u={};for(let v of n)qg(u,v);let c=i.getUniqueName(this);if(typeof t=="string"){if(!l)throw new Error("Explicit return type is required for string implementation");let v=Px(i,u,t),k="",C="";if(e!==""){let I=xs(a[0])?`(in: ${i.resolve(a[0]).value})`:"()",x=oh(l)?ON(l):"",E=l!==Ms?xs(l)?`-> ${i.resolve(l).value}`:`-> ${x!==""?x:"@location(0)"} ${i.resolve(l).value}`:"";k=`${I} ${E} `,C=v}else{let I=a4e(v);if(I.args.length!==a.length)throw new Error(`WGSL implementation has ${I.args.length} arguments, while the shell has ${a.length} arguments.`);let x=I.args.map((T,O)=>`${T.identifier}: ${r5(i,`parameter ${T.identifier}`,T.type,a[O])}`).join(", "),E=l===Ms?"":`-> ${r5(i,"return type",I.ret?.type,l)}`;k=`(${x}) ${E}`,C=v.slice(I.range.end)}return i.addDeclaration(`${e}fn ${c}${k}${C}`),oe(c,l)}let f=Nx(t);if(f?.externals){let v=Object.fromEntries(Object.entries(f.externals).filter(([k])=>!(k in u)));qg(u,v)}let h=f?.ast;if(!h)throw new Error("Missing metadata for tgpu.fn function body (either missing 'use gpu' directive, or misconfigured `unplugin-typegpu`)");let d=h.externalNames.filter(v=>!(v in u));if(d.length>0)throw new TDe(Se(this),d);let p=h.params[1];p&&p.type==="i"&&e!==""&&qg(u,{[p.name]:Xu(l)});let m=[],y=[];for(let[v,k]of a.entries()){let C=h.params[v];switch(C?.type){case KC.identifier:{let I=C.name,x=oe(i.makeNameValid(I),k);m.push(x),x.value!==I&&y.push([I,x]);break}case KC.destructuredObject:{m.push(oe(`_arg_${v}`,k)),y.push(...C.props.map(({name:I,alias:x})=>[x,oe(`_arg_${v}.${I}`,a[v].propTypes[I])]));break}case void 0:m.push(oe(`_arg_${v}`,k))}}let{head:b,body:_,returnType:S}=i.fnToWgsl({args:m,argAliases:Object.fromEntries(y),returnType:l,body:h.body,externalMap:u});return i.addDeclaration(`${e}fn ${c}${i.resolve(b).value}${i.resolve(_).value}`),oe(c,S)}},s=Se(t);return s!==void 0&&Ut(r,s),r}o(u1,"ne$1");function r5(t,e,n,r){let s=t.resolve(r).value.replace(/\s/g,"");if(!n)return s;let i=n.replace(/\s/g,"");if(i!==s)throw new Error(`Type mismatch between TGPU shell and WGSL code string: ${e}, JS type "${s}", WGSL type "${i}".`);return n}o(r5,"te$1");function m4e(t,e={}){let n=0,r=new Set;return Object.fromEntries(Object.entries(t??{}).map(([s,i])=>{let a=Ju(i);if(a!==void 0){if(r.has(a))throw new Error("Duplicate custom location attributes found");r.add(a)}return[s,i]}).map(([s,i])=>{if(l1(i))return[s,i];if(Ju(i)!==void 0)return[s,i];if(e[s])return[s,GC(e[s],i)];for(;r.has(n);)n++;return[s,GC(n++,i)]}))}o(m4e,"xe$1");function c1(t,e={}){return tm(t)?nK(t)||Ju(t)!==void 0?t:GC(0,t):FK(m4e(t,e))}o(c1,"F");function $x(t,...e){return g4e(t)?y4e(t,...e):t}o($x,"re");function g4e(t){return Array.isArray(t)&&"raw"in t&&Array.isArray(t.raw)&&t.raw.every(e=>typeof e=="string")}o(g4e,"ye$1");function y4e(t,...e){return t.slice(1).reduce((n,r,s)=>`${n}${e[s]}${r}`,t[0])}o(y4e,"he$2");function b4e(t){if(Object.keys(t.out).length===0)throw new Error("A vertexFn output cannot be empty since it must include the 'position' builtin.");let e={in:t.in,out:t.out,argTypes:t.in&&Object.keys(t.in).length!==0?[c1(t.in)]:[],isEntry:!0},n=o((r,...s)=>_4e(e,$x(r,...s)),"r");return Object.assign(Object.assign(n,e),{does:n})}o(b4e,"Qe$1");function _4e(t,e){let n=u1(e,"@vertex "),r=t.argTypes[0];return{shell:t,$uses(s){return n.applyExternals(s),this},[j]:!0,[In]:n,$name(s){return Ut(n,s),Ox(r)&&r.$name(`${s}_Input`),this},[Ye](s){let i=c1(t.out,s.varyingLocations).$name(`${Se(this)??""}_Output`);return typeof e=="string"&&(r&&n.applyExternals({In:r}),n.applyExternals({Out:i})),n.resolve(s,t.argTypes,i)},toString(){return`vertexFn:${Se(n)??"<unnamed>"}`}}}o(_4e,"Ie$1");var NN=class{static{o(this,"Qe")}};function MN(t){let e=dr((...r)=>{let s=[];for(let i of r)if(typeof i=="number")s.push(i);else for(let a=0;a<i.length;++a)s.push(i[a]);if(s.length!==0&&s.length!==t.columns*t.rows)throw new Error(`'${t.type}' constructor called with invalid number of arguments.`);for(let i=s.length;i<t.columns*t.rows;++i)s.push(0);return new t.MatImpl(...s)},(...r)=>oe(ne`${t.type}(${r})`,n),t.type),n=Object.assign(e,{type:t.type,identity:I4e[t.columns],translation:t.columns===4?R4e:void 0,scaling:t.columns===4?O4e:void 0,rotationX:t.columns===4?N4e:void 0,rotationY:t.columns===4?M4e:void 0,rotationZ:t.columns===4?D4e:void 0});return n}o(MN,"Wt$1");var w4e=class extends NN{static{o(this,"zt")}[j]=!0;columns;length=4;constructor(...e){super(),this.columns=[this.makeColumn(e[0],e[1]),this.makeColumn(e[2],e[3])]}get 0(){return this.columns[0].x}get 1(){return this.columns[0].y}get 2(){return this.columns[1].x}get 3(){return this.columns[1].y}set 0(e){this.columns[0].x=e}set 1(e){this.columns[0].y=e}set 2(e){this.columns[1].x=e}set 3(e){this.columns[1].y=e}*[Symbol.iterator](){yield this[0],yield this[1],yield this[2],yield this[3]}[Ye](){return oe(`${this.kind}(${Array.from({length:this.length}).map((e,n)=>this[n]).join(", ")})`,Ea)}toString(){return this[Ye]().value}},v4e=class extends w4e{static{o(this,"Vt")}kind="mat2x2f";makeColumn(e,n){return Wt(e,n)}},E4e=class extends NN{static{o(this,"Ft")}[j]=!0;columns;length=12;constructor(...t){super(),this.columns=[this.makeColumn(t[0],t[1],t[2]),this.makeColumn(t[3],t[4],t[5]),this.makeColumn(t[6],t[7],t[8])]}get 0(){return this.columns[0].x}get 1(){return this.columns[0].y}get 2(){return this.columns[0].z}get 3(){return 0}get 4(){return this.columns[1].x}get 5(){return this.columns[1].y}get 6(){return this.columns[1].z}get 7(){return 0}get 8(){return this.columns[2].x}get 9(){return this.columns[2].y}get 10(){return this.columns[2].z}get 11(){return 0}set 0(t){this.columns[0].x=t}set 1(t){this.columns[0].y=t}set 2(t){this.columns[0].z=t}set 3(t){}set 4(t){this.columns[1].x=t}set 5(t){this.columns[1].y=t}set 6(t){this.columns[1].z=t}set 7(t){}set 8(t){this.columns[2].x=t}set 9(t){this.columns[2].y=t}set 10(t){this.columns[2].z=t}set 11(t){}*[Symbol.iterator](){for(let t=0;t<12;t++)yield this[t]}[Ye](){return oe(`${this.kind}(${this[0]}, ${this[1]}, ${this[2]}, ${this[4]}, ${this[5]}, ${this[6]}, ${this[8]}, ${this[9]}, ${this[10]})`,xa)}toString(){return this[Ye]().value}},x4e=class extends E4e{static{o(this,"Ct")}kind="mat3x3f";makeColumn(t,e,n){return Ar(t,e,n)}},S4e=class extends NN{static{o(this,"Pt")}[j]=!0;columns;constructor(...t){super(),this.columns=[this.makeColumn(t[0],t[1],t[2],t[3]),this.makeColumn(t[4],t[5],t[6],t[7]),this.makeColumn(t[8],t[9],t[10],t[11]),this.makeColumn(t[12],t[13],t[14],t[15])]}length=16;get 0(){return this.columns[0].x}get 1(){return this.columns[0].y}get 2(){return this.columns[0].z}get 3(){return this.columns[0].w}get 4(){return this.columns[1].x}get 5(){return this.columns[1].y}get 6(){return this.columns[1].z}get 7(){return this.columns[1].w}get 8(){return this.columns[2].x}get 9(){return this.columns[2].y}get 10(){return this.columns[2].z}get 11(){return this.columns[2].w}get 12(){return this.columns[3].x}get 13(){return this.columns[3].y}get 14(){return this.columns[3].z}get 15(){return this.columns[3].w}set 0(t){this.columns[0].x=t}set 1(t){this.columns[0].y=t}set 2(t){this.columns[0].z=t}set 3(t){this.columns[0].w=t}set 4(t){this.columns[1].x=t}set 5(t){this.columns[1].y=t}set 6(t){this.columns[1].z=t}set 7(t){this.columns[1].w=t}set 8(t){this.columns[2].x=t}set 9(t){this.columns[2].y=t}set 10(t){this.columns[2].z=t}set 11(t){this.columns[2].w=t}set 12(t){this.columns[3].x=t}set 13(t){this.columns[3].y=t}set 14(t){this.columns[3].z=t}set 15(t){this.columns[3].w=t}*[Symbol.iterator](){for(let t=0;t<16;t++)yield this[t]}[Ye](){return oe(`${this.kind}(${Array.from({length:this.length}).map((t,e)=>this[e]).join(", ")})`,Wn)}toString(){return this[Ye]().value}},T4e=class extends S4e{static{o(this,"kt")}kind="mat4x4f";makeColumn(e,n,r,s){return ie(e,n,r,s)}},k4e=dr(()=>Ea(1,0,0,1),()=>oe("mat2x2f(1, 0, 0, 1)",Ea),"identity2"),A4e=dr(()=>xa(1,0,0,0,1,0,0,0,1),()=>oe("mat3x3f(1, 0, 0, 0, 1, 0, 0, 0, 1)",xa),"identity3"),C4e=dr(()=>Wn(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),()=>oe("mat4x4f(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)",Wn),"identity4"),I4e={2:k4e,3:A4e,4:C4e},R4e=dr(t=>Wn(1,0,0,0,0,1,0,0,0,0,1,0,t.x,t.y,t.z,1),t=>oe(ne`mat4x4f(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ${t}.x, ${t}.y, ${t}.z, 1)`,Wn),"translation4"),O4e=dr(t=>Wn(t.x,0,0,0,0,t.y,0,0,0,0,t.z,0,0,0,0,1),t=>oe(ne`mat4x4f(${t}.x, 0, 0, 0, 0, ${t}.y, 0, 0, 0, 0, ${t}.z, 0, 0, 0, 0, 1)`,Wn),"scaling4"),N4e=dr(t=>Wn(1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1),t=>oe(ne`mat4x4f(1, 0, 0, 0, 0, cos(${t}), sin(${t}), 0, 0, -sin(${t}), cos(${t}), 0, 0, 0, 0, 1)`,Wn),"rotationX4"),M4e=dr(t=>Wn(Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1),t=>oe(ne`mat4x4f(cos(${t}), 0, -sin(${t}), 0, 0, 1, 0, 0, sin(${t}), 0, cos(${t}), 0, 0, 0, 0, 1)`,Wn),"rotationY4"),D4e=dr(t=>Wn(Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1,0,0,0,0,1),t=>oe(ne`mat4x4f(cos(${t}), sin(${t}), 0, 0, -sin(${t}), cos(${t}), 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)`,Wn),"rotationZ4"),Ea=MN({type:"mat2x2f",rows:2,columns:2,MatImpl:v4e}),xa=MN({type:"mat3x3f",rows:3,columns:3,MatImpl:x4e}),Wn=MN({type:"mat4x4f",rows:4,columns:4,MatImpl:T4e});function P4e(t){return t?.[$t]}o(P4e,"en$1");var $4e={f:{1:se,2:Wt,3:Ar,4:ie},h:{1:jn,2:_a,3:wa,4:va},i:{1:Lt,2:xr,3:li,4:Kt},u:{1:De,2:Zs,3:Un,4:un},b:{1:_n,2:uh,3:ch,4:fh}},L4e={vec2f:Wt,vec2h:_a,vec2i:xr,vec2u:Zs,"vec2<bool>":uh,vec3f:Ar,vec3h:wa,vec3i:li,vec3u:Un,"vec3<bool>":ch,vec4f:ie,vec4h:va,vec4i:Kt,vec4u:un,"vec4<bool>":fh,mat2x2f:Ea,mat3x3f:xa,mat4x4f:Wn};function YC(t,e){if(xs(t)||pc(t))return t.propTypes[e]??cs;if(t===_n||Sl(t))return cs;let n=e.length;if(xl(t)&&n>=1&&n<=4){let r=t.type.includes("bool")?"b":t.type[4],s=$4e[r][n];if(s)return s}return cs}o(YC,"Xe$1");var s5={mat2x2f:Wt,mat3x3f:Ar,mat4x4f:ie};function WT(t){return po(t)||em(t)?t.elementType:xl(t)?t.primitive:t.type in s5?s5[t.type]:cs}o(WT,"mt");function Pv(t){return t>=2**63||t<-9223372036854776e3?oe(t,xo):Number.isInteger(t)?(Number.isSafeInteger(t)||console.warn(`The integer ${t} exceeds the safe integer range and may have lost precision.`),oe(t,Dx)):oe(t,xo)}o(Pv,"pt$1");function oy(t){return t.type==="abstractFloat"?se:t.type==="abstractInt"?Lt:t}o(oy,"yt");function F4e(t){return t.map(e=>oe(e.value,oy(e.dataType)))}o(F4e,"os$1");function w_(t){return fN(t)?t:hN(t)||(fn(t)||Xo(t)?oe(t,L4e[t.kind]):typeof t=="string"||typeof t=="function"||typeof t=="object"||typeof t=="symbol"||typeof t>"u"||t===null?oe(t,cs):typeof t=="number"?Pv(t):typeof t=="boolean"?oe(t,_n):oe(t,cs))}o(w_,"Tt");var Oo={get(t,e){if(e in t)return Reflect.get(t,e);if(e==="toString"||e===Symbol.toStringTag||e===Symbol.toPrimitive)return()=>t.toString();if(typeof e=="symbol")return;let n=hN(t).dataType,r=YC(n,String(e));if(r.type!=="unknown")return new Proxy({[j]:!0,[Ye]:s=>oe(`${s.resolve(t).value}.${String(e)}`,r),get[Fs](){return oe(this,r)},toString:o(()=>`${String(t)}.${e}`,"toString")},Oo)}};function Lx(t){let e=t;for(;;){let n=P4e(e);if(!n)break;e=n}return e}o(Lx,"ys");function XC(t,e){return new B4e(t,e)}o(XC,"nn$1");var B4e=class{static{o(this,"Ut")}constructor(t,e){this.dataType=t,this.#e=e}[j]={};#e;$name(t){return Ut(this,t),this}[Ye](t){let e=t.getUniqueName(this),n=t.resolve(this.dataType).value,r=t.resolve(this.#e,this.dataType).value;return t.addDeclaration(`const ${e}: ${n} = ${r};`),oe(e,this.dataType)}toString(){return`const:${Se(this)??"<unnamed>"}`}get[$t](){let t=this.dataType;return new Proxy({[j]:!0,get[Fs](){return oe(this,t)},[Ye]:e=>e.resolve(this),toString:o(()=>`const:${Se(this)??"<unnamed>"}.$`,"toString")},Oo)}get value(){return Na()?this[$t]:this.#e}get $(){return this.value}};function jK(){return{[j]:!0,type:"sampler",[Qp]:void 0}}o(jK,"ws");function WK(){return{[j]:!0,type:"sampler_comparison",[Qp]:void 0}}o(WK,"Ss");function U4e(t){return!!t[j]&&t.type==="sampler"}o(U4e,"Ms");function z4e(t){return!!t[j]&&t.type==="sampler_comparison"}o(z4e,"Is");function JC(t){if("multisampled"in t){if(t.multisampled){if(t.dimension==="2d")return W4e(t.sampleType);throw new Error(`Multisampled textures only support '2d' dimension, got '${t.dimension}'`)}switch(t.dimension){case"1d":return V4e(t.sampleType);case"2d":return j4e(t.sampleType);case"2d-array":return H4e(t.sampleType);case"3d":return K4e(t.sampleType);case"cube":return q4e(t.sampleType);case"cube-array":return G4e(t.sampleType);default:throw new Error(`Unsupported texture dimension: '${t.dimension}'`)}}if(!("access"in t))throw new Error("Descriptor is neither a sampled nor a storage texture");switch(t.dimension){case"1d":return Y4e(t.format,t.access);case"2d":return X4e(t.format,t.access);case"2d-array":return J4e(t.format,t.access);case"3d":return Z4e(t.format,t.access);default:throw new Error(`Unsupported storage texture dimension: '${t.dimension}'`)}}o(JC,"Vs");function hh(t,e){let n=t.startsWith("texture_depth")?["depth","float","unfilterable-float"]:e.sampleType.type==="i32"?["sint"]:e.sampleType.type==="u32"?["uint"]:["float","unfilterable-float"];return{[j]:!0,[Qp]:void 0,type:t,bindingSampleType:n,...e}}o(hh,"L$1");function Fx(t,e){return{[j]:!0,[Qp]:void 0,type:t,...e}}o(Fx,"xt");var i5=new Map,f1={"write-only":"write","read-only":"read","read-write":"read_write"};function Ui(t,e){let n=i5.get(t);return n||(n=e(),i5.set(t,n)),n}o(Ui,"$$1");function V4e(t){let e=t||se,n=`texture_1d<${e.type}>`;return Ui(n,()=>hh("texture_1d",{dimension:"1d",sampleType:e,multisampled:!1}))}o(V4e,"In");function j4e(t){let e=t||se,n=`texture_2d<${e.type}>`;return Ui(n,()=>hh("texture_2d",{dimension:"2d",sampleType:e,multisampled:!1}))}o(j4e,"An");function W4e(t){let e=t||se,n=`texture_multisampled_2d<${e.type}>`;return Ui(n,()=>hh("texture_multisampled_2d",{dimension:"2d",sampleType:e,multisampled:!0}))}o(W4e,"$n");function H4e(t){let e=t||se,n=`texture_2d_array<${e.type}>`;return Ui(n,()=>hh("texture_2d_array",{dimension:"2d-array",sampleType:e,multisampled:!1}))}o(H4e,"zn");function q4e(t){let e=t||se,n=`texture_cube<${e.type}>`;return Ui(n,()=>hh("texture_cube",{dimension:"cube",sampleType:e,multisampled:!1}))}o(q4e,"Vn");function G4e(t){let e=t||se,n=`texture_cube_array<${e.type}>`;return Ui(n,()=>hh("texture_cube_array",{dimension:"cube-array",sampleType:e,multisampled:!1}))}o(G4e,"Fn");function K4e(t){let e=t||se,n=`texture_3d<${e.type}>`;return Ui(n,()=>hh("texture_3d",{dimension:"3d",sampleType:e,multisampled:!1}))}o(K4e,"Cn");function Y4e(t,e){let n=e||"write-only",r=`texture_storage_1d<${t}, ${f1[n]}>`;return Ui(r,()=>Fx("texture_storage_1d",{dimension:"1d",format:t,access:n}))}o(Y4e,"Pn");function X4e(t,e){let n=e||"write-only",r=`texture_storage_2d<${t}, ${f1[n]}>`;return Ui(r,()=>Fx("texture_storage_2d",{dimension:"2d",format:t,access:n}))}o(X4e,"kn");function J4e(t,e){let n=e||"write-only",r=`texture_storage_2d_array<${t}, ${f1[n]}>`;return Ui(r,()=>Fx("texture_storage_2d_array",{dimension:"2d-array",format:t,access:n}))}o(J4e,"Wn");function Z4e(t,e){let n=e||"write-only",r=`texture_storage_3d<${t}, ${f1[n]}>`;return Ui(r,()=>Fx("texture_storage_3d",{dimension:"3d",format:t,access:n}))}o(Z4e,"_n");function Q4e(){return Ui("texture_external",()=>({[j]:!0,[Qp]:void 0,type:"texture_external",dimension:"2d"}))}o(Q4e,"_s");function ePe(t){return!!t[j]&&typeof t.multisampled=="boolean"}o(ePe,"Us");function ZC(t){return!!t[j]&&typeof t.format=="string"&&typeof t.access=="string"}o(ZC,"Ds");function tPe(t){return new nPe(t)}o(tPe,"Gs");var nPe=class{static{o(this,"Dt")}constructor(t){this.inner=t}[j]=!0;type="atomic"},Pc=o((t,e,n)=>{if(t===e)return 0;let r=ft((n-t)/(e-t),0,1);return r*r*(3-2*r)},"me$1"),ft=o((t,e,n)=>Math.min(Math.max(e,t),n),"y"),Rh=o((t,e)=>e===0?t:Math.trunc(t/e),"he$1");function Bo(t){let e=new DataView(new ArrayBuffer(4));return e.setUint32(0,t,!0),e.getFloat32(0,!0)}o(Bo,"Y");function Uo(t){let e=new DataView(new ArrayBuffer(4));return e.setUint32(0,t,!0),e.getInt32(0,!0)}o(Uo,"J");var hi=uh[j].jsImpl,yi=Wt[j].jsImpl,Qa=_a[j].jsImpl,id=xr[j].jsImpl,Gg=Zs[j].jsImpl,di=ch[j].jsImpl,qs=Ar[j].jsImpl,Go=wa[j].jsImpl,od=li[j].jsImpl,Kg=Un[j].jsImpl,pi=fh[j].jsImpl,bi=ie[j].jsImpl,el=va[j].jsImpl,ad=Kt[j].jsImpl,Yg=un[j].jsImpl,Oh=o(t=>Math.sqrt(t.x**2+t.y**2),"Me"),Nh=o(t=>Math.sqrt(t.x**2+t.y**2+t.z**2),"Ie"),Mh=o(t=>Math.sqrt(t.x**2+t.y**2+t.z**2+t.w**2),"Ae$1"),Ab=o((t,e)=>t.x*e.x+t.y*e.y,"ft"),Cb=o((t,e)=>t.x*e.x+t.y*e.y+t.z*e.z,"gt"),Ib=o((t,e)=>t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w,"ht"),tn=o(t=>e=>yi(t(e.x),t(e.y)),"h"),mn=o(t=>e=>Qa(t(e.x),t(e.y)),"b$1"),Dh=o(t=>e=>id(t(e.x),t(e.y)),"$e"),zm=o(t=>e=>Gg(t(e.x),t(e.y)),"Ye$1"),qt=o(t=>e=>qs(t(e.x),t(e.y),t(e.z)),"f"),gn=o(t=>e=>Go(t(e.x),t(e.y),t(e.z)),"w"),Ph=o(t=>e=>od(t(e.x),t(e.y),t(e.z)),"ze"),Vm=o(t=>e=>Kg(t(e.x),t(e.y),t(e.z)),"Je$1"),jt=o(t=>e=>bi(t(e.x),t(e.y),t(e.z),t(e.w)),"x"),yn=o(t=>e=>el(t(e.x),t(e.y),t(e.z),t(e.w)),"S"),$h=o(t=>e=>ad(t(e.x),t(e.y),t(e.z),t(e.w)),"Ve$1"),jm=o(t=>e=>Yg(t(e.x),t(e.y),t(e.z),t(e.w)),"et$1"),o5=o(t=>e=>{let n=e.columns;return Ea(tn(t)(n[0]),tn(t)(n[1]))},"sn$1"),a5=o(t=>e=>{let n=e.columns;return xa(qt(t)(n[0]),qt(t)(n[1]),qt(t)(n[2]))},"an$1"),l5=o(t=>e=>{let n=e.columns;return Wn(jt(t)(n[0]),jt(t)(n[1]),jt(t)(n[2]),jt(t)(n[3]))},"on$2"),Xa=o(t=>(e,n)=>yi(t(e.x,n.x),t(e.y,n.y)),"pe"),Cc=o(t=>(e,n)=>Qa(t(e.x,n.x),t(e.y,n.y)),"ve"),Lh=o(t=>(e,n)=>id(t(e.x,n.x),t(e.y,n.y)),"Fe"),Fh=o(t=>(e,n)=>Gg(t(e.x,n.x),t(e.y,n.y)),"Ce$2"),Ko=o(t=>(e,n)=>qs(t(e.x,n.x),t(e.y,n.y),t(e.z,n.z)),"te"),Ic=o(t=>(e,n)=>Go(t(e.x,n.x),t(e.y,n.y),t(e.z,n.z)),"be$1"),Bh=o(t=>(e,n)=>od(t(e.x,n.x),t(e.y,n.y),t(e.z,n.z)),"Pe$1"),Uh=o(t=>(e,n)=>Kg(t(e.x,n.x),t(e.y,n.y),t(e.z,n.z)),"ke"),qi=o(t=>(e,n)=>bi(t(e.x,n.x),t(e.y,n.y),t(e.z,n.z),t(e.w,n.w)),"X"),Rc=o(t=>(e,n)=>el(t(e.x,n.x),t(e.y,n.y),t(e.z,n.z),t(e.w,n.w)),"we$1"),zh=o(t=>(e,n)=>ad(t(e.x,n.x),t(e.y,n.y),t(e.z,n.z),t(e.w,n.w)),"We$1"),Vh=o(t=>(e,n)=>Yg(t(e.x,n.x),t(e.y,n.y),t(e.z,n.z),t(e.w,n.w)),"_e$1"),rPe=o(t=>(e,n)=>{let r=e.columns,s=n.columns;return Ea(Xa(t)(r[0],s[0]),Xa(t)(r[1],s[1]))},"Un"),sPe=o(t=>(e,n)=>{let r=e.columns,s=n.columns;return xa(Ko(t)(r[0],s[0]),Ko(t)(r[1],s[1]),Ko(t)(r[2],s[2]))},"Dn"),iPe=o(t=>(e,n)=>{let r=e.columns,s=n.columns;return Wn(qi(t)(r[0],s[0]),qi(t)(r[1],s[1]),qi(t)(r[2],s[2]),qi(t)(r[3],s[3]))},"Bn"),oPe=o(t=>(e,n,r)=>yi(t(e.x,n.x,r.x),t(e.y,n.y,r.y)),"Rn"),aPe=o(t=>(e,n,r)=>Qa(t(e.x,n.x,r.x),t(e.y,n.y,r.y)),"Gn"),lPe=o(t=>(e,n,r)=>qs(t(e.x,n.x,r.x),t(e.y,n.y,r.y),t(e.z,n.z,r.z)),"En"),uPe=o(t=>(e,n,r)=>Go(t(e.x,n.x,r.x),t(e.y,n.y,r.y),t(e.z,n.z,r.z)),"Ln"),cPe=o(t=>(e,n,r)=>bi(t(e.x,n.x,r.x),t(e.y,n.y,r.y),t(e.z,n.z,r.z),t(e.w,n.w,r.w)),"Nn"),fPe=o(t=>(e,n,r)=>el(t(e.x,n.x,r.x),t(e.y,n.y,r.y),t(e.z,n.z,r.z),t(e.w,n.w,r.w)),"On"),Pe={eq:{vec2f:o((t,e)=>hi(t.x===e.x,t.y===e.y),"vec2f"),vec2h:o((t,e)=>hi(t.x===e.x,t.y===e.y),"vec2h"),vec2i:o((t,e)=>hi(t.x===e.x,t.y===e.y),"vec2i"),vec2u:o((t,e)=>hi(t.x===e.x,t.y===e.y),"vec2u"),"vec2<bool>":o((t,e)=>hi(t.x===e.x,t.y===e.y),"vec2<bool>"),vec3f:o((t,e)=>di(t.x===e.x,t.y===e.y,t.z===e.z),"vec3f"),vec3h:o((t,e)=>di(t.x===e.x,t.y===e.y,t.z===e.z),"vec3h"),vec3i:o((t,e)=>di(t.x===e.x,t.y===e.y,t.z===e.z),"vec3i"),vec3u:o((t,e)=>di(t.x===e.x,t.y===e.y,t.z===e.z),"vec3u"),"vec3<bool>":o((t,e)=>di(t.x===e.x,t.y===e.y,t.z===e.z),"vec3<bool>"),vec4f:o((t,e)=>pi(t.x===e.x,t.y===e.y,t.z===e.z,t.w===e.w),"vec4f"),vec4h:o((t,e)=>pi(t.x===e.x,t.y===e.y,t.z===e.z,t.w===e.w),"vec4h"),vec4i:o((t,e)=>pi(t.x===e.x,t.y===e.y,t.z===e.z,t.w===e.w),"vec4i"),vec4u:o((t,e)=>pi(t.x===e.x,t.y===e.y,t.z===e.z,t.w===e.w),"vec4u"),"vec4<bool>":o((t,e)=>pi(t.x===e.x,t.y===e.y,t.z===e.z,t.w===e.w),"vec4<bool>")},lt:{vec2f:o((t,e)=>hi(t.x<e.x,t.y<e.y),"vec2f"),vec2h:o((t,e)=>hi(t.x<e.x,t.y<e.y),"vec2h"),vec2i:o((t,e)=>hi(t.x<e.x,t.y<e.y),"vec2i"),vec2u:o((t,e)=>hi(t.x<e.x,t.y<e.y),"vec2u"),vec3f:o((t,e)=>di(t.x<e.x,t.y<e.y,t.z<e.z),"vec3f"),vec3h:o((t,e)=>di(t.x<e.x,t.y<e.y,t.z<e.z),"vec3h"),vec3i:o((t,e)=>di(t.x<e.x,t.y<e.y,t.z<e.z),"vec3i"),vec3u:o((t,e)=>di(t.x<e.x,t.y<e.y,t.z<e.z),"vec3u"),vec4f:o((t,e)=>pi(t.x<e.x,t.y<e.y,t.z<e.z,t.w<e.w),"vec4f"),vec4h:o((t,e)=>pi(t.x<e.x,t.y<e.y,t.z<e.z,t.w<e.w),"vec4h"),vec4i:o((t,e)=>pi(t.x<e.x,t.y<e.y,t.z<e.z,t.w<e.w),"vec4i"),vec4u:o((t,e)=>pi(t.x<e.x,t.y<e.y,t.z<e.z,t.w<e.w),"vec4u")},or:{"vec2<bool>":o((t,e)=>hi(t.x||e.x,t.y||e.y),"vec2<bool>"),"vec3<bool>":o((t,e)=>di(t.x||e.x,t.y||e.y,t.z||e.z),"vec3<bool>"),"vec4<bool>":o((t,e)=>pi(t.x||e.x,t.y||e.y,t.z||e.z,t.w||e.w),"vec4<bool>")},all:{"vec2<bool>":o(t=>t.x&&t.y,"vec2<bool>"),"vec3<bool>":o(t=>t.x&&t.y&&t.z,"vec3<bool>"),"vec4<bool>":o(t=>t.x&&t.y&&t.z&&t.w,"vec4<bool>")},abs:{vec2f:tn(Math.abs),vec2h:mn(Math.abs),vec2i:Dh(Math.abs),vec2u:zm(Math.abs),vec3f:qt(Math.abs),vec3h:gn(Math.abs),vec3i:Ph(Math.abs),vec3u:Vm(Math.abs),vec4f:jt(Math.abs),vec4h:yn(Math.abs),vec4i:$h(Math.abs),vec4u:jm(Math.abs)},atan2:{vec2f:Xa(Math.atan2),vec2h:Cc(Math.atan2),vec3f:Ko(Math.atan2),vec3h:Ic(Math.atan2),vec4f:qi(Math.atan2),vec4h:Rc(Math.atan2)},acos:{vec2f:tn(Math.acos),vec2h:mn(Math.acos),vec2i:Dh(Math.acos),vec2u:zm(Math.acos),vec3f:qt(Math.acos),vec3h:gn(Math.acos),vec3i:Ph(Math.acos),vec3u:Vm(Math.acos),vec4f:jt(Math.acos),vec4h:yn(Math.acos),vec4i:$h(Math.acos),vec4u:jm(Math.acos)},acosh:{vec2f:tn(Math.acosh),vec2h:mn(Math.acosh),vec3f:qt(Math.acosh),vec3h:gn(Math.acosh),vec4f:jt(Math.acosh),vec4h:yn(Math.acosh)},asin:{vec2f:tn(Math.asin),vec2h:mn(Math.asin),vec3f:qt(Math.asin),vec3h:gn(Math.asin),vec4f:jt(Math.asin),vec4h:yn(Math.asin)},asinh:{vec2f:tn(Math.asinh),vec2h:mn(Math.asinh),vec3f:qt(Math.asinh),vec3h:gn(Math.asinh),vec4f:jt(Math.asinh),vec4h:yn(Math.asinh)},atan:{vec2f:tn(Math.atan),vec2h:mn(Math.atan),vec3f:qt(Math.atan),vec3h:gn(Math.atan),vec4f:jt(Math.atan),vec4h:yn(Math.atan)},atanh:{vec2f:tn(Math.atanh),vec2h:mn(Math.atanh),vec3f:qt(Math.atanh),vec3h:gn(Math.atanh),vec4f:jt(Math.atanh),vec4h:yn(Math.atanh)},ceil:{vec2f:tn(Math.ceil),vec2h:mn(Math.ceil),vec3f:qt(Math.ceil),vec3h:gn(Math.ceil),vec4f:jt(Math.ceil),vec4h:yn(Math.ceil)},clamp:{vec2f:o((t,e,n)=>yi(ft(t.x,e.x,n.x),ft(t.y,e.y,n.y)),"vec2f"),vec2h:o((t,e,n)=>Qa(ft(t.x,e.x,n.x),ft(t.y,e.y,n.y)),"vec2h"),vec2i:o((t,e,n)=>id(ft(t.x,e.x,n.x),ft(t.y,e.y,n.y)),"vec2i"),vec2u:o((t,e,n)=>Gg(ft(t.x,e.x,n.x),ft(t.y,e.y,n.y)),"vec2u"),vec3f:o((t,e,n)=>qs(ft(t.x,e.x,n.x),ft(t.y,e.y,n.y),ft(t.z,e.z,n.z)),"vec3f"),vec3h:o((t,e,n)=>Go(ft(t.x,e.x,n.x),ft(t.y,e.y,n.y),ft(t.z,e.z,n.z)),"vec3h"),vec3i:o((t,e,n)=>od(ft(t.x,e.x,n.x),ft(t.y,e.y,n.y),ft(t.z,e.z,n.z)),"vec3i"),vec3u:o((t,e,n)=>Kg(ft(t.x,e.x,n.x),ft(t.y,e.y,n.y),ft(t.z,e.z,n.z)),"vec3u"),vec4f:o((t,e,n)=>bi(ft(t.x,e.x,n.x),ft(t.y,e.y,n.y),ft(t.z,e.z,n.z),ft(t.w,e.w,n.w)),"vec4f"),vec4h:o((t,e,n)=>el(ft(t.x,e.x,n.x),ft(t.y,e.y,n.y),ft(t.z,e.z,n.z),ft(t.w,e.w,n.w)),"vec4h"),vec4i:o((t,e,n)=>ad(ft(t.x,e.x,n.x),ft(t.y,e.y,n.y),ft(t.z,e.z,n.z),ft(t.w,e.w,n.w)),"vec4i"),vec4u:o((t,e,n)=>Yg(ft(t.x,e.x,n.x),ft(t.y,e.y,n.y),ft(t.z,e.z,n.z),ft(t.w,e.w,n.w)),"vec4u")},length:{vec2f:Oh,vec2h:Oh,vec3f:Nh,vec3h:Nh,vec4f:Mh,vec4h:Mh},add:{vec2f:Xa((t,e)=>t+e),vec2h:Cc((t,e)=>t+e),vec2i:Lh((t,e)=>t+e),vec2u:Fh((t,e)=>t+e),vec3f:Ko((t,e)=>t+e),vec3h:Ic((t,e)=>t+e),vec3i:Bh((t,e)=>t+e),vec3u:Uh((t,e)=>t+e),vec4f:qi((t,e)=>t+e),vec4h:Rc((t,e)=>t+e),vec4i:zh((t,e)=>t+e),vec4u:Vh((t,e)=>t+e),mat2x2f:rPe((t,e)=>t+e),mat3x3f:sPe((t,e)=>t+e),mat4x4f:iPe((t,e)=>t+e)},smoothstep:{vec2f:oPe(Pc),vec2h:aPe(Pc),vec3f:lPe(Pc),vec3h:uPe(Pc),vec4f:cPe(Pc),vec4h:fPe(Pc)},addMixed:{vec2f:o((t,e)=>tn(n=>n+e)(t),"vec2f"),vec2h:o((t,e)=>mn(n=>n+e)(t),"vec2h"),vec2i:o((t,e)=>Dh(n=>n+e)(t),"vec2i"),vec2u:o((t,e)=>zm(n=>n+e)(t),"vec2u"),vec3f:o((t,e)=>qt(n=>n+e)(t),"vec3f"),vec3h:o((t,e)=>gn(n=>n+e)(t),"vec3h"),vec3i:o((t,e)=>Ph(n=>n+e)(t),"vec3i"),vec3u:o((t,e)=>Vm(n=>n+e)(t),"vec3u"),vec4f:o((t,e)=>jt(n=>n+e)(t),"vec4f"),vec4h:o((t,e)=>yn(n=>n+e)(t),"vec4h"),vec4i:o((t,e)=>$h(n=>n+e)(t),"vec4i"),vec4u:o((t,e)=>jm(n=>n+e)(t),"vec4u"),mat2x2f:o((t,e)=>o5(n=>n+e)(t),"mat2x2f"),mat3x3f:o((t,e)=>a5(n=>n+e)(t),"mat3x3f"),mat4x4f:o((t,e)=>l5(n=>n+e)(t),"mat4x4f")},mulSxV:{vec2f:o((t,e)=>tn(n=>t*n)(e),"vec2f"),vec2h:o((t,e)=>mn(n=>t*n)(e),"vec2h"),vec2i:o((t,e)=>Dh(n=>t*n)(e),"vec2i"),vec2u:o((t,e)=>zm(n=>t*n)(e),"vec2u"),vec3f:o((t,e)=>qt(n=>t*n)(e),"vec3f"),vec3h:o((t,e)=>gn(n=>t*n)(e),"vec3h"),vec3i:o((t,e)=>Ph(n=>t*n)(e),"vec3i"),vec3u:o((t,e)=>Vm(n=>t*n)(e),"vec3u"),vec4f:o((t,e)=>jt(n=>t*n)(e),"vec4f"),vec4h:o((t,e)=>yn(n=>t*n)(e),"vec4h"),vec4i:o((t,e)=>$h(n=>t*n)(e),"vec4i"),vec4u:o((t,e)=>jm(n=>t*n)(e),"vec4u"),mat2x2f:o((t,e)=>o5(n=>t*n)(e),"mat2x2f"),mat3x3f:o((t,e)=>a5(n=>t*n)(e),"mat3x3f"),mat4x4f:o((t,e)=>l5(n=>t*n)(e),"mat4x4f")},mulVxV:{vec2f:Xa((t,e)=>t*e),vec2h:Cc((t,e)=>t*e),vec2i:Lh((t,e)=>t*e),vec2u:Fh((t,e)=>t*e),vec3f:Ko((t,e)=>t*e),vec3h:Ic((t,e)=>t*e),vec3i:Bh((t,e)=>t*e),vec3u:Uh((t,e)=>t*e),vec4f:qi((t,e)=>t*e),vec4h:Rc((t,e)=>t*e),vec4i:zh((t,e)=>t*e),vec4u:Vh((t,e)=>t*e),mat2x2f:o((t,e)=>{let n=t.columns,r=e.columns;return Ea(n[0].x*r[0].x+n[1].x*r[0].y,n[0].y*r[0].x+n[1].y*r[0].y,n[0].x*r[1].x+n[1].x*r[1].y,n[0].y*r[1].x+n[1].y*r[1].y)},"mat2x2f"),mat3x3f:o((t,e)=>{let n=t.columns,r=e.columns;return xa(n[0].x*r[0].x+n[1].x*r[0].y+n[2].x*r[0].z,n[0].y*r[0].x+n[1].y*r[0].y+n[2].y*r[0].z,n[0].z*r[0].x+n[1].z*r[0].y+n[2].z*r[0].z,n[0].x*r[1].x+n[1].x*r[1].y+n[2].x*r[1].z,n[0].y*r[1].x+n[1].y*r[1].y+n[2].y*r[1].z,n[0].z*r[1].x+n[1].z*r[1].y+n[2].z*r[1].z,n[0].x*r[2].x+n[1].x*r[2].y+n[2].x*r[2].z,n[0].y*r[2].x+n[1].y*r[2].y+n[2].y*r[2].z,n[0].z*r[2].x+n[1].z*r[2].y+n[2].z*r[2].z)},"mat3x3f"),mat4x4f:o((t,e)=>{let n=t.columns,r=e.columns;return Wn(n[0].x*r[0].x+n[1].x*r[0].y+n[2].x*r[0].z+n[3].x*r[0].w,n[0].y*r[0].x+n[1].y*r[0].y+n[2].y*r[0].z+n[3].y*r[0].w,n[0].z*r[0].x+n[1].z*r[0].y+n[2].z*r[0].z+n[3].z*r[0].w,n[0].w*r[0].x+n[1].w*r[0].y+n[2].w*r[0].z+n[3].w*r[0].w,n[0].x*r[1].x+n[1].x*r[1].y+n[2].x*r[1].z+n[3].x*r[1].w,n[0].y*r[1].x+n[1].y*r[1].y+n[2].y*r[1].z+n[3].y*r[1].w,n[0].z*r[1].x+n[1].z*r[1].y+n[2].z*r[1].z+n[3].z*r[1].w,n[0].w*r[1].x+n[1].w*r[1].y+n[2].w*r[1].z+n[3].w*r[1].w,n[0].x*r[2].x+n[1].x*r[2].y+n[2].x*r[2].z+n[3].x*r[2].w,n[0].y*r[2].x+n[1].y*r[2].y+n[2].y*r[2].z+n[3].y*r[2].w,n[0].z*r[2].x+n[1].z*r[2].y+n[2].z*r[2].z+n[3].z*r[2].w,n[0].w*r[2].x+n[1].w*r[2].y+n[2].w*r[2].z+n[3].w*r[2].w,n[0].x*r[3].x+n[1].x*r[3].y+n[2].x*r[3].z+n[3].x*r[3].w,n[0].y*r[3].x+n[1].y*r[3].y+n[2].y*r[3].z+n[3].y*r[3].w,n[0].z*r[3].x+n[1].z*r[3].y+n[2].z*r[3].z+n[3].z*r[3].w,n[0].w*r[3].x+n[1].w*r[3].y+n[2].w*r[3].z+n[3].w*r[3].w)},"mat4x4f")},mulMxV:{mat2x2f:o((t,e)=>{let n=t.columns;return yi(n[0].x*e.x+n[1].x*e.y,n[0].y*e.x+n[1].y*e.y)},"mat2x2f"),mat3x3f:o((t,e)=>{let n=t.columns;return qs(n[0].x*e.x+n[1].x*e.y+n[2].x*e.z,n[0].y*e.x+n[1].y*e.y+n[2].y*e.z,n[0].z*e.x+n[1].z*e.y+n[2].z*e.z)},"mat3x3f"),mat4x4f:o((t,e)=>{let n=t.columns;return bi(n[0].x*e.x+n[1].x*e.y+n[2].x*e.z+n[3].x*e.w,n[0].y*e.x+n[1].y*e.y+n[2].y*e.z+n[3].y*e.w,n[0].z*e.x+n[1].z*e.y+n[2].z*e.z+n[3].z*e.w,n[0].w*e.x+n[1].w*e.y+n[2].w*e.z+n[3].w*e.w)},"mat4x4f")},mulVxM:{mat2x2f:o((t,e)=>{let n=e.columns;return yi(t.x*n[0].x+t.y*n[0].y,t.x*n[1].x+t.y*n[1].y)},"mat2x2f"),mat3x3f:o((t,e)=>{let n=e.columns;return qs(t.x*n[0].x+t.y*n[0].y+t.z*n[0].z,t.x*n[1].x+t.y*n[1].y+t.z*n[1].z,t.x*n[2].x+t.y*n[2].y+t.z*n[2].z)},"mat3x3f"),mat4x4f:o((t,e)=>{let n=e.columns;return bi(t.x*n[0].x+t.y*n[0].y+t.z*n[0].z+t.w*n[0].w,t.x*n[1].x+t.y*n[1].y+t.z*n[1].z+t.w*n[1].w,t.x*n[2].x+t.y*n[2].y+t.z*n[2].z+t.w*n[2].w,t.x*n[3].x+t.y*n[3].y+t.z*n[3].z+t.w*n[3].w)},"mat4x4f")},div:{vec2f:Xa((t,e)=>t/e),vec2h:Cc((t,e)=>t/e),vec2i:Lh(Rh),vec2u:Fh(Rh),vec3f:Ko((t,e)=>t/e),vec3h:Ic((t,e)=>t/e),vec3i:Bh(Rh),vec3u:Uh(Rh),vec4f:qi((t,e)=>t/e),vec4h:Rc((t,e)=>t/e),vec4i:zh(Rh),vec4u:Vh(Rh)},dot:{vec2f:Ab,vec2h:Ab,vec2i:Ab,vec2u:Ab,vec3f:Cb,vec3h:Cb,vec3i:Cb,vec3u:Cb,vec4f:Ib,vec4h:Ib,vec4i:Ib,vec4u:Ib},normalize:{vec2f:o(t=>{let e=Oh(t);return yi(t.x/e,t.y/e)},"vec2f"),vec2h:o(t=>{let e=Oh(t);return Qa(t.x/e,t.y/e)},"vec2h"),vec2i:o(t=>{let e=Oh(t);return id(t.x/e,t.y/e)},"vec2i"),vec2u:o(t=>{let e=Oh(t);return Gg(t.x/e,t.y/e)},"vec2u"),vec3f:o(t=>{let e=Nh(t);return qs(t.x/e,t.y/e,t.z/e)},"vec3f"),vec3h:o(t=>{let e=Nh(t);return Go(t.x/e,t.y/e,t.z/e)},"vec3h"),vec3i:o(t=>{let e=Nh(t);return od(t.x/e,t.y/e,t.z/e)},"vec3i"),vec3u:o(t=>{let e=Nh(t);return Kg(t.x/e,t.y/e,t.z/e)},"vec3u"),vec4f:o(t=>{let e=Mh(t);return bi(t.x/e,t.y/e,t.z/e,t.w/e)},"vec4f"),vec4h:o(t=>{let e=Mh(t);return el(t.x/e,t.y/e,t.z/e,t.w/e)},"vec4h"),vec4i:o(t=>{let e=Mh(t);return ad(t.x/e,t.y/e,t.z/e,t.w/e)},"vec4i"),vec4u:o(t=>{let e=Mh(t);return Yg(t.x/e,t.y/e,t.z/e,t.w/e)},"vec4u")},cross:{vec3f:o((t,e)=>qs(t.y*e.z-t.z*e.y,t.z*e.x-t.x*e.z,t.x*e.y-t.y*e.x),"vec3f"),vec3h:o((t,e)=>Go(t.y*e.z-t.z*e.y,t.z*e.x-t.x*e.z,t.x*e.y-t.y*e.x),"vec3h")},mod:{vec2f:Xa((t,e)=>t%e),vec2h:Cc((t,e)=>t%e),vec2i:Lh((t,e)=>t%e),vec2u:Fh((t,e)=>t%e),vec3f:Ko((t,e)=>t%e),vec3h:Ic((t,e)=>t%e),vec3i:Bh((t,e)=>t%e),vec3u:Uh((t,e)=>t%e),vec4f:qi((t,e)=>t%e),vec4h:Rc((t,e)=>t%e),vec4i:zh((t,e)=>t%e),vec4u:Vh((t,e)=>t%e)},floor:{vec2f:tn(Math.floor),vec2h:mn(Math.floor),vec3f:qt(Math.floor),vec3h:gn(Math.floor),vec4f:jt(Math.floor),vec4h:yn(Math.floor)},max:{vec2f:Xa(Math.max),vec2h:Cc(Math.max),vec2i:Lh(Math.max),vec2u:Fh(Math.max),vec3f:Ko(Math.max),vec3h:Ic(Math.max),vec3i:Bh(Math.max),vec3u:Uh(Math.max),vec4f:qi(Math.max),vec4h:Rc(Math.max),vec4i:zh(Math.max),vec4u:Vh(Math.max)},min:{vec2f:Xa(Math.min),vec2h:Cc(Math.min),vec2i:Lh(Math.min),vec2u:Fh(Math.min),vec3f:Ko(Math.min),vec3h:Ic(Math.min),vec3i:Bh(Math.min),vec3u:Uh(Math.min),vec4f:qi(Math.min),vec4h:Rc(Math.min),vec4i:zh(Math.min),vec4u:Vh(Math.min)},pow:{vec2f:o((t,e)=>yi(t.x**e.x,t.y**e.y),"vec2f"),vec2h:o((t,e)=>Qa(t.x**e.x,t.y**e.y),"vec2h"),vec3f:o((t,e)=>qs(t.x**e.x,t.y**e.y,t.z**e.z),"vec3f"),vec3h:o((t,e)=>Go(t.x**e.x,t.y**e.y,t.z**e.z),"vec3h"),vec4f:o((t,e)=>bi(t.x**e.x,t.y**e.y,t.z**e.z,t.w**e.w),"vec4f"),vec4h:o((t,e)=>el(t.x**e.x,t.y**e.y,t.z**e.z,t.w**e.w),"vec4h")},sign:{vec2f:tn(Math.sign),vec2h:mn(Math.sign),vec2i:Dh(Math.sign),vec3f:qt(Math.sign),vec3h:gn(Math.sign),vec3i:Ph(Math.sign),vec4f:jt(Math.sign),vec4h:yn(Math.sign),vec4i:$h(Math.sign)},sqrt:{vec2f:tn(Math.sqrt),vec2h:mn(Math.sqrt),vec3f:qt(Math.sqrt),vec3h:gn(Math.sqrt),vec4f:jt(Math.sqrt),vec4h:yn(Math.sqrt)},mix:{vec2f:o((t,e,n)=>typeof n=="number"?yi(t.x*(1-n)+e.x*n,t.y*(1-n)+e.y*n):yi(t.x*(1-n.x)+e.x*n.x,t.y*(1-n.y)+e.y*n.y),"vec2f"),vec2h:o((t,e,n)=>typeof n=="number"?Qa(t.x*(1-n)+e.x*n,t.y*(1-n)+e.y*n):Qa(t.x*(1-n.x)+e.x*n.x,t.y*(1-n.y)+e.y*n.y),"vec2h"),vec3f:o((t,e,n)=>typeof n=="number"?qs(t.x*(1-n)+e.x*n,t.y*(1-n)+e.y*n,t.z*(1-n)+e.z*n):qs(t.x*(1-n.x)+e.x*n.x,t.y*(1-n.y)+e.y*n.y,t.z*(1-n.z)+e.z*n.z),"vec3f"),vec3h:o((t,e,n)=>typeof n=="number"?Go(t.x*(1-n)+e.x*n,t.y*(1-n)+e.y*n,t.z*(1-n)+e.z*n):Go(t.x*(1-n.x)+e.x*n.x,t.y*(1-n.y)+e.y*n.y,t.z*(1-n.z)+e.z*n.z),"vec3h"),vec4f:o((t,e,n)=>typeof n=="number"?bi(t.x*(1-n)+e.x*n,t.y*(1-n)+e.y*n,t.z*(1-n)+e.z*n,t.w*(1-n)+e.w*n):bi(t.x*(1-n.x)+e.x*n.x,t.y*(1-n.y)+e.y*n.y,t.z*(1-n.z)+e.z*n.z,t.w*(1-n.w)+e.w*n.w),"vec4f"),vec4h:o((t,e,n)=>typeof n=="number"?el(t.x*(1-n)+e.x*n,t.y*(1-n)+e.y*n,t.z*(1-n)+e.z*n,t.w*(1-n)+e.w*n):el(t.x*(1-n.x)+e.x*n.x,t.y*(1-n.y)+e.y*n.y,t.z*(1-n.z)+e.z*n.z,t.w*(1-n.w)+e.w*n.w),"vec4h")},sin:{vec2f:tn(Math.sin),vec2h:mn(Math.sin),vec3f:qt(Math.sin),vec3h:gn(Math.sin),vec4f:jt(Math.sin),vec4h:yn(Math.sin)},cos:{vec2f:tn(Math.cos),vec2h:mn(Math.cos),vec3f:qt(Math.cos),vec3h:gn(Math.cos),vec4f:jt(Math.cos),vec4h:yn(Math.cos)},cosh:{vec2f:tn(Math.cosh),vec2h:mn(Math.cosh),vec3f:qt(Math.cosh),vec3h:gn(Math.cosh),vec4f:jt(Math.cosh),vec4h:yn(Math.cosh)},exp:{vec2f:tn(Math.exp),vec2h:mn(Math.exp),vec3f:qt(Math.exp),vec3h:gn(Math.exp),vec4f:jt(Math.exp),vec4h:yn(Math.exp)},exp2:{vec2f:tn(t=>2**t),vec2h:mn(t=>2**t),vec3f:qt(t=>2**t),vec3h:gn(t=>2**t),vec4f:jt(t=>2**t),vec4h:yn(t=>2**t)},log:{vec2f:tn(Math.log),vec2h:mn(Math.log),vec3f:qt(Math.log),vec3h:gn(Math.log),vec4f:jt(Math.log),vec4h:yn(Math.log)},log2:{vec2f:tn(Math.log2),vec2h:mn(Math.log2),vec3f:qt(Math.log2),vec3h:gn(Math.log2),vec4f:jt(Math.log2),vec4h:yn(Math.log2)},fract:{vec2f:tn(t=>t-Math.floor(t)),vec2h:mn(t=>t-Math.floor(t)),vec3f:qt(t=>t-Math.floor(t)),vec3h:gn(t=>t-Math.floor(t)),vec4f:jt(t=>t-Math.floor(t)),vec4h:yn(t=>t-Math.floor(t))},isCloseToZero:{vec2f:o((t,e)=>Math.abs(t.x)<=e&&Math.abs(t.y)<=e,"vec2f"),vec2h:o((t,e)=>Math.abs(t.x)<=e&&Math.abs(t.y)<=e,"vec2h"),vec3f:o((t,e)=>Math.abs(t.x)<=e&&Math.abs(t.y)<=e&&Math.abs(t.z)<=e,"vec3f"),vec3h:o((t,e)=>Math.abs(t.x)<=e&&Math.abs(t.y)<=e&&Math.abs(t.z)<=e,"vec3h"),vec4f:o((t,e)=>Math.abs(t.x)<=e&&Math.abs(t.y)<=e&&Math.abs(t.z)<=e&&Math.abs(t.w)<=e,"vec4f"),vec4h:o((t,e)=>Math.abs(t.x)<=e&&Math.abs(t.y)<=e&&Math.abs(t.z)<=e&&Math.abs(t.w)<=e,"vec4h")},neg:{vec2f:tn(t=>-t),vec2h:mn(t=>-t),vec2i:Dh(t=>-t),vec2u:zm(t=>-t),"vec2<bool>":o(t=>hi(!t.x,!t.y),"vec2<bool>"),vec3f:qt(t=>-t),vec3h:gn(t=>-t),vec3i:Ph(t=>-t),vec3u:Vm(t=>-t),"vec3<bool>":o(t=>di(!t.x,!t.y,!t.z),"vec3<bool>"),vec4f:jt(t=>-t),vec4h:yn(t=>-t),vec4i:$h(t=>-t),vec4u:jm(t=>-t),"vec4<bool>":o(t=>pi(!t.x,!t.y,!t.z,!t.w),"vec4<bool>")},select:{vec2f:o((t,e,n)=>yi(n.x?e.x:t.x,n.y?e.y:t.y),"vec2f"),vec2h:o((t,e,n)=>Qa(n.x?e.x:t.x,n.y?e.y:t.y),"vec2h"),vec2i:o((t,e,n)=>id(n.x?e.x:t.x,n.y?e.y:t.y),"vec2i"),vec2u:o((t,e,n)=>Gg(n.x?e.x:t.x,n.y?e.y:t.y),"vec2u"),"vec2<bool>":o((t,e,n)=>hi(n.x?e.x:t.x,n.y?e.y:t.y),"vec2<bool>"),vec3f:o((t,e,n)=>qs(n.x?e.x:t.x,n.y?e.y:t.y,n.z?e.z:t.z),"vec3f"),vec3h:o((t,e,n)=>Go(n.x?e.x:t.x,n.y?e.y:t.y,n.z?e.z:t.z),"vec3h"),vec3i:o((t,e,n)=>od(n.x?e.x:t.x,n.y?e.y:t.y,n.z?e.z:t.z),"vec3i"),vec3u:o((t,e,n)=>Kg(n.x?e.x:t.x,n.y?e.y:t.y,n.z?e.z:t.z),"vec3u"),"vec3<bool>":o((t,e,n)=>di(n.x?e.x:t.x,n.y?e.y:t.y,n.z?e.z:t.z),"vec3<bool>"),vec4f:o((t,e,n)=>bi(n.x?e.x:t.x,n.y?e.y:t.y,n.z?e.z:t.z,n.w?e.w:t.w),"vec4f"),vec4h:o((t,e,n)=>el(n.x?e.x:t.x,n.y?e.y:t.y,n.z?e.z:t.z,n.w?e.w:t.w),"vec4h"),vec4i:o((t,e,n)=>ad(n.x?e.x:t.x,n.y?e.y:t.y,n.z?e.z:t.z,n.w?e.w:t.w),"vec4i"),vec4u:o((t,e,n)=>Yg(n.x?e.x:t.x,n.y?e.y:t.y,n.z?e.z:t.z,n.w?e.w:t.w),"vec4u"),"vec4<bool>":o((t,e,n)=>pi(n.x?e.x:t.x,n.y?e.y:t.y,n.z?e.z:t.z,n.w?e.w:t.w),"vec4<bool>")},tanh:{vec2f:tn(Math.tanh),vec2h:mn(Math.tanh),vec3f:qt(Math.tanh),vec3h:gn(Math.tanh),vec4f:jt(Math.tanh),vec4h:yn(Math.tanh)},bitcastU32toF32:{vec2u:o(t=>yi(Bo(t.x),Bo(t.y)),"vec2u"),vec3u:o(t=>qs(Bo(t.x),Bo(t.y),Bo(t.z)),"vec3u"),vec4u:o(t=>bi(Bo(t.x),Bo(t.y),Bo(t.z),Bo(t.w)),"vec4u")},bitcastU32toI32:{vec2u:o(t=>id(Uo(t.x),Uo(t.y)),"vec2u"),vec3u:o(t=>od(Uo(t.x),Uo(t.y),Uo(t.z)),"vec3u"),vec4u:o(t=>ad(Uo(t.x),Uo(t.y),Uo(t.z),Uo(t.w)),"vec4u")}};function HK(t,e){if(typeof t=="number"&&typeof e=="number")return t+e;if(typeof t=="number"&&fn(e))return Pe.addMixed[e.kind](e,t);if(fn(t)&&typeof e=="number")return Pe.addMixed[t.kind](t,e);if(fn(t)&&fn(e)||Xo(t)&&Xo(e))return Pe.add[t.kind](t,e);throw new Error("Add/Sub called with invalid arguments.")}o(HK,"un");var qK=ge({name:"add",signature:o((...t)=>{let e=Ts(t)??t;return{argTypes:e,returnType:Sl(e[0])?e[1]:e[0]}},"signature"),normalImpl:HK,codegenImpl:o((t,e)=>ne`(${t} + ${e})`,"codegenImpl")});function hPe(t,e){return HK(t,GK(-1,e))}o(hPe,"Kn$1");var h1=ge({name:"sub",signature:o((...t)=>{let e=Ts(t)??t;return{argTypes:e,returnType:Sl(e[0])?e[1]:e[0]}},"signature"),normalImpl:hPe,codegenImpl:o((t,e)=>ne`(${t} - ${e})`,"codegenImpl")});function GK(t,e){if(typeof t=="number"&&typeof e=="number")return t*e;if(typeof t=="number"&&(fn(e)||Xo(e)))return Pe.mulSxV[e.kind](t,e);if((fn(t)||Xo(t))&&typeof e=="number")return Pe.mulSxV[t.kind](e,t);if(fn(t)&&fn(e))return Pe.mulVxV[t.kind](t,e);if(z8(t)&&Xo(e))return Pe.mulVxM[e.kind](t,e);if(Xo(t)&&z8(e))return Pe.mulMxV[t.kind](t,e);if(Xo(t)&&Xo(e))return Pe.mulVxV[t.kind](t,e);throw new Error("Mul called with invalid arguments.")}o(GK,"cn");var DN=ge({name:"mul",signature:o((...t)=>{let e=Ts(t)??t,n=Sl(e[0])?e[1]:Sl(e[1])||e[0].type.startsWith("vec")?e[0]:e[1].type.startsWith("vec")?e[1]:e[0];return{argTypes:e,returnType:n}},"signature"),normalImpl:GK,codegenImpl:o((t,e)=>ne`(${t} * ${e})`,"codegenImpl")});function dPe(t,e){if(typeof t=="number"&&typeof e=="number")return t/e;if(typeof t=="number"&&fn(e)){let n=Dv[e.kind][j].jsImpl;return Pe.div[e.kind](n(t),e)}if(fn(t)&&typeof e=="number"){let n=Dv[t.kind][j].jsImpl;return Pe.div[t.kind](t,n(e))}if(fn(t)&&fn(e))return Pe.div[t.kind](t,e);throw new Error("Div called with invalid arguments.")}o(dPe,"qn");var KK=ge({name:"div",signature:o((...t)=>{let e=Ts(t,[se,jn,xo])??t;return{argTypes:e,returnType:Sl(e[0])?e[1]:e[0]}},"signature"),normalImpl:dPe,codegenImpl:o((t,e)=>ne`(${t} / ${e})`,"codegenImpl"),ignoreImplicitCastWarning:!0});ge({name:"mod",signature:o((...t)=>{let e=Ts(t)??t;return{argTypes:e,returnType:Sl(e[0])?e[1]:e[0]}},"signature"),normalImpl(t,e){if(typeof t=="number"&&typeof e=="number")return t%e;if(typeof t=="number"&&fn(e)){let n=Dv[e.kind];return Pe.mod[e.kind](n(t),e)}if(fn(t)&&typeof e=="number"){let n=Dv[t.kind];return Pe.mod[t.kind](t,n(e))}if(fn(t)&&fn(e))return Pe.mod[t.kind](t,e);throw new Error("Mod called with invalid arguments, expected types: number or vector.")},codegenImpl:o((t,e)=>ne`(${t} % ${e})`,"codegenImpl")});function pPe(t){return typeof t=="number"?-t:Pe.neg[t.kind](t)}o(pPe,"jn");ge({name:"neg",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:pPe,codegenImpl:o(t=>ne`-(${t})`,"codegenImpl")});function mPe(t){return typeof t=="number"?Math.abs(t):Pe.abs[t.kind](t)}o(mPe,"Zn$1");ge({name:"abs",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:mPe,codegenImpl:o(t=>ne`abs(${t})`,"codegenImpl")});function gPe(t){return typeof t=="number"?Math.acos(t):Pe.acos[t.kind](t)}o(gPe,"Hn$1");ge({name:"acos",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:gPe,codegenImpl:o(t=>ne`acos(${t})`,"codegenImpl")});function yPe(t){return typeof t=="number"?Math.acosh(t):Pe.acosh[t.kind](t)}o(yPe,"Qn");ge({name:"acosh",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:yPe,codegenImpl:o(t=>ne`acosh(${t})`,"codegenImpl")});function bPe(t){return typeof t=="number"?Math.asin(t):Pe.asin[t.kind](t)}o(bPe,"Xn$1");ge({name:"asin",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:bPe,codegenImpl:o(t=>ne`asin(${t})`,"codegenImpl")});function _Pe(t){return typeof t=="number"?Math.asinh(t):Pe.asinh[t.kind](t)}o(_Pe,"Yn$1");ge({name:"asinh",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:_Pe,codegenImpl:o(t=>ne`asinh(${t})`,"codegenImpl")});function wPe(t){return typeof t=="number"?Math.atan(t):Pe.atan[t.kind](t)}o(wPe,"Jn$1");ge({name:"atan",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:wPe,codegenImpl:o(t=>ne`atan(${t})`,"codegenImpl")});function vPe(t){return typeof t=="number"?Math.atanh(t):Pe.atanh[t.kind](t)}o(vPe,"er$1");ge({name:"atanh",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:vPe,codegenImpl:o(t=>ne`atanh(${t})`,"codegenImpl")});function EPe(t,e){return typeof t=="number"&&typeof e=="number"?Math.atan2(t,e):Pe.atan2[t.kind](t,e)}o(EPe,"tr$1");ge({name:"atan2",signature:o((...t)=>{let e=Ts(t,[se,jn,xo])??t;return{argTypes:e,returnType:e[0]}},"signature"),normalImpl:EPe,codegenImpl:o((t,e)=>ne`atan2(${t}, ${e})`,"codegenImpl")});function xPe(t){return typeof t=="number"?Math.ceil(t):Pe.ceil[t.kind](t)}o(xPe,"nr$1");var SPe=ge({name:"ceil",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:xPe,codegenImpl:o(t=>ne`ceil(${t})`,"codegenImpl")});function TPe(t,e,n){return typeof t=="number"?Math.min(Math.max(e,t),n):Pe.clamp[t.kind](t,e,n)}o(TPe,"rr$1");ge({name:"clamp",signature:o((...t)=>{let e=Ts(t)??t;return{argTypes:e,returnType:e[0]}},"signature"),normalImpl:TPe,codegenImpl:o((t,e,n)=>ne`clamp(${t}, ${e}, ${n})`,"codegenImpl")});function kPe(t){return typeof t=="number"?Math.cos(t):Pe.cos[t.kind](t)}o(kPe,"sr$1");ge({name:"cos",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:kPe,codegenImpl:o(t=>ne`cos(${t})`,"codegenImpl")});function APe(t){return typeof t=="number"?Math.cosh(t):Pe.cosh[t.kind](t)}o(APe,"ar$1");ge({name:"cosh",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:APe,codegenImpl:o(t=>ne`cosh(${t})`,"codegenImpl")});ge({name:"countLeadingZeros",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:"CPU implementation for countLeadingZeros not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ne`countLeadingZeros(${t})`,"codegenImpl")});ge({name:"countOneBits",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:"CPU implementation for countOneBits not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ne`countOneBits(${t})`,"codegenImpl")});ge({name:"countTrailingZeros",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:"CPU implementation for countTrailingZeros not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ne`countTrailingZeros(${t})`,"codegenImpl")});ge({name:"cross",signature:o((t,e)=>({argTypes:[t,e],returnType:t}),"signature"),normalImpl:o((t,e)=>Pe.cross[t.kind](t,e),"normalImpl"),codegenImpl:o((t,e)=>ne`cross(${t}, ${e})`,"codegenImpl")});function CPe(t){if(typeof t=="number")return t*180/Math.PI;throw new ai("CPU implementation for degrees on vectors not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")}o(CPe,"or$1");ge({name:"degrees",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:CPe,codegenImpl:o(t=>ne`degrees(${t})`,"codegenImpl")});ge({name:"determinant",signature:o(t=>({argTypes:[t],returnType:se}),"signature"),normalImpl:"CPU implementation for determinant not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ne`determinant(${t})`,"codegenImpl")});function IPe(t,e){return typeof t=="number"&&typeof e=="number"?Math.abs(t-e):BPe(h1(t,e))}o(IPe,"ur$1");ge({name:"distance",signature:o((t,e)=>({argTypes:[t,e],returnType:uN(t)?jn:se}),"signature"),normalImpl:IPe,codegenImpl:o((t,e)=>ne`distance(${t}, ${e})`,"codegenImpl")});var RPe=ge({name:"dot",signature:o((t,e)=>({argTypes:[t,e],returnType:t.primitive}),"signature"),normalImpl:o((t,e)=>Pe.dot[t.kind](t,e),"normalImpl"),codegenImpl:o((t,e)=>ne`dot(${t}, ${e})`,"codegenImpl")});ge({name:"dot4U8Packed",signature:o((t,e)=>({argTypes:[De,De],returnType:De}),"signature"),normalImpl:"CPU implementation for dot4U8Packed not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o((t,e)=>ne`dot4U8Packed(${t}, ${e})`,"codegenImpl")});ge({name:"dot4I8Packed",signature:o((t,e)=>({argTypes:[De,De],returnType:Lt}),"signature"),normalImpl:"CPU implementation for dot4I8Packed not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o((t,e)=>ne`dot4I8Packed(${t}, ${e})`,"codegenImpl")});function OPe(t){return typeof t=="number"?Math.exp(t):Pe.exp[t.kind](t)}o(OPe,"ir$1");ge({name:"exp",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:OPe,codegenImpl:o(t=>ne`exp(${t})`,"codegenImpl")});function NPe(t){return typeof t=="number"?2**t:Pe.exp2[t.kind](t)}o(NPe,"lr");ge({name:"exp2",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:NPe,codegenImpl:o(t=>ne`exp2(${t})`,"codegenImpl")});ge({name:"extractBits",signature:o((t,e,n)=>({argTypes:[t,De,De],returnType:t}),"signature"),normalImpl:"CPU implementation for extractBits not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o((t,e,n)=>ne`extractBits(${t}, ${e}, ${n})`,"codegenImpl")});ge({name:"faceForward",signature:o((t,e,n)=>({argTypes:[t,e,n],returnType:t}),"signature"),normalImpl:"CPU implementation for faceForward not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o((t,e,n)=>ne`faceForward(${t}, ${e}, ${n})`,"codegenImpl")});ge({name:"firstLeadingBit",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:"CPU implementation for firstLeadingBit not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ne`firstLeadingBit(${t})`,"codegenImpl")});ge({name:"firstTrailingBit",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:"CPU implementation for firstTrailingBit not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ne`firstTrailingBit(${t})`,"codegenImpl")});function MPe(t){return typeof t=="number"?Math.floor(t):Pe.floor[t.kind](t)}o(MPe,"mr");ge({name:"floor",signature:o((...t)=>({argTypes:t,returnType:t[0]}),"signature"),normalImpl:MPe,codegenImpl:o(t=>ne`floor(${t})`,"codegenImpl")});function DPe(t,e,n){if(typeof t=="number")return t*e+n;throw new ai("CPU implementation for fma on vectors not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")}o(DPe,"pr$1");ge({name:"fma",signature:o((t,e,n)=>({argTypes:[t,e,n],returnType:t}),"signature"),normalImpl:DPe,codegenImpl:o((t,e,n)=>ne`fma(${t}, ${e}, ${n})`,"codegenImpl")});function PPe(t){return typeof t=="number"?t-Math.floor(t):Pe.fract[t.kind](t)}o(PPe,"yr");ge({name:"fract",signature:o((...t)=>({argTypes:t,returnType:t[0]}),"signature"),normalImpl:PPe,codegenImpl:o(t=>ne`fract(${t})`,"codegenImpl")});var $Pe={f32:sr({fract:se,exp:Lt}),f16:sr({fract:jn,exp:Lt}),abstractFloat:sr({fract:xo,exp:Dx}),vec2f:sr({fract:Wt,exp:xr}),vec3f:sr({fract:Ar,exp:li}),vec4f:sr({fract:ie,exp:Kt}),vec2h:sr({fract:_a,exp:xr}),vec3h:sr({fract:wa,exp:li}),vec4h:sr({fract:va,exp:Kt})};dr(t=>{throw new ai("CPU implementation for frexp not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")},t=>{let e=$Pe[t.dataType.type];if(!e)throw new Error(`Unsupported data type for frexp: ${t.dataType.type}. Supported types are f32, f16, abstractFloat, vec2f, vec3f, vec4f, vec2h, vec3h, vec4h.`);return oe(ne`frexp(${t})`,e)},"frexp");ge({name:"insertBits",signature:o((t,e,n,r)=>({argTypes:[t,e,De,De],returnType:t}),"signature"),normalImpl:"CPU implementation for insertBits not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o((t,e,n,r)=>ne`insertBits(${t}, ${e}, ${n}, ${r})`,"codegenImpl")});function LPe(t){if(typeof t=="number")return 1/Math.sqrt(t);throw new ai("CPU implementation for inverseSqrt on vectors not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")}o(LPe,"xr");ge({name:"inverseSqrt",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:LPe,codegenImpl:o(t=>ne`inverseSqrt(${t})`,"codegenImpl")});ge({name:"ldexp",signature:o((t,e)=>{switch(t.type){case"abstractFloat":return{argTypes:[xo,Dx],returnType:t};case"f32":case"f16":return{argTypes:[t,Lt],returnType:t};case"vec2f":case"vec2h":return{argTypes:[t,xr],returnType:t};case"vec3f":case"vec3h":return{argTypes:[t,li],returnType:t};case"vec4f":case"vec4h":return{argTypes:[t,Kt],returnType:t};default:throw new Error(`Unsupported data type for ldexp: ${t.type}. Supported types are abstractFloat, f32, f16, vec2f, vec2h, vec3f, vec3h, vec4f, vec4h.`)}},"signature"),normalImpl:"CPU implementation for ldexp not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o((t,e)=>ne`ldexp(${t}, ${e})`,"codegenImpl")});function FPe(t){return typeof t=="number"?Math.abs(t):Pe.length[t.kind](t)}o(FPe,"dr");var BPe=ge({name:"length",signature:o(t=>({argTypes:[t],returnType:uN(t)?jn:se}),"signature"),normalImpl:FPe,codegenImpl:o(t=>ne`length(${t})`,"codegenImpl")});function UPe(t){return typeof t=="number"?Math.log(t):Pe.log[t.kind](t)}o(UPe,"gr");ge({name:"log",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:UPe,codegenImpl:o(t=>ne`log(${t})`,"codegenImpl")});function zPe(t){return typeof t=="number"?Math.log2(t):Pe.log2[t.kind](t)}o(zPe,"hr");ge({name:"log2",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:zPe,codegenImpl:o(t=>ne`log2(${t})`,"codegenImpl")});function VPe(t,e){return typeof t=="number"?Math.max(t,e):Pe.max[t.kind](t,e)}o(VPe,"vr$1");ge({name:"max",signature:o((...t)=>{let e=Ts(t)??t;return{argTypes:e,returnType:e[0]}},"signature"),normalImpl:VPe,codegenImpl:o((t,e)=>ne`max(${t}, ${e})`,"codegenImpl")});function jPe(t,e){return typeof t=="number"?Math.min(t,e):Pe.min[t.kind](t,e)}o(jPe,"br");ge({name:"min",signature:o((...t)=>{let e=Ts(t)??t;return{argTypes:e,returnType:e[0]}},"signature"),normalImpl:jPe,codegenImpl:o((t,e)=>ne`min(${t}, ${e})`,"codegenImpl")});function WPe(t,e,n){if(typeof t=="number"){if(typeof n!="number"||typeof e!="number")throw new Error("When e1 and e2 are numbers, the blend factor must be a number.");return t*(1-n)+e*n}if(typeof t=="number"||typeof e=="number")throw new Error("e1 and e2 need to both be vectors of the same kind.");return Pe.mix[t.kind](t,e,n)}o(WPe,"wr");ge({name:"mix",signature:o((t,e,n)=>({argTypes:[t,e,n],returnType:t}),"signature"),normalImpl:WPe,codegenImpl:o((t,e,n)=>ne`mix(${t}, ${e}, ${n})`,"codegenImpl")});var HPe={f32:sr({fract:se,whole:se}),f16:sr({fract:jn,whole:jn}),abstractFloat:sr({fract:xo,whole:xo}),vec2f:sr({fract:Wt,whole:Wt}),vec3f:sr({fract:Ar,whole:Ar}),vec4f:sr({fract:ie,whole:ie}),vec2h:sr({fract:_a,whole:_a}),vec3h:sr({fract:wa,whole:wa}),vec4h:sr({fract:va,whole:va})};ge({name:"modf",signature:o(t=>{let e=HPe[t.type];if(!e)throw new Error(`Unsupported data type for modf: ${t.type}. Supported types are f32, f16, abstractFloat, vec2f, vec3f, vec4f, vec2h, vec3h, vec4h.`);return{argTypes:[t],returnType:e}},"signature"),normalImpl:"CPU implementation for modf not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ne`modf(${t})`,"codegenImpl")});ge({name:"normalize",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:o(t=>Pe.normalize[t.kind](t),"normalImpl"),codegenImpl:o(t=>ne`normalize(${t})`,"codegenImpl")});function qPe(t,e){if(typeof t=="number"&&typeof e=="number")return t**e;if(fn(t)&&fn(e))return Pe.pow[t.kind](t,e);throw new Error("Invalid arguments to pow()")}o(qPe,"Mr$1");var GPe=ge({name:"pow",signature:o((...t)=>{let e=Ts(t,[se,jn,xo])??t;return{argTypes:e,returnType:Sl(e[0])?e[1]:e[0]}},"signature"),normalImpl:qPe,codegenImpl:o((t,e)=>ne`pow(${t}, ${e})`,"codegenImpl")});ge({name:"quantizeToF16",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:"CPU implementation for quantizeToF16 not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ne`quantizeToF16(${t})`,"codegenImpl")});function KPe(t){if(typeof t=="number")return t*Math.PI/180;throw new ai("CPU implementation for radians on vectors not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")}o(KPe,"Ir$1");ge({name:"radians",signature:o((...t)=>{let e=Ts(t,[se,jn,xo])??t;return{argTypes:e,returnType:e[0]}},"signature"),normalImpl:KPe,codegenImpl:o(t=>ne`radians(${t})`,"codegenImpl")});ge({name:"reflect",signature:o((t,e)=>({argTypes:[t,e],returnType:t}),"signature"),normalImpl:o((t,e)=>h1(t,DN(2*RPe(e,t),e)),"normalImpl"),codegenImpl:o((t,e)=>ne`reflect(${t}, ${e})`,"codegenImpl")});dr((t,e,n)=>{throw new ai("CPU implementation for refract not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")},(t,e,n)=>oe(ne`refract(${t}, ${e}, ${n})`,t.dataType),"refract",(t,e,n)=>[t.dataType,e.dataType,uN(t)?jn:se]);ge({name:"reverseBits",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:"CPU implementation for reverseBits not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ne`reverseBits(${t})`,"codegenImpl")});function YPe(t){if(typeof t=="number")return Math.round(t);throw new ai("CPU implementation for round on vectors not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")}o(YPe,"Ar");ge({name:"round",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:YPe,codegenImpl:o(t=>ne`round(${t})`,"codegenImpl")});function XPe(t){if(typeof t=="number")return Math.max(0,Math.min(1,t));throw new ai("CPU implementation for saturate on vectors not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")}o(XPe,"$r$1");ge({name:"saturate",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:XPe,codegenImpl:o(t=>ne`saturate(${t})`,"codegenImpl")});function JPe(t){return typeof t=="number"?Math.sign(t):Pe.sign[t.kind](t)}o(JPe,"zr$1");ge({name:"sign",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:JPe,codegenImpl:o(t=>ne`sign(${t})`,"codegenImpl")});function ZPe(t){return typeof t=="number"?Math.sin(t):Pe.sin[t.kind](t)}o(ZPe,"Vr$1");ge({name:"sin",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:ZPe,codegenImpl:o(t=>ne`sin(${t})`,"codegenImpl")});function QPe(t){if(typeof t=="number")return Math.sinh(t);throw new ai("CPU implementation for sinh on vectors not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")}o(QPe,"Fr$1");ge({name:"sinh",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:QPe,codegenImpl:o(t=>ne`sinh(${t})`,"codegenImpl")});function e$e(t,e,n){return typeof n=="number"?Pc(t,e,n):Pe.smoothstep[n.kind](t,e,n)}o(e$e,"Cr$1");ge({name:"smoothstep",signature:o((t,e,n)=>({argTypes:[t,e,n],returnType:n}),"signature"),normalImpl:e$e,codegenImpl:o((t,e,n)=>ne`smoothstep(${t}, ${e}, ${n})`,"codegenImpl")});function t$e(t){return typeof t=="number"?Math.sqrt(t):Pe.sqrt[t.kind](t)}o(t$e,"Pr$1");ge({name:"sqrt",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:t$e,codegenImpl:o(t=>ne`sqrt(${t})`,"codegenImpl")});function n$e(t,e){if(typeof t=="number")return t<=e?1:0;throw new ai("CPU implementation for step on vectors not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")}o(n$e,"kr$1");ge({name:"step",signature:o((...t)=>{let e=Ts(t,[se,jn,xo])??t;return{argTypes:e,returnType:e[0]}},"signature"),normalImpl:n$e,codegenImpl:o((t,e)=>ne`step(${t}, ${e})`,"codegenImpl")});function r$e(t){if(typeof t=="number")return Math.tan(t);throw new ai("CPU implementation for tan on vectors not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues")}o(r$e,"Wr$1");ge({name:"tan",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:r$e,codegenImpl:o(t=>ne`tan(${t})`,"codegenImpl")});function s$e(t){return typeof t=="number"?Math.tanh(t):Pe.tanh[t.kind](t)}o(s$e,"_r$1");ge({name:"tanh",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:s$e,codegenImpl:o(t=>ne`tanh(${t})`,"codegenImpl")});ge({name:"transpose",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:"CPU implementation for transpose not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ne`transpose(${t})`,"codegenImpl")});ge({name:"trunc",signature:o(t=>({argTypes:[t],returnType:t}),"signature"),normalImpl:"CPU implementation for trunc not implemented yet. Please submit an issue at https://github.com/software-mansion/TypeGPU/issues",codegenImpl:o(t=>ne`trunc(${t})`,"codegenImpl")});var{NodeTypeCatalog:Ht}=s4e,i$e=["==","!=","<","<=",">",">=","<<",">>","+","-","*","/","%","|","^","&","&&","||"],o$e=["&&","||","==","!=","<","<=",">",">="],a$e=["vec2f","vec3f","vec4f","vec2h","vec3h","vec4h","vec2i","vec3i","vec4i","vec2u","vec3u","vec4u","mat2x2f","mat3x3f","mat4x4f"],u5={add:qK,sub:h1,mul:DN,div:KK};function c5(t,e,n){return n?o$e.includes(e)?_n:e==="="?n:t:e==="!"||e==="~"?_n:t}o(c5,"pn");var l$e={"+":qK[j].gpuImpl,"-":h1[j].gpuImpl,"*":DN[j].gpuImpl,"/":KK[j].gpuImpl,"**":GPe[j].gpuImpl},u$e=class{static{o(this,"Gt")}#e=void 0;initGenerator(t){this.#e=t}get ctx(){if(!this.#e)throw new Error("WGSL Generator has not yet been initialized. Please call initialize(ctx) before using the generator.");return this.#e}block([t,e]){this.ctx.pushBlockScope();try{this.ctx.indent();let n=e.map(r=>this.statement(r)).join(`
`);return this.ctx.dedent(),`{
${n}
${this.ctx.pre}}`}finally{this.ctx.popBlockScope()}}blockVariable(t,e){let n=oe(this.ctx.makeNameValid(t),e);return this.ctx.defineVariable(t,n),n}identifier(t){if(!t)throw new Error("Cannot resolve an empty identifier");let e=this.ctx.getById(t);if(!e)throw new Error(`Identifier ${t} not found`);return e}typedExpression(t,e){let n=this.ctx.expectedType;this.ctx.expectedType=e;try{let r=this.expression(t);return HC(r,e)}finally{this.ctx.expectedType=n}}expression(t){if(typeof t=="string")return this.identifier(t);if(typeof t=="boolean")return oe(t,_n);if(t[0]===Ht.logicalExpr||t[0]===Ht.binaryExpr||t[0]===Ht.assignmentExpr){let[e,n,r,s]=t,i=this.expression(n),a=this.expression(s),l=l$e[r];if(l)return l(i,a);let u=t[0]===Ht.assignmentExpr?i.dataType.type==="ptr"?[i.dataType.inner]:[i.dataType]:void 0,[c,f]=Hg([i,a],u)??[i,a],h=this.ctx.resolve(c.value,c.dataType).value,d=this.ctx.resolve(f.value,f.dataType).value,p=c5(c.dataType,r,f.dataType);return oe(i$e.includes(r)?`(${h} ${r} ${d})`:`${h} ${r} ${d}`,p)}if(t[0]===Ht.postUpdate){let[e,n,r]=t,s=this.expression(r),i=this.ctx.resolve(s.value,s.dataType).value;return oe(`${i}${n}`,s.dataType)}if(t[0]===Ht.unaryExpr){let[e,n,r]=t,s=this.expression(r),i=this.ctx.resolve(s.value,s.dataType).value,a=c5(s.dataType,n);return oe(`${n}${i}`,a)}if(t[0]===Ht.memberAccess){let[e,n,r]=t,s=this.expression(n);if(s.value===console)return oe(new H8(r),cs);if(a$e.includes(s.dataType.type)&&r in u5)return{value:new j8(r,s,u5[r][j].gpuImpl),dataType:cs};if(s.dataType.type==="unknown"){let i=s.value[r];return w_(i)}return V8(s.dataType)?oe(`(*${this.ctx.resolve(s.value).value}).${r}`,YC(s.dataType.inner,r)):po(s.dataType)&&r==="length"?s.dataType.elementCount===0?oe(`arrayLength(&${this.ctx.resolve(s.value).value})`,De):oe(String(s.dataType.elementCount),Dx):ny(s.dataType)&&r==="columns"?oe(new W8(s),cs):xl(s.dataType)&&fn(s.value)?w_(s.value[r]):oe(`${this.ctx.resolve(s.value).value}.${r}`,YC(s.dataType,r))}if(t[0]===Ht.indexAccess){let[e,n,r]=t,s=this.expression(n),i=this.expression(r),a=this.ctx.resolve(i.value,i.dataType).value;if(s.value instanceof W8)return oe(ne`${s.value.matrix}[${a}]`,WT(s.value.matrix.dataType));let l=this.ctx.resolve(s.value,s.dataType).value;if(s.dataType.type==="unknown"){if(Array.isArray(r)&&r[0]===Ht.numericLiteral)return w_(s.value[r[1]]);throw new Error(`Unable to index a value of unknown type with index ${a}. If the value is an array, to address this, consider one of the following approaches: (1) declare the array using 'tgpu.const', (2) store the array in a buffer, or (3) define the array within the GPU function scope.`)}if(ny(s.dataType))throw new Error("The only way of accessing matrix elements in TGSL is through the 'columns' property.");return V8(s.dataType)?oe(`(*${l})[${a}]`,WT(s.dataType.inner)):oe(`${l}[${a}]`,tm(s.dataType)?WT(s.dataType):cs)}if(t[0]===Ht.numericLiteral){let e=typeof t[1]=="string"?Pv(f$e(t[1])):Pv(t[1]);if(!e)throw new Error(`Invalid numeric literal ${t[1]}`);return e}if(t[0]===Ht.call){let[e,n,r]=t,s=this.expression(n);if(xs(s.value)||po(s.value)){if(r.length>1)throw new _i("Array and struct schemas should always be called with at most 1 argument");if(!r[0])return oe(`${this.ctx.resolve(s.value).value}()`,s.value);let a=this.typedExpression(r[0],s.value);return oe(this.ctx.resolve(a.value,s.value).value,s.value)}if(s.value===XC)throw new Error("Constants cannot be defined within TypeGPU function scope. To address this, move the constant definition outside the function scope.");if(s.value instanceof j8){if(!r[0])throw new _i(`An infix operator '${s.value.name}' was called without any arguments`);let a=this.expression(r[0]);return s.value.operator(s.value.lhs,a)}if(!Nt(s.value)){let a=r.map(u=>this.expression(u)),l=this.ctx.shelllessRepo.get(s.value,a);if(l)return this.ctx.withResetIndentLevel(()=>{let u=this.ctx.resolve(l);return oe(ne`${u.value}(${a})`,u.dataType)});throw new Error(`Function '${Se(s.value)??String(s.value)}' is not marked with the 'use gpu' directive and cannot be used in a shader`)}let i=s.value[j]?.argConversionHint??"keep";try{let a;if(Array.isArray(i))a=r.map((u,c)=>{let f=i[c];if(!f)throw new _i(`Function '${Se(s.value)}' was called with too many arguments`);return this.typedExpression(u,f)});else{let u=r.map(c=>this.expression(c));i==="keep"?a=u:i==="unify"?a=Hg(u)??u:a=i(...u).map((c,f)=>[c,u[f]]).map(([c,f])=>HC(f,c))}if(s.value instanceof H8)return this.ctx.generateLog(s.value.op,a);let l=s.value(...a);if(!fN(l))throw new Error("Functions running in codegen mode must return snippets");return l}catch(a){throw new ig(a,[{toString:o(()=>Se(s.value),"toString")}])}}if(t[0]===Ht.objectExpr){let e=t[1],n=this.ctx.expectedType;if(!n||!xs(n))throw new _i(`No target type could be inferred for object with keys [${Object.keys(e).join(", ")}], please wrap the object in the corresponding schema.`);let r=Object.fromEntries(Object.entries(n.propTypes).map(([i,a])=>{let l=e[i];if(l===void 0)throw new _i(`Missing property ${i} in object literal for struct ${n}`);let u=this.typedExpression(l,a);return[i,u]})),s=MDe(n,r);return oe(ne`${this.ctx.resolve(n).value}(${s})`,n)}if(t[0]===Ht.arrayExpr){let[e,n]=t,r=this.ctx.expectedType,s,i;if(po(r)){if(s=r.elementType,i=n.map(l=>this.typedExpression(l,s)),i.length!==r.elementCount)throw new _i(`Cannot create value of type '${r}' from an array of length: ${i.length}`)}else{let l=n.map(c=>this.expression(c));if(l.length===0)throw new _i("Cannot infer the type of an empty array literal.");let u=Hg(l);if(!u)throw new _i("The given values cannot be automatically converted to a common type. Consider wrapping the array in an appropriate schema");i=u,s=oy(i[0]?.dataType)}let a=`array<${this.ctx.resolve(s).value}, ${i.length}>`;return oe(ne`${a}(${i})`,iy[j].jsImpl(s,i.length))}if(t[0]===Ht.stringLiteral)return oe(t[1],cs);if(t[0]===Ht.preUpdate)throw new Error("Cannot use pre-updates in TGSL.");c$e(t)}functionDefinition(t){return this.block(t)}statement(t){if(typeof t=="string")return`${this.ctx.pre}${this.ctx.resolve(this.identifier(t).value).value};`;if(typeof t=="boolean")return`${this.ctx.pre}${t?"true":"false"};`;if(t[0]===Ht.return){let e=t[1];if(e!==void 0){let n=this.ctx.topFunctionReturnType,r=n?this.typedExpression(e,n):this.expression(e);return ll(r.dataType.type!=="unknown"),this.ctx.reportReturnType(r.dataType),ne`${this.ctx.pre}return ${r};`}return`${this.ctx.pre}return;`}if(t[0]===Ht.if){let[e,n,r,s]=t,i=this.typedExpression(n,_n),a=i.value===!1?void 0:this.block(Rb(r)),l=i.value===!0||!s?void 0:this.block(Rb(s));return i.value===!0?`${this.ctx.pre}${a}`:i.value===!1?l?`${this.ctx.pre}${l}`:"":l?ne`\
${this.ctx.pre}if (${i}) ${a}
${this.ctx.pre}else ${l}`:ne`${this.ctx.pre}if (${i}) ${a}`}if(t[0]===Ht.let||t[0]===Ht.const){let[e,n,r]=t,s=r!==void 0?this.expression(r):void 0;if(!s)throw new Error(`Cannot create variable '${n}' without an initial value.`);if(s1(s.dataType))throw new Error(`Cannot create variable '${n}' with loose data type.`);let i=this.blockVariable(n,oy(s.dataType));return ne`${this.ctx.pre}var ${i.value} = ${s};`}if(t[0]===Ht.block)return this.block(t);if(t[0]===Ht.for){let[e,n,r,s,i]=t,[a,l,u]=this.ctx.withResetIndentLevel(()=>[n?this.statement(n):void 0,r?this.typedExpression(r,_n):void 0,s?this.statement(s):void 0]),c=a?a.slice(0,-1):"",f=u?u.slice(0,-1):"",h=this.block(Rb(i));return ne`${this.ctx.pre}for (${c}; ${l}; ${f}) ${h}`}if(t[0]===Ht.while){let[e,n,r]=t,s=this.typedExpression(n,_n),i=this.ctx.resolve(s.value).value,a=this.block(Rb(r));return`${this.ctx.pre}while (${i}) ${a}`}return t[0]===Ht.continue?`${this.ctx.pre}continue;`:t[0]===Ht.break?`${this.ctx.pre}break;`:`${this.ctx.pre}${this.ctx.resolve(this.expression(t).value).value};`}};function c$e(t){throw new Error(`'${ry(t)}' was not handled by the WGSL generator.`)}o(c$e,"Er$1");function f$e(t){return/^0x[0-9a-f]+$/i.test(t)?Number.parseInt(t):/^0b[01]+$/i.test(t)?Number.parseInt(t.slice(2),2):Number.parseFloat(t)}o(f$e,"Lr$1");function Rb(t){return typeof t!="object"||t[0]!==Ht.block?[Ht.block,[t]]:t}o(Rb,"vt");var h$e=new u$e,YK=h$e,XK=Object.defineProperty,d$e=o((t,e,n)=>e in t?XK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,"__defNormalProp"),p$e=o((t,e)=>{for(var n in e)XK(t,n,{get:e[n],enumerable:!0})},"__export"),ht=o((t,e,n)=>d$e(t,typeof e!="symbol"?e+"":e,n),"__publicField"),m$e={};p$e(m$e,{BufferReader:o(()=>Ou,"BufferReader"),BufferWriter:o(()=>dh,"BufferWriter"),MaxValue:o(()=>$n,"MaxValue"),Measurer:o(()=>wn,"Measurer"),UnresolvedReferenceError:o(()=>zc,"UnresolvedReferenceError"),ValidationError:o(()=>Bx,"ValidationError"),arrayOf:o(()=>w$e,"arrayOf"),bool:o(()=>E$e,"bool"),byte:o(()=>C$e,"byte"),chars:o(()=>V$e,"chars"),concat:o(()=>q$e,"concat"),dynamicArrayOf:o(()=>K$e,"dynamicArrayOf"),f16:o(()=>F$e,"f16"),f32:o(()=>U$e,"f32"),f32Array:o(()=>cLe,"f32Array"),f64Array:o(()=>fLe,"f64Array"),generic:o(()=>W$e,"generic"),genericEnum:o(()=>H$e,"genericEnum"),i16:o(()=>R$e,"i16"),i16Array:o(()=>lLe,"i16Array"),i32:o(()=>D$e,"i32"),i32Array:o(()=>uLe,"i32Array"),i8:o(()=>k$e,"i8"),i8Array:o(()=>aLe,"i8Array"),keyed:o(()=>J$e,"keyed"),object:o(()=>j$e,"object"),optional:o(()=>Q$e,"optional"),string:o(()=>S$e,"string"),tupleOf:o(()=>nLe,"tupleOf"),u16:o(()=>N$e,"u16"),u16Array:o(()=>iLe,"u16Array"),u32:o(()=>$$e,"u32"),u32Array:o(()=>oLe,"u32Array"),u8:o(()=>tY,"u8"),u8Array:o(()=>rLe,"u8Array"),u8ClampedArray:o(()=>sLe,"u8ClampedArray")});var zc=class JK extends Error{static{o(this,"_UnresolvedReferenceError")}constructor(e){super(e),Object.setPrototypeOf(this,JK.prototype)}},Bx=class ZK extends Error{static{o(this,"_ValidationError")}constructor(e){super(e),Object.setPrototypeOf(this,ZK.prototype)}},g$e=class{static{o(this,"UnboundedMeasurer")}constructor(){ht(this,"size",Number.NaN),ht(this,"unbounded",this),ht(this,"isUnbounded",!0)}add(){return this}fork(){return this}},y$e=new g$e,wn=class QK{static{o(this,"_Measurer")}constructor(){ht(this,"size",0),ht(this,"unbounded",y$e),ht(this,"isUnbounded",!1)}add(e){return this.size+=e,this}fork(){const e=new QK;return e.size=this.size,e}},$n=Symbol("The biggest (in amount of bytes needed) value a schema can represent"),pr=class{static{o(this,"Schema")}constructor(){ht(this,"__unwrapped")}resolveReferences(t){}seekProperty(t,e){return null}},b$e=class{static{o(this,"Ref")}constructor(t){this.key=t}},Xg={STRING:"string",ENUM:"enum"},_$e=class extends pr{static{o(this,"ArraySchema")}constructor(t,e){super(),this._unstableElementSchema=t,this.length=e,ht(this,"elementSchema"),this.elementSchema=t}resolveReferences(t){this.elementSchema=t.resolve(this._unstableElementSchema)}write(t,e){if(e.length!==this.length)throw new Bx(`Expected array of length ${this.length}, got ${e.length}`);for(const n of e)this.elementSchema.write(t,n)}read(t){const e=[];for(let n=0;n<this.length;++n)e.push(this.elementSchema.read(t));return e}get maxSize(){return this.elementSchema.measure($n).size*this.length}measure(t,e=new wn){for(let n=0;n<this.length;++n)this.elementSchema.measure(t===$n?$n:t[n],e);return e}};function w$e(t,e){return new _$e(t,e)}o(w$e,"arrayOf");var v$e=class extends pr{static{o(this,"BoolSchema")}constructor(){super(...arguments),ht(this,"maxSize",1)}read(t){return t.readBool()}write(t,e){t.writeBool(e)}measure(t,e=new wn){return e.add(1)}},E$e=new v$e,eY=class og extends pr{static{o(this,"_StringSchema")}static get _encoder(){return og._cachedEncoder||(og._cachedEncoder=new TextEncoder),og._cachedEncoder}read(e){return e.readString()}write(e,n){e.writeString(n)}measure(e,n=new wn){if(e===$n)return n.unbounded;const r=og._encoder.encode(e);return n.add(r.byteLength+1)}};ht(eY,"_cachedEncoder");var x$e=eY,S$e=new x$e,T$e=class extends pr{static{o(this,"Int8Schema")}constructor(){super(...arguments),ht(this,"maxSize",1)}read(t){return t.readInt8()}write(t,e){t.writeInt8(e)}measure(t,e=new wn){return e.add(1)}},k$e=new T$e,A$e=class extends pr{static{o(this,"Uint8Schema")}constructor(){super(...arguments),ht(this,"maxSize",1)}read(t){return t.readUint8()}write(t,e){t.writeUint8(e)}measure(t,e=new wn){return e.add(1)}},tY=new A$e,C$e=tY,I$e=class extends pr{static{o(this,"Int16Schema")}constructor(){super(...arguments),ht(this,"maxSize",2)}read(t){return t.readInt16()}write(t,e){t.writeInt16(e)}measure(t,e=new wn){return e.add(2)}},R$e=new I$e,O$e=class extends pr{static{o(this,"Uint16Schema")}constructor(){super(...arguments),ht(this,"maxSize",2)}read(t){return t.readUint16()}write(t,e){t.writeUint16(e)}measure(t,e=new wn){return e.add(2)}},N$e=new O$e,M$e=class extends pr{static{o(this,"Int32Schema")}constructor(){super(...arguments),ht(this,"maxSize",4)}read(t){return t.readInt32()}write(t,e){t.writeInt32(e)}measure(t,e=new wn){return e.add(4)}},D$e=new M$e,P$e=class extends pr{static{o(this,"Uint32Schema")}constructor(){super(...arguments),ht(this,"maxSize",4)}read(t){return t.readUint32()}write(t,e){t.writeUint32(e)}measure(t,e=new wn){return e.add(4)}},$$e=new P$e,L$e=class extends pr{static{o(this,"Float16Schema")}constructor(){super(...arguments),ht(this,"maxSize",2)}read(t){return t.readFloat16()}write(t,e){t.writeFloat16(e)}measure(t,e=new wn){return e.add(2)}},F$e=new L$e,B$e=class extends pr{static{o(this,"Float32Schema")}constructor(){super(...arguments),ht(this,"maxSize",4)}read(t){return t.readFloat32()}write(t,e){t.writeFloat32(e)}measure(t,e=new wn){return e.add(4)}},U$e=new B$e,z$e=class extends pr{static{o(this,"CharsSchema")}constructor(t){super(),this.length=t}write(t,e){if(e.length!==this.length)throw new Bx(`Expected char-string of length ${this.length}, got ${e.length}`);for(let n=0;n<e.length;++n)t.writeUint8(e.charCodeAt(n))}read(t){let e="";for(let n=0;n<this.length;++n)e+=String.fromCharCode(t.readByte());return e}measure(t,e=new wn){return e.add(this.length)}};function V$e(t){return new z$e(t)}o(V$e,"chars");function vu(t){return Object.entries(t)}o(vu,"exactEntries");function nY(t,e){const n={};for(const[r,s]of vu(e))n[r]=t.resolve(s);return n}o(nY,"resolveMap");var PN=class extends pr{static{o(this,"ObjectSchema")}constructor(t){super(),this._properties=t,ht(this,"properties"),this.properties=t}resolveReferences(t){this.properties=nY(t,this._properties)}write(t,e){for(const[n,r]of vu(this.properties))r.write(t,e[n])}read(t){const e={};for(const[n,r]of vu(this.properties))e[n]=r.read(t);return e}get maxSize(){const t=new wn;for(const e of Object.values(this.properties))e.measure($n,t);return t.size}measure(t,e=new wn){for(const[n,r]of vu(this.properties))r.measure(t===$n?$n:t[n],e);return e}seekProperty(t,e){let n=0;for(const[r,s]of vu(this.properties)){if(r===e)return{bufferOffset:n,schema:s};n+=s.measure(t).size}return null}};function j$e(t){return new PN(t)}o(j$e,"object");var rY=class extends pr{static{o(this,"GenericObjectSchema")}constructor(t,e,n){super(),this.keyedBy=t,this._subTypeMap=n,ht(this,"_baseObject"),ht(this,"subTypeMap"),this._baseObject=new PN(e),this.subTypeMap=n}resolveReferences(t){this._baseObject.resolveReferences(t),this.subTypeMap=nY(t,this._subTypeMap)}write(t,e){const n=e.type,r=this.subTypeMap[n]||null;if(r===null)throw new Error(`Unknown sub-type '${n.toString()}' in among '${JSON.stringify(Object.keys(this.subTypeMap))}'`);this.keyedBy===Xg.ENUM?t.writeUint8(e.type):t.writeString(e.type),this._baseObject.write(t,e);for(const[s,i]of vu(r.properties))i.write(t,e[s])}read(t){const e=this.keyedBy===Xg.ENUM?t.readByte():t.readString(),n=this.subTypeMap[e]||null;if(n===null)throw new Error(`Unknown sub-type '${e}' in among '${JSON.stringify(Object.keys(this.subTypeMap))}'`);const r=this._baseObject.read(t);if(r.type=e,n!==null)for(const[s,i]of vu(n.properties))r[s]=i.read(t);return r}measure(t,e=new wn){if(this._baseObject.measure(t,e),this.keyedBy===Xg.ENUM)e.add(1);else if(t!==$n)e.add(t.type.length+1);else return e.unbounded;if(t===$n){const n=Object.values(this.subTypeMap).map(r=>{const s=e.fork();for(const i of Object.values(r.properties))i.measure($n,s);return[r,s.size]}).reduce((r,s)=>r[1]>s[1]?r:s)[0];for(const r of Object.values(n.properties))r.measure($n,e)}else{const n=t.type,r=this.subTypeMap[n]||null;if(r===null)throw new Error(`Unknown sub-type '${n.toString()}', expected one of '${JSON.stringify(Object.keys(this.subTypeMap))}'`);for(const[s,i]of vu(r.properties))i.measure(t[s],e)}return e}};function W$e(t,e){return new rY(Xg.STRING,t,e)}o(W$e,"generic");function H$e(t,e){return new rY(Xg.ENUM,t,e)}o(H$e,"genericEnum");function q$e(t){return new PN(Object.fromEntries(t.flatMap(({properties:e})=>Object.entries(e))))}o(q$e,"concat");var G$e=class extends pr{static{o(this,"DynamicArraySchema")}constructor(t){super(),this._unstableElementType=t,ht(this,"elementType"),this.elementType=t}resolveReferences(t){this.elementType=t.resolve(this._unstableElementType)}write(t,e){t.writeUint32(e.length);for(const n of e)this.elementType.write(t,n)}read(t){const e=[],n=t.readUint32();for(let r=0;r<n;++r)e.push(this.elementType.read(t));return e}get maxSize(){return this.measure($n).size}measure(t,e=new wn){if(t===$n)return e.unbounded;e.add(4);for(const n of t)this.elementType.measure(n,e);return e}seekProperty(t,e){if(typeof e=="symbol")return null;const n=Number.parseInt(String(e),10);if(Number.isNaN(n))return null;if(t===$n)return{bufferOffset:this.elementType.measure($n).size*n,schema:this.elementType};if(n>=t.length)return null;const r=new wn;for(let s=0;s<n;++s)this.elementType.measure(t[s],r);return{bufferOffset:r.size,schema:this.elementType}}};function K$e(t){return new G$e(t)}o(K$e,"dynamicArrayOf");var sY=class{static{o(this,"RefSchema")}constructor(t){ht(this,"__unwrapped"),ht(this,"ref"),this.ref=new b$e(t)}resolveReferences(){throw new zc("Tried to resolve a reference directly. Do it through a RefResolver instead.")}read(){throw new zc("Tried to read a reference directly. Resolve it instead.")}write(){throw new zc("Tried to write a reference directly. Resolve it instead.")}measure(){throw new zc("Tried to measure size of a reference directly. Resolve it instead.")}seekProperty(){throw new zc("Tried to seek property of a reference directly. Resolve it instead.")}},Y$e=class{static{o(this,"RefResolve")}constructor(){ht(this,"registry",{})}hasKey(t){return this.registry[t]!==void 0}register(t,e){this.registry[t]=e}resolve(t){if(t instanceof sY){const n=t.ref.key;if(this.registry[n]!==void 0)return this.registry[n];throw new zc(`Couldn't resolve reference to ${n}. Unknown key.`)}return t.resolveReferences(this),t}},X$e=class{static{o(this,"KeyedSchema")}constructor(t,e){this.key=t,ht(this,"__unwrapped"),ht(this,"__keyDefinition"),ht(this,"innerType"),this.innerType=e(new sY(t)),this.resolveReferences(new Y$e)}resolveReferences(t){t.hasKey(this.key)||(t.register(this.key,this.innerType),this.innerType.resolveReferences(t))}read(t){return this.innerType.read(t)}write(t,e){this.innerType.write(t,e)}get maxSize(){return this.measure($n).size}measure(t,e=new wn){return this.innerType.measure(t,e)}seekProperty(t,e){return this.innerType.seekProperty(t,e)}};function J$e(t,e){return new X$e(t,e)}o(J$e,"keyed");var Z$e=class extends pr{static{o(this,"OptionalSchema")}constructor(t){super(),this._innerUnstableSchema=t,ht(this,"innerSchema"),this.innerSchema=t}resolveReferences(t){this.innerSchema=t.resolve(this._innerUnstableSchema)}write(t,e){e!=null?(t.writeBool(!0),this.innerSchema.write(t,e)):t.writeBool(!1)}read(t){if(t.readBool())return this.innerSchema.read(t)}get maxSize(){return this.measure($n).size}measure(t,e=new wn){return t!==void 0&&this.innerSchema.measure(t,e),e.add(1)}};function Q$e(t){return new Z$e(t)}o(Q$e,"optional");function eLe(t,e){return e.map(n=>t.resolve(n))}o(eLe,"resolveArray");var tLe=class extends pr{static{o(this,"TupleSchema")}constructor(t){super(),this._unstableSchemas=t,ht(this,"schemas"),this.schemas=t}resolveReferences(t){this.schemas=eLe(t,this._unstableSchemas)}write(t,e){if(e.length!==this.schemas.length)throw new Bx(`Expected tuple of length ${this.schemas.length}, got ${e.length}`);for(let n=0;n<this.schemas.length;++n)this.schemas[n].write(t,e[n])}read(t){const e=[];for(let n=0;n<this.schemas.length;++n)e.push(this.schemas[n].read(t));return e}get maxSize(){return this.measure($n).size}measure(t,e=new wn){for(let n=0;n<this.schemas.length;++n)this.schemas[n].measure(t===$n?$n:t[n],e);return e}};function nLe(t){return new tLe(t)}o(nLe,"tupleOf");var Pl=class extends pr{static{o(this,"TypedArraySchema")}constructor(t,e){super(),this.length=t,this._arrayConstructor=e,ht(this,"byteLength"),this.byteLength=t*e.BYTES_PER_ELEMENT}write(t,e){t.writeSlice(e)}read(t){const e=new ArrayBuffer(this.byteLength),n=new this._arrayConstructor(e,0,this.length);return t.readSlice(n,0,this.byteLength),n}measure(t,e=new wn){return e.add(this.byteLength)}},rLe=o(t=>new Pl(t,Uint8Array),"u8Array"),sLe=o(t=>new Pl(t,Uint8ClampedArray),"u8ClampedArray"),iLe=o(t=>new Pl(t,Uint16Array),"u16Array"),oLe=o(t=>new Pl(t,Uint32Array),"u32Array"),aLe=o(t=>new Pl(t,Int8Array),"i8Array"),lLe=o(t=>new Pl(t,Int16Array),"i16Array"),uLe=o(t=>new Pl(t,Int32Array),"i32Array"),cLe=o(t=>new Pl(t,Float32Array),"f32Array"),fLe=o(t=>new Pl(t,Float64Array),"f64Array");function hLe(){const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return e[0]=1,t[0]===0}o(hLe,"isSystemBigEndian");function iY(){return hLe()?"big":"little"}o(iY,"getSystemEndianness");function $N(t){let e=0,n=t;return n&&"buffer"in n&&"byteOffset"in n&&(e+=n.byteOffset,n=n.buffer),{buffer:n,byteOffset:e,byteLength:t.byteLength}}o($N,"unwrapBuffer");var oY=class{static{o(this,"BufferIOBase")}constructor(t,e){ht(this,"dataView"),ht(this,"littleEndian"),ht(this,"byteOffset",0),ht(this,"endianness");const{byteOffset:n=0,endianness:r="system"}=e??{};this.byteOffset=n;const s=iY();this.endianness=r==="system"?s:r,this.littleEndian=this.endianness==="little";const i=$N(t);this.byteOffset+=i.byteOffset,this.dataView=new DataView(i.buffer)}get currentByteOffset(){return this.byteOffset}seekTo(t){this.byteOffset=t}skipBytes(t){this.byteOffset+=t}};function dLe(t){if(t===0)return 0;if(Number.isNaN(t))return 32256;if(!Number.isFinite(t))return t>0?31744:64512;const e=t<0?1:0,n=Math.abs(t),r=Math.floor(Math.log2(n)),s=n/2**r-1,i=r+15,a=Math.floor(s*1024);return e<<15|i<<10|a}o(dLe,"numberToFloat16");function pLe(t){const e=(t&32768)>>15,n=(t&31744)>>10,r=t&1023;return n===0?e===0?r/1024:-r/1024:n===31?r===0?e===0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:Number.NaN:(e===0?1:-1)*(1+r/1024)*2**(n-15)}o(pLe,"float16ToNumber");var Ou=class extends oY{static{o(this,"BufferReader")}constructor(){super(...arguments),ht(this,"_cachedTextDecoder")}get _textDecoder(){return this._cachedTextDecoder||(this._cachedTextDecoder=new TextDecoder(void 0,{fatal:!0})),this._cachedTextDecoder}readBool(){return this.dataView.getUint8(this.byteOffset++)!==0}readByte(){return this.dataView.getUint8(this.byteOffset++)}readInt8(){return this.dataView.getInt8(this.byteOffset++)}readUint8(){return this.dataView.getUint8(this.byteOffset++)}readInt16(){const t=this.dataView.getInt16(this.byteOffset,this.littleEndian);return this.byteOffset+=2,t}readUint16(){const t=this.dataView.getUint16(this.byteOffset,this.littleEndian);return this.byteOffset+=2,t}readInt32(){const t=this.dataView.getInt32(this.byteOffset,this.littleEndian);return this.byteOffset+=4,t}readUint32(){const t=this.dataView.getUint32(this.byteOffset,this.littleEndian);return this.byteOffset+=4,t}readFloat16(){const t=this.dataView.getUint16(this.byteOffset,this.littleEndian);return this.byteOffset+=2,pLe(t)}readFloat32(){const t=this.dataView.getFloat32(this.byteOffset,this.littleEndian);return this.byteOffset+=4,t}readString(){let t=0;for(;this.byteOffset+t<this.dataView.byteLength&&this.dataView.getUint8(this.byteOffset+t++)!==0;);const e=this._textDecoder.decode(new Uint8Array(this.dataView.buffer,this.byteOffset,t-1));return this.byteOffset+=t,e}readSlice(t,e,n){const r=$N(t),s=new Uint8Array(r.buffer,r.byteOffset+e);for(let i=0;i<n;++i)s[i]=this.dataView.getUint8(this.byteOffset++)}},dh=class extends oY{static{o(this,"BufferWriter")}constructor(){super(...arguments),ht(this,"_cachedTextEncoder")}get _textEncoder(){return this._cachedTextEncoder||(this._cachedTextEncoder=new TextEncoder),this._cachedTextEncoder}writeBool(t){this.dataView.setUint8(this.byteOffset++,t?1:0)}writeByte(t){this.dataView.setUint8(this.byteOffset++,t)}writeInt8(t){this.dataView.setInt8(this.byteOffset++,t)}writeUint8(t){this.dataView.setUint8(this.byteOffset++,t)}writeInt16(t){this.dataView.setInt16(this.byteOffset,t,this.littleEndian),this.byteOffset+=2}writeUint16(t){this.dataView.setUint16(this.byteOffset,t,this.littleEndian),this.byteOffset+=2}writeInt32(t){this.dataView.setInt32(this.byteOffset,t,this.littleEndian),this.byteOffset+=4}writeUint32(t){this.dataView.setUint32(this.byteOffset,t,this.littleEndian),this.byteOffset+=4}writeFloat16(t){this.dataView.setUint16(this.byteOffset,dLe(t),this.littleEndian),this.byteOffset+=2}writeFloat32(t){this.dataView.setFloat32(this.byteOffset,t,this.littleEndian),this.byteOffset+=4}writeString(t){const e=this._textEncoder.encodeInto(t,new Uint8Array(this.dataView.buffer,this.byteOffset));this.byteOffset+=e.written,this.dataView.setUint8(this.byteOffset++,0)}writeSlice(t){const e=$N(t),n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);for(const r of n)this.dataView.setUint8(this.byteOffset++,r)}},mLe=ge({name:"bitcastU32toF32",normalImpl:o((t=>typeof t=="number"?Bo(t):Pe.bitcastU32toF32[t.kind](t)),"normalImpl"),codegenImpl:o(t=>ne`bitcast<f32>(${t})`,"codegenImpl"),signature:o((...t)=>{let e=Ts(t,[De])??t;return{argTypes:e,returnType:xl(e[0])?e[0].type==="vec2u"?Wt:e[0].type==="vec3u"?Ar:ie:se}},"signature")}),gLe=ge({name:"bitcastU32toI32",normalImpl:o((t=>typeof t=="number"?Uo(t):Pe.bitcastU32toI32[t.kind](t)),"normalImpl"),codegenImpl:o(t=>ne`bitcast<i32>(${t})`,"codegenImpl"),signature:o((...t)=>{let e=Ts(t,[De])??t;return{argTypes:e,returnType:xl(e[0])?e[0].type==="vec2u"?xr:e[0].type==="vec3u"?li:Kt:Lt}},"signature")}),yLe=dr(t=>{let e=new ArrayBuffer(4);new dh(e).writeUint32(t);let n=new Ou(e);return Wt(n.readFloat16(),n.readFloat16())},t=>oe(ne`unpack2x16float(${t})`,Wt),"unpack2x16float");dr(t=>{let e=new ArrayBuffer(4),n=new dh(e);n.writeFloat16(t.x),n.writeFloat16(t.y);let r=new Ou(e);return De(r.readUint32())},t=>oe(ne`pack2x16float(${t})`,De),"pack2x16float");dr(t=>{let e=new ArrayBuffer(4);new dh(e).writeUint32(t);let n=new Ou(e);return ie(n.readUint8()/255,n.readUint8()/255,n.readUint8()/255,n.readUint8()/255)},t=>oe(ne`unpack4x8unorm(${t})`,ie),"unpack4x8unorm");dr(t=>{let e=new ArrayBuffer(4),n=new dh(e);n.writeUint8(t.x*255),n.writeUint8(t.y*255),n.writeUint8(t.z*255),n.writeUint8(t.w*255);let r=new Ou(e);return De(r.readUint32())},t=>oe(ne`pack4x8unorm(${t})`,De),"pack4x8unorm");function nm(t){return t.type.includes("2")?uh:t.type.includes("3")?ch:fh}o(nm,"T");var bLe=ge({name:"allEq",signature:o((...t)=>({argTypes:t,returnType:_n}),"signature"),normalImpl:o((t,e)=>FN(d1(t,e)),"normalImpl"),codegenImpl:o((t,e)=>ne`all(${t} == ${e})`,"codegenImpl")}),d1=o((t,e)=>Pe.eq[t.kind](t,e),"A");ge({name:"eq",signature:o((...t)=>({argTypes:t,returnType:nm(t[0])}),"signature"),normalImpl:d1,codegenImpl:o((t,e)=>ne`(${t} == ${e})`,"codegenImpl")});ge({name:"ne",signature:o((...t)=>({argTypes:t,returnType:nm(t[0])}),"signature"),normalImpl:o((t,e)=>pl(d1(t,e)),"normalImpl"),codegenImpl:o((t,e)=>ne`(${t} != ${e})`,"codegenImpl")});var Ux=o((t,e)=>Pe.lt[t.kind](t,e),"M");ge({name:"lt",signature:o((...t)=>({argTypes:t,returnType:nm(t[0])}),"signature"),normalImpl:Ux,codegenImpl:o((t,e)=>ne`(${t} < ${e})`,"codegenImpl")});ge({name:"le",signature:o((...t)=>({argTypes:t,returnType:nm(t[0])}),"signature"),normalImpl:o((t,e)=>LN(Ux(t,e),d1(t,e)),"normalImpl"),codegenImpl:o((t,e)=>ne`(${t} <= ${e})`,"codegenImpl")});ge({name:"gt",signature:o((...t)=>({argTypes:t,returnType:nm(t[0])}),"signature"),normalImpl:o((t,e)=>aY(pl(Ux(t,e)),pl(d1(t,e))),"normalImpl"),codegenImpl:o((t,e)=>ne`(${t} > ${e})`,"codegenImpl")});ge({name:"ge",signature:o((...t)=>({argTypes:t,returnType:nm(t[0])}),"signature"),normalImpl:o((t,e)=>pl(Ux(t,e)),"normalImpl"),codegenImpl:o((t,e)=>ne`(${t} >= ${e})`,"codegenImpl")});var pl=o(t=>Pe.neg[t.kind](t),"d$1");ge({name:"not",signature:o((...t)=>({argTypes:t,returnType:t[0]}),"signature"),normalImpl:pl,codegenImpl:o(t=>ne`!(${t})`,"codegenImpl")});var LN=o((t,e)=>Pe.or[t.kind](t,e),"I");ge({name:"or",signature:o((...t)=>({argTypes:t,returnType:t[0]}),"signature"),normalImpl:LN,codegenImpl:o((t,e)=>ne`(${t} | ${e})`,"codegenImpl")});var aY=o((t,e)=>pl(LN(pl(t),pl(e))),"O$1");ge({name:"and",signature:o((...t)=>({argTypes:t,returnType:t[0]}),"signature"),normalImpl:aY,codegenImpl:o((t,e)=>ne`(${t} & ${e})`,"codegenImpl")});var FN=o(t=>Pe.all[t.kind](t),"$");ge({name:"all",signature:o((...t)=>({argTypes:t,returnType:_n}),"signature"),normalImpl:FN,codegenImpl:o(t=>ne`all(${t})`,"codegenImpl")});ge({name:"any",signature:o((...t)=>({argTypes:t,returnType:_n}),"signature"),normalImpl:o(t=>!FN(pl(t)),"normalImpl"),codegenImpl:o(t=>ne`any(${t})`,"codegenImpl")});ge({name:"isCloseTo",signature:o((...t)=>({argTypes:t,returnType:_n}),"signature"),normalImpl:o((t,e,n=.01)=>typeof t=="number"&&typeof e=="number"?Math.abs(t-e)<n:fn(t)&&fn(e)?Pe.isCloseToZero[t.kind](h1[j].jsImpl(t,e),n):!1,"normalImpl"),codegenImpl:o((t,e,n=oe(.01,se))=>kb(t)&&kb(e)?ne`(abs(f32(${t}) - f32(${e})) <= ${n})`:!kb(t)&&!kb(e)?ne`all(abs(${t} - ${e}) <= (${t} - ${t}) + ${n})`:"false","codegenImpl")});function _Le(t,e,n){return typeof n=="boolean"?n?e:t:Pe.select[t.kind](t,e,n)}o(_Le,"j");ge({name:"select",signature:o((t,e,n)=>{let[r,s]=Ts([t,e])??[t,e];return{argTypes:[r,s,n],returnType:r}},"signature"),normalImpl:_Le,codegenImpl:o((t,e,n)=>ne`select(${t}, ${e}, ${n})`,"codegenImpl")});var p1={r8unorm:{channelType:se,vectorType:ie,texelSize:1,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:["write-only","read-only","read-write"]},r8snorm:{channelType:se,vectorType:ie,texelSize:1,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:["write-only","read-only"]},r8uint:{channelType:De,vectorType:un,texelSize:1,sampleTypes:["uint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},r8sint:{channelType:Lt,vectorType:Kt,texelSize:1,sampleTypes:["sint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},rg8unorm:{channelType:se,vectorType:ie,texelSize:2,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:["write-only","read-only"]},rg8snorm:{channelType:se,vectorType:ie,texelSize:2,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:["write-only","read-only"]},rg8uint:{channelType:De,vectorType:un,texelSize:2,sampleTypes:["uint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},rg8sint:{channelType:Lt,vectorType:Kt,texelSize:2,sampleTypes:["sint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},rgba8unorm:{channelType:se,vectorType:ie,texelSize:4,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:["write-only","read-only","read-write"]},"rgba8unorm-srgb":{channelType:se,vectorType:ie,texelSize:4,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:null},rgba8snorm:{channelType:se,vectorType:ie,texelSize:4,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},rgba8uint:{channelType:De,vectorType:un,texelSize:4,sampleTypes:["uint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},rgba8sint:{channelType:Lt,vectorType:Kt,texelSize:4,sampleTypes:["sint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},bgra8unorm:{channelType:se,vectorType:ie,texelSize:4,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:["write-only"]},"bgra8unorm-srgb":{channelType:se,vectorType:ie,texelSize:4,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:null},r16unorm:{channelType:se,vectorType:ie,texelSize:2,sampleTypes:["unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},r16snorm:{channelType:se,vectorType:ie,texelSize:2,sampleTypes:["unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},r16uint:{channelType:De,vectorType:un,texelSize:2,sampleTypes:["uint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},r16sint:{channelType:Lt,vectorType:Kt,texelSize:2,sampleTypes:["sint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},r16float:{channelType:se,vectorType:ie,texelSize:2,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:["write-only","read-only","read-write"]},rg16unorm:{channelType:se,vectorType:ie,texelSize:4,sampleTypes:["unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},rg16snorm:{channelType:se,vectorType:ie,texelSize:4,sampleTypes:["unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},rg16uint:{channelType:De,vectorType:un,texelSize:4,sampleTypes:["uint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},rg16sint:{channelType:Lt,vectorType:Kt,texelSize:4,sampleTypes:["sint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},rg16float:{channelType:se,vectorType:ie,texelSize:4,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:["write-only","read-only"]},rgba16unorm:{channelType:se,vectorType:ie,texelSize:8,sampleTypes:["unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},rgba16snorm:{channelType:se,vectorType:ie,texelSize:8,sampleTypes:["unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},rgba16uint:{channelType:De,vectorType:un,texelSize:8,sampleTypes:["uint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},rgba16sint:{channelType:Lt,vectorType:Kt,texelSize:8,sampleTypes:["sint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},rgba16float:{channelType:se,vectorType:ie,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:["write-only","read-only","read-write"]},r32uint:{channelType:De,vectorType:un,texelSize:4,sampleTypes:["uint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},r32sint:{channelType:Lt,vectorType:Kt,texelSize:4,sampleTypes:["sint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},r32float:{channelType:se,vectorType:ie,texelSize:4,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},rg32uint:{channelType:De,vectorType:un,texelSize:8,sampleTypes:["uint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:["write-only","read-only"]},rg32sint:{channelType:Lt,vectorType:Kt,texelSize:8,sampleTypes:["sint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:["write-only","read-only"]},rg32float:{channelType:se,vectorType:ie,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!1,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},rgba32uint:{channelType:De,vectorType:un,texelSize:16,sampleTypes:["uint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},rgba32sint:{channelType:Lt,vectorType:Kt,texelSize:16,sampleTypes:["sint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},rgba32float:{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!1,canResolve:!1,storageBindings:["write-only","read-only","read-write"]},rgb10a2uint:{channelType:De,vectorType:un,texelSize:4,sampleTypes:["uint"],aspects:["color"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:["write-only","read-only"]},rgb10a2unorm:{channelType:se,vectorType:ie,texelSize:4,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:["write-only","read-only"]},rg11b10ufloat:{channelType:se,vectorType:ie,texelSize:4,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!0,canBlend:!0,canMultisample:!0,canResolve:!0,storageBindings:["write-only","read-only"]},rgb9e5ufloat:{channelType:se,vectorType:ie,texelSize:4,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},stencil8:{channelType:De,vectorType:un,texelSize:1,sampleTypes:["uint"],aspects:["stencil"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:null},depth16unorm:{channelType:se,vectorType:ie,texelSize:2,sampleTypes:["depth","unfilterable-float"],aspects:["depth"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:null},depth24plus:{channelType:se,vectorType:ie,texelSize:4,sampleTypes:["depth","unfilterable-float"],aspects:["depth"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:null},"depth24plus-stencil8":{channelType:se,vectorType:ie,texelSize:4,sampleTypes:["depth","unfilterable-float"],aspects:["depth","stencil"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:null},depth32float:{channelType:se,vectorType:ie,texelSize:4,sampleTypes:["depth","unfilterable-float"],aspects:["depth"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:null},"depth32float-stencil8":{channelType:se,vectorType:ie,texelSize:4,sampleTypes:["depth","unfilterable-float"],aspects:["depth","stencil"],canRenderAttachment:!0,canBlend:!1,canMultisample:!0,canResolve:!1,storageBindings:null},"bc1-rgba-unorm":{channelType:se,vectorType:ie,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc1-rgba-unorm-srgb":{channelType:se,vectorType:ie,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc2-rgba-unorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc2-rgba-unorm-srgb":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc3-rgba-unorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc3-rgba-unorm-srgb":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc4-r-unorm":{channelType:se,vectorType:ie,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc4-r-snorm":{channelType:se,vectorType:ie,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc5-rg-unorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc5-rg-snorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc6h-rgb-ufloat":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc6h-rgb-float":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc7-rgba-unorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"bc7-rgba-unorm-srgb":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"etc2-rgb8unorm":{channelType:se,vectorType:ie,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"etc2-rgb8unorm-srgb":{channelType:se,vectorType:ie,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"etc2-rgb8a1unorm":{channelType:se,vectorType:ie,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"etc2-rgb8a1unorm-srgb":{channelType:se,vectorType:ie,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"etc2-rgba8unorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"etc2-rgba8unorm-srgb":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"eac-r11unorm":{channelType:se,vectorType:ie,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"eac-r11snorm":{channelType:se,vectorType:ie,texelSize:8,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"eac-rg11unorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"eac-rg11snorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-4x4-unorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-4x4-unorm-srgb":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-5x4-unorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-5x4-unorm-srgb":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-5x5-unorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-5x5-unorm-srgb":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-6x5-unorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-6x5-unorm-srgb":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-6x6-unorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-6x6-unorm-srgb":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-8x5-unorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-8x5-unorm-srgb":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-8x6-unorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-8x6-unorm-srgb":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-8x8-unorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-8x8-unorm-srgb":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-10x5-unorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-10x5-unorm-srgb":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-10x6-unorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-10x6-unorm-srgb":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-10x8-unorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-10x8-unorm-srgb":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-10x10-unorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-10x10-unorm-srgb":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-12x10-unorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-12x10-unorm-srgb":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-12x12-unorm":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null},"astc-12x12-unorm-srgb":{channelType:se,vectorType:ie,texelSize:16,sampleTypes:["float","unfilterable-float"],aspects:["color"],canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1,storageBindings:null}};function lY(t,e){let n=p1[t];if(!n)throw new Error(`Unknown texture format: ${t}`);let r={...n};switch(t){case"r32float":case"rg32float":case"rgba32float":e.features.has("float32-filterable")||(r={...r,sampleTypes:n.sampleTypes.filter(s=>s!=="float")}),e.features.has("float32-blendable")||(r={...r,canBlend:!1});break;case"bgra8unorm":e.features.has("bgra8unorm-storage")||(r={...r,storageBindings:null});break;case"rg11b10ufloat":e.features.has("rg11b10ufloat-renderable")||(r={...r,canRenderAttachment:!1,canBlend:!1,canMultisample:!1,canResolve:!1});break}if(r.storageBindings){let s=e.features.has("texture-formats-tier1"),i=e.features.has("texture-formats-tier2"),a=[...r.storageBindings],l=["r8unorm","r8uint","r8sint","r16uint","r16sint","r16float","rgba8unorm","rgba8uint","rgba8sint","rgba16uint","rgba16sint","rgba16float","r32uint","r32sint","r32float","rgba32uint","rgba32sint","rgba32float"],u=["r8snorm","rg8unorm","rg8snorm","rg8uint","rg8sint","rgba8snorm","r16unorm","r16snorm","rg16unorm","rg16snorm","rg16uint","rg16sint","rg16float","rgba16unorm","rgba16snorm","rgb10a2uint","rgb10a2unorm","rg11b10ufloat"];l.includes(t)&&!i&&(a=a.filter(c=>c!=="read-write")),u.includes(t)&&!s&&(a=a.filter(c=>c!=="write-only"&&c!=="read-only")),r={...r,storageBindings:a.length>0?a:null}}return r}o(lY,"Oe");var uY=["f16","clip_distances","dual_source_blending","subgroups","primitive_index"],cY={f16:"shader-f16",clip_distances:"clip-distances",dual_source_blending:"dual-source-blending",subgroups:"subgroups",primitive_index:"primitive-index"};function wLe(t){return new vLe(t)}o(wLe,"Hn");var vLe=class{static{o(this,"vr")}constructor(t){this.declaration=t}[j]=!0;externalsToApply=[];$uses(t){return this.externalsToApply.push(t),this}[Ye](t){let e={};for(let r of this.externalsToApply)qg(e,r);let n=Px(t,e,this.declaration);return t.addDeclaration(n),oe("",Ms)}toString(){return`declare: ${this.declaration}`}};function fY(t){let e={argTypes:t.in&&Object.keys(t.in).length!==0?[c1(t.in)]:[],returnType:Ms,workgroupSize:[t.workgroupSize[0]??1,t.workgroupSize[1]??1,t.workgroupSize[2]??1],isEntry:!0},n=o((r,...s)=>ELe(e,t.workgroupSize,$x(r,...s)),"r");return Object.assign(Object.assign(n,e),{does:n})}o(fY,"Et");function ELe(t,e,n){let r=u1(n,`@compute @workgroup_size(${e.join(", ")}) `),s=t.argTypes[0];return{shell:t,$uses(i){return r.applyExternals(i),this},[j]:!0,[In]:r,$name(i){return Ut(r,i),Ox(s)&&s.$name(`${i}_Input`),this},[Ye](i){return r.resolve(i,t.argTypes,t.returnType)},toString(){return`computeFn:${Se(r)??"<unnamed>"}`}}}o(ELe,"qa");function kt(t,e){let n={[j]:!0,argTypes:t,returnType:e??Ms,isEntry:!1};return Object.assign((r,...s)=>SLe(n,$x(r,...s)),n)}o(kt,"U");function hY(t){return Nt(t)&&t?.resourceType==="function"}o(hY,"Ke");function xLe([t,e]){return`${Se(t)??"<unnamed>"}=${e}`}o(xLe,"ja");function SLe(t,e){let n=u1(e,""),r={shell:t,resourceType:"function",$uses(a){return n.applyExternals(a),this},[In]:n,$name(a){return Ut(n,a),this},with(a,l){return dY(i,[[Mx(a)?a.slot:a,l]])},[Ye](a){return typeof e=="string"&&(i4e(e,t.argTypes,n.applyExternals),UK(e,t.returnType,n.applyExternals)),n.resolve(a,t.argTypes,t.returnType)}},s=dr((...a)=>IDe(()=>{try{if(typeof e=="string")throw new Error("Cannot execute on the CPU functions constructed with raw WGSL");let l=a.map((c,f)=>sy(t.argTypes[f],c)),u=e(...l);return sy(t.returnType,u)}catch(l){throw l instanceof q8?l.appendToTrace(i):new q8(l,[i])}}),(...a)=>oe(new pY(i,a),t.returnType),"tgpuFnCall",t.argTypes),i=Object.assign(s,r);return i[j].implementation=e,Object.defineProperty(i,"toString",{value(){return`fn:${Se(n)??"<unnamed>"}`}}),i}o(SLe,"Qa");function dY(t,e){let n={resourceType:"function",shell:t.shell,[Xc]:{inner:t,pairs:e},$uses(i){return t.$uses(i),this},[In]:t,$name(i){return t.$name(i),this},with(i,a){return dY(s,[...e,[Mx(i)?i.slot:i,a]])}},r=dr((...i)=>t(...i),(...i)=>oe(new pY(s,i),t.shell.returnType),"tgpuFnCall",t.shell.argTypes),s=Object.assign(r,n);return s[j].implementation=t[j].implementation,Object.defineProperty(s,"toString",{value(){return`fn:${Se(t)??"<unnamed>"}[${e.map(xLe).join(", ")}]`}}),s[j].implementation=t[j].implementation,s}o(dY,"Kn");var pY=class{static{o(this,"Vt")}[j]=!0;[Fs];[In];#e;#t;constructor(t,e){this.#e=t,this.#t=e,this[In]=t,this[Fs]=oe(this,this.#e.shell.returnType)}[Ye](t){return t.withResetIndentLevel(()=>oe(ne`${t.resolve(this.#e).value}(${this.#t})`,this.#e.shell.returnType))}toString(){return`call:${Se(this)??"<unnamed>"}`}};function TLe(t){let e={in:t.in,out:t.out,returnType:c1(t.out),isEntry:!0},n=o((r,...s)=>kLe(e,$x(r,...s)),"r");return Object.assign(Object.assign(n,e),{does:n})}o(TLe,"Yn");function kLe(t,e){let n=u1(e,"@fragment "),r=t.returnType;return typeof e=="string"&&UK(e,r,s=>n.applyExternals(s)),{shell:t,outputType:r,$uses(s){return n.applyExternals(s),this},[j]:!0,[In]:n,$name(s){return Ut(n,s),Ox(r)&&r.$name(`${s}_Output`),this},[Ye](s){let i=t.in?c1(t.in,s.varyingLocations).$name(`${Se(this)??""}_Input`):void 0;return i&&n.applyExternals({In:i}),n.applyExternals({Out:r}),n.resolve(s,i?[i]:[],t.returnType)},toString(){return`fragmentFn:${Se(n)??"<unnamed>"}`}}}o(kLe,"Ha");var mY=new Set(["alias","break","case","const","const_assert","continue","continuing","default","diagnostic","discard","else","enable","false","fn","for","if","let","loop","override","requires","return","struct","switch","true","var","while","NULL","Self","abstract","active","alignas","alignof","as","asm","asm_fragment","async","attribute","auto","await","become","cast","catch","class","co_await","co_return","co_yield","coherent","column_major","common","compile","compile_fragment","concept","const_cast","consteval","constexpr","constinit","crate","debugger","decltype","delete","demote","demote_to_helper","do","dynamic_cast","enum","explicit","export","extends","extern","external","fallthrough","filter","final","finally","friend","from","fxgroup","get","goto","groupshared","highp","impl","implements","import","inline","instanceof","interface","layout","lowp","macro","macro_rules","match","mediump","meta","mod","module","move","mut","mutable","namespace","new","nil","noexcept","noinline","nointerpolation","non_coherent","noncoherent","noperspective","null","nullptr","of","operator","package","packoffset","partition","pass","patch","pixelfragment","precise","precision","premerge","priv","protected","pub","public","readonly","ref","regardless","register","reinterpret_cast","require","resource","restrict","self","set","shared","sizeof","smooth","snorm","static","static_assert","static_cast","std","subroutine","super","target","template","this","thread_local","throw","trait","try","type","typedef","typeid","typename","typeof","union","unless","unorm","unsafe","unsized","use","using","varying","virtual","volatile","wgsl","where","with","writeonly","yield"]);function gY(t){if(t==="_"||t.startsWith("__")||/\s/.test(t))throw new Error(`Invalid identifier '${t}'. Choose an identifier without whitespaces or leading underscores.`);let e=t.split("_")[0];return!mY.has(e)}o(gY,"Ir");var yY=class{static{o(this,"_t")}makeValid(t){return gY(t)?t:this.makeUnique(t)}},ALe=class extends yY{static{o(this,"Wt")}lastUniqueId=0;makeUnique(t){let e;return t?(e=t.replaceAll(/\s/g,"_"),e=e.replaceAll(/[^\w\d]/g,"")):e="item",`${e}_${this.lastUniqueId++}`}},CLe=class extends yY{static{o(this,"Mt")}_usedNames=new Set(mY);makeUnique(t){if(t===void 0)throw new Error("Unnamed item found when using a strict name registry");let e=0,n=t;for(;this._usedNames.has(n);)e++,n=`${t}_${e}`;return this._usedNames.add(n),n}};function ILe(t,e){let n=u1(e,"");return{[j]:!0,[In]:n,resourceType:"shellless-impl",[Ye](r){return n.resolve(r,t,void 0)},toString(){return`fn*:${Se(n)??"<unnamed>"}`}}}o(ILe,"Xn");var RLe=class{static{o(this,"kt")}cache=new Map;get(t,e){let n=Nx(t);if(!n?.ast)return;if(!e&&n.ast.params.length>0)throw new Error(`Cannot resolve '${Se(t)}' directly, because it expects arguments. Either call it from another function, or wrap it in a shell`);let r=(e??[]).map(a=>oy(a.dataType)),s=this.cache.get(t);if(s){let a=s.find(l=>l.argTypes.every((u,c)=>u===r[c]));if(a)return a.value}else s=[],this.cache.set(t,s);let i=ILe(r,t);return s.push({argTypes:r,value:i}),i}},OLe=class{static{o(this,"Ur")}[j];constructor(t){this[j]={nameRegistry:t,shelllessRepo:new RLe,memoizedResolves:new WeakMap,memoizedDerived:new WeakMap,listeners:{name:new Set}}}on(t,e){if(t==="name"){let n=this[j].listeners.name;return n.add(e),()=>n.delete(e)}throw new Error(`Unsupported event: ${t}`)}};function NLe(t,e){let n=t.nameRegistry.makeUnique(Se(e));for(let r of t.listeners.name)r({target:e,name:n});return n}o(NLe,"Zn");function m1(t){let{names:e="random"}=t||{};return new OLe(e==="strict"?new CLe:new ALe)}o(m1,"Q");function zx(t){return typeof t?.format=="string"}o(zx,"Ye");function MLe(t,e){let n=[];if(tm(t)){if(!zx(e))throw new Error("Shader expected a single attribute, not a record of attributes to be passed in.");return n.push(e._layout),{usedVertexLayouts:n,bufferDefinitions:[{arrayStride:e._layout.stride,stepMode:e._layout.stepMode,attributes:[{format:e.format,offset:e.offset,shaderLocation:Ju(t)??0}]}]}}let r=[],s=new WeakMap,i=0;for(let[a,l]of Object.entries(t)){if(l1(l))continue;let u=e[a];if(!u)throw new Error(`An attribute by the name of '${a}' was not provided to the shader.`);let c=u._layout,f=s.get(c);f||(n.push(c),f=[],r.push({arrayStride:c.stride,stepMode:c.stepMode,attributes:f}),s.set(c,f)),i=Ju(l)??i,f.push({format:u.format,offset:u.offset,shaderLocation:i++})}return{usedVertexLayouts:n,bufferDefinitions:r}}o(MLe,"ea");var DLe=["bool","f32","f16","i32","u32","vec2f","vec3f","vec4f","vec2h","vec3h","vec4h","vec2i","vec3i","vec4i","vec2u","vec3u","vec4u","vec2<bool>","vec3<bool>","vec4<bool>","mat2x2f","mat3x3f","mat4x4f","texture_external"];function PLe(t){return DLe.includes(t.type)}o(PLe,"Ya");function QC(t,[e,n]){if(!gY(e))throw new Error(`Property key '${e}' is a reserved WGSL word. Choose a different name.`);return`  ${ON(n)}${e}: ${t.resolve(n).value},
`}o(QC,"Fr");function $Le(t,e){if(e[j].isAbstruct)throw new Error("Cannot resolve abstract struct types to WGSL.");let n=t.getUniqueName(e);return t.addDeclaration(`struct ${n} {
${Object.entries(e.propTypes).map(r=>QC(t,r)).join("")}}`),n}o($Le,"Ja");function LLe(t,e){let n=t.getUniqueName(e);return t.addDeclaration(`struct ${n} {
${Object.entries(e.propTypes).map(r=>zx(r[1])?QC(t,[r[0],Zu[r[1].format]]):QC(t,r)).join("")}
}`),n}o(LLe,"Xa");function FLe(t,e){let n=t.resolve(e.elementType).value;return e.elementCount===0?`array<${n}>`:`array<${n}, ${e.elementCount}>`}o(FLe,"Za");function BLe(t,e){let n=t.resolve(zx(e.elementType)?Zu[e.elementType.format]:e.elementType).value;return e.elementCount===0?`array<${n}>`:`array<${n}, ${e.elementCount}>`}o(BLe,"eo");function bY(t,e){if(s1(e))return e.type==="unstruct"?LLe(t,e):e.type==="disarray"?BLe(t,e):e.type==="loose-decorated"?t.resolve(zx(e.inner)?Zu[e.inner.format]:e.inner).value:t.resolve(Zu[e.type]).value;if(PLe(e))return e.type;if(e.type==="struct")return $Le(t,e);if(e.type==="array")return FLe(t,e);if(e.type==="atomic")return`atomic<${bY(t,e.inner)}>`;if(e.type==="decorated")return t.resolve(e.inner).value;if(e.type==="ptr")return e.addressSpace==="storage"?`ptr<storage, ${t.resolve(e.inner).value}, ${e.access==="read-write"?"read_write":e.access}>`:`ptr<${e.addressSpace}, ${t.resolve(e.inner).value}>`;if(e.type==="abstractInt"||e.type==="abstractFloat"||e.type==="void"||e.type==="u16")throw new Error(`${e.type} has no representation in WGSL`);if(ZC(e))return`${e.type}<${e.format}, ${f1[e.access]}>`;if(ePe(e))return e.type.startsWith("texture_depth")?e.type:`${e.type}<${e.sampleType.type}>`;if(z4e(e)||U4e(e))return e.type;yp(e,"resolveData")}o(bY,"Pr");var _Y=class eI{static{o(this,"e")}constructor(e){this.bindings=e}with(e,n){return new eI([...this.bindings,[Mx(e)?e.slot:e,n]])}pipe(e){let n=e(this);return new eI([...this.bindings,...n.bindings])}};function*ULe(t){let e=0;for(;;)t.has(e)||(yield e),e++}o(ULe,"ta");function zLe(t,e){let n="size"in t?t.size:t.currentByteOffset,r=e-1,s=n&r;"skipBytes"in t?t.skipBytes(e-s&r):t.add(e-s&r)}o(zLe,"to$1");var Gn=zLe,f5=new WeakMap;function wY(t){let e=f5.get(t);if(e)return e;let n=new wn,r={},s;for(let i in t.propTypes){let a=t.propTypes[i];if(a===void 0)throw new Error(`Property ${i} is undefined in struct`);let l=n.size;Gn(n,pc(t)?Ni(a):Cn(a)),s&&(s.padding=n.size-l);let u=mt(a);r[i]={offset:n.size,size:u},s=r[i],n.add(u)}return s&&(s.padding=ii(mt(t),Cn(t))-n.size),f5.set(t,r),r}o(wY,"Ot");var VLe=(()=>{try{return new Function("return true"),!0}catch{return!1}})(),HT=new WeakMap,Ob={u32:"u32",vec2u:"u32",vec3u:"u32",vec4u:"u32",u16:"u16",i32:"i32",vec2i:"i32",vec3i:"i32",vec4i:"i32",f32:"f32",vec2f:"f32",vec3f:"f32",vec4f:"f32",f16:"f16",vec2h:"f16",vec3h:"f16",vec4h:"f16",mat2x2f:"f32",mat3x3f:"f32",mat4x4f:"f32"},jLe={uint8:"u8",uint8x2:"u8",uint8x4:"u8",sint8:"i8",sint8x2:"i8",sint8x4:"i8",unorm8:"u8",unorm8x2:"u8",unorm8x4:"u8",snorm8:"i8",snorm8x2:"i8",snorm8x4:"i8",uint16:"u16",uint16x2:"u16",uint16x4:"u16",sint16:"i16",sint16x2:"i16",sint16x4:"i16",unorm16:"u16",unorm16x2:"u16",unorm16x4:"u16",snorm16:"i16",snorm16x2:"i16",snorm16x4:"i16",float16:"f16",float16x2:"f16",float16x4:"f16",float32:"f32",float32x2:"f32",float32x3:"f32",float32x4:"f32",uint32:"u32",uint32x2:"u32",uint32x3:"u32",uint32x4:"u32",sint32:"i32",sint32x2:"i32",sint32x3:"i32",sint32x4:"i32"},Nb={u32:"setUint32",i32:"setInt32",f32:"setFloat32",u16:"setUint16",i16:"setInt16",f16:"setFloat16",u8:"setUint8",i8:"setInt8"},WLe={unorm8:o(t=>`Math.round(${t} * 255)`,"unorm8"),unorm8x2:o(t=>`Math.round(${t} * 255)`,"unorm8x2"),unorm8x4:o(t=>`Math.round(${t} * 255)`,"unorm8x4"),snorm8:o(t=>`Math.round(${t} * 127)`,"snorm8"),snorm8x2:o(t=>`Math.round(${t} * 127)`,"snorm8x2"),snorm8x4:o(t=>`Math.round(${t} * 127)`,"snorm8x4"),unorm16:o(t=>`Math.round(${t} * 65535)`,"unorm16"),unorm16x2:o(t=>`Math.round(${t} * 65535)`,"unorm16x2"),unorm16x4:o(t=>`Math.round(${t} * 65535)`,"unorm16x4"),snorm16:o(t=>`Math.round(${t} * 32767)`,"snorm16"),snorm16x2:o(t=>`Math.round(${t} * 32767)`,"snorm16x2"),snorm16x4:o(t=>`Math.round(${t} * 32767)`,"snorm16x4")},h5={"unorm10-10-10-2":{writeFunction:"setUint32",generator:o((t,e)=>`output.setUint32(${t}, ((${e}.x*1023&0x3FF)<<22)|((${e}.y*1023&0x3FF)<<12)|((${e}.z*1023&0x3FF)<<2)|(${e}.w*3&3), littleEndian);
`,"generator")},"unorm8x4-bgra":{writeFunction:"setUint8",generator:o((t,e)=>{let n=["z","y","x","w"],r="";for(let s=0;s<4;s++)r+=`output.setUint8((${t} + ${s}), Math.round(${e}.${n[s]} * 255), littleEndian);
`;return r},"generator")}};function v_(t,e,n,r=0){let s=["i","j","k"][r]||`i${r}`;if(mDe(t)||ah(t))return v_(t.inner,e,n,r);if(xs(t)||pc(t)){let a=wY(t),l="";for(let[u,c]of Object.entries(a)){let f=t.propTypes[u];f&&(l+=v_(f,`(${e} + ${c.offset})`,`${n}.${u}`,r))}return l}if(po(t)||em(t)){let a=ii(mt(t.elementType),Cn(t)),l="";return l+=`for (let ${s} = 0; ${s} < ${t.elementCount}; ${s}++) {
`,l+=v_(t.elementType,`(${e} + ${s} * ${a})`,`${n}[${s}]`,r+1),l+=`}
`,l}if(xl(t)){let a=Ob[t.type],l="",u=Nb[a],c=["x","y","z","w"],f=$C(t)?2:LC(t)?3:4;for(let h=0;h<f;h++)l+=`output.${u}((${e} + ${h*4}), ${n}.${c[h]}, littleEndian);
`;return l}if(ny(t)){let a=Ob[t.type],l=Nb[a],u=ZG(t)?2:QG(t)?3:4,c=u*u,f=ii(u*4,8),h="";for(let d=0;d<c;d++){let p=Math.floor(d/u),m=d%u,y=p*f+m*4;h+=`output.${l}((${e} + ${y}), ${n}.columns[${p}].${["x","y","z","w"][m]}, littleEndian);
`}return h}if(HDe(t)){let a=t.type;if(a in h5)return h5[a].generator(e,n);let l=jLe[a],u=Nb[l],c=Zu[a],f=JG(c)?4:LC(c)?3:$C(c)?2:1,h=l==="u8"||l==="i8"?1:l==="u16"||l==="i16"||l==="f16"?2:4,d=["x","y","z","w"],p=WLe[a],m="";for(let y=0;y<f;y++){let b=f===1?n:`${n}.${d[y]}`,_=p?p(b):b;m+=`output.${u}((${e} + ${y*h}), ${_}, littleEndian);
`}return m}if(!Object.hasOwn(Ob,t.type))throw new Error(`Primitive ${t.type} is unsupported by compiled writer`);let i=Ob[t.type];return`output.${Nb[i]}(${e}, ${n}, littleEndian);
`}o(v_,"qt");function d5(t){if(!VLe){console.warn("This environment does not allow eval - using default writer as fallback");return}if(HT.has(t))return HT.get(t);try{let e=v_(t,"offset","value",0),n=new Function("output","offset","value","littleEndian=true",e);return HT.set(t,n),n}catch(e){console.warn(`Failed to compile writer for schema: ${t}
Reason: ${e instanceof Error?e.message:String(e)}
Falling back to default writer`)}}o(d5,"Br");var ed={bool(){throw new Error("Booleans are not host-shareable")},f32(t,e,n){t.writeFloat32(n)},f16(t,e,n){t.writeFloat16(n)},i32(t,e,n){t.writeInt32(n)},u32(t,e,n){t.writeUint32(n)},u16(t,e,n){t.writeUint16(n)},vec2f(t,e,n){t.writeFloat32(n.x),t.writeFloat32(n.y)},vec2h(t,e,n){t.writeFloat16(n.x),t.writeFloat16(n.y)},vec2i(t,e,n){t.writeInt32(n.x),t.writeInt32(n.y)},vec2u(t,e,n){t.writeUint32(n.x),t.writeUint32(n.y)},"vec2<bool>"(){throw new Error("Booleans are not host-shareable")},vec3f(t,e,n){t.writeFloat32(n.x),t.writeFloat32(n.y),t.writeFloat32(n.z)},vec3h(t,e,n){t.writeFloat16(n.x),t.writeFloat16(n.y),t.writeFloat16(n.z)},vec3i(t,e,n){t.writeInt32(n.x),t.writeInt32(n.y),t.writeInt32(n.z)},vec3u(t,e,n){t.writeUint32(n.x),t.writeUint32(n.y),t.writeUint32(n.z)},"vec3<bool>"(){throw new Error("Booleans are not host-shareable")},vec4f(t,e,n){t.writeFloat32(n.x),t.writeFloat32(n.y),t.writeFloat32(n.z),t.writeFloat32(n.w)},vec4h(t,e,n){t.writeFloat16(n.x),t.writeFloat16(n.y),t.writeFloat16(n.z),t.writeFloat16(n.w)},vec4i(t,e,n){t.writeInt32(n.x),t.writeInt32(n.y),t.writeInt32(n.z),t.writeInt32(n.w)},vec4u(t,e,n){t.writeUint32(n.x),t.writeUint32(n.y),t.writeUint32(n.z),t.writeUint32(n.w)},"vec4<bool>"(){throw new Error("Booleans are not host-shareable")},mat2x2f(t,e,n){for(let r=0;r<n.length;++r)t.writeFloat32(n[r])},mat3x3f(t,e,n){for(let r=0;r<n.length;++r)t.writeFloat32(n[r])},mat4x4f(t,e,n){for(let r=0;r<n.length;++r)t.writeFloat32(n[r])},struct(t,e,n){let r=Cn(e);Gn(t,r);for(let[s,i]of Object.entries(e.propTypes))Gn(t,Cn(i)),$v(t,i,n[s]);Gn(t,r)},array(t,e,n){if(e.elementCount===0)throw new Error("Cannot write using a runtime-sized schema.");let r=Cn(e);Gn(t,r);let s=t.currentByteOffset;for(let i=0;i<Math.min(e.elementCount,n.length);i++)Gn(t,r),$v(t,e.elementType,n[i]);t.seekTo(s+mt(e))},ptr(){throw new Error("Pointers are not host-shareable")},atomic(t,e,n){ed[e.inner.type]?.(t,e,n)},decorated(t,e,n){let r=Ni(e);Gn(t,r);let s=t.currentByteOffset;ed[e.inner?.type]?.(t,e.inner,n),t.seekTo(s+mt(e))},uint8(t,e,n){t.writeUint8(n)},uint8x2(t,e,n){t.writeUint8(n.x),t.writeUint8(n.y)},uint8x4(t,e,n){t.writeUint8(n.x),t.writeUint8(n.y),t.writeUint8(n.z),t.writeUint8(n.w)},sint8(t,e,n){t.writeInt8(n)},sint8x2(t,e,n){t.writeInt8(n.x),t.writeInt8(n.y)},sint8x4(t,e,n){t.writeInt8(n.x),t.writeInt8(n.y),t.writeInt8(n.z),t.writeInt8(n.w)},unorm8(t,e,n){t.writeUint8(Math.round(n*255))},unorm8x2(t,e,n){t.writeUint8(Math.round(n.x*255)),t.writeUint8(Math.round(n.y*255))},unorm8x4(t,e,n){t.writeUint8(Math.round(n.x*255)),t.writeUint8(Math.round(n.y*255)),t.writeUint8(Math.round(n.z*255)),t.writeUint8(Math.round(n.w*255))},snorm8(t,e,n){t.writeInt8(Math.round(n*127))},snorm8x2(t,e,n){t.writeInt8(Math.round(n.x*127)),t.writeInt8(Math.round(n.y*127))},snorm8x4(t,e,n){t.writeInt8(Math.round(n.x*127)),t.writeInt8(Math.round(n.y*127)),t.writeInt8(Math.round(n.z*127)),t.writeInt8(Math.round(n.w*127))},uint16(t,e,n){t.writeUint16(n)},uint16x2(t,e,n){t.writeUint16(n.x),t.writeUint16(n.y)},uint16x4(t,e,n){t.writeUint16(n.x),t.writeUint16(n.y),t.writeUint16(n.z),t.writeUint16(n.w)},sint16(t,e,n){t.writeInt16(n)},sint16x2(t,e,n){t.writeInt16(n.x),t.writeInt16(n.y)},sint16x4(t,e,n){t.writeInt16(n.x),t.writeInt16(n.y),t.writeInt16(n.z),t.writeInt16(n.w)},unorm16(t,e,n){t.writeUint16(n*65535)},unorm16x2(t,e,n){t.writeUint16(n.x*65535),t.writeUint16(n.y*65535)},unorm16x4(t,e,n){t.writeUint16(n.x*65535),t.writeUint16(n.y*65535),t.writeUint16(n.z*65535),t.writeUint16(n.w*65535)},snorm16(t,e,n){t.writeInt16(Math.round(n*32767))},snorm16x2(t,e,n){t.writeInt16(Math.round(n.x*32767)),t.writeInt16(Math.round(n.y*32767))},snorm16x4(t,e,n){t.writeInt16(Math.round(n.x*32767)),t.writeInt16(Math.round(n.y*32767)),t.writeInt16(Math.round(n.z*32767)),t.writeInt16(Math.round(n.w*32767))},float16(t,e,n){t.writeFloat16(n)},float16x2(t,e,n){t.writeFloat16(n.x),t.writeFloat16(n.y)},float16x4(t,e,n){t.writeFloat16(n.x),t.writeFloat16(n.y),t.writeFloat16(n.z),t.writeFloat16(n.w)},float32(t,e,n){t.writeFloat32(n)},float32x2(t,e,n){t.writeFloat32(n.x),t.writeFloat32(n.y)},float32x3(t,e,n){t.writeFloat32(n.x),t.writeFloat32(n.y),t.writeFloat32(n.z)},float32x4(t,e,n){t.writeFloat32(n.x),t.writeFloat32(n.y),t.writeFloat32(n.z),t.writeFloat32(n.w)},uint32(t,e,n){t.writeUint32(n)},uint32x2(t,e,n){t.writeUint32(n.x),t.writeUint32(n.y)},uint32x3(t,e,n){t.writeUint32(n.x),t.writeUint32(n.y),t.writeUint32(n.z)},uint32x4(t,e,n){t.writeUint32(n.x),t.writeUint32(n.y),t.writeUint32(n.z),t.writeUint32(n.w)},sint32(t,e,n){t.writeInt32(n)},sint32x2(t,e,n){t.writeInt32(n.x),t.writeInt32(n.y)},sint32x3(t,e,n){t.writeInt32(n.x),t.writeInt32(n.y),t.writeInt32(n.z)},sint32x4(t,e,n){t.writeInt32(n.x),t.writeInt32(n.y),t.writeInt32(n.z),t.writeInt32(n.w)},"unorm10-10-10-2"(t,e,n){let r=0;r|=(n.x*1023&1023)<<22,r|=(n.y*1023&1023)<<12,r|=(n.z*1023&1023)<<2,r|=n.w*3&3,t.writeUint32(r)},"unorm8x4-bgra"(t,e,n){t.writeUint8(n.z*255),t.writeUint8(n.y*255),t.writeUint8(n.x*255),t.writeUint8(n.w*255)},disarray(t,e,n){let r=Cn(e);Gn(t,r);let s=t.currentByteOffset;for(let i=0;i<Math.min(e.elementCount,n.length);i++)Gn(t,r),ed[e.elementType?.type]?.(t,e.elementType,n[i]);t.seekTo(s+mt(e))},unstruct(t,e,n){let r=e.propTypes;for(let[s,i]of Object.entries(r))ed[i.type]?.(t,i,n[s])},"loose-decorated"(t,e,n){let r=Ni(e);Gn(t,r);let s=t.currentByteOffset,i=ed[e.inner?.type];return i?.(t,e.inner,n),t.seekTo(s+mt(e)),n}};function $v(t,e,n){let r=ed[e.type];if(!r)throw new Error(`Cannot write data of type '${e.type}'.`);r(t,e,n)}o($v,"Ee");var HLe={bool(){throw new Error("Booleans are not host-shareable")},f32(t){return t.readFloat32()},f16(t){return t.readFloat16()},i32(t){return t.readInt32()},u32(t){return t.readUint32()},u16(t){return t.readUint16()},vec2f(t){return Wt(t.readFloat32(),t.readFloat32())},vec3f(t){return Ar(t.readFloat32(),t.readFloat32(),t.readFloat32())},vec4f(t){return ie(t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32())},vec2h(t){return _a(t.readFloat16(),t.readFloat16())},vec3h(t){return wa(t.readFloat16(),t.readFloat16(),t.readFloat16())},vec4h(t){return va(t.readFloat16(),t.readFloat16(),t.readFloat16(),t.readFloat16())},vec2i(t){return xr(t.readInt32(),t.readInt32())},vec3i(t){return li(t.readInt32(),t.readInt32(),t.readInt32())},vec4i(t){return Kt(t.readInt32(),t.readInt32(),t.readInt32(),t.readInt32())},vec2u(t){return Zs(t.readUint32(),t.readUint32())},vec3u(t){return Un(t.readUint32(),t.readUint32(),t.readUint32())},vec4u(t){return un(t.readUint32(),t.readUint32(),t.readUint32(),t.readUint32())},"vec2<bool>"(){throw new Error("Booleans are not host-shareable")},"vec3<bool>"(){throw new Error("Booleans are not host-shareable")},"vec4<bool>"(){throw new Error("Booleans are not host-shareable")},mat2x2f(t){return Ea(t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32())},mat3x3f(t){let e=o(()=>{let n=t.readFloat32();return t.readFloat32(),n},"t");return xa(t.readFloat32(),t.readFloat32(),e(),t.readFloat32(),t.readFloat32(),e(),t.readFloat32(),t.readFloat32(),e())},mat4x4f(t){return Wn(t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32())},struct(t,e){let n=Cn(e);Gn(t,n);let r={},s=e.propTypes;for(let[i,a]of Object.entries(s))Gn(t,Cn(a)),r[i]=Yo(t,a);return Gn(t,n),r},array(t,e){if(e.elementCount===0)throw new Error("Cannot read using a runtime-sized schema.");let n=Cn(e),r=[];for(let s=0;s<e.elementCount;s++){Gn(t,n);let i=e.elementType,a=Yo(t,i);r.push(a)}return Gn(t,n),r},ptr(){throw new Error("Pointers are not host-shareable")},atomic(t,e){return Yo(t,e.inner)},decorated(t,e){let n=Ni(e);Gn(t,n);let r=t.currentByteOffset,s=Yo(t,e.inner);return t.seekTo(r+mt(e)),s},uint8:o(t=>t.readUint8(),"uint8"),uint8x2:o(t=>Zs(t.readUint8(),t.readUint8()),"uint8x2"),uint8x4:o(t=>un(t.readUint8(),t.readUint8(),t.readUint8(),t.readUint8()),"uint8x4"),sint8:o(t=>t.readInt8(),"sint8"),sint8x2:o(t=>xr(t.readInt8(),t.readInt8()),"sint8x2"),sint8x4:o(t=>Kt(t.readInt8(),t.readInt8(),t.readInt8(),t.readInt8()),"sint8x4"),unorm8:o(t=>t.readUint8()/255,"unorm8"),unorm8x2:o(t=>Wt(t.readUint8()/255,t.readUint8()/255),"unorm8x2"),unorm8x4:o(t=>ie(t.readUint8()/255,t.readUint8()/255,t.readUint8()/255,t.readUint8()/255),"unorm8x4"),snorm8:o(t=>t.readInt8()/127,"snorm8"),snorm8x2:o(t=>Wt(t.readInt8()/127,t.readInt8()/127),"snorm8x2"),snorm8x4:o(t=>ie(t.readInt8()/127,t.readInt8()/127,t.readInt8()/127,t.readInt8()/127),"snorm8x4"),uint16:o(t=>t.readUint16(),"uint16"),uint16x2:o(t=>Zs(t.readUint16(),t.readUint16()),"uint16x2"),uint16x4:o(t=>un(t.readUint16(),t.readUint16(),t.readUint16(),t.readUint16()),"uint16x4"),sint16:o(t=>t.readInt16(),"sint16"),sint16x2:o(t=>xr(t.readInt16(),t.readInt16()),"sint16x2"),sint16x4:o(t=>Kt(t.readInt16(),t.readInt16(),t.readInt16(),t.readInt16()),"sint16x4"),unorm16:o(t=>t.readUint16()/65535,"unorm16"),unorm16x2:o(t=>Wt(t.readUint16()/65535,t.readUint16()/65535),"unorm16x2"),unorm16x4:o(t=>ie(t.readUint16()/65535,t.readUint16()/65535,t.readUint16()/65535,t.readUint16()/65535),"unorm16x4"),snorm16:o(t=>t.readInt16()/32767,"snorm16"),snorm16x2:o(t=>Wt(t.readInt16()/32767,t.readInt16()/32767),"snorm16x2"),snorm16x4:o(t=>ie(t.readInt16()/32767,t.readInt16()/32767,t.readInt16()/32767,t.readInt16()/32767),"snorm16x4"),float16(t){return t.readFloat16()},float16x2:o(t=>Wt(t.readFloat16(),t.readFloat16()),"float16x2"),float16x4:o(t=>ie(t.readFloat16(),t.readFloat16(),t.readFloat16(),t.readFloat16()),"float16x4"),float32:o(t=>t.readFloat32(),"float32"),float32x2:o(t=>Wt(t.readFloat32(),t.readFloat32()),"float32x2"),float32x3:o(t=>Ar(t.readFloat32(),t.readFloat32(),t.readFloat32()),"float32x3"),float32x4:o(t=>ie(t.readFloat32(),t.readFloat32(),t.readFloat32(),t.readFloat32()),"float32x4"),uint32:o(t=>t.readUint32(),"uint32"),uint32x2:o(t=>Zs(t.readUint32(),t.readUint32()),"uint32x2"),uint32x3:o(t=>Un(t.readUint32(),t.readUint32(),t.readUint32()),"uint32x3"),uint32x4:o(t=>un(t.readUint32(),t.readUint32(),t.readUint32(),t.readUint32()),"uint32x4"),sint32:o(t=>t.readInt32(),"sint32"),sint32x2:o(t=>xr(t.readInt32(),t.readInt32()),"sint32x2"),sint32x3:o(t=>li(t.readInt32(),t.readInt32(),t.readInt32()),"sint32x3"),sint32x4:o(t=>Kt(t.readInt32(),t.readInt32(),t.readInt32(),t.readInt32()),"sint32x4"),"unorm10-10-10-2"(t){let e=t.readUint32(),n=(e>>22)/1023,r=(e>>12&1023)/1023,s=(e>>2&1023)/1023,i=(e&3)/3;return ie(n,r,s,i)},"unorm8x4-bgra"(t){let e=t.readByte()/255,n=t.readByte()/255,r=t.readByte()/255,s=t.readByte()/255;return ie(r,n,e,s)},unstruct(t,e){let n={},r=e.propTypes;for(let[s,i]of Object.entries(r))n[s]=Yo(t,i);return n},disarray(t,e){let n=Cn(e),r=[];for(let s=0;s<e.elementCount;s++)Gn(t,n),r.push(Yo(t,e.elementType));return Gn(t,n),r},"loose-decorated"(t,e){Gn(t,Ni(e));let n=t.currentByteOffset,r=Yo(t,e.inner);return t.seekTo(n+mt(e)),r}};function Yo(t,e){let n=HLe[e.type];if(!n)throw new Error(`Cannot read data of type '${e.type}'.`);return n(t,e)}o(Yo,"O");function qLe(t,e){let n=mt(t);if(n===0||e===void 0||e===null)return[];let r=new ArrayBuffer(n),s=new dh(r),i=[];function a(c,f,h,d){if(f!=null){if(xs(c)||pc(c)){let p=wY(c);for(let[m,y]of Object.entries(p)){let b=c.propTypes[m];if(!b)continue;let _=f[m];_!==void 0&&a(b,_,h+y.offset,y.padding??d)}return}if(po(c)||em(c)){let p=c,m=ii(mt(p.elementType),Cn(p.elementType));if(!Array.isArray(f))throw new Error("Partial value for array must be an array");let y=f??[];y.sort((b,_)=>b.idx-_.idx);for(let{idx:b,value:_}of y)a(p.elementType,_,h+b*m,m-mt(p.elementType))}else{let p=mt(c);s.seekTo(h),$v(s,c,f),i.push({start:h,end:h+p,padding:d})}}}if(o(a,"s"),a(t,e,0),i.length===0)return[];let l=[],u=i[0];for(let c=1;c<i.length;c++){let f=i[c];if(!f||!u)throw new Error("Internal error: missing segment");f.start===u.end+(u.padding??0)?(u.end=f.end,u.padding=f.padding):(l.push({data:new Uint8Array(r,u.start,u.end-u.start)}),u=f)}if(!u)throw new Error("Internal error: missing segment");return l.push({data:new Uint8Array(r,u.start,u.end-u.start)}),l}o(qLe,"aa");function Lv(t){return!!t?.usableAsStorage}o(Lv,"Te");var p5=class vY extends Error{static{o(this,"e")}constructor(e){super(`Resource '${Se(e)??"<unnamed>"}' cannot be bound as 'storage'. Use .$usage('storage') to allow it.`),Object.setPrototypeOf(this,vY.prototype)}};function EY(t){return!!t.usableAsUniform}o(EY,"jt");var xY={uniform:"uniform",mutable:"storage, read_write",readonly:"storage, read"},BN=class{static{o(this,"Xe")}constructor(t,e){this.usage=t,this.buffer=e,this[j]={dataType:e.dataType},this[In]=e}resourceType="buffer-usage";[j];[In];$name(t){return this.buffer.$name(t),this}[Ye](t){let e=this.buffer.dataType,n=t.getUniqueName(this),{group:r,binding:s}=t.allocateFixedEntry(this.usage==="uniform"?{uniform:e}:{storage:e,access:this.usage},this.buffer),i=xY[this.usage];return t.addDeclaration(`@group(${r}) @binding(${s}) var<${i}> ${n}: ${t.resolve(e).value};`),oe(n,e)}toString(){return`${this.usage}:${Se(this)??"<unnamed>"}`}get[$t](){let t=this.buffer.dataType;return new Proxy({[j]:!0,get[Fs](){return oe(this,t)},[Ye]:e=>e.resolve(this),toString:o(()=>`${this.usage}:${Se(this)??"<unnamed>"}.$`,"toString")},Oo)}get $(){let t=Nv(),e=Ov();if(t.type==="normal")throw new K8(e?`Cannot access ${String(this.buffer)}. TypeGPU functions that depends on GPU resources need to be part of a compute dispatch, draw call or simulation`:".$ and .value are inaccessible during normal JS execution. Try `.read()`");return t.type==="codegen"?this[$t]:t.type==="simulate"?(t.buffers.has(this.buffer)||t.buffers.set(this.buffer,sy(this.buffer.dataType,this.buffer.initial)),t.buffers.get(this.buffer)):yp(t,"bufferUsage.ts#TgpuFixedBufferImpl/$")}get value(){return this.$}set $(t){let e=Nv(),n=Ov();if(e.type==="normal")throw new K8(n?`Cannot access ${String(this.buffer)}. TypeGPU functions that depends on GPU resources need to be part of a compute dispatch, draw call or simulation`:".$ and .value are inaccessible during normal JS execution. Try `.write()`");if(e.type==="codegen")throw new Error("Unreachable bufferUsage.ts#TgpuFixedBufferImpl/$");if(e.type==="simulate"){e.buffers.set(this.buffer,t);return}yp(e,"bufferUsage.ts#TgpuFixedBufferImpl/$")}set value(t){this.$=t}},m5=class{static{o(this,"Ze")}constructor(t,e,n){this.usage=t,this.dataType=e,this[j]={dataType:e},this.#e=n,Ut(this,n.key)}[j];resourceType="buffer-usage";#e;[Ye](t){let e=this.dataType,n=t.getUniqueName(this),r=t.allocateLayoutEntry(this.#e.layout),s=xY[this.usage];return t.addDeclaration(`@group(${r}) @binding(${this.#e.idx}) var<${s}> ${n}: ${t.resolve(e).value};`),oe(n,e)}toString(){return`${this.usage}:${Se(this)??"<unnamed>"}`}get[$t](){let t=this.dataType;return new Proxy({[j]:!0,get[Fs](){return oe(this,t)},[Ye]:e=>e.resolve(this),toString:o(()=>`${this.usage}:${Se(this)??"<unnamed>"}.$`,"toString")},Oo)}get $(){if(Na())return this[$t];throw new Error("Direct access to buffer values is possible only as part of a compute dispatch or draw call. Try .read() or .write() instead")}get value(){return this.$}},g5=new WeakMap;function GLe(t){if(!Lv(t))throw new Error(`Cannot pass ${t} to asMutable, as it is not allowed to be used as storage. To allow it, call .$usage('storage') when creating the buffer.`);let e=g5.get(t);return e||(e=new BN("mutable",t),g5.set(t,e)),e}o(GLe,"pa");var y5=new WeakMap;function KLe(t){if(!Lv(t))throw new Error(`Cannot pass ${t} to asReadonly, as it is not allowed to be used as storage. To allow it, call .$usage('storage') when creating the buffer.`);let e=y5.get(t);return e||(e=new BN("readonly",t),y5.set(t,e)),e}o(KLe,"la");var b5=new WeakMap;function YLe(t){if(!EY(t))throw new Error(`Cannot pass ${t} to asUniform, as it is not allowed to be used as a uniform. To allow it, call .$usage('uniform') when creating the buffer.`);let e=b5.get(t);return e||(e=new BN("uniform",t),b5.set(t,e)),e}o(YLe,"ma");var XLe={uniform:YLe,mutable:GLe,readonly:KLe};function Mb(t,e,n){return oh(e)?new _5(t,e,n):new _5(t,e,n,["storage","uniform"])}o(Mb,"et");function Jg(t){return t.resourceType==="buffer"}o(Jg,"le");var JLe=iY(),_5=class{static{o(this,"Qt")}constructor(t,e,n,r){this.dataType=e,this.initialOrBuffer=n,this._disallowedUsages=r,this.#e=t.device,WC(n)?(this._ownBuffer=!1,this._buffer=n):(this._ownBuffer=!0,this.initial=n)}[j]=!0;resourceType="buffer";flags=GPUBufferUsage.COPY_DST|GPUBufferUsage.COPY_SRC;#e;_buffer=null;_ownBuffer;_destroyed=!1;_hostBuffer;initial;usableAsUniform=!1;usableAsStorage=!1;usableAsVertex=!1;usableAsIndex=!1;get buffer(){if(this._destroyed)throw new Error("This buffer has been destroyed");return this._buffer||(this._buffer=this.#e.createBuffer({size:mt(this.dataType),usage:this.flags,mappedAtCreation:!!this.initial,label:Se(this)??"<unnamed>"}),this.initial&&(this._writeToTarget(this._buffer.getMappedRange(),this.initial),this._buffer.unmap())),this._buffer}get destroyed(){return this._destroyed}$name(t){return Ut(this,t),this._buffer&&(this._buffer.label=t),this}$usage(...t){for(let e of t){if(this._disallowedUsages?.includes(e))throw new Error(`Buffer of type ${this.dataType.type} cannot be used as ${e}`);this.flags|=e==="uniform"?GPUBufferUsage.UNIFORM:0,this.flags|=e==="storage"?GPUBufferUsage.STORAGE:0,this.flags|=e==="vertex"?GPUBufferUsage.VERTEX:0,this.flags|=e==="index"?GPUBufferUsage.INDEX:0,this.usableAsUniform=this.usableAsUniform||e==="uniform",this.usableAsStorage=this.usableAsStorage||e==="storage",this.usableAsVertex=this.usableAsVertex||e==="vertex",this.usableAsIndex=this.usableAsIndex||e==="index"}return this}$addFlags(t){if(!this._ownBuffer)throw new Error("Cannot add flags to a buffer that is not managed by TypeGPU.");return t&GPUBufferUsage.MAP_READ?(this.flags=GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ,this):t&GPUBufferUsage.MAP_WRITE?(this.flags=GPUBufferUsage.COPY_SRC|GPUBufferUsage.MAP_WRITE,this):(this.flags|=t,this)}compileWriter(){d5(this.dataType)}_writeToTarget(t,e){let n=d5(this.dataType);if(n)try{n(new DataView(t),0,e,JLe==="little");return}catch(r){console.error(`Error when using compiled writer for buffer ${Se(this)??"<unnamed>"} - this is likely a bug, please submit an issue at https://github.com/software-mansion/TypeGPU/issues
Using fallback writer instead.`,r)}$v(new dh(t),this.dataType,e)}write(t){let e=this.buffer;if(e.mapState==="mapped"){let r=e.getMappedRange();this._writeToTarget(r,t);return}let n=mt(this.dataType);this._hostBuffer||(this._hostBuffer=new ArrayBuffer(n)),this._writeToTarget(this._hostBuffer,t),this.#e.queue.writeBuffer(e,0,this._hostBuffer,0,n)}writePartial(t){let e=this.buffer,n=qLe(this.dataType,t);if(e.mapState==="mapped"){let r=e.getMappedRange(),s=new Uint8Array(r);for(let i of n)s.set(i.data,i.data.byteOffset)}else for(let r of n)this.#e.queue.writeBuffer(e,r.data.byteOffset,r.data,0,r.data.byteLength)}clear(){let t=this.buffer;if(t.mapState==="mapped"){new Uint8Array(t.getMappedRange()).fill(0);return}let e=this.#e.createCommandEncoder();e.clearBuffer(t),this.#e.queue.submit([e.finish()])}copyFrom(t){if(this.buffer.mapState==="mapped")throw new Error("Cannot copy to a mapped buffer.");let e=mt(this.dataType),n=this.#e.createCommandEncoder();n.copyBufferToBuffer(t.buffer,0,this.buffer,0,e),this.#e.queue.submit([n.finish()])}async read(){let t=this.buffer;if(t.mapState==="mapped"){let s=t.getMappedRange();return Yo(new Ou(s),this.dataType)}if(t.usage&GPUBufferUsage.MAP_READ){await t.mapAsync(GPUMapMode.READ);let s=t.getMappedRange(),i=Yo(new Ou(s),this.dataType);return t.unmap(),i}let e=(globalThis.__TYPEGPU_AUTONAME__??(s=>s))(this.#e.createBuffer({size:mt(this.dataType),usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),"r"),n=this.#e.createCommandEncoder();n.copyBufferToBuffer(t,0,e,0,mt(this.dataType)),this.#e.queue.submit([n.finish()]),await e.mapAsync(GPUMapMode.READ,0,mt(this.dataType));let r=Yo(new Ou(e.getMappedRange()),this.dataType);return e.unmap(),e.destroy(),r}as(t){return XLe[t]?.(this)}destroy(){this._destroyed||(this._destroyed=!0,this._ownBuffer&&this._buffer?.destroy())}toString(){return`buffer:${Se(this)??"<unnamed>"}`}};function ZLe(t,e){return new kY(jK(),t,e)}o(ZLe,"fa");function QLe(t,e){return new kY(WK(),t,e)}o(QLe,"da");function SY(t){let e=t;return e?.resourceType==="sampler"&&!!e[j]}o(SY,"tt");function TY(t){let e=t;return e?.resourceType==="sampler-comparison"&&!!e[j]}o(TY,"rt");var e6e=class{static{o(this,"Ht")}constructor(t,e){this.schema=t,this.#e=e,this.resourceType=t.type==="sampler_comparison"?"sampler-comparison":"sampler",Ut(this,e.key)}[j]={unwrap:void 0};resourceType;#e;[Ye](t){let e=t.getUniqueName(this),n=t.allocateLayoutEntry(this.#e.layout);return t.addDeclaration(`@group(${n}) @binding(${this.#e.idx}) var ${e}: ${t.resolve(this.schema).value};`),oe(e,this.schema)}get[$t](){let t=this.schema;return new Proxy({[j]:!0,get[Fs](){return oe(this,t)},[Ye]:e=>e.resolve(this),toString:o(()=>`${this.toString()}.$`,"toString")},Oo)}get $(){if(Na())return this[$t];throw new Error("Direct access to sampler values is possible only as part of a compute dispatch or draw call.")}get value(){return this.$}toString(){return`${this.resourceType}:${Se(this)??"<unnamed>"}`}},kY=class{static{o(this,"Kt")}constructor(t,e,n){this.schema=t,this.#n=e,this.#r=n,this.resourceType=t.type==="sampler_comparison"?"sampler-comparison":"sampler",this[j]={unwrap:o(()=>(this.#t||(this.#t=this.#r.device.createSampler({...this.#n,label:Se(this)??"<unnamed>"})),this.#t),"unwrap")},this.#e=e.minFilter==="linear"||e.magFilter==="linear"||e.mipmapFilter==="linear"}[j];resourceType;#e;#t=null;#n;#r;[Ye](t){let e=t.getUniqueName(this),{group:n,binding:r}=t.allocateFixedEntry(this.schema.type==="sampler_comparison"?{sampler:"comparison"}:{sampler:this.#e?"filtering":"non-filtering"},this);return t.addDeclaration(`@group(${n}) @binding(${r}) var ${e}: ${t.resolve(this.schema).value};`),oe(e,this.schema)}get[$t](){let t=this.schema;return new Proxy({[j]:!0,get[Fs](){return oe(this,t)},[Ye]:e=>e.resolve(this),toString:o(()=>`${this.toString()}.$`,"toString")},Oo)}get $(){if(Na())return this[$t];throw new Error("Direct access to sampler values is possible only as part of a compute dispatch or draw call.")}get value(){return this.$}$name(t){return Ut(this,t),this}toString(){return`${this.resourceType}:${Se(this)??"<unnamed>"}`}},t6e=class{static{o(this,"Yt")}constructor(t,e){this.schema=t,this.#e=e,Ut(this,e.key)}resourceType="external-texture";[j]=!0;#e;[Ye](t){let e=t.getUniqueName(this),n=t.allocateLayoutEntry(this.#e.layout);return t.addDeclaration(`@group(${n}) @binding(${this.#e.idx}) var ${e}: ${t.resolve(this.schema).value};`),oe(e,Q4e())}get[$t](){let t=this.schema;return new Proxy({[j]:!0,get[Fs](){return oe(this,t)},[Ye]:e=>e.resolve(this),toString:o(()=>`textureExternal:${Se(this)??"<unnamed>"}.$`,"toString")},Oo)}get $(){if(Na())return this[$t];throw new Error("Direct access to texture views values is possible only as part of a compute dispatch or draw call. Try .read() or .write() instead")}get value(){return this.$}toString(){return`textureExternal:${Se(this)??"<unnamed>"}`}};function tI(t){let{videoWidth:e,videoHeight:n}=t;if(e&&n)return{width:e,height:n};let{naturalWidth:r,naturalHeight:s}=t;if(r&&s)return{width:r,height:s};let{codedWidth:i,codedHeight:a}=t;if(i&&a)return{width:i,height:a};let{width:l,height:u}=t||HTMLCanvasElement||OffscreenCanvas||HTMLImageElement||ImageData;if(!l||!u)throw new Error("Cannot determine dimensions of the provided image source.");return{width:l,height:u}}o(tI,"Jt");var nI=new WeakMap;function AY(t){let e=nI.get(t);return e||(e=new Map,nI.set(t,e)),e}o(AY,"ca");function n6e(t){let e=nI.get(t);e&&e.clear()}o(n6e,"ga");function r6e(t,e,n=0,r){if(e.dimension!=="2d")throw new Error("Cannot generate mipmaps for non-2D textures: only 2D textures are currently supported.");let s=r??e.mipLevelCount-n,i=lY(e.format,t);if(![...i.sampleTypes].some(a=>a==="float"||a==="unfilterable-float"))throw new Error(`Cannot generate mipmaps for format '${e.format}': only float and unfilterable-float formats are currently supported.`);if(!i.canRenderAttachment)throw new Error(`Cannot generate mipmaps for format '${e.format}': format does not support render attachments.`);for(let a=0;a<e.depthOrArrayLayers;a++)for(let l=n;l<n+s-1;l++){let u=l,c=l+1;o6e(t,e,u,c,a)}}o(r6e,"ya");function s6e(t,e,n,r){if(e.dimension==="3d")throw new Error("Cannot resample to 3D textures: only 2D textures are currently supported.");let s=p1[e.format];if(![...s.sampleTypes].some(i=>i==="float"||i==="unfilterable-float"))throw new Error(`Cannot resample to format '${e.format}': only float and unfilterable-float formats are currently supported.`);if(!s.canRenderAttachment)throw new Error(`Cannot resample to format '${e.format}': format does not support render attachments.`);return i6e(t,e,n,r)}o(s6e,"Ta");function i6e(t,e,n,r=0){let s=[...p1[e.format].sampleTypes].includes("float"),i=`${s?"filterable":"unfilterable"}`,a=AY(t),l=a.get(i);if(!l){let b=t.createShaderModule({code:`
struct VertexOutput {
  @builtin(position) pos: vec4f,
  @location(0) uv: vec2f,
}

@vertex
fn vs_main(@builtin(vertex_index) vertexIndex: u32) -> VertexOutput {
  let pos = array<vec2f, 3>(vec2f(-1, -1), vec2f(3, -1), vec2f(-1, 3));
  let uv = array<vec2f, 3>(vec2f(0, 1), vec2f(2, 1), vec2f(0, -1));

  var output: VertexOutput;
  output.pos = vec4f(pos[vertexIndex], 0, 1);
  output.uv = uv[vertexIndex];
  return output;
}
      `}),_=(globalThis.__TYPEGPU_AUTONAME__??(C=>C))(t.createSampler({magFilter:s?"linear":"nearest",minFilter:s?"linear":"nearest"}),"R"),S=t.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.FRAGMENT,texture:{sampleType:"float"}},{binding:1,visibility:GPUShaderStage.FRAGMENT,sampler:{type:s?"filtering":"non-filtering"}}]}),v=t.createPipelineLayout({bindGroupLayouts:[S]}),k=t.createShaderModule({code:`
@group(0) @binding(0) var inputTexture: texture_2d<f32>;
@group(0) @binding(1) var inputSampler: sampler;

@fragment
fn fs_main(@location(0) uv: vec2f) -> @location(0) vec4f {
  ${s?"return textureSample(inputTexture, inputSampler, uv);":`let texelCoord = vec2u(uv * vec2f(textureDimensions(inputTexture)));
        return textureLoad(inputTexture, texelCoord, 0);`}
}
      `});l={vertexShader:b,fragmentShader:k,bindGroupLayout:S,pipelineLayout:v,sampler:_},a.set(i,l)}let u=(globalThis.__TYPEGPU_AUTONAME__??(b=>b))(t.createTexture({size:[...Object.values(tI(n))],format:"rgba8unorm",usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_DST}),"l"),{width:c,height:f}=tI(n);t.queue.copyExternalImageToTexture({source:n},{texture:u},[c,f,1]);let h=(globalThis.__TYPEGPU_AUTONAME__??(b=>b))(t.createTexture({size:[e.width,e.height,1],format:e.format,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC}),"f"),d=t.createRenderPipeline({layout:l.pipelineLayout,vertex:{module:l.vertexShader},fragment:{module:l.fragmentShader,targets:[{format:e.format}]},primitive:{topology:"triangle-list"}}),p=t.createBindGroup({layout:l.bindGroupLayout,entries:[{binding:0,resource:u.createView()},{binding:1,resource:l.sampler}]}),m=t.createCommandEncoder(),y=m.beginRenderPass({colorAttachments:[{view:h.createView(),loadOp:"clear",storeOp:"store"}]});y.setPipeline(d),y.setBindGroup(0,p),y.draw(3),y.end(),m.copyTextureToTexture({texture:h},{texture:e,origin:{x:0,y:0,z:r}},{width:e.width,height:e.height,depthOrArrayLayers:1}),t.queue.submit([m.finish()]),u.destroy(),h.destroy()}o(i6e,"co");function o6e(t,e,n,r,s){let i=[...lY(e.format,t).sampleTypes].includes("float"),a=`${i?"filterable":"unfilterable"}`,l=AY(t),u=l.get(a);if(!u){let y=t.createShaderModule({code:`
struct VertexOutput {
  @builtin(position) pos: vec4f,
  @location(0) uv: vec2f,
}

@vertex
fn vs_main(@builtin(vertex_index) vertexIndex: u32) -> VertexOutput {
  let pos = array<vec2f, 3>(vec2f(-1, -1), vec2f(3, -1), vec2f(-1, 3));
  let uv = array<vec2f, 3>(vec2f(0, 1), vec2f(2, 1), vec2f(0, -1));

  var output: VertexOutput;
  output.pos = vec4f(pos[vertexIndex], 0, 1);
  output.uv = uv[vertexIndex];
  return output;
}
      `}),b=t.createShaderModule({code:`
@group(0) @binding(0) var inputTexture: texture_2d<f32>;
@group(0) @binding(1) var inputSampler: sampler;

@fragment
fn fs_main(@location(0) uv: vec2f) -> @location(0) vec4f {
  return textureSample(inputTexture, inputSampler, uv);
}
      `}),_=(globalThis.__TYPEGPU_AUTONAME__??(k=>k))(t.createSampler({magFilter:i?"linear":"nearest",minFilter:i?"linear":"nearest"}),"R"),S=t.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.FRAGMENT,texture:{sampleType:i?"float":"unfilterable-float"}},{binding:1,visibility:GPUShaderStage.FRAGMENT,sampler:{type:i?"filtering":"non-filtering"}}]}),v=t.createPipelineLayout({bindGroupLayouts:[S]});u={vertexShader:y,fragmentShader:b,bindGroupLayout:S,pipelineLayout:v,sampler:_},l.set(a,u)}let c=t.createRenderPipeline({layout:u.pipelineLayout,vertex:{module:u.vertexShader},fragment:{module:u.fragmentShader,targets:[{format:e.format}]},primitive:{topology:"triangle-list"}}),f=e.createView({baseMipLevel:n,dimension:"2d",mipLevelCount:1,...s!==void 0&&{baseArrayLayer:s,arrayLayerCount:1}}),h=e.createView({baseMipLevel:r,dimension:"2d",mipLevelCount:1,...s!==void 0&&{baseArrayLayer:s,arrayLayerCount:1}}),d=t.createBindGroup({layout:u.bindGroupLayout,entries:[{binding:0,resource:f},{binding:1,resource:u.sampler}]}),p=t.createCommandEncoder(),m=p.beginRenderPass({colorAttachments:[{view:h,loadOp:"clear",storeOp:"store"}]});m.setPipeline(c),m.setBindGroup(0,d),m.draw(3),m.end(),t.queue.submit([p.finish()])}o(o6e,"go");function a6e(t){return{dimension:t.dimension??"2d",sampleType:p1[t.format].channelType,multisampled:(t.sampleCount??1)!==1}}o(a6e,"yo");function l6e(t){return t==="depth24plus-stencil8"||t==="depth32float-stencil8"?["depth","stencil"]:t==="depth16unorm"||t==="depth24plus"||t==="depth32float"?["depth"]:t==="stencil8"?["stencil"]:["color"]}o(l6e,"To");function u6e(t,e){return new c6e(t,e)}o(u6e,"ha");function ay(t){return t?.resourceType==="texture"&&!!t[j]}o(ay,"ee");function Fv(t){return t?.resourceType==="texture-view"&&!!t[j]}o(Fv,"he");var c6e=class{static{o(this,"Lr")}constructor(t,e){this.props=t;let n=t.format;this.#i=e,this.#e=p1[n],this.#t=t.size[0]*(t.size[1]??1)*(t.size[2]??1)*this.#e.texelSize,this.aspects=l6e(n),this[j]={unwrap:o(()=>{if(this.#n)throw new Error("This texture has been destroyed");return this.#s||(this.#s=e.device.createTexture({label:Se(this)??"<unnamed>",format:t.format,size:t.size,usage:this.#r,dimension:t.dimension??"2d",viewFormats:t.viewFormats??[],mipLevelCount:t.mipLevelCount??1,sampleCount:t.sampleCount??1})),this.#s},"unwrap")}}[j];resourceType="texture";aspects;usableAsSampled=!1;usableAsStorage=!1;usableAsRender=!1;#e;#t;#n=!1;#r=GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC;#s=null;#i;$name(t){return Ut(this,t),this}$usage(...t){let e=t.includes("storage"),n=t.includes("sampled"),r=t.includes("render");return this.#r|=n?GPUTextureUsage.TEXTURE_BINDING:0,this.#r|=e?GPUTextureUsage.STORAGE_BINDING:0,this.#r|=r?GPUTextureUsage.RENDER_ATTACHMENT:0,this.usableAsStorage||=e,this.usableAsSampled||=n,this.usableAsRender||=r,this}createView(t,e){return new f6e(t??JC(a6e(this.props)),this,e)}#o(t=0){let e=2**t,[n,r,s]=[Math.max(1,Math.floor((this.props.size[0]??1)/e)),Math.max(1,Math.floor((this.props.size[1]??1)/e)),Math.max(1,Math.floor((this.props.size[2]??1)/e))];this.#i.device.queue.writeTexture({texture:this[j].unwrap(),mipLevel:t},new Uint8Array(n*r*s*this.#e.texelSize),{bytesPerRow:this.#e.texelSize*n,rowsPerImage:r},[n,r,s])}clear(t="all"){if(t==="all"){let e=this.props.mipLevelCount??1;for(let n=0;n<e;n++)this.#o(n)}else this.#o(t)}generateMipmaps(t=0,e){if(this.usableAsRender===!1)throw new Error("generateMipmaps called without specifying 'render' usage. Add it via the $usage('render') method.");let n=e??(this.props.mipLevelCount??1)-t;if(n<=1){console.warn(`generateMipmaps is a no-op: would generate ${n} mip levels (base: ${t}, total: ${this.props.mipLevelCount??1})`);return}if(t>=(this.props.mipLevelCount??1))throw new Error(`Base mip level ${t} is out of range. Texture has ${this.props.mipLevelCount??1} mip levels.`);r6e(this.#i.device,this[j].unwrap(),t,n)}write(t,e=0){if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)){this.#l(t,e);return}let n=this.props.dimension??"2d";if(!Array.isArray(t)){this.#a(t,n==="3d"?0:void 0);return}let r=this.props.size[2]??1;t.length>r&&console.warn(`Too many image sources provided. Expected ${r} layers, got ${t.length}. Extra sources will be ignored.`);for(let s=0;s<Math.min(t.length,r);s++){let i=t[s];i&&this.#a(i,s)}}#l(t,e){let n=Math.max(1,this.props.size[0]>>e),r=Math.max(1,(this.props.size[1]??1)>>e),s=Math.max(1,(this.props.size[2]??1)>>e),i=n*r*s*this.#e.texelSize,a=t.byteLength??t.byteLength;if(a!==i)throw new Error(`Buffer size mismatch. Expected ${i} bytes for mip level ${e}, got ${a} bytes.`);this.#i.device.queue.writeTexture({texture:this[j].unwrap(),mipLevel:e},t,{bytesPerRow:this.#e.texelSize*n,rowsPerImage:r},[n,r,s])}#a(t,e){let n=this.props.size[0],r=this.props.size[1]??1,{width:s,height:i}=tI(t);if(s!==n||i!==r){s6e(this.#i.device,this[j].unwrap(),t,e);return}this.#i.device.queue.copyExternalImageToTexture({source:t},{texture:this[j].unwrap(),...e!==void 0&&{origin:{x:0,y:0,z:e}}},e!==void 0?[n,r,1]:this.props.size)}copyFrom(t){if(t.props.format!==this.props.format)throw new Error(`Texture format mismatch. Source texture has format ${t.props.format}, target texture has format ${this.props.format}`);if(t.props.size[0]!==this.props.size[0]||(t.props.size[1]??1)!==(this.props.size[1]??1)||(t.props.size[2]??1)!==(this.props.size[2]??1))throw new Error(`Texture size mismatch. Source texture has size ${t.props.size.join("x")}, target texture has size ${this.props.size.join("x")}`);let e=this.#i.device.createCommandEncoder();e.copyTextureToTexture({texture:t[j].unwrap()},{texture:this[j].unwrap()},t.props.size),this.#i.device.queue.submit([e.finish()])}get destroyed(){return this.#n}destroy(){this.#n||(this.#n=!0,this.#s?.destroy())}},f6e=class{static{o(this,"Rr")}constructor(t,e,n){this.schema=t,this.#e=e,this.#n=n,this[j]={unwrap:o(()=>{if(!this.#t){let r=this.schema,s;ZC(r)?s={label:Se(this)??"<unnamed>",format:this.#n?.format??r.format,dimension:r.dimension}:s={label:Se(this)??"<unnamed>",format:this.#n?.format??this.#e.props.format,dimension:r.dimension},this.#n?.mipLevelCount!==void 0&&(s.mipLevelCount=this.#n.mipLevelCount),this.#n?.arrayLayerCount!==void 0&&(s.arrayLayerCount=this.#n.arrayLayerCount),this.#t=this.#e[j].unwrap().createView(s)}return this.#t},"unwrap")}}[j];resourceType="texture-view";#e;#t;#n;$name(t){return Ut(this,t),this.#t&&(this.#t.label=t),this}get[$t](){let t=this.schema;return new Proxy({[j]:!0,get[Fs](){return oe(this,t)},[Ye]:e=>e.resolve(this),toString:o(()=>`${this.toString()}.$`,"toString")},Oo)}get $(){if(Na())return this[$t];throw new Error("Direct access to texture view values is possible only as part of a compute dispatch or draw call. Try .read() or .write() instead")}get value(){return this.$}toString(){return`textureView:${Se(this)??"<unnamed>"}`}[Ye](t){let e=t.getUniqueName(this),{group:n,binding:r}=t.allocateFixedEntry(ZC(this.schema)?{storageTexture:this.schema}:{texture:this.schema,sampleType:this.#n?.sampleType??this.schema.bindingSampleType[0]},this);return t.addDeclaration(`@group(${n}) @binding(${r}) var ${e}: ${t.resolve(this.schema).value};`),oe(e,this.schema)}},w5=class{static{o(this,"nt")}constructor(t,e){this.schema=t,this.#e=e,Ut(this,e.key)}[j]={unwrap:void 0};resourceType="texture-view";#e;toString(){return`textureView:${Se(this)??"<unnamed>"}`}[Ye](t){let e=t.getUniqueName(this),n=t.allocateLayoutEntry(this.#e.layout);return t.addDeclaration(`@group(${n}) @binding(${this.#e.idx}) var ${e}: ${t.resolve(this.schema).value};`),oe(e,this.schema)}get[$t](){let t=this.schema;return new Proxy({[j]:!0,get[Fs](){return oe(this,t)},[Ye]:e=>e.resolve(this),toString:o(()=>`${this.toString()}.$`,"toString")},Oo)}get $(){if(Na())return this[$t];throw new Error("Direct access to texture views values is possible only as part of a compute dispatch or draw call. Try .read() or .write() instead")}get value(){return this.$}};function h6e(t){return!!t?.usableAsSampled}o(h6e,"Gr");var d6e=class CY extends Error{static{o(this,"e")}constructor(e){super(`Resource '${Se(e)??"<unnamed>"}' cannot be bound as 'sampled'. Use .$usage('sampled') to allow it.`),Object.setPrototypeOf(this,CY.prototype)}};function p6e(t){let e={};for(let[n,r]of Object.entries(t)){if(r===null){e[n]=null;continue}if("texture"in r&&typeof r.texture=="string"){let s=r.texture;e[n]={...r,texture:JC({dimension:r.viewDimension??"2d",sampleType:s==="sint"?Lt:s==="uint"?De:se,multisampled:r.multisampled??!1})}}else if("storageTexture"in r&&typeof r.storageTexture=="string"){let s={readonly:"read-only",writeonly:"write-only",mutable:"read-write"};e[n]={...r,storageTexture:JC({access:s[r.access??"writeonly"],format:r.storageTexture,dimension:r.viewDimension??"2d"})}}else"externalTexture"in r&&Object.keys(r.externalTexture).length===0?e[n]={...r,externalTexture:{type:"texture_external",dimension:"2d"}}:e[n]=r}return e}o(p6e,"xo");function IY(t){let e=p6e(t);return new g6e(e)}o(IY,"Zt");function RY(t){return!!t&&t.resourceType==="bind-group-layout"}o(RY,"er");function Bv(t){return!!t&&t.resourceType==="bind-group"}o(Bv,"xe");var m6e=class OY extends Error{static{o(this,"e")}constructor(e,n){super(`Bind group '${e??"<unnamed>"}' is missing a required binding '${n}'`),Object.setPrototypeOf(this,OY.prototype)}},v5=["compute","fragment"],Wm=["compute","vertex","fragment"],g6e=class{static{o(this,"Er")}constructor(t){this.entries=t;let e=0;for(let[n,r]of Object.entries(t)){if(r===null){e++;continue}let s={layout:this,key:n,idx:e};if("uniform"in r&&(this.bound[n]=new m5("uniform",r.uniform,s)),"storage"in r){let i="type"in r.storage?r.storage:r.storage(0);this.bound[n]=new m5(r.access??"readonly",i,s)}"texture"in r&&(this.bound[n]=new w5(r.texture,s)),"storageTexture"in r&&(this.bound[n]=new w5(r.storageTexture,s)),"externalTexture"in r&&(this.bound[n]=new t6e(r.externalTexture,s)),"sampler"in r&&(this.bound[n]=new e6e(r.sampler==="comparison"?WK():jK(),s)),Object.defineProperty(this.value,n,{get:o(()=>this.bound[n].value,"get")}),e++}}[j]=!0;_index;resourceType="bind-group-layout";bound={};value={};$=this.value;get[$t](){return this.$}toString(){return`bindGroupLayout:${Se(this)??"<unnamed>"}`}get index(){return this._index}$name(t){return Ut(this,t),this}$idx(t){return this._index=t,this}unwrap(t){return t.device.createBindGroupLayout({label:Se(this)??"<unnamed>",entries:Object.values(this.entries).map((e,n)=>{if(e===null)return null;let r=e.visibility,s={binding:n,visibility:0};if("uniform"in e)r=r??Wm,s.buffer={type:"uniform"};else if("storage"in e)r=r??(e.access==="mutable"?v5:Wm),s.buffer={type:e.access==="mutable"?"storage":"read-only-storage"};else if("sampler"in e)r=r??Wm,s.sampler={type:e.sampler};else if("texture"in e){r=r??Wm;let{multisampled:i,dimension:a,bindingSampleType:l}=e.texture;s.texture={sampleType:e.sampleType??l[0],viewDimension:a,multisampled:i}}else if("storageTexture"in e){r=r??v5;let{dimension:i,access:a,format:l}=e.storageTexture;s.storageTexture={access:a,format:l,viewDimension:i}}else"externalTexture"in e&&(r=r??Wm,s.externalTexture={});return r?.includes("compute")&&(s.visibility|=GPUShaderStage.COMPUTE),r?.includes("vertex")&&(s.visibility|=GPUShaderStage.VERTEX),r?.includes("fragment")&&(s.visibility|=GPUShaderStage.FRAGMENT),s}).filter(e=>e!==null)})}},NY=class{static{o(this,"Ve")}constructor(t,e){this.layout=t,this.entries=e;for(let n of Object.keys(t.entries))if(t.entries[n]!==null&&!(n in e))throw new m6e(Se(t),n)}resourceType="bind-group";unwrap(t){return t.device.createBindGroup({label:Se(this.layout)??"<unnamed>",layout:t.unwrap(this.layout),entries:Object.entries(this.layout.entries).map(([e,n],r)=>{if(n===null)return null;let s=this.entries[e];if(s===void 0)throw new Error(`'${e}' is a resource required to populate bind group layout '${Se(this.layout)??"<unnamed>"}'.`);if("uniform"in n){let i;if(Jg(s)){if(!EY(s))throw new SDe(s);i={buffer:t.unwrap(s)}}else i={buffer:s};return{binding:r,resource:i}}if("storage"in n){let i;if(Jg(s)){if(!Lv(s))throw new p5(s);i={buffer:t.unwrap(s)}}else i={buffer:s};return{binding:r,resource:i}}if("texture"in n){let i;if(ay(s)){if(!h6e(s))throw new d6e(s);i=t.unwrap(s.createView(n.texture))}else Fv(s)?i=t.unwrap(s):i=s;return{binding:r,resource:i}}if("storageTexture"in n){let i;if(ay(s)){if(!Lv(s))throw new p5(s);i=t.unwrap(s.createView(n.storageTexture))}else Fv(s)?i=t.unwrap(s):i=s;return{binding:r,resource:i}}if("sampler"in n)return TY(s)||SY(s)?{binding:r,resource:t.unwrap(s)}:{binding:r,resource:s};if("externalTexture"in n)return{binding:r,resource:s};throw new Error(`Malformed bind group entry: ${ry(s)}`)}).filter(e=>e!==null)})}};function Uv(t){return new y6e(t)}o(Uv,"we");var y6e=class{static{o(this,"Vr")}constructor(t=void 0){this.defaultValue=t}[j]=!0;resourceType="slot";$name(t){return Ut(this,t),this}areEqual(t,e){return Object.is(t,e)}toString(){return`slot:${Se(this)??"<unnamed>"}`}get[$t](){let t=zf();if(!t)throw new Error("Cannot access tgpu.slot's value outside of resolution.");return Lx(t.unwrap(this))}get value(){return this[$t]}get $(){return this.value}};function zv(t,e){return new MY("private",t,e)}o(zv,"_e");function E5(t){return new MY("workgroup",t)}o(E5,"_r");var MY=class{static{o(this,"ot")}[j]={};#e;#t;#n;constructor(t,e,n){this.#e=t,this.#t=e,this.#n=n}[Ye](t){let e=t.getUniqueName(this),n=`var<${this.#e}> ${e}: ${t.resolve(this.#t).value}`;return this.#n?t.addDeclaration(`${n} = ${t.resolve(this.#n,this.#t).value};`):t.addDeclaration(`${n};`),oe(e,this.#t)}$name(t){return Ut(this,t),this}toString(){return`var:${Se(this)??"<unnamed>"}`}get[$t](){let t=this.#t;return new Proxy({[j]:!0,get[Fs](){return oe(this,t)},[Ye]:e=>e.resolve(this),toString:o(()=>`var:${Se(this)??"<unnamed>"}.$`,"toString")},Oo)}get $(){let t=Nv(),e=Ov();if(t.type==="normal")throw new G8(e?`Cannot access variable '${Se(this)??"<unnamed>"}'. TypeGPU functions that depends on GPU resources need to be part of a compute dispatch, draw call or simulation`:"TypeGPU variables are inaccessible during normal JS execution. If you wanted to simulate GPU behavior, try `tgpu.simulate()`");return t.type==="codegen"?this[$t]:t.type==="simulate"?(t.vars[this.#e].has(this)||t.vars[this.#e].set(this,this.#n),t.vars[this.#e].get(this)):yp(t,"tgpuVariable.ts#TgpuVarImpl/$")}set $(t){let e=Nv(),n=Ov();if(e.type==="normal")throw new G8(n?`Cannot access ${String(this)}. TypeGPU functions that depends on GPU resources need to be part of a compute dispatch, draw call or simulation`:"TypeGPU variables are inaccessible during normal JS execution. If you wanted to simulate GPU behavior, try `tgpu.simulate()`");if(e.type==="codegen")throw new Error("Unreachable tgpuVariable.ts#TgpuVarImpl/$");if(e.type==="simulate"){e.vars[this.#e].set(this,t);return}yp(e,"tgpuVariable.ts#TgpuVarImpl/$")}get value(){return this.$}set value(t){this.$=t}},DY=zv(De,0).$name("dataBlockIndex"),PY=zv(De,0).$name("dataByteIndex"),$Y=Uv().$name("dataBuffer"),b6e=kt([],De)`() {
  let i = dataByteIndex;
  dataByteIndex = dataByteIndex + 1u;
  return i;
}`.$uses({dataByteIndex:PY}).$name("nextByteIndex"),_e="dataBuffer[dataBlockIndex].serializedData[nextByteIndex()]",LY={f32:kt([se])`(n) => {
  ${_e} = bitcast<u32>(n);
}`,f16:kt([jn])`(n) => {
  ${_e} = pack2x16float(vec2f(f32(n), 0.0));
}`,i32:kt([Lt])`(n) => {
  ${_e} = bitcast<u32>(n);
}`,u32:kt([De])`(n) => {
  ${_e} = n;
}`,bool:kt([_n])`(b) => {
  ${_e} = u32(b);
}`,vec2f:kt([Wt])`(v) => {
  ${_e} = bitcast<u32>(v.x);
  ${_e} = bitcast<u32>(v.y);
}`,vec3f:kt([Ar])`(v) => {
  ${_e} = bitcast<u32>(v.x);
  ${_e} = bitcast<u32>(v.y);
  ${_e} = bitcast<u32>(v.z);
}`,vec4f:kt([ie])`(v) => {
  ${_e} = bitcast<u32>(v.x);
  ${_e} = bitcast<u32>(v.y);
  ${_e} = bitcast<u32>(v.z);
  ${_e} = bitcast<u32>(v.w);
}`,vec2h:kt([_a])`(v) => {
  ${_e} = pack2x16float(vec2f(f32(v.x), f32(v.y)));
}`,vec3h:kt([wa])`(v) => {
  ${_e} = pack2x16float(vec2f(f32(v.x), f32(v.y)));
  ${_e} = pack2x16float(vec2f(f32(v.z), 0.0));
}`,vec4h:kt([va])`(v) => {
  ${_e} = pack2x16float(vec2f(f32(v.x), f32(v.y)));
  ${_e} = pack2x16float(vec2f(f32(v.z), f32(v.w)));
}`,vec2i:kt([xr])`(v) => {
  ${_e} = bitcast<u32>(v.x);
  ${_e} = bitcast<u32>(v.y);
}`,vec3i:kt([li])`(v) => {
  ${_e} = bitcast<u32>(v.x);
  ${_e} = bitcast<u32>(v.y);
  ${_e} = bitcast<u32>(v.z);
}`,vec4i:kt([Kt])`(v) => {
  ${_e} = bitcast<u32>(v.x);
  ${_e} = bitcast<u32>(v.y);
  ${_e} = bitcast<u32>(v.z);
  ${_e} = bitcast<u32>(v.w);
}`,vec2u:kt([Zs])`(v) => {
  ${_e} = v.x;
  ${_e} = v.y;
}`,vec3u:kt([Un])`(v) => {
  ${_e} = v.x;
  ${_e} = v.y;
  ${_e} = v.z;
}`,vec4u:kt([un])`(v) => {
  ${_e} = v.x;
  ${_e} = v.y;
  ${_e} = v.z;
  ${_e} = v.w;
}`,"vec2<bool>":kt([uh])`(v) => {
  ${_e} = u32(v.x);
  ${_e} = u32(v.y);
}`,"vec3<bool>":kt([ch])`(v) => {
  ${_e} = u32(v.x);
  ${_e} = u32(v.y);
  ${_e} = u32(v.z);
}`,"vec4<bool>":kt([fh])`(v) => {
  ${_e} = u32(v.x);
  ${_e} = u32(v.y);
  ${_e} = u32(v.z);
  ${_e} = u32(v.w);
}`,mat2x2f:kt([Ea])`(m) => {
  ${_e} = bitcast<u32>(m[0][0]);
  ${_e} = bitcast<u32>(m[0][1]);
  ${_e} = bitcast<u32>(m[1][0]);
  ${_e} = bitcast<u32>(m[1][1]);
}`,mat3x3f:kt([xa])`(m) => {
  ${_e} = bitcast<u32>(m[0][0]);
  ${_e} = bitcast<u32>(m[0][1]);
  ${_e} = bitcast<u32>(m[0][2]);
  ${_e} = 0u;
  ${_e} = bitcast<u32>(m[1][0]);
  ${_e} = bitcast<u32>(m[1][1]);
  ${_e} = bitcast<u32>(m[1][2]);
  ${_e} = 0u;
  ${_e} = bitcast<u32>(m[2][0]);
  ${_e} = bitcast<u32>(m[2][1]);
  ${_e} = bitcast<u32>(m[2][2]);
  ${_e} = 0u;
}`,mat4x4f:kt([Wn])`(m) => {
  ${_e} = bitcast<u32>(m[0][0]);
  ${_e} = bitcast<u32>(m[0][1]);
  ${_e} = bitcast<u32>(m[0][2]);
  ${_e} = bitcast<u32>(m[0][3]);
  ${_e} = bitcast<u32>(m[1][0]);
  ${_e} = bitcast<u32>(m[1][1]);
  ${_e} = bitcast<u32>(m[1][2]);
  ${_e} = bitcast<u32>(m[1][3]);
  ${_e} = bitcast<u32>(m[2][0]);
  ${_e} = bitcast<u32>(m[2][1]);
  ${_e} = bitcast<u32>(m[2][2]);
  ${_e} = bitcast<u32>(m[2][3]);
  ${_e} = bitcast<u32>(m[3][0]);
  ${_e} = bitcast<u32>(m[3][1]);
  ${_e} = bitcast<u32>(m[3][2]);
  ${_e} = bitcast<u32>(m[3][3]);
}`};for(let[t,e]of Object.entries(LY))e.$name(`serialize${t[0].toLocaleUpperCase()}${t.slice(1)}`).$uses({dataBlockIndex:DY,nextByteIndex:b6e,dataBuffer:$Y});function FY(t){return`(${t.map((e,n)=>`_arg_${n}`).join(", ")})`}o(FY,"Ia");function BY(t,e){let n=LY[t.type];if(n)return n.with($Y,e);if(xs(t)){let r=Object.keys(t.propTypes),s=Object.values(t.propTypes),i=UY(s,e);return kt([t])`(arg) {\n  propsSerializer(${r.map(a=>`arg.${a}`).join(", ")});\n}`.$uses({propsSerializer:i}).$name(`${Se(t)??"struct"}Serializer`)}if(po(t)){let r=t.elementType,s=t.elementCount,i=BY(r,e);return kt([t])`(arg) {\n${Array.from({length:s},(a,l)=>`  elementSerializer(arg[${l}]);`).join(`
`)}\n}`.$uses({elementSerializer:i}).$name("arraySerializer")}throw new Error(`Cannot serialize data of type ${t.type}`)}o(BY,"Ua");function UY(t,e){let n={},r=kt(t),s=FY(t),i=t.map((a,l)=>(n[`serializer${l}`]=BY(a,e),`  serializer${l}(_arg_${l});`)).join(`
`);return r`${s} {\n${i}\n}`.$uses(n).$name("compoundSerializer")}o(UY,"Fa");function _6e(t,e,n,r,s){let i=e.map(mt).reduce((u,c)=>u+c,0);if(i>s.logSizeLimit)throw new Error(`Logged data needs to fit in ${s.logSizeLimit} bytes (one of the logs requires ${i} bytes). Consider increasing the limit by passing appropriate options to tgpu.init().`);let a=UY(e,n).$name(`log${t}serializer`),l=FY(e);return kt(e)`${l} {
  dataBlockIndex = atomicAdd(&indexBuffer, 1);
  if (dataBlockIndex >= ${s.logCountLimit}) {
    return;
  }
  dataBuffer[dataBlockIndex].id = ${t};
  dataByteIndex = 0;

  compoundSerializer${l};
}`.$uses({indexBuffer:r,dataBuffer:n,dataBlockIndex:DY,dataByteIndex:PY,compoundSerializer:a}).$name(`log${t}`)}o(_6e,"Pa");var w6e=["log","debug","info","warn","error","clear"],v6e={logCountLimit:64,logSizeLimit:252,messagePrefix:" GPU "},zY=oe("/* console.log() */",Ms),E6e=class{static{o(this,"tr")}get logResources(){}generateLog(){return console.warn("'console.log' is currently only supported in compute pipelines."),zY}},x6e=class{static{o(this,"rr")}#e;#t;#n=1;#r;#s;constructor(t){this.#e={...v6e,...t[j].logOptions},this.#t=new Map;let e=FK({id:De,serializedData:iy(De,Math.ceil(this.#e.logSizeLimit/4))}).$name("SerializedLogData");this.#s=t.createMutable(iy(e,this.#e.logCountLimit)).$name("dataBuffer"),this.#r=t.createMutable(tPe(De)).$name("indexBuffer")}generateLog(t,e,n){if(!w6e.includes(e))return console.warn(`Unsupported log method '${e}' was used in TGSL.`),zY;let r=F4e(n),s=this.#n++,i=r.filter(u=>u.dataType!==cs),a=_6e(s,i.map(u=>u.dataType),this.#s,this.#r,this.#e),l=r.map(u=>u.dataType===cs?u.value:u.dataType);return this.#t.set(s,{op:e,argTypes:l}),oe(ne`${t.resolve(a).value}(${i})`,Ms)}get logResources(){return this.#n===1?void 0:{dataBuffer:this.#s,indexBuffer:this.#r,options:this.#e,logIdToMeta:this.#t}}},VY="#CATCHALL#",S6e=class{static{o(this,"Mr")}_stack=[];_itemDepth=0;get itemDepth(){return this._itemDepth}get topItem(){let t=this._stack[this._stack.length-1];if(!t||t.type!=="item")throw new Error("Internal error, expected item layer to be on top.");return t}get topFunctionScope(){return this._stack.findLast(t=>t.type==="functionScope")}pushItem(){this._itemDepth++,this._stack.push({type:"item",usedSlots:new Set})}popItem(){this.pop("item")}pushSlotBindings(t){this._stack.push({type:"slotBinding",bindingMap:new WeakMap(t)})}popSlotBindings(){this.pop("slotBinding")}pushFunctionScope(t,e,n,r){let s={type:"functionScope",args:t,argAliases:e,returnType:n,externalMap:r,reportedReturnTypes:new Set};return this._stack.push(s),s}popFunctionScope(){this.pop("functionScope")}pushBlockScope(){this._stack.push({type:"blockScope",declarations:new Map})}popBlockScope(){this.pop("blockScope")}pop(t){let e=this._stack[this._stack.length-1];if(!e||t&&e.type!==t)throw new Error(`Internal error, expected a ${t} layer to be on top.`);this._stack.pop(),t==="item"&&this._itemDepth--}readSlot(t){for(let e=this._stack.length-1;e>=0;--e){let n=this._stack[e];if(n?.type==="item")n.usedSlots.add(t);else if(n?.type==="slotBinding"){let r=n.bindingMap.get(t);if(r!==void 0)return r}else if(!(n?.type==="functionScope"||n?.type==="blockScope"))throw new Error("Unknown layer type.")}return t.defaultValue}getSnippetById(t){for(let e=this._stack.length-1;e>=0;--e){let n=this._stack[e];if(n?.type==="functionScope"){let r=n.args.find(i=>i.value===t);if(r!==void 0)return r;if(n.argAliases[t])return n.argAliases[t];let s=n.externalMap[t];return s!=null?w_(s):void 0}if(n?.type==="blockScope"){let r=n.declarations.get(t);if(r!==void 0)return r}}}defineBlockVariable(t,e){if(e.dataType.type==="unknown")throw Error(`Tried to define variable '${t}' of unknown type`);for(let n=this._stack.length-1;n>=0;--n){let r=this._stack[n];if(r?.type==="blockScope"){r.declarations.set(t,e);return}}throw new Error("No block scope found to define a variable in.")}},E_=["","  ","    ","      ","        ","          ","            ","              ","                "],qT=E_.length-1,T6e=class{static{o(this,"kr")}identLevel=0;get pre(){return E_[this.identLevel]??E_[qT].repeat(this.identLevel/qT)+E_[this.identLevel%qT]}indent(){let t=this.pre;return this.identLevel++,t}dedent(){return this.identLevel--,this.pre}withResetLevel(t){let e=this.identLevel;this.identLevel=0;try{return t()}finally{this.identLevel=e}}},jY=class{static{o(this,"st")}#e;#t;_indentController=new T6e;_itemStateStack=new S6e;#n=[];_declarations=[];_varyingLocations;#r=new WeakSet;#s;get varyingLocations(){return this._varyingLocations}[j]={itemStateStack:this._itemStateStack};bindGroupLayoutsToPlaceholderMap=new Map;_nextFreeLayoutPlaceholderIdx=0;fixedBindings=[];enableExtensions;expectedType;constructor(t){this.enableExtensions=t.enableExtensions,this.#t=t.shaderGenerator??YK,this.#s=t.root?new x6e(t.root):new E6e,this.#e=t.namespace[j]}getUniqueName(t){return NLe(this.#e,t)}makeNameValid(t){return this.#e.nameRegistry.makeValid(t)}get pre(){return this._indentController.pre}get topFunctionReturnType(){let t=this._itemStateStack.topFunctionScope;return ll(t),t.returnType}get shelllessRepo(){return this.#e.shelllessRepo}indent(){return this._indentController.indent()}dedent(){return this._indentController.dedent()}withResetIndentLevel(t){return this._indentController.withResetLevel(t)}getById(t){let e=this._itemStateStack.getSnippetById(t);return e===void 0?null:e}defineVariable(t,e){this._itemStateStack.defineBlockVariable(t,e)}reportReturnType(t){let e=this._itemStateStack.topFunctionScope;ll(e),e.reportedReturnTypes.add(t)}pushBlockScope(){this._itemStateStack.pushBlockScope()}popBlockScope(){this._itemStateStack.popBlockScope()}generateLog(t,e){return this.#s.generateLog(this,t,e)}get logResources(){return this.#s.logResources}fnToWgsl(t){let e=this._itemStateStack.pushFunctionScope(t.args,t.argAliases,t.returnType,t.externalMap);try{this.#t.initGenerator(this);let n=this.#t.functionDefinition(t.body),r=t.returnType;if(!r){let s=[...e.reportedReturnTypes];if(s.length===0)r=Ms;else{let i=pN(s);i&&!i.hasImplicitConversions&&(r=i.targetType)}if(!r)throw new Error(`Expected function to have a single return type, got [${s.join(", ")}]. Cast explicitly to the desired type.`);r=oy(r)}return{head:k6e(this,t.args,r),body:n,returnType:r}}finally{this._itemStateStack.popFunctionScope()}}addDeclaration(t){this._declarations.push(t)}allocateLayoutEntry(t){let e=this.bindGroupLayoutsToPlaceholderMap,n=e.get(t);return n||(n=`#BIND_GROUP_LAYOUT_${this._nextFreeLayoutPlaceholderIdx++}#`,e.set(t,n)),n}allocateFixedEntry(t,e){let n=this.fixedBindings.length;return this.fixedBindings.push({layoutEntry:t,resource:e}),{group:VY,binding:n}}readSlot(t){let e=this._itemStateStack.readSlot(t);if(e===void 0)throw new xDe(t);return e}withSlots(t,e){this._itemStateStack.pushSlotBindings(t);try{return e()}finally{this._itemStateStack.popSlotBindings()}}withVaryingLocations(t,e){this._varyingLocations=t;try{return e()}finally{this._varyingLocations=void 0}}unwrap(t){if(jC(t))return this.withSlots(t[Xc].pairs,()=>this.unwrap(t[Xc].inner));let e=t;for(;;)if(zC(e))e=this.readSlot(e);else if(VC(e))e=this._getOrCompute(e);else break;return e}_getOrCompute(t){let e=this.#e.memoizedDerived.get(t)??[];this._itemStateStack.pushItem();try{for(let s of e)if([...s.slotToValueMap.entries()].every(([i,a])=>i.areEqual(this._itemStateStack.readSlot(i),a)))return s.result;this.pushMode(new mK);let n;try{n=t["~compute"]()}finally{this.popMode("normal")}let r=new Map;for(let s of this._itemStateStack.topItem.usedSlots)r.set(s,this._itemStateStack.readSlot(s));return e.push({slotToValueMap:r,result:n}),this.#e.memoizedDerived.set(t,e),n}catch(n){throw n instanceof ig?n.appendToTrace(t):new ig(n,[t])}finally{this._itemStateStack.popItem()}}_getOrInstantiate(t){let e=this.#e.memoizedResolves.get(t)??[];this._itemStateStack.pushItem();try{for(let s of e)if([...s.slotToValueMap.entries()].every(([i,a])=>i.areEqual(this._itemStateStack.readSlot(i),a)))return s.result;let n;if(tm(t))n=oe(bY(this,t),Ms);else if(VC(t)||zC(t))n=this.resolve(this.unwrap(t));else if(gK(t))n=t[Ye](this);else if(jg(t)){let s=this.#e.shelllessRepo.get(t,void 0);if(!s)throw new Error(`Couldn't resolve ${t.name}. Make sure it's a function that accepts no arguments, or call it from another TypeGPU function.`);return this.withResetIndentLevel(()=>this.resolve(s))}else throw new TypeError(`Unresolvable internal value: ${ry(t)}`);let r=new Map;for(let s of this._itemStateStack.topItem.usedSlots)r.set(s,this._itemStateStack.readSlot(s));return e.push({slotToValueMap:r,result:n}),this.#e.memoizedResolves.set(t,e),n}catch(n){throw n instanceof ig?n.appendToTrace(t):new ig(n,[t])}finally{this._itemStateStack.popItem()}}resolve(t,e){if(hY(t)||jg(t)){if(this.#r.has(t)&&!this.#e.memoizedResolves.has(t))throw new Error(`Recursive function ${t} detected. Recursion is not allowed on the GPU.`);this.#r.add(t)}if(jC(t))return this.withSlots(t[Xc].pairs,()=>this.resolve(t[Xc].inner,e));if(Nt(t)||jg(t)){if(this._itemStateStack.itemDepth===0)try{this.pushMode(new kDe);let n=yK(this,()=>this._getOrInstantiate(t));return oe(`${[...this._declarations].join(`

`)}${n.value}`,Ms)}finally{this.popMode("codegen")}return this._getOrInstantiate(t)}if(typeof t=="number"){let n=e??Pv(t).dataType;if(ll(n.type!=="unknown"),n.type==="abstractInt")return oe(`${t}`,n);if(n.type==="u32")return oe(`${t}u`,n);if(n.type==="i32")return oe(`${t}i`,n);let r=t.toExponential(),s=n.type==="abstractFloat"&&Number.isInteger(t)?`${t}.`:`${t}`,i=r.length<s.length?r:s;return n.type==="f32"?oe(`${i}f`,n):n.type==="f16"?oe(`${i}h`,n):oe(i,n)}if(typeof t=="boolean")return oe(t?"true":"false",_n);if(typeof t=="string")return oe(t,Ms);if(e&&po(e)){if(!Array.isArray(t))throw new _i(`Cannot coerce ${t} into value of type '${e}'`);if(e.elementCount!==t.length)throw new _i(`Cannot create value of type '${e}' from an array of length: ${t.length}`);let n=this.resolve(e.elementType);return oe(ne`array<${n}, ${e.elementCount}>(${t.map(r=>oe(r,e.elementType))})`,e)}if(Array.isArray(t))return oe(ne`array(${t.map(n=>this.resolve(n))})`,cs);if(e&&xs(e))return oe(ne`${this.resolve(e)}(${Object.entries(e.propTypes).map(([n,r])=>oe(t[n],r))})`,e);throw new _i(`Value ${t} (as json: ${ry(t)}) is not resolvable${e?` to type ${e.type}`:""}`)}pushMode(t){this.#n.push(t)}popMode(t){let e=this.#n.pop();t!==void 0&&ll(e?.type===t)}get mode(){return this.#n[this.#n.length-1]??bK}};function UN(t,e){let n=new jY(e),r=(e.config?n.withSlots(e.config(new _Y([])).bindings,()=>n.resolve(t)):n.resolve(t)).value,s=n.bindGroupLayoutsToPlaceholderMap,i=[],a=new Set([...s.keys()].map(h=>h.index).filter(h=>h!==void 0)),l=ULe(a),u=n.fixedBindings.map((h,d)=>[String(d),h.layoutEntry]),c=o(()=>{let h=l.next().value,d=IY(Object.fromEntries(u));return i[h]=d,r=r.replaceAll(VY,String(h)),[h,new NY(d,Object.fromEntries(n.fixedBindings.map((p,m)=>[String(m),p.resource])))]},"m"),f=u.length>0?c():void 0;for(let[h,d]of s.entries()){let p=h.index??l.next().value;i[p]=h,r=r.replaceAll(d,String(p))}return e.enableExtensions&&e.enableExtensions.length>0&&(r=`${e.enableExtensions.map(h=>`enable ${h};`).join(`
`)}

${r}`),{code:r,usedBindGroupLayouts:i,catchall:f,logResources:n.logResources}}o(UN,"me");function k6e(t,e,n){let r=e.map(s=>`${s.value}: ${t.resolve(s.dataType).value}`).join(", ");return n.type!=="void"?`(${r}) -> ${ON(n)}${t.resolve(n).value} `:`(${r}) `}o(k6e,"vo");function WY(t){let e=t;return e?.resourceType==="compute-pipeline"&&!!e[j]}o(WY,"Or");function HY(t){let e=t;return e?.resourceType==="render-pipeline"&&!!e[j]}o(HY,"zr");function A6e(t){return HY(t)||WY(t)}o(A6e,"$a");function qY(t){let{externals:e,shaderGenerator:n,template:r,names:s="random",config:i,enableExtensions:a}=t,l={};qg(l,e??{});let u={[j]:!0,[Ye](f){return oe(Px(f,l,r??""),Ms)},toString:o(()=>"<root>","toString")},c=Object.values(e).filter(A6e);if(c.length>1)throw new Error(`Found ${c.length} pipelines but can only resolve one at a time.`);return UN(u,{namespace:typeof s=="string"?m1({names:s}):s,enableExtensions:a,shaderGenerator:n,config:i,root:c[0]?.[j].branch})}o(qY,"Nr");function C6e(t){return qY(t).code}o(C6e,"La");function I6e(t){let e=zf()??new jY({namespace:m1(),shaderGenerator:YK}),n=[1,1,1],r=[1,1,1],s=[n[0]*r[0],n[1]*r[1],n[2]*r[2]],i=new Map,a=Array.from({length:n[0]},()=>Array.from({length:n[1]},()=>Array.from({length:n[2]},()=>new Map))),l=Array.from({length:s[0]},()=>Array.from({length:s[1]},()=>Array.from({length:s[2]},()=>new Map))),u=Array.from({length:s[0]},(c,f)=>Array.from({length:s[1]},(h,d)=>Array.from({length:s[2]},(p,m)=>{let y=Math.floor(f/r[0]),b=Math.floor(d/r[1]),_=Math.floor(m/r[2]);return new ADe(i,{private:l[f][d][m],workgroup:a[y][b][_]})})));e.pushMode(u[0][0][0]);try{return{value:yK(e,t),buffers:i,privateVars:l,workgroupVars:a}}finally{e.popMode("simulate")}}o(I6e,"Ra");function R6e(t,e,n,r){return new O6e(t,e,n,r)}o(R6e,"Ga");function zN(t){let e=t;return e?.resourceType==="query-set"&&!!e[j]}o(zN,"it");var O6e=class{static{o(this,"qr")}constructor(t,e,n,r){this.type=e,this.count=n,this.rawQuerySet=r,this.#e=t.device,this._ownQuerySet=!r,this._querySet=r||null}resourceType="query-set";#e;_querySet=null;_ownQuerySet;_destroyed=!1;_available=!0;_readBuffer=null;_resolveBuffer=null;get querySet(){if(this._destroyed)throw new Error("This QuerySet has been destroyed.");return this.rawQuerySet?this.rawQuerySet:this._querySet?this._querySet:(this._querySet=this.#e.createQuerySet({type:this.type,count:this.count}),this._querySet)}get destroyed(){return this._destroyed}get available(){return this._available}get[j](){let t=this;return{get readBuffer(){return t._readBuffer||(t._readBuffer=t.#e.createBuffer({size:t.count*BigUint64Array.BYTES_PER_ELEMENT,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ})),t._readBuffer},get resolveBuffer(){return t._resolveBuffer||(t._resolveBuffer=t.#e.createBuffer({size:t.count*BigUint64Array.BYTES_PER_ELEMENT,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC})),t._resolveBuffer}}}$name(t){return Ut(this,t),this._querySet&&(this._querySet.label=t),this}resolve(){if(this._destroyed)throw new Error("This QuerySet has been destroyed.");if(!this._available)throw new Error("This QuerySet is busy resolving or reading.");let t=this.#e.createCommandEncoder();t.resolveQuerySet(this.querySet,0,this.count,this[j].resolveBuffer,0),this.#e.queue.submit([t.finish()])}async read(){if(!this._resolveBuffer)throw new Error("QuerySet must be resolved before reading.");this._available=!1;try{let t=this.#e.createCommandEncoder();t.copyBufferToBuffer(this[j].resolveBuffer,0,this[j].readBuffer,0,this.count*BigUint64Array.BYTES_PER_ELEMENT),this.#e.queue.submit([t.finish()]);let e=this[j].readBuffer;await e.mapAsync(GPUMapMode.READ);let n=new BigUint64Array(e.getMappedRange().slice());return e.unmap(),Array.from(n)}finally{this._available=!0}}destroy(){this._destroyed||(this._destroyed=!0,this._querySet&&this._ownQuerySet&&this._querySet.destroy(),this._readBuffer?.destroy(),this._resolveBuffer?.destroy(),this._readBuffer=this._resolveBuffer=null)}},x5=class{static{o(this,"ut")}constructor(t){this._make=t}_map=new WeakMap;getOrMake(t,...e){if(this._map.has(t))return this._map.get(t);let n=this._make(t,...e);return this._map.set(t,n),n}},GT=class{static{o(this,"be")}constructor(t,e){this.resourceType=t,this.buffer=e,this[In]=e,this.#e=this.buffer.as(this.resourceType)}[j]=!0;[In];#e;$name(t){return Ut(this[In],t),this}write(t){this.buffer.write(t)}writePartial(t){this.buffer.writePartial(t)}read(){return this.buffer.read()}get[$t](){return this.#e.$}get $(){return this.#e.$}get value(){return this.$}[Ye](t){return t.resolve(this.#e)}},it=o(t=>mLe(t??0),"b"),$o=o(t=>gLe(t??0),"H"),jh=o(t=>yLe(t??0),"We"),N6e={f32:o(t=>it(t[0]),"f32"),f16:o(t=>jh(t[0]).x,"f16"),i32:o(t=>$o(t[0]),"i32"),u32:o(t=>t[0]??0,"u32"),bool:o(t=>!!t[0],"bool"),vec2f:o(t=>Wt(it(t[0]),it(t[1])),"vec2f"),vec3f:o(t=>Ar(it(t[0]),it(t[1]),it(t[2])),"vec3f"),vec4f:o(t=>ie(it(t[0]),it(t[1]),it(t[2]),it(t[3])),"vec4f"),vec2h(t){let e=jh(t[0]);return _a(e.x,e.y)},vec3h(t){let e=jh(t[0]),n=jh(t[1]);return wa(e.x,e.y,n.x)},vec4h(t){let e=jh(t[0]),n=jh(t[1]);return va(e.x,e.y,n.x,n.y)},vec2i:o(t=>xr($o(t[0]),$o(t[1])),"vec2i"),vec3i:o(t=>li($o(t[0]),$o(t[1]),$o(t[2])),"vec3i"),vec4i:o(t=>Kt($o(t[0]),$o(t[1]),$o(t[2]),$o(t[3])),"vec4i"),vec2u:o(t=>Zs(t[0]??0,t[1]??0),"vec2u"),vec3u:o(t=>Un(t[0]??0,t[1]??0,t[2]??0),"vec3u"),vec4u:o(t=>un(t[0]??0,t[1]??0,t[2]??0,t[3]??0),"vec4u"),"vec2<bool>":o(t=>uh(!!t[0],!!t[1]),"vec2<bool>"),"vec3<bool>":o(t=>ch(!!t[0],!!t[1],!!t[2]),"vec3<bool>"),"vec4<bool>":o(t=>fh(!!t[0],!!t[1],!!t[2],!!t[3]),"vec4<bool>"),mat2x2f:o(t=>Ea(it(t[0]),it(t[1]),it(t[2]),it(t[3])),"mat2x2f"),mat3x3f:o(t=>xa(it(t[0]),it(t[1]),it(t[2]),it(t[4]),it(t[5]),it(t[6]),it(t[8]),it(t[9]),it(t[10])),"mat3x3f"),mat4x4f:o(t=>Wn(it(t[0]),it(t[1]),it(t[2]),it(t[3]),it(t[4]),it(t[5]),it(t[6]),it(t[7]),it(t[8]),it(t[9]),it(t[10]),it(t[11]),it(t[12]),it(t[13]),it(t[14]),it(t[15])),"mat4x4f")};function M6e(t,e){let n=N6e[e.type];if(n)return n(t);if(xs(e)){let r=Object.keys(e.propTypes),s=Object.values(e.propTypes),i=rI(t,s);return Object.fromEntries(r.map((a,l)=>[a,i[l]]))}if(po(e)){let r=e.elementType,s=e.elementCount;return rI(t,Array.from({length:s},()=>r))}throw new Error(`Cannot deserialize data of type ${e.type}`)}o(M6e,"Fo");function rI(t,e){let n=0;return e.map(r=>{if(!oh(r))return r;let s=Math.ceil(mt(r)/4),i=M6e(t.subarray(n,n+s),r);return n+=s,i})}o(rI,"jr");function D6e(t,e){return rI(t,e).map(qC)}o(D6e,"Po");function sI(t){let{indexBuffer:e,dataBuffer:n,logIdToMeta:r,options:s}=t;n.read().then(i=>{i.filter(a=>a.id).forEach(({id:a,serializedData:l})=>{let{argTypes:u,op:c}=r.get(a),f=D6e(new Uint32Array(l),u);f.length===0&&f.push(""),console[c](`%c${s.messagePrefix}%c ${f[0]}`,"background: #936ff5; color: white;","color: inherit; background: none",...f.slice(1))})}),e.read().then(i=>{i>s.logCountLimit&&console.warn(`Log count limit per dispatch (${s.logCountLimit}) exceeded by ${i-s.logCountLimit} calls. Consider increasing the limit by passing appropriate options to tgpu.init().`)}),n.buffer.clear(),e.buffer.clear()}o(sI,"pt");function GY(t,e,n){if(!n.enabledFeatures.has("timestamp-query"))throw new Error('Performance callback requires the "timestamp-query" feature to be enabled on GPU device.');return t.timestampWrites?{...t,performanceCallback:e}:{...t,performanceCallback:e,hasAutoQuerySet:!0,timestampWrites:{querySet:(globalThis.__TYPEGPU_AUTONAME__??(r=>r))(n.createQuerySet("timestamp",2),"querySet"),beginningOfPassWriteIndex:0,endOfPassWriteIndex:1}}}o(GY,"ar");function KY(t,e,n){if(!n.enabledFeatures.has("timestamp-query"))throw new Error('Timestamp writes require the "timestamp-query" feature to be enabled on GPU device.');t.hasAutoQuerySet&&t.timestampWrites&&t.timestampWrites.querySet.destroy();let r={querySet:e.querySet};return e.beginningOfPassWriteIndex!==void 0&&(r.beginningOfPassWriteIndex=e.beginningOfPassWriteIndex),e.endOfPassWriteIndex!==void 0&&(r.endOfPassWriteIndex=e.endOfPassWriteIndex),{...t,hasAutoQuerySet:!1,timestampWrites:r}}o(KY,"or");function YY(t,e){if(!t.timestampWrites)return{};let{querySet:n,beginningOfPassWriteIndex:r,endOfPassWriteIndex:s}=t.timestampWrites,i={querySet:zN(n)?e.unwrap(n):n};return r!==void 0&&(i.beginningOfPassWriteIndex=r),s!==void 0&&(i.endOfPassWriteIndex=s),{timestampWrites:i}}o(YY,"sr");function iI({root:t,priors:e}){let n=e.timestampWrites?.querySet,r=e.performanceCallback;if(!n)throw new Error("Cannot dispatch workgroups with performance callback without a query set.");if(!zN(n))throw new Error("Performance callback with raw GPUQuerySet is not supported. Use TgpuQuerySet instead.");let s=t.device.createCommandEncoder();s.resolveQuerySet(t.unwrap(n),0,n.count,n[j].resolveBuffer,0),t.device.queue.submit([s.finish()]),t.device.queue.onSubmittedWorkDone().then(async()=>{if(!n.available)return;let i=await n.read(),a=i[e.timestampWrites?.beginningOfPassWriteIndex??0],l=i[e.timestampWrites?.endOfPassWriteIndex??1];if(a===void 0||l===void 0)throw new Error("QuerySet did not return valid timestamps.");await r(a,l)})}o(iI,"lt");function P6e(t,e,n){return new $6e(new L6e(t,e,n),{})}o(P6e,"Ca");var $6e=class ag{static{o(this,"e")}constructor(e,n){this._core=e,this._priors=n,this[j]={get rawPipeline(){return e.unwrap().pipeline},get priors(){return n},get branch(){return e.branch}},this[In]=e}[j];resourceType="compute-pipeline";[In];[Ye](e){return e.resolve(this._core)}toString(){return`computePipeline:${Se(this)??"<unnamed>"}`}get rawPipeline(){return this._core.unwrap().pipeline}with(e,n){return Bv(e)?new ag(this._core,{...this._priors,bindGroupLayoutMap:new Map([...this._priors.bindGroupLayoutMap??[],[e.layout,e]])}):new ag(this._core,{...this._priors,bindGroupLayoutMap:new Map([...this._priors.bindGroupLayoutMap??[],[e,n]])})}withPerformanceCallback(e){let n=GY(this._priors,e,this._core.branch);return new ag(this._core,n)}withTimestampWrites(e){let n=KY(this._priors,e,this._core.branch);return new ag(this._core,n)}dispatchWorkgroups(e,n,r){let s=this._core.unwrap(),{branch:i}=this._core,a={label:Se(this._core)??"<unnamed>",...YY(this._priors,i)},l=i.device.createCommandEncoder(),u=l.beginComputePass(a);u.setPipeline(s.pipeline);let c=new Set(s.usedBindGroupLayouts);if(s.usedBindGroupLayouts.forEach((f,h)=>{if(s.catchall&&h===s.catchall[0])u.setBindGroup(h,i.unwrap(s.catchall[1])),c.delete(f);else{let d=this._priors.bindGroupLayoutMap?.get(f);d!==void 0&&(c.delete(f),u.setBindGroup(h,i.unwrap(d)))}}),c.size>0)throw new cN(c);u.dispatchWorkgroups(e,n,r),u.end(),i.device.queue.submit([l.finish()]),s.logResources&&sI(s.logResources),this._priors.performanceCallback&&iI({root:i,priors:this._priors})}$name(e){return Ut(this._core,e),this}},L6e=class{static{o(this,"Hr")}constructor(t,e,n){this.branch=t,this._slotBindings=e,this._entryFn=n}[j]=!0;_memo;[Ye](t){return t.withSlots(this._slotBindings,()=>(t.resolve(this._entryFn),oe("",Ms)))}toString(){return"computePipelineCore"}unwrap(){if(this._memo===void 0){let t=this.branch.device,e=uY.filter(c=>this.branch.enabledFeatures.has(cY[c])),n,r=m1({names:this.branch.nameRegistrySetting});n=UN(this,{namespace:r,enableExtensions:e,shaderGenerator:this.branch.shaderGenerator,root:this.branch});let{code:s,usedBindGroupLayouts:i,catchall:a,logResources:l}=n;a!==void 0&&i[a[0]]?.$name(`${Se(this)??"<unnamed>"} - Automatic Bind Group & Layout`);let u=t.createShaderModule({label:`${Se(this)??"<unnamed>"} - Shader`,code:s});this._memo={pipeline:t.createComputePipeline({label:Se(this)??"<unnamed>",layout:t.createPipelineLayout({label:`${Se(this)??"<unnamed>"} - Pipeline Layout`,bindGroupLayouts:i.map(c=>this.branch.unwrap(c))}),compute:{module:u}}),usedBindGroupLayouts:i,catchall:a,logResources:l}}return this._memo}};function S5(t,e="vertex"){return new F6e(t,e)}o(S5,"Jr");function XY(t){return t?.resourceType==="vertex-layout"}o(XY,"ur");var oI=Symbol("defaultAttribEntry");function x_(t,e,n,r,s){if(ah(e)||lh(e)){let i=Ju(e);return i!==void 0&&(r[s??oI]=i),x_(t,e.inner,ii(n,Ni(e)),r)}if(xs(e)){let i=n,a=e.propTypes;return Object.fromEntries(Object.entries(a).map(([l,u])=>{i=ii(i,Cn(u));let c=[l,x_(t,u,i,r,l)];return i+=mt(u),c}))}if(pc(e)){let i=n,a=e.propTypes;return Object.fromEntries(Object.entries(a).map(([l,u])=>{i=ii(i,Ni(u));let c=[l,x_(t,u,i,r,l)];return i+=mt(u),c}))}if("type"in e&&typeof e.type=="string"){if(sK.includes(e.type))return{_layout:t,format:e.type,offset:n};let i=_De[e.type];if(i)return{_layout:t,format:i,offset:n}}throw new Error(`Unsupported data used in vertex layout: ${String(e)}`)}o(x_,"ir");var F6e=class{static{o(this,"Yr")}constructor(t,e){this.schemaForCount=t,this.stepMode=e;let n=t(0);this.stride=ii(mt(n.elementType),Cn(n)),this.attrib=x_(this,n.elementType,0,this._customLocationMap)}[j]=!0;resourceType="vertex-layout";stride;attrib;_customLocationMap={};get vertexLayout(){if(this._customLocationMap[oI]!==void 0){if(typeof this.attrib.format!="string"||typeof this.attrib.offset!="number")throw new Error("Single attribute vertex layouts must have a format and offset.");return{arrayStride:this.stride,stepMode:this.stepMode,attributes:[{format:this.attrib.format,offset:this.attrib.offset,shaderLocation:this._customLocationMap[oI]}]}}if(!Object.keys(this.attrib).every(t=>this._customLocationMap[t]!==void 0))throw new Error("All attributes must have custom locations in order to unwrap a vertex layout.");return{arrayStride:this.stride,stepMode:this.stepMode,attributes:[...Object.entries(this.attrib).map(([t,e])=>({format:e.format,offset:e.offset,shaderLocation:this._customLocationMap[t]}))]}}$name(t){return Ut(this,t),this}};function B6e(t){return typeof t?.loadOp=="string"}o(B6e,"Do");function U6e(t,e){if(tm(t)){if(!B6e(e))throw new Error("Expected a single color attachment, not a record.");return[e]}let n=[];for(let r of Object.keys(t)){let s=t[r];if(l1(s))continue;let i=e[r];if(!i)throw new Error(`A color attachment by the name of '${r}' was not provided to the shader.`);n.push(i)}return n}o(U6e,"Ea");function z6e(t){return typeof t?.format=="string"}o(z6e,"Bo");function V6e(t,e){if(tm(t)){if(nK(t))return[];if(!z6e(e))throw new Error("Expected a single color target configuration, not a record.");return[e]}let n=[];for(let r of Object.keys(t)){let s=t[r];if(l1(s))continue;let i=e[r];if(!i)throw new Error(`A color target by the name of '${r}' was not provided to the shader.`);n.push(i)}return n}o(V6e,"Va");function JY(t){return new j6e(new W6e(t),{})}o(JY,"en");var j6e=class zo{static{o(this,"e")}[j];resourceType="render-pipeline";[In];hasIndexBuffer=!1;constructor(e,n){this[j]={core:e,priors:n,branch:e.options.branch},this[In]=e}[Ye](e){return e.resolve(this[j].core)}toString(){return`renderPipeline:${Se(this)??"<unnamed>"}`}$name(e){return Ut(this[j].core,e),this}with(e,n){let r=this[j];if(Bv(e))return new zo(r.core,{...r.priors,bindGroupLayoutMap:new Map([...r.priors.bindGroupLayoutMap??[],[e.layout,e]])});if(RY(e))return new zo(r.core,{...r.priors,bindGroupLayoutMap:new Map([...r.priors.bindGroupLayoutMap??[],[e,n]])});if(XY(e))return new zo(r.core,{...r.priors,vertexLayoutMap:new Map([...r.priors.vertexLayoutMap??[],[e,n]])});throw new Error("Unsupported value passed into .with()")}withPerformanceCallback(e){let n=this[j],r=GY(n.priors,e,n.core.options.branch);return new zo(n.core,r)}withTimestampWrites(e){let n=this[j],r=KY(n.priors,e,n.core.options.branch);return new zo(n.core,r)}withColorAttachment(e){let n=this[j];return new zo(n.core,{...n.priors,colorAttachment:e})}withDepthStencilAttachment(e){let n=this[j];return new zo(n.core,{...n.priors,depthStencilAttachment:e})}withIndexBuffer(e,n,r,s){let i=this[j];if(WC(e)){if(typeof n!="string")throw new Error("If a GPUBuffer is passed, indexFormat must be provided.");return new zo(i.core,{...i.priors,indexBuffer:{buffer:e,indexFormat:n,offsetBytes:r,sizeBytes:s}})}let a={u32:"uint32",u16:"uint16"},l=e.dataType.elementType;return new zo(i.core,{...i.priors,indexBuffer:{buffer:e,indexFormat:a[l.type],offsetBytes:n!==void 0?n*mt(l):void 0,sizeBytes:s!==void 0?s*mt(l):void 0}})}setupRenderPass(e){let n=this[j],r=n.core.unwrap(),{branch:s,fragmentFn:i}=n.core.options,a=i?U6e(i.shell.out,n.priors.colorAttachment??{}).map(h=>ay(h.view)?{...h,view:s.unwrap(h.view).createView()}:Fv(h.view)?{...h,view:s.unwrap(h.view)}:h):[null],l={label:Se(n.core)??"<unnamed>",colorAttachments:a,...YY(n.priors,s)};if(n.priors.depthStencilAttachment!==void 0){let h=n.priors.depthStencilAttachment;ay(h.view)?l.depthStencilAttachment={...h,view:s.unwrap(h.view).createView()}:l.depthStencilAttachment=h}let u=e.beginRenderPass(l);u.setPipeline(r.pipeline);let c=new Set(r.usedBindGroupLayouts);r.usedBindGroupLayouts.forEach((h,d)=>{if(r.catchall&&d===r.catchall[0])u.setBindGroup(d,s.unwrap(r.catchall[1])),c.delete(h);else{let p=n.priors.bindGroupLayoutMap?.get(h);p!==void 0&&(c.delete(h),u.setBindGroup(d,s.unwrap(p)))}});let f=new Set(n.core.usedVertexLayouts);if(n.core.usedVertexLayouts.forEach((h,d)=>{let p=n.priors.vertexLayoutMap?.get(h);p&&(f.delete(h),u.setVertexBuffer(d,s.unwrap(p)))}),c.size>0)throw new cN(c);if(f.size>0)throw new uK(f);return u}draw(e,n,r,s){let i=this[j],{branch:a}=i.core.options,{logResources:l}=i.core.unwrap(),u=a.device.createCommandEncoder(),c=this.setupRenderPass(u);c.draw(e,n,r,s),c.end(),a.device.queue.submit([u.finish()]),l&&sI(l),i.priors.performanceCallback&&iI({root:a,priors:i.priors})}drawIndexed(e,n,r,s,i){let a=this[j];if(!a.priors.indexBuffer)throw new Error("No index buffer set for this render pipeline.");let{logResources:l}=a.core.unwrap(),{branch:u}=a.core.options,{buffer:c,indexFormat:f,offsetBytes:h,sizeBytes:d}=a.priors.indexBuffer,p=u.device.createCommandEncoder(),m=this.setupRenderPass(p);WC(c)?m.setIndexBuffer(c,f,h,d):m.setIndexBuffer(u.unwrap(c),f,h,d),m.drawIndexed(e,n,r,s,i),m.end(),u.device.queue.submit([p.finish()]),l&&sI(l),a.priors.performanceCallback&&iI({root:u,priors:a.priors})}},W6e=class{static{o(this,"Zr")}constructor(t){this.options=t;let e=MLe(t.vertexFn.shell.in??{},t.vertexAttribs);this._vertexBufferLayouts=e.bufferDefinitions,this.usedVertexLayouts=e.usedVertexLayouts,this._targets=t.fragmentFn&&t.targets?V6e(t.fragmentFn.shell.out,t.targets):[null]}[j]=!0;usedVertexLayouts;_memo;_vertexBufferLayouts;_targets;[Ye](t){let{vertexFn:e,fragmentFn:n,slotBindings:r}=this.options,s=H6e(e.shell.out,n?.shell.in,Se(e)??"<unnamed>",Se(n)??"<unnamed>");return t.withVaryingLocations(s,()=>t.withSlots(r,()=>(t.resolve(e),n&&t.resolve(n),oe("",Ms))))}toString(){return"renderPipelineCore"}unwrap(){if(this._memo===void 0){let{branch:t,primitiveState:e,depthStencilState:n,multisampleState:r}=this.options,s=t.device,i=uY.filter(y=>t.enabledFeatures.has(cY[y])),a,l=m1({names:t.nameRegistrySetting});a=UN(this,{namespace:l,enableExtensions:i,shaderGenerator:t.shaderGenerator,root:t});let{code:u,usedBindGroupLayouts:c,catchall:f,logResources:h}=a;f!==void 0&&c[f[0]]?.$name(`${Se(this)??"<unnamed>"} - Automatic Bind Group & Layout`);let d=s.createShaderModule({label:`${Se(this)??"<unnamed>"} - Shader`,code:u}),p={layout:s.createPipelineLayout({label:`${Se(this)??"<unnamed>"} - Pipeline Layout`,bindGroupLayouts:c.map(y=>t.unwrap(y))}),vertex:{module:d,buffers:this._vertexBufferLayouts}},m=Se(this);m!==void 0&&(p.label=m),this.options.fragmentFn&&(p.fragment={module:d,targets:this._targets}),e&&(oh(e.stripIndexFormat)?p.primitive={...e,stripIndexFormat:{u32:"uint32",u16:"uint16"}[e.stripIndexFormat.type]}:p.primitive=e),n&&(p.depthStencil=n),r&&(p.multisample=r),this._memo={pipeline:s.createRenderPipeline(p),usedBindGroupLayouts:c,catchall:f,logResources:h}}return this._memo}};function H6e(t,e,n,r){let s={},i=new Set;function a(u,c){s[u]=c,i.add(c)}o(a,"s");for(let[u,c]of Object.entries(t)){let f=Ju(c);f!==void 0&&a(u,f)}for(let[u,c]of Object.entries(e??{})){let f=Ju(c);f!==void 0&&(s[u]===void 0?a(u,f):s[u]!==f&&console.warn(`Mismatched location between vertexFn (${n}) output (${s[u]}) and fragmentFn (${r}) input (${f}) for the key "${u}", using the location set on vertex output.`))}let l=0;for(let u of Object.keys(t??{}))if(!(l1(t[u])||s[u]!==void 0)){for(;i.has(l);)l++;a(u,l)}return s}o(H6e,"Ao");function q6e(t){if(t.includes(0))throw new Error("Size and workgroupSize cannot contain zeroes.");return Un(t[0]??1,t[1]??1,t[2]??1)}o(q6e,"$o");var G6e=[Un(1,1,1),Un(256,1,1),Un(16,16,1),Un(8,8,4)],K6e=class ZY{static{o(this,"e")}#e;#t;#n;#r;#s;constructor(e,n,r,s){this.#e=e,this.#t=n,this.#n=r,this.#r=s,this.#s=Un()}with(e){return new ZY(this.#e,this.#t.with(e),this.#n,this.#r)}dispatchThreads(...e){let n=q6e(e),r=SPe(Ar(n).div(Ar(this.#r)));bLe(n,this.#s)||(this.#s=n,this.#n.write(n)),this.#t.dispatchWorkgroups(r.x,r.y,r.z)}get pipeline(){return this.#t}get sizeUniform(){return this.#n}},Y6e=class aI{static{o(this,"e")}constructor(e,n){this._getRoot=e,this._slotBindings=n}with(e,n){return new aI(this._getRoot,[...this._slotBindings,[Mx(e)?e.slot:e,n]])}withCompute(e){return new X6e(this._getRoot(),this._slotBindings,e)}createGuardedComputePipeline(e){let n=this._getRoot();if(e.length>=4)throw new Error("Guarded compute callback only supports up to three dimensions.");let r=G6e[e.length],s=kt([De,De,De])(e),i=(globalThis.__TYPEGPU_AUTONAME__??(u=>u))(n.createUniform(Un),"o"),a=fY({workgroupSize:r,in:{id:t4e.globalInvocationId}})`{
  if (any(in.id >= sizeUniform)) {
    return;
  }
  wrappedCallback(in.id.x, in.id.y, in.id.z);
}`.$uses({sizeUniform:i,wrappedCallback:s}),l=(globalThis.__TYPEGPU_AUTONAME__??(u=>u))(this.withCompute(a).createPipeline(),"i");return new K6e(n,l,i,r)}withVertex(e,n){return new J6e({branch:this._getRoot(),primitiveState:void 0,depthStencilState:void 0,slotBindings:this._slotBindings,vertexFn:e,vertexAttribs:n,multisampleState:void 0})}pipe(e){let n=e(new _Y([]));return new aI(this._getRoot,[...this._slotBindings,...n.bindings])}},X6e=class{static{o(this,"nn")}constructor(t,e,n){this._root=t,this._slotBindings=e,this._entryFn=n}createPipeline(){return P6e(this._root,this._slotBindings,this._entryFn)}},J6e=class S_{static{o(this,"e")}constructor(e){this._options=e}withFragment(e,n,r){return ll(typeof e!="string"),ll(typeof n!="string"),new Z6e({...this._options,fragmentFn:e,targets:n})}withPrimitive(e){return new S_({...this._options,primitiveState:e})}withDepthStencil(e){return new S_({...this._options,depthStencilState:e})}withMultisample(e){return new S_({...this._options,multisampleState:e})}createPipeline(){return JY({...this._options,fragmentFn:null,targets:null})}},Z6e=class T_{static{o(this,"e")}constructor(e){this._options=e}withPrimitive(e){return new T_({...this._options,primitiveState:e})}withDepthStencil(e){return new T_({...this._options,depthStencilState:e})}withMultisample(e){return new T_({...this._options,multisampleState:e})}createPipeline(){return JY(this._options)}},QY=class extends Y6e{static{o(this,"pr")}constructor(t,e,n,r,s){super(()=>this,[]),this.device=t,this.nameRegistrySetting=e,this._ownDevice=n,this.shaderGenerator=s,this["~unstable"]=this,this[j]={logOptions:r}}"~unstable";_unwrappedBindGroupLayouts=new x5(t=>t.unwrap(this));_unwrappedBindGroups=new x5(t=>t.unwrap(this));[j];get enabledFeatures(){return new Set(this.device.features)}createBuffer(t,e){return Mb(this,t,e)}createUniform(t,e){let n=Mb(this,t,e).$usage("uniform");return new GT("uniform",n)}createMutable(t,e){let n=Mb(this,t,e).$usage("storage");return new GT("mutable",n)}createReadonly(t,e){let n=Mb(this,t,e).$usage("storage");return new GT("readonly",n)}createQuerySet(t,e,n){return R6e(this,t,e,n)}createBindGroup(t,e){return new NY(t,e)}destroy(){n6e(this.device),this._ownDevice&&this.device.destroy()}createTexture(t){return u6e(t,this)}createSampler(t){return ZLe(t,this)}createComparisonSampler(t){return QLe(t,this)}unwrap(t){if(WY(t))return t[j].rawPipeline;if(HY(t))return t[j].core.unwrap().pipeline;if(RY(t))return this._unwrappedBindGroupLayouts.getOrMake(t);if(Bv(t))return this._unwrappedBindGroups.getOrMake(t);if(Jg(t))return t.buffer;if(ay(t))return t[j].unwrap();if(Fv(t)){if(!t[j].unwrap)throw new Error("Cannot unwrap laid-out texture view as it has no underlying resource.");return t[j].unwrap()}if(XY(t))return t.vertexLayout;if(SY(t)||TY(t)){if(t[j].unwrap)return t[j].unwrap();throw new Error("Cannot unwrap laid-out sampler.")}if(zN(t))return t.querySet;throw new Error(`Unknown resource type: ${t}`)}beginRenderPass(t,e){let n=this.device.createCommandEncoder(),r=n.beginRenderPass(t),s=new Map,i=new Map,a,l=o(()=>{if(!a)throw new Error("Cannot draw without a call to pass.setPipeline");let{core:u,priors:c}=a[j],f=u.unwrap();r.setPipeline(f.pipeline);let h=new Set(f.usedBindGroupLayouts);f.usedBindGroupLayouts.forEach((p,m)=>{if(f.catchall&&m===f.catchall[0])r.setBindGroup(m,this.unwrap(f.catchall[1])),h.delete(p);else{let y=c.bindGroupLayoutMap?.get(p)??s.get(p);y!==void 0&&(h.delete(p),Bv(y)?r.setBindGroup(m,this.unwrap(y)):r.setBindGroup(m,y))}});let d=new Set;if(u.usedVertexLayouts.forEach((p,m)=>{let y=c.vertexLayoutMap?.get(p),b=y?{buffer:y,offset:void 0,size:void 0}:i.get(p);!b||!b.buffer?d.add(p):Jg(b.buffer)?r.setVertexBuffer(m,this.unwrap(b.buffer),b.offset,b.size):r.setVertexBuffer(m,b.buffer,b.offset,b.size)}),h.size>0)throw new cN(h);if(d.size>0)throw new uK(d)},"l");e({setViewport(...u){r.setViewport(...u)},setScissorRect(...u){r.setScissorRect(...u)},setBlendConstant(...u){r.setBlendConstant(...u)},setStencilReference(...u){r.setStencilReference(...u)},beginOcclusionQuery(...u){r.beginOcclusionQuery(...u)},endOcclusionQuery(...u){r.endOcclusionQuery(...u)},executeBundles(...u){r.executeBundles(...u)},setPipeline(u){a=u},setIndexBuffer:o((u,c,f,h)=>{Jg(u)?r.setIndexBuffer(this.unwrap(u),c,f,h):r.setIndexBuffer(u,c,f,h)},"setIndexBuffer"),setVertexBuffer(u,c,f,h){i.set(u,{buffer:c,offset:f,size:h})},setBindGroup(u,c){s.set(u,c)},draw(u,c,f,h){l(),r.draw(u,c,f,h)},drawIndexed(...u){l(),r.drawIndexed(...u)},drawIndirect(...u){l(),r.drawIndirect(...u)},drawIndexedIndirect(...u){l(),r.drawIndexedIndirect(...u)}}),r.end(),this.device.queue.submit([n.finish()])}flush(){console.warn("flush() has been deprecated, and has no effect.")}};async function Q6e(t){let{adapter:e,device:n,unstable_names:r="random",unstable_logOptions:s}=t??{};if(!navigator.gpu)throw new Error("WebGPU is not supported by this browser.");let i=await navigator.gpu.requestAdapter(e);if(!i)throw new Error("Could not find a compatible GPU");let a=[];for(let u of n?.requiredFeatures??[]){if(!i.features.has(u))throw new Error(`Requested feature "${u}" is not supported by the adapter.`);a.push(u)}for(let u of n?.optionalFeatures??[])i.features.has(u)?a.push(u):console.warn(`Optional feature "${u}" is not supported by the adapter.`);let l=await i.requestDevice({...n,requiredFeatures:a});return new QY(l,r,!0,s??{},t?.shaderGenerator)}o(Q6e,"_a");function eFe(t){let{device:e,unstable_names:n="random",unstable_logOptions:r}=t??{};return new QY(e,n,!1,r??{},t?.shaderGenerator)}o(eFe,"Wa");function tFe(t,e){return new nFe(t,e)}o(tFe,"Ma");var nFe=class{static{o(this,"sn")}constructor(t,e=void 0){this.schema=t,this.defaultValue=e,this.slot=Uv(e),this[In]=this.slot}[j]=!0;[In];resourceType="accessor";slot;get[$t](){return new Proxy({[j]:!0,[Fs]:this.#e(),[Ye]:t=>t.resolve(this),toString:o(()=>`accessor:${Se(this)??"<unnamed>"}.$`,"toString")},Oo)}#e(){let t=zf(),e=Lx(t.unwrap(this.slot));return hY(e)?e[j].gpuImpl():oe(e,this.schema)}$name(t){return this.slot.$name(t),this}toString(){return`accessor:${Se(this)??"<unnamed>"}`}get value(){if(Na())return this[$t];throw new Error("`tgpu.accessor` relies on GPU resources and cannot be accessed outside of a compute dispatch or draw call")}get $(){return this.value}[Ye](t){let e=this.#e();return oe(t.resolve(e.value,e.dataType).value,e.dataType)}};function rFe(t){return iFe(t)}o(rFe,"ka");function sFe([t,e]){return`${Se(t)??"<unnamed>"}=${e}`}o(sFe,"Ro");function iFe(t){if(zf())throw new Error("Cannot create tgpu.derived objects at the resolution stage.");return{[j]:!0,resourceType:"derived","~compute":t,get[$t](){let e=zf();if(!e)throw new Error("Cannot access tgpu.derived's value outside of resolution.");return Lx(e.unwrap(this))},get value(){return this[$t]},get $(){return this.value},with(e,n){return eX(this,[[e,n]])},toString(){return"derived"}}}o(iFe,"Go");function eX(t,e){return{[j]:!0,resourceType:"derived","~compute"(){throw new Error("'~compute' should never be read on bound derived items.")},[Xc]:{inner:t,pairs:e},get[$t](){let n=zf();if(!n)throw new Error("Cannot access tgpu.derived's value outside of resolution.");return Lx(n.unwrap(this))},get value(){return this[$t]},get $(){return this.value},with(n,r){return eX(t,[...e,[n,r]])},toString(){return`derived[${e.map(sFe).join(", ")}]`}}}o(eX,"Oa");var W7e={fn:kt,bindGroupLayout:IY,vertexLayout:S5,slot:Uv,init:Q6e,initFromDevice:eFe,resolve:C6e,resolveWithContext:qY,privateVar:zv,workgroupVar:E5,const:XC,"~unstable":{fn:kt,fragmentFn:TLe,vertexFn:b4e,computeFn:fY,vertexLayout:S5,namespace:m1,derived:rFe,slot:Uv,accessor:tFe,privateVar:zv,workgroupVar:E5,const:XC,declare:wLe,simulate:I6e}};class oFe{static{o(this,"Processor")}constructor(e){this.selfOptions=e||{},this.pipes={}}options(e){return e&&(this.selfOptions=e),this.selfOptions}pipe(e,n){let r=n;if(typeof e=="string"){if(typeof r>"u")return this.pipes[e];this.pipes[e]=r}if(e&&e.name){if(r=e,r.processor===this)return r;this.pipes[r.name]=r}return r.processor=this,r}process(e,n){let r=e;r.options=this.options();let s=n||e.pipe||"default",i;for(;s;)typeof r.nextAfterChildren<"u"&&(r.next=r.nextAfterChildren,r.nextAfterChildren=null),typeof s=="string"&&(s=this.pipe(s)),s.process(r),i=s,s=null,r&&r.next&&(r=r.next,s=r.pipe||i);return r.hasResult?r.result:void 0}}class KT{static{o(this,"Pipe")}constructor(e){this.name=e,this.filters=[]}process(e){if(!this.processor)throw new Error("add this pipe to a processor before using it");const n=this.debug,r=this.filters.length,s=e;for(let i=0;i<r;i++){const a=this.filters[i];if(n&&this.log(`filter: ${a.filterName}`),a(s),typeof s=="object"&&s.exiting){s.exiting=!1;break}}!s.next&&this.resultCheck&&this.resultCheck(s)}log(e){`${this.name}${e}`}append(...e){return this.filters.push(...e),this}prepend(...e){return this.filters.unshift(...e),this}indexOf(e){if(!e)throw new Error("a filter name is required");for(let n=0;n<this.filters.length;n++)if(this.filters[n].filterName===e)return n;throw new Error(`filter not found: ${e}`)}list(){return this.filters.map(e=>e.filterName)}after(e,...n){const r=this.indexOf(e);return this.filters.splice(r+1,0,...n),this}before(e,...n){const r=this.indexOf(e);return this.filters.splice(r,0,...n),this}replace(e,...n){const r=this.indexOf(e);return this.filters.splice(r,1,...n),this}remove(e){const n=this.indexOf(e);return this.filters.splice(n,1),this}clear(){return this.filters.length=0,this}shouldHaveResult(e){if(e===!1){this.resultCheck=null;return}if(!this.resultCheck)return this.resultCheck=n=>{if(!n.hasResult){const r=new Error(`${this.name} failed`);throw r.noResult=!0,r}},this}}class VN{static{o(this,"Context")}setResult(e){return this.result=e,this.hasResult=!0,this}exit(){return this.exiting=!0,this}push(e,n){return e.parent=this,typeof n<"u"&&(e.childName=n),e.root=this.root||this,e.options=e.options||this.options,this.children?(this.children[this.children.length-1].next=e,this.children.push(e)):(this.children=[e],this.nextAfterChildren=this.next||null,this.next=e),e.next=this,this}}function aFe(t){const e=/^\/(.*)\/([gimyu]*)$/.exec(t.toString());return new RegExp(e[1],e[2])}o(aFe,"cloneRegExp");function Vv(t){if(typeof t!="object")return t;if(t===null)return null;if(Array.isArray(t))return t.map(Vv);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return aFe(t);const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Vv(t[n]));return e}o(Vv,"clone$1");class Jc extends VN{static{o(this,"DiffContext")}constructor(e,n){super(),this.left=e,this.right=n,this.pipe="diff"}setResult(e){if(this.options.cloneDiffValues&&typeof e=="object"){const n=typeof this.options.cloneDiffValues=="function"?this.options.cloneDiffValues:Vv;typeof e[0]=="object"&&(e[0]=n(e[0])),typeof e[1]=="object"&&(e[1]=n(e[1]))}return super.setResult(e)}}class jN extends VN{static{o(this,"PatchContext")}constructor(e,n){super(),this.left=e,this.delta=n,this.pipe="patch"}}class WN extends VN{static{o(this,"ReverseContext")}constructor(e){super(),this.delta=e,this.pipe="reverse"}}const tX=o(function(e){if(e.left===e.right){e.setResult(void 0).exit();return}if(typeof e.left>"u"){if(typeof e.right=="function")throw new Error("functions are not supported");e.setResult([e.right]).exit();return}if(typeof e.right>"u"){e.setResult([e.left,0,0]).exit();return}if(typeof e.left=="function"||typeof e.right=="function")throw new Error("functions are not supported");if(e.leftType=e.left===null?"null":typeof e.left,e.rightType=e.right===null?"null":typeof e.right,e.leftType!==e.rightType){e.setResult([e.left,e.right]).exit();return}if(e.leftType==="boolean"||e.leftType==="number"){e.setResult([e.left,e.right]).exit();return}if(e.leftType==="object"&&(e.leftIsArray=Array.isArray(e.left)),e.rightType==="object"&&(e.rightIsArray=Array.isArray(e.right)),e.leftIsArray!==e.rightIsArray){e.setResult([e.left,e.right]).exit();return}e.left instanceof RegExp&&(e.right instanceof RegExp?e.setResult([e.left.toString(),e.right.toString()]).exit():e.setResult([e.left,e.right]).exit())},"trivialMatchesDiffFilter");tX.filterName="trivial";const nX=o(function(e){if(typeof e.delta>"u"){e.setResult(e.left).exit();return}if(e.nested=!Array.isArray(e.delta),e.nested)return;const n=e.delta;if(n.length===1){e.setResult(n[0]).exit();return}if(n.length===2){if(e.left instanceof RegExp){const r=/^\/(.*)\/([gimyu]+)$/.exec(n[1]);if(r){e.setResult(new RegExp(r[1],r[2])).exit();return}}e.setResult(n[1]).exit();return}n.length===3&&n[2]===0&&e.setResult(void 0).exit()},"trivialMatchesPatchFilter");nX.filterName="trivial";const rX=o(function(e){if(typeof e.delta>"u"){e.setResult(e.delta).exit();return}if(e.nested=!Array.isArray(e.delta),e.nested)return;const n=e.delta;if(n.length===1){e.setResult([n[0],0,0]).exit();return}if(n.length===2){e.setResult([n[1],n[0]]).exit();return}n.length===3&&n[2]===0&&e.setResult([n[0]]).exit()},"trivialReferseFilter");rX.filterName="trivial";const sX=o(t=>{if(!t||!t.children)return;const e=t.children.length;let n,r=t.result;for(let s=0;s<e;s++)n=t.children[s],!(typeof n.result>"u")&&(r=r||{},r[n.childName]=n.result);r&&t.leftIsArray&&(r._t="a"),t.setResult(r).exit()},"collectChildrenDiffFilter");sX.filterName="collectChildren";const iX=o(t=>{if(t.leftIsArray||t.leftType!=="object")return;const e=t.left,n=t.right;let r,s;const i=t.options.propertyFilter;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i&&!i(r,t)||(s=new Jc(e[r],n[r]),t.push(s,r)));for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i&&!i(r,t)||typeof e[r]>"u"&&(s=new Jc(void 0,n[r]),t.push(s,r)));if(!t.children||t.children.length===0){t.setResult(void 0).exit();return}t.exit()},"objectsDiffFilter");iX.filterName="objects";const oX=o(function(e){if(!e.nested)return;const n=e.delta;if(n._t)return;const r=n;let s,i;for(s in r)i=new jN(e.left[s],r[s]),e.push(i,s);e.exit()},"nestedPatchFilter");oX.filterName="objects";const aX=o(function(e){if(!e||!e.children||e.delta._t)return;const r=e.left,s=e.children.length;let i;for(let a=0;a<s;a++){i=e.children[a];const l=i.childName;Object.prototype.hasOwnProperty.call(e.left,l)&&i.result===void 0?delete r[l]:r[l]!==i.result&&(r[l]=i.result)}e.setResult(r).exit()},"collectChildrenPatchFilter");aX.filterName="collectChildren";const lX=o(function(e){if(!e.nested||e.delta._t)return;const r=e.delta;let s,i;for(s in r)i=new WN(r[s]),e.push(i,s);e.exit()},"nestedReverseFilter");lX.filterName="objects";const uX=o(t=>{if(!t||!t.children||t.delta._t)return;const n=t.children.length;let r;const s={};for(let i=0;i<n;i++){r=t.children[i];const a=r.childName;s[a]!==r.result&&(s[a]=r.result)}t.setResult(s).exit()},"collectChildrenReverseFilter$1");uX.filterName="collectChildren";const lFe=o(function(t,e,n,r){return t[n]===e[r]},"defaultMatch"),uFe=o(function(t,e,n,r){const s=t.length,i=e.length;let a,l;const u=new Array(s+1);for(a=0;a<s+1;a++)for(u[a]=new Array(i+1),l=0;l<i+1;l++)u[a][l]=0;for(u.match=n,a=1;a<s+1;a++)for(l=1;l<i+1;l++)n(t,e,a-1,l-1,r)?u[a][l]=u[a-1][l-1]+1:u[a][l]=Math.max(u[a-1][l],u[a][l-1]);return u},"lengthMatrix"),cFe=o(function(t,e,n,r){let s=e.length,i=n.length;const a={sequence:[],indices1:[],indices2:[]};for(;s!==0&&i!==0;)if(t.match(e,n,s-1,i-1,r))a.sequence.unshift(e[s-1]),a.indices1.unshift(s-1),a.indices2.unshift(i-1),--s,--i;else{const u=t[s][i-1],c=t[s-1][i];u>c?--i:--s}return a},"backtrack"),fFe=o(function(t,e,n,r){const s=r||{},i=uFe(t,e,n||lFe,s);return cFe(i,t,e,s)},"get"),hFe={get:fFe},bp=3;function dFe(t,e,n,r){for(let s=0;s<n;s++){const i=t[s];for(let a=0;a<r;a++){const l=e[a];if(s!==a&&i===l)return!0}}}o(dFe,"arraysHaveMatchByRef");function Db(t,e,n,r,s){const i=t[n],a=e[r];if(i===a)return!0;if(typeof i!="object"||typeof a!="object")return!1;const l=s.objectHash;if(!l)return s.matchByPosition&&n===r;s.hashCache1=s.hashCache1||[];let u=s.hashCache1[n];if(typeof u>"u"&&(s.hashCache1[n]=u=l(i,n)),typeof u>"u")return!1;s.hashCache2=s.hashCache2||[];let c=s.hashCache2[r];return typeof c>"u"&&(s.hashCache2[r]=c=l(a,r)),typeof c>"u"?!1:u===c}o(Db,"matchItems");const cX=o(function(e){if(!e.leftIsArray)return;const n={objectHash:e.options&&e.options.objectHash,matchByPosition:e.options&&e.options.matchByPosition};let r=0,s=0,i,a,l;const u=e.left,c=e.right,f=u.length,h=c.length;let d;for(f>0&&h>0&&!n.objectHash&&typeof n.matchByPosition!="boolean"&&(n.matchByPosition=!dFe(u,c,f,h));r<f&&r<h&&Db(u,c,r,r,n);)i=r,d=new Jc(u[i],c[i]),e.push(d,i),r++;for(;s+r<f&&s+r<h&&Db(u,c,f-1-s,h-1-s,n);)a=f-1-s,l=h-1-s,d=new Jc(u[a],c[l]),e.push(d,l),s++;let p;if(r+s===f){if(f===h){e.setResult(void 0).exit();return}for(p=p||{_t:"a"},i=r;i<h-s;i++)p[i]=[c[i]];e.setResult(p).exit();return}if(r+s===h){for(p=p||{_t:"a"},i=r;i<f-s;i++)p[`_${i}`]=[u[i],0,0];e.setResult(p).exit();return}delete n.hashCache1,delete n.hashCache2;const m=u.slice(r,f-s),y=c.slice(r,h-s),b=hFe.get(m,y,Db,n),_=[];for(p=p||{_t:"a"},i=r;i<f-s;i++)b.indices1.indexOf(i-r)<0&&(p[`_${i}`]=[u[i],0,0],_.push(i));let S=!0;e.options&&e.options.arrays&&e.options.arrays.detectMove===!1&&(S=!1);let v=!1;e.options&&e.options.arrays&&e.options.arrays.includeValueOnMove&&(v=!0);const k=_.length;for(i=r;i<h-s;i++){const C=b.indices2.indexOf(i-r);if(C<0){let I=!1;if(S&&k>0){for(let x=0;x<k;x++)if(a=_[x],Db(m,y,a-r,i-r,n)){p[`_${a}`].splice(1,2,i,bp),v||(p[`_${a}`][0]=""),l=i,d=new Jc(u[a],c[l]),e.push(d,l),_.splice(x,1),I=!0;break}}I||(p[i]=[c[i]])}else a=b.indices1[C]+r,l=b.indices2[C]+r,d=new Jc(u[a],c[l]),e.push(d,l)}e.setResult(p).exit()},"arraysDiffFilter");cX.filterName="arrays";const T5={numerically(t,e){return t-e},numericallyBy(t){return(e,n)=>e[t]-n[t]}},fX=o(function(e){if(!e.nested)return;const n=e.delta;if(n._t!=="a")return;let r,s;const i=n,a=e.left;let l=[],u=[];const c=[];for(r in i)if(r!=="_t")if(r[0]==="_"){const p=r;if(i[p][2]===0||i[p][2]===bp)l.push(parseInt(r.slice(1),10));else throw new Error(`only removal or move can be applied at original array indices, invalid diff type: ${i[p][2]}`)}else{const p=r;i[p].length===1?u.push({index:parseInt(p,10),value:i[p][0]}):c.push({index:parseInt(p,10),delta:i[p]})}for(l=l.sort(T5.numerically),r=l.length-1;r>=0;r--){s=l[r];const p=i[`_${s}`],m=a.splice(s,1)[0];p[2]===bp&&u.push({index:p[1],value:m})}u=u.sort(T5.numericallyBy("index"));const f=u.length;for(r=0;r<f;r++){const p=u[r];a.splice(p.index,0,p.value)}const h=c.length;let d;if(h>0)for(r=0;r<h;r++){const p=c[r];d=new jN(a[p.index],p.delta),e.push(d,p.index)}if(!e.children){e.setResult(a).exit();return}e.exit()},"nestedPatchFilter");fX.filterName="arrays";const hX=o(function(e){if(!e||!e.children||e.delta._t!=="a")return;const r=e.left,s=e.children.length;let i;for(let a=0;a<s;a++){i=e.children[a];const l=i.childName;r[l]=i.result}e.setResult(r).exit()},"collectChildrenPatchFilter");hX.filterName="arraysCollectChildren";const dX=o(function(e){if(!e.nested){const a=e.delta;if(a[2]===bp){const l=a;e.newName=`_${l[1]}`,e.setResult([l[0],parseInt(e.childName.substring(1),10),bp]).exit()}return}const n=e.delta;if(n._t!=="a")return;const r=n;let s,i;for(s in r)s!=="_t"&&(i=new WN(r[s]),e.push(i,s));e.exit()},"arraysReverseFilter");dX.filterName="arrays";const pFe=o((t,e,n)=>{if(typeof e=="string"&&e[0]==="_")return parseInt(e.substring(1),10);if(Array.isArray(n)&&n[2]===0)return`_${e}`;let r=+e;for(const s in t){const i=t[s];if(Array.isArray(i))if(i[2]===bp){const a=parseInt(s.substring(1),10),l=i[1];if(l===+e)return a;a<=r&&l>r?r++:a>=r&&l<r&&r--}else i[2]===0?parseInt(s.substring(1),10)<=r&&r++:i.length===1&&parseInt(s,10)<=r&&r--}return r},"reverseArrayDeltaIndex"),pX=o(t=>{if(!t||!t.children)return;const e=t.delta;if(e._t!=="a")return;const n=e,r=t.children.length;let s;const i={_t:"a"};for(let a=0;a<r;a++){s=t.children[a];let l=s.newName;typeof l>"u"&&(l=pFe(n,s.childName,s.result)),i[l]!==s.result&&(i[l]=s.result)}t.setResult(i).exit()},"collectChildrenReverseFilter");pX.filterName="arraysCollectChildren";const mX=o(function(e){e.left instanceof Date?(e.right instanceof Date?e.left.getTime()!==e.right.getTime()?e.setResult([e.left,e.right]):e.setResult(void 0):e.setResult([e.left,e.right]),e.exit()):e.right instanceof Date&&e.setResult([e.left,e.right]).exit()},"datesDiffFilter");mX.filterName="dates";const jv=2,mFe=60;let YT=null;function gX(t,e){var n;if(!YT){let r;if(!((n=t?.textDiff)===null||n===void 0)&&n.diffMatchPatch)r=new t.textDiff.diffMatchPatch;else{if(!e)return null;const s=new Error("The diff-match-patch library was not provided. Pass the library in through the options or use the `jsondiffpatch/with-text-diffs` entry-point.");throw s.diff_match_patch_not_found=!0,s}YT={diff:o(function(s,i){return r.patch_toText(r.patch_make(s,i))},"diff"),patch:o(function(s,i){const a=r.patch_apply(r.patch_fromText(i),s);for(let l=0;l<a[1].length;l++)if(!a[1][l]){const u=new Error("text patch failed");u.textPatchFailed=!0}return a[0]},"patch")}}return YT}o(gX,"getDiffMatchPatch");const yX=o(function(e){if(e.leftType!=="string")return;const n=e.left,r=e.right,s=e.options&&e.options.textDiff&&e.options.textDiff.minLength||mFe;if(n.length<s||r.length<s){e.setResult([n,r]).exit();return}const i=gX(e.options);if(!i){e.setResult([n,r]).exit();return}const a=i.diff;e.setResult([a(n,r),0,jv]).exit()},"textsDiffFilter");yX.filterName="texts";const bX=o(function(e){if(e.nested)return;const n=e.delta;if(n[2]!==jv)return;const r=n,s=gX(e.options,!0).patch;e.setResult(s(e.left,r[0])).exit()},"textsPatchFilter");bX.filterName="texts";const gFe=o(function(t){let e,n,r,s,i=null;const a=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;let l;const u=t.split(`
`);for(e=0,n=u.length;e<n;e++){r=u[e];const c=r.slice(0,1);c==="@"?(i=a.exec(r),l=e,u[l]="@@ -"+i[3]+","+i[4]+" +"+i[1]+","+i[2]+" @@"):c==="+"?(u[e]="-"+u[e].slice(1),u[e-1].slice(0,1)==="+"&&(s=u[e],u[e]=u[e-1],u[e-1]=s)):c==="-"&&(u[e]="+"+u[e].slice(1))}return u.join(`
`)},"textDeltaReverse"),_X=o(function(e){if(e.nested)return;const n=e.delta;if(n[2]!==jv)return;const r=n;e.setResult([gFe(r[0]),0,jv]).exit()},"textsReverseFilter");_X.filterName="texts";class yFe{static{o(this,"DiffPatcher")}constructor(e){this.processor=new oFe(e),this.processor.pipe(new KT("diff").append(sX,tX,mX,yX,iX,cX).shouldHaveResult()),this.processor.pipe(new KT("patch").append(aX,hX,nX,bX,oX,fX).shouldHaveResult()),this.processor.pipe(new KT("reverse").append(uX,pX,rX,_X,lX,dX).shouldHaveResult())}options(e){return this.processor.options(e)}diff(e,n){return this.processor.process(new Jc(e,n))}patch(e,n){return this.processor.process(new jN(e,n))}reverse(e){return this.processor.process(new WN(e))}unpatch(e,n){return this.patch(e,this.reverse(n))}clone(e){return Vv(e)}}let XT;function H7e(t,e){return XT||(XT=new yFe),XT.diff(t,e)}o(H7e,"diff");const yr=[];for(let t=0;t<256;++t)yr.push((t+256).toString(16).slice(1));function bFe(t,e=0){return(yr[t[e+0]]+yr[t[e+1]]+yr[t[e+2]]+yr[t[e+3]]+"-"+yr[t[e+4]]+yr[t[e+5]]+"-"+yr[t[e+6]]+yr[t[e+7]]+"-"+yr[t[e+8]]+yr[t[e+9]]+"-"+yr[t[e+10]]+yr[t[e+11]]+yr[t[e+12]]+yr[t[e+13]]+yr[t[e+14]]+yr[t[e+15]]).toLowerCase()}o(bFe,"unsafeStringify");let JT;const _Fe=new Uint8Array(16);function wFe(){if(!JT){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");JT=crypto.getRandomValues.bind(crypto)}return JT(_Fe)}o(wFe,"rng");const vFe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),k5={randomUUID:vFe};function q7e(t,e,n){if(k5.randomUUID&&!t)return k5.randomUUID();t=t||{};const r=t.random??t.rng?.()??wFe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,bFe(r)}o(q7e,"v4");function EFe(){function t(e){return new Promise(n=>{let r=new XMLHttpRequest;r.open(e.method,e.url,!0),Object.keys(e.headers).forEach(l=>r.setRequestHeader(l,e.headers[l]));let s=o((l,u)=>setTimeout(()=>{r.abort(),n({status:0,content:u,isTimedOut:!0})},l),"i"),i=s(e.connectTimeout,"Connection timeout"),a;r.onreadystatechange=()=>{r.readyState>r.OPENED&&a===void 0&&(clearTimeout(i),a=s(e.responseTimeout,"Socket timeout"))},r.onerror=()=>{r.status===0&&(clearTimeout(i),clearTimeout(a),n({content:r.responseText||"Network request failed",status:r.status,isTimedOut:!1}))},r.onload=()=>{clearTimeout(i),clearTimeout(a),n({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(e.data)})}return o(t,"r"),{send:t}}o(EFe,"m");function xFe(t){let e;const n=`algolia-client-js-${t.key}`;function r(){return e===void 0&&(e=t.localStorage||window.localStorage),e}o(r,"getStorage");function s(){return JSON.parse(r().getItem(n)||"{}")}o(s,"getNamespace");function i(l){r().setItem(n,JSON.stringify(l))}o(i,"setNamespace");function a(){const l=t.timeToLive?t.timeToLive*1e3:null,u=s(),c=Object.fromEntries(Object.entries(u).filter(([,h])=>h.timestamp!==void 0));if(i(c),!l)return;const f=Object.fromEntries(Object.entries(c).filter(([,h])=>{const d=new Date().getTime();return!(h.timestamp+l<d)}));i(f)}return o(a,"removeOutdatedCacheItems"),{get(l,u,c={miss:o(()=>Promise.resolve(),"miss")}){return Promise.resolve().then(()=>(a(),s()[JSON.stringify(l)])).then(f=>Promise.all([f?f.value:u(),f!==void 0])).then(([f,h])=>Promise.all([f,h||c.miss(f)])).then(([f])=>f)},set(l,u){return Promise.resolve().then(()=>{const c=s();return c[JSON.stringify(l)]={timestamp:new Date().getTime(),value:u},r().setItem(n,JSON.stringify(c)),u})},delete(l){return Promise.resolve().then(()=>{const u=s();delete u[JSON.stringify(l)],r().setItem(n,JSON.stringify(u))})},clear(){return Promise.resolve().then(()=>{r().removeItem(n)})}}}o(xFe,"createBrowserLocalStorageCache");function SFe(){return{get(t,e,n={miss:o(()=>Promise.resolve(),"miss")}){return e().then(s=>Promise.all([s,n.miss(s)])).then(([s])=>s)},set(t,e){return Promise.resolve(e)},delete(t){return Promise.resolve()},clear(){return Promise.resolve()}}}o(SFe,"createNullCache");function lg(t){const e=[...t.caches],n=e.shift();return n===void 0?SFe():{get(r,s,i={miss:o(()=>Promise.resolve(),"miss")}){return n.get(r,s,i).catch(()=>lg({caches:e}).get(r,s,i))},set(r,s){return n.set(r,s).catch(()=>lg({caches:e}).set(r,s))},delete(r){return n.delete(r).catch(()=>lg({caches:e}).delete(r))},clear(){return n.clear().catch(()=>lg({caches:e}).clear())}}}o(lg,"createFallbackableCache");function ZT(t={serializable:!0}){let e={};return{get(n,r,s={miss:o(()=>Promise.resolve(),"miss")}){const i=JSON.stringify(n);if(i in e)return Promise.resolve(t.serializable?JSON.parse(e[i]):e[i]);const a=r();return a.then(l=>s.miss(l)).then(()=>a)},set(n,r){return e[JSON.stringify(n)]=t.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete(n){return delete e[JSON.stringify(n)],Promise.resolve()},clear(){return e={},Promise.resolve()}}}o(ZT,"createMemoryCache");function TFe(t){const e={value:`Algolia for JavaScript (${t})`,add(n){const r=`; ${n.segment}${n.version!==void 0?` (${n.version})`:""}`;return e.value.indexOf(r)===-1&&(e.value=`${e.value}${r}`),e}};return e}o(TFe,"createAlgoliaAgent");function kFe(t,e,n="WithinHeaders"){const r={"x-algolia-api-key":e,"x-algolia-application-id":t};return{headers(){return n==="WithinHeaders"?r:{}},queryParameters(){return n==="WithinQueryParameters"?r:{}}}}o(kFe,"createAuth");function AFe({algoliaAgents:t,client:e,version:n}){const r=TFe(n).add({segment:e,version:n});return t.forEach(s=>r.add(s)),r}o(AFe,"getAlgoliaAgent");function CFe(){return{debug(t,e){return Promise.resolve()},info(t,e){return Promise.resolve()},error(t,e){return Promise.resolve()}}}o(CFe,"createNullLogger");var A5=120*1e3;function C5(t,e="up"){const n=Date.now();function r(){return e==="up"||Date.now()-n>A5}o(r,"isUp");function s(){return e==="timed out"&&Date.now()-n<=A5}return o(s,"isTimedOut"),{...t,status:e,lastUpdate:n,isUp:r,isTimedOut:s}}o(C5,"createStatefulHost");var wX=class extends Error{static{o(this,"AlgoliaError")}name="AlgoliaError";constructor(t,e){super(t),e&&(this.name=e)}},vX=class extends wX{static{o(this,"ErrorWithStackTrace")}stackTrace;constructor(t,e,n){super(t,n),this.stackTrace=e}},IFe=class extends vX{static{o(this,"RetryError")}constructor(t){super("Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support.",t,"RetryError")}},lI=class extends vX{static{o(this,"ApiError")}status;constructor(t,e,n,r="ApiError"){super(t,n,r),this.status=e}},RFe=class extends wX{static{o(this,"DeserializationError")}response;constructor(t,e){super(t,"DeserializationError"),this.response=e}},OFe=class extends lI{static{o(this,"DetailedApiError")}error;constructor(t,e,n,r){super(t,e,r,"DetailedApiError"),this.error=n}};function NFe(t){const e=t;for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1)),s=t[n];e[n]=t[r],e[r]=s}return e}o(NFe,"shuffle");function MFe(t,e,n){const r=DFe(n);let s=`${t.protocol}://${t.url}${t.port?`:${t.port}`:""}/${e.charAt(0)==="/"?e.substring(1):e}`;return r.length&&(s+=`?${r}`),s}o(MFe,"serializeUrl");function DFe(t){return Object.keys(t).filter(e=>t[e]!==void 0).sort().map(e=>`${e}=${encodeURIComponent(Object.prototype.toString.call(t[e])==="[object Array]"?t[e].join(","):t[e]).replace(/\+/g,"%20")}`).join("&")}o(DFe,"serializeQueryParameters");function PFe(t,e){if(t.method==="GET"||t.data===void 0&&e.data===void 0)return;const n=Array.isArray(t.data)?t.data:{...t.data,...e.data};return JSON.stringify(n)}o(PFe,"serializeData");function $Fe(t,e,n){const r={Accept:"application/json",...t,...e,...n},s={};return Object.keys(r).forEach(i=>{const a=r[i];s[i.toLowerCase()]=a}),s}o($Fe,"serializeHeaders");function LFe(t){try{return JSON.parse(t.content)}catch(e){throw new RFe(e.message,t)}}o(LFe,"deserializeSuccess");function FFe({content:t,status:e},n){try{const r=JSON.parse(t);return"error"in r?new OFe(r.message,e,r.error,n):new lI(r.message,e,n)}catch{}return new lI(t,e,n)}o(FFe,"deserializeFailure");function BFe({isTimedOut:t,status:e}){return!t&&~~e===0}o(BFe,"isNetworkError");function UFe({isTimedOut:t,status:e}){return t||BFe({isTimedOut:t,status:e})||~~(e/100)!==2&&~~(e/100)!==4}o(UFe,"isRetryable");function zFe({status:t}){return~~(t/100)===2}o(zFe,"isSuccess");function VFe(t){return t.map(e=>EX(e))}o(VFe,"stackTraceWithoutCredentials");function EX(t){const e=t.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...t,request:{...t.request,headers:{...t.request.headers,...e}}}}o(EX,"stackFrameWithoutCredentials");function jFe({hosts:t,hostsCache:e,baseHeaders:n,logger:r,baseQueryParameters:s,algoliaAgent:i,timeouts:a,requester:l,requestsCache:u,responsesCache:c}){async function f(p){const m=await Promise.all(p.map(v=>e.get(v,()=>Promise.resolve(C5(v))))),y=m.filter(v=>v.isUp()),b=m.filter(v=>v.isTimedOut()),_=[...y,...b];return{hosts:_.length>0?_:p,getTimeout(v,k){return(b.length===0&&v===0?1:b.length+3+v)*k}}}o(f,"createRetryableOptions");async function h(p,m,y=!0){const b=[],_=PFe(p,m),S=$Fe(n,p.headers,m.headers),v=p.method==="GET"?{...p.data,...m.data}:{},k={...s,...p.queryParameters,...v};if(i.value&&(k["x-algolia-agent"]=i.value),m&&m.queryParameters)for(const T of Object.keys(m.queryParameters))!m.queryParameters[T]||Object.prototype.toString.call(m.queryParameters[T])==="[object Object]"?k[T]=m.queryParameters[T]:k[T]=m.queryParameters[T].toString();let C=0;const I=o(async(T,O)=>{const N=T.pop();if(N===void 0)throw new IFe(VFe(b));const R={...a,...m.timeouts},M={data:_,headers:S,method:p.method,url:MFe(N,p.path,k),connectTimeout:O(C,R.connect),responseTimeout:O(C,y?R.read:R.write)},B=o(V=>{const K={request:M,response:V,host:N,triesLeft:T.length};return b.push(K),K},"pushToStackTrace"),z=await l.send(M);if(UFe(z)){const V=B(z);return z.isTimedOut&&C++,r.info("Retryable failure",EX(V)),await e.set(N,C5(N,z.isTimedOut?"timed out":"down")),I(T,O)}if(zFe(z))return LFe(z);throw B(z),FFe(z,b)},"retry"),x=t.filter(T=>T.accept==="readWrite"||(y?T.accept==="read":T.accept==="write")),E=await f(x);return I([...E.hosts].reverse(),E.getTimeout)}o(h,"retryableRequest");function d(p,m={}){const y=p.useReadTransporter||p.method==="GET";if(!y)return h(p,m,y);const b=o(()=>h(p,m),"createRetryableRequest");if((m.cacheable||p.cacheable)!==!0)return b();const S={request:p,requestOptions:m,transporter:{queryParameters:s,headers:n}};return c.get(S,()=>u.get(S,()=>u.set(S,b()).then(v=>Promise.all([u.delete(S),v]),v=>Promise.all([u.delete(S),Promise.reject(v)])).then(([v,k])=>k)),{miss:o(v=>c.set(S,v),"miss")})}return o(d,"createRequest"),{hostsCache:e,requester:l,timeouts:a,logger:r,algoliaAgent:i,baseHeaders:n,baseQueryParameters:s,hosts:t,request:d,requestsCache:u,responsesCache:c}}o(jFe,"createTransporter");var xX="5.21.0";function WFe(t){return[{url:`${t}-dsn.algolia.net`,accept:"read",protocol:"https"},{url:`${t}.algolia.net`,accept:"write",protocol:"https"}].concat(NFe([{url:`${t}-1.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${t}-2.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${t}-3.algolianet.com`,accept:"readWrite",protocol:"https"}]))}o(WFe,"getDefaultHosts");function HFe({appId:t,apiKey:e,authMode:n,algoliaAgents:r,...s}){const i=kFe(t,e,n),a=jFe({hosts:WFe(t),...s,algoliaAgent:AFe({algoliaAgents:r,client:"Lite",version:xX}),baseHeaders:{"content-type":"text/plain",...i.headers(),...s.baseHeaders},baseQueryParameters:{...i.queryParameters(),...s.baseQueryParameters}});return{transporter:a,appId:t,apiKey:e,clearCache(){return Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then(()=>{})},get _ua(){return a.algoliaAgent.value},addAlgoliaAgent(l,u){a.algoliaAgent.add({segment:l,version:u})},setClientApiKey({apiKey:l}){!n||n==="WithinHeaders"?a.baseHeaders["x-algolia-api-key"]=l:a.baseQueryParameters["x-algolia-api-key"]=l},searchForHits(l,u){return this.search(l,u)},searchForFacets(l,u){return this.search(l,u)},customPost({path:l,parameters:u,body:c},f){if(!l)throw new Error("Parameter `path` is required when calling `customPost`.");const m={method:"POST",path:"/{path}".replace("{path}",l),queryParameters:u||{},headers:{},data:c||{}};return a.request(m,f)},getRecommendations(l,u){if(l&&Array.isArray(l)&&(l={requests:l}),!l)throw new Error("Parameter `getRecommendationsParams` is required when calling `getRecommendations`.");if(!l.requests)throw new Error("Parameter `getRecommendationsParams.requests` is required when calling `getRecommendations`.");const d={method:"POST",path:"/1/indexes/*/recommendations",queryParameters:{},headers:{},data:l,useReadTransporter:!0,cacheable:!0};return a.request(d,u)},search(l,u){if(l&&Array.isArray(l)&&(l={requests:l.map(({params:m,...y})=>y.type==="facet"?{...y,...m,type:"facet"}:{...y,...m,facet:void 0,maxFacetHits:void 0,facetQuery:void 0})}),!l)throw new Error("Parameter `searchMethodParams` is required when calling `search`.");if(!l.requests)throw new Error("Parameter `searchMethodParams.requests` is required when calling `search`.");const d={method:"POST",path:"/1/indexes/*/queries",queryParameters:{},headers:{},data:l,useReadTransporter:!0,cacheable:!0};return a.request(d,u)}}}o(HFe,"createLiteClient");function G7e(t,e,n){return HFe({appId:t,apiKey:e,timeouts:{connect:1e3,read:2e3,write:3e4},logger:CFe(),requester:EFe(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:ZT(),requestsCache:ZT({serializable:!1}),hostsCache:lg({caches:[xFe({key:`${xX}-${t}`}),ZT()]}),...n})}o(G7e,"liteClient");const qFe=o(t=>e=>{const n=t(e);return e.add(n),n},"createAddUniqueNumber"),GFe=o(t=>(e,n)=>(t.set(e,n),n),"createCache"),I5=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,SX=536870912,R5=SX*2,KFe=o((t,e)=>n=>{const r=e.get(n);let s=r===void 0?n.size:r<R5?r+1:0;if(!n.has(s))return t(n,s);if(n.size<SX){for(;n.has(s);)s=Math.floor(Math.random()*R5);return t(n,s)}if(n.size>I5)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;n.has(s);)s=Math.floor(Math.random()*I5);return t(n,s)},"createGenerateUniqueNumber"),TX=new WeakMap,YFe=GFe(TX),HN=KFe(YFe,TX),O5=qFe(HN),XFe=o(t=>typeof t.start=="function","isMessagePort"),N5=new WeakMap,JFe=o(t=>({...t,connect:o(({call:e})=>async()=>{const{port1:n,port2:r}=new MessageChannel,s=await e("connect",{port:n},[n]);return N5.set(r,s),r},"connect"),disconnect:o(({call:e})=>async n=>{const r=N5.get(n);if(r===void 0)throw new Error("The given port is not connected.");await e("disconnect",{portId:r})},"disconnect"),isSupported:o(({call:e})=>()=>e("isSupported"),"isSupported")}),"extendBrokerImplementation"),QT=new WeakMap,ZFe=o(t=>{if(QT.has(t))return QT.get(t);const e=new Map;return QT.set(t,e),e},"createOrGetOngoingRequests"),kX=o(t=>{const e=JFe(t);return n=>{const r=ZFe(n);n.addEventListener("message",(({data:l})=>{const{id:u}=l;if(u!==null&&r.has(u)){const{reject:c,resolve:f}=r.get(u);r.delete(u),l.error===void 0?f(l.result):c(new Error(l.error.message))}})),XFe(n)&&n.start();const s=o((l,u=null,c=[])=>new Promise((f,h)=>{const d=HN(r);r.set(d,{reject:h,resolve:f}),u===null?n.postMessage({id:d,method:l},c):n.postMessage({id:d,method:l,params:u},c)}),"call"),i=o((l,u,c=[])=>{n.postMessage({id:null,method:l,params:u},c)},"notify");let a={};for(const[l,u]of Object.entries(e))a={...a,[l]:u({call:s,notify:i})};return{...a}}},"createBroker"),ek=new Set,M5=new Set,Hm=new WeakMap,QFe=kX({deregister:o(({call:t})=>async e=>{const n=Hm.get(e);if(n===void 0)throw new Error("There is no encoder registered with the given port.");const r=await t("deregister",{encoderId:n});return ek.delete(n),Hm.delete(e),r},"deregister"),encode:o(({call:t})=>async(e,n)=>{const r=await t("encode",{encoderInstanceId:e,timeslice:n});return M5.delete(e),r},"encode"),instantiate:o(({call:t})=>async(e,n)=>{const r=O5(M5),s=await t("instantiate",{encoderInstanceId:r,mimeType:e,sampleRate:n});return{encoderInstanceId:r,port:s}},"instantiate"),register:o(({call:t})=>async e=>{if(Hm.has(e))throw new Error("");const n=O5(ek);Hm.set(e,n);try{return await t("register",{encoderId:n,port:e},[e])}catch(r){throw ek.delete(n),Hm.delete(e),r}},"register")}),e8e=o(t=>{const e=new Worker(t);return QFe(e)},"load$1"),t8e=`(()=>{var e={455:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,s=2*o,a=function(e,t){return function(r){var a=t.get(r),c=void 0===a?r.size:a<s?a+1:0;if(!r.has(c))return e(r,c);if(r.size<o){for(;r.has(c);)c=Math.floor(Math.random()*s);return e(r,c)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(c);)c=Math.floor(Math.random()*n);return e(r,c)}},c=new WeakMap,i=r(c),d=a(i,c),l=t(d);e.addUniqueNumber=l,e.generateUniqueNumber=d}(t)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(()=>{"use strict";var e=r(455);const t=new WeakMap,n=new WeakMap,o=(r=>{const o=(s=r,{...s,connect:({call:e})=>async()=>{const{port1:r,port2:n}=new MessageChannel,o=await e("connect",{port:r},[r]);return t.set(n,o),n},disconnect:({call:e})=>async r=>{const n=t.get(r);if(void 0===n)throw new Error("The given port is not connected.");await e("disconnect",{portId:n})},isSupported:({call:e})=>()=>e("isSupported")});var s;return t=>{const r=(e=>{if(n.has(e))return n.get(e);const t=new Map;return n.set(e,t),t})(t);t.addEventListener("message",(({data:e})=>{const{id:t}=e;if(null!==t&&r.has(t)){const{reject:n,resolve:o}=r.get(t);r.delete(t),void 0===e.error?o(e.result):n(new Error(e.error.message))}})),(e=>"function"==typeof e.start)(t)&&t.start();const s=(n,o=null,s=[])=>new Promise(((a,c)=>{const i=(0,e.generateUniqueNumber)(r);r.set(i,{reject:c,resolve:a}),null===o?t.postMessage({id:i,method:n},s):t.postMessage({id:i,method:n,params:o},s)})),a=(e,r,n=[])=>{t.postMessage({id:null,method:e,params:r},n)};let c={};for(const[e,t]of Object.entries(o))c={...c,[e]:t({call:s,notify:a})};return{...c}}})({characterize:({call:e})=>()=>e("characterize"),encode:({call:e})=>(t,r)=>e("encode",{recordingId:t,timeslice:r}),record:({call:e})=>async(t,r,n)=>{await e("record",{recordingId:t,sampleRate:r,typedArrays:n},n.map((({buffer:e})=>e)))}}),s=-32603,a=-32602,c=-32601,i=(e,t)=>Object.assign(new Error(e),{status:t}),d=e=>i('The handler of the method called "'.concat(e,'" returned an unexpected result.'),s),l=(e,t)=>async({data:{id:r,method:n,params:o}})=>{const a=t[n];try{if(void 0===a)throw(e=>i('The requested method called "'.concat(e,'" is not supported.'),c))(n);const t=void 0===o?a():a(o);if(void 0===t)throw(e=>i('The handler of the method called "'.concat(e,'" returned no required result.'),s))(n);const l=t instanceof Promise?await t:t;if(null===r){if(void 0!==l.result)throw d(n)}else{if(void 0===l.result)throw d(n);const{result:t,transferables:o=[]}=l;e.postMessage({id:r,result:t},o)}}catch(t){const{message:n,status:o=-32603}=t;e.postMessage({error:{code:o,message:n},id:r})}},u=new Map,h=(t,r,n)=>({...r,connect:({port:n})=>{n.start();const o=t(n,r),s=(0,e.generateUniqueNumber)(u);return u.set(s,(()=>{o(),n.close(),u.delete(s)})),{result:s}},disconnect:({portId:e})=>{const t=u.get(e);if(void 0===t)throw(e=>i('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),a))(e);return t(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=({data:t})=>e(null!==t),n.postMessage(t,[t])}))){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),w=(e,t,r=()=>!0)=>{const n=h(w,t,r),o=l(e,n);return e.addEventListener("message",o),()=>e.removeEventListener("message",o)},f=e=>{e.onmessage=null,e.close()},p=new Map,m=new Map,g=((e,t)=>r=>{const n=t.get(r);if(void 0===n)throw new Error("There was no encoder stored with the given id.");e.delete(n),t.delete(r)})(p,m),v=new Map,y=(e=>t=>{const r=e.get(t);if(void 0===r)throw new Error("There was no instance of an encoder stored with the given id.");return r})(v),M=((e,t)=>r=>{const n=t(r);return e.delete(r),n})(v,y),E=((e,t)=>r=>{const[n,o,s,a]=t(r);return s?new Promise((t=>{o.onmessage=({data:s})=>{0===s.length?(e(o),t(n.encode(r,null))):n.record(r,a,s)}})):n.encode(r,null)})(f,M),b=(e=>t=>{for(const[r,n]of Array.from(e.values()))if(r.test(t))return n;throw new Error("There is no encoder registered which could handle the given mimeType.")})(p),T=((e,t,r)=>(n,o,s)=>{if(t.has(n))throw new Error('There is already an encoder instance registered with an id called "'.concat(n,'".'));const a=r(o),{port1:c,port2:i}=new MessageChannel,d=[a,c,!0,s];return t.set(n,d),c.onmessage=({data:t})=>{0===t.length?(e(c),d[2]=!1):a.record(n,s,t.map((e=>"number"==typeof e?new Float32Array(e):e)))},i})(f,v,b),I=((e,t,r)=>async(n,o)=>{const s=r(o),a=await s.characterize(),c=a.toString();if(e.has(c))throw new Error("There is already an encoder stored which handles exactly the same mime types.");if(t.has(n))throw new Error('There is already an encoder registered with an id called "'.concat(n,'".'));return e.set(c,[a,s]),t.set(n,c),a})(p,m,o),A=(e=>(t,r)=>{const[n]=e(t);return n.encode(t,r)})(y);w(self,{deregister:async({encoderId:e})=>(g(e),{result:null}),encode:async({encoderInstanceId:e,timeslice:t})=>{const r=null===t?await E(e):await A(e,t);return{result:r,transferables:r}},instantiate:({encoderInstanceId:e,mimeType:t,sampleRate:r})=>{const n=T(e,t,r);return{result:n,transferables:[n]}},register:async({encoderId:e,port:t})=>({result:await I(e,t)})})})()})();`,n8e=new Blob([t8e],{type:"application/javascript; charset=utf-8"}),AX=URL.createObjectURL(n8e),qN=e8e(AX),Wv=qN.encode,CX=qN.instantiate,r8e=qN.register;URL.revokeObjectURL(AX);const s8e=o(t=>(e,n)=>{if(t===null)throw new Error("A native BlobEvent could not be created.");return new t(e,n)},"createBlobEventFactory"),i8e=o((t,e)=>(n,r,s)=>{const i=[];let a=r,l=0;for(;l<n.byteLength;)if(a===null){const u=e(n,l);if(u===null)break;const{length:c,type:f}=u;a=f,l+=c}else{const u=t(n,l,a,s);if(u===null)break;const{content:c,length:f}=u;a=null,l+=f,c!==null&&i.push(c)}return{contents:i,currentElementType:a,offset:l}},"createDecodeWebMChunk"),o8e=o((t,e)=>class{static{o(this,"EventTarget")}constructor(r=null){this._listeners=new WeakMap,this._nativeEventTarget=r===null?t():r}addEventListener(r,s,i){if(s!==null){let a=this._listeners.get(s);a===void 0&&(a=e(this,s),typeof s=="function"&&this._listeners.set(s,a)),this._nativeEventTarget.addEventListener(r,a,i)}}dispatchEvent(r){return this._nativeEventTarget.dispatchEvent(r)}removeEventListener(r,s,i){const a=s===null?void 0:this._listeners.get(s);this._nativeEventTarget.removeEventListener(r,a===void 0?null:a,i)}},"createEventTargetConstructor$1"),a8e=o(t=>()=>{if(t===null)throw new Error("A native EventTarget could not be created.");return t.document.createElement("p")},"createEventTargetFactory"),l8e=o((t="")=>{try{return new DOMException(t,"InvalidModificationError")}catch(e){return e.code=13,e.message=t,e.name="InvalidModificationError",e}},"createInvalidModificationError"),u8e=o(()=>{try{return new DOMException("","InvalidStateError")}catch(t){return t.code=11,t.name="InvalidStateError",t}},"createInvalidStateError$1"),c8e=o((t,e,n,r,s,i,a)=>class extends i{static{o(this,"MediaRecorder")}constructor(u,c={}){const{mimeType:f}=c;if(a!==null&&(f===void 0||a.isTypeSupported!==void 0&&a.isTypeSupported(f))){const h=t(a,u,c);super(h),this._internalMediaRecorder=h}else if(f!==void 0&&s.some(h=>h.test(f)))super(),a!==null&&a.isTypeSupported!==void 0&&a.isTypeSupported("audio/webm; codecs=pcm")?this._internalMediaRecorder=r(this,a,u,f):this._internalMediaRecorder=n(this,u,f);else throw a!==null&&t(a,u,c),e();this._ondataavailable=null,this._onerror=null,this._onpause=null,this._onresume=null,this._onstart=null,this._onstop=null}get mimeType(){return this._internalMediaRecorder.mimeType}get ondataavailable(){return this._ondataavailable===null?this._ondataavailable:this._ondataavailable[0]}set ondataavailable(u){if(this._ondataavailable!==null&&this.removeEventListener("dataavailable",this._ondataavailable[1]),typeof u=="function"){const c=u.bind(this);this.addEventListener("dataavailable",c),this._ondataavailable=[u,c]}else this._ondataavailable=null}get onerror(){return this._onerror===null?this._onerror:this._onerror[0]}set onerror(u){if(this._onerror!==null&&this.removeEventListener("error",this._onerror[1]),typeof u=="function"){const c=u.bind(this);this.addEventListener("error",c),this._onerror=[u,c]}else this._onerror=null}get onpause(){return this._onpause===null?this._onpause:this._onpause[0]}set onpause(u){if(this._onpause!==null&&this.removeEventListener("pause",this._onpause[1]),typeof u=="function"){const c=u.bind(this);this.addEventListener("pause",c),this._onpause=[u,c]}else this._onpause=null}get onresume(){return this._onresume===null?this._onresume:this._onresume[0]}set onresume(u){if(this._onresume!==null&&this.removeEventListener("resume",this._onresume[1]),typeof u=="function"){const c=u.bind(this);this.addEventListener("resume",c),this._onresume=[u,c]}else this._onresume=null}get onstart(){return this._onstart===null?this._onstart:this._onstart[0]}set onstart(u){if(this._onstart!==null&&this.removeEventListener("start",this._onstart[1]),typeof u=="function"){const c=u.bind(this);this.addEventListener("start",c),this._onstart=[u,c]}else this._onstart=null}get onstop(){return this._onstop===null?this._onstop:this._onstop[0]}set onstop(u){if(this._onstop!==null&&this.removeEventListener("stop",this._onstop[1]),typeof u=="function"){const c=u.bind(this);this.addEventListener("stop",c),this._onstop=[u,c]}else this._onstop=null}get state(){return this._internalMediaRecorder.state}pause(){return this._internalMediaRecorder.pause()}resume(){return this._internalMediaRecorder.resume()}start(u){return this._internalMediaRecorder.start(u)}stop(){return this._internalMediaRecorder.stop()}static isTypeSupported(u){return a!==null&&a.isTypeSupported!==void 0&&a.isTypeSupported(u)||s.some(c=>c.test(u))}},"createMediaRecorderConstructor"),f8e=o(t=>t!==null&&t.BlobEvent!==void 0?t.BlobEvent:null,"createNativeBlobEventConstructor"),h8e=o(t=>t===null||t.MediaRecorder===void 0?null:t.MediaRecorder,"createNativeMediaRecorderConstructor"),d8e=o(t=>(e,n,r)=>{const s=new Map,i=new WeakMap,a=new WeakMap,l=[],u=new e(n,r),c=new WeakMap;return u.addEventListener("stop",({isTrusted:f})=>{f&&setTimeout(()=>l.shift())}),u.addEventListener=(f=>(h,d,p)=>{let m=d;if(typeof d=="function")if(h==="dataavailable"){const y=[];m=o(b=>{const[[_,S]=[!1,!1]]=l;_&&!S?y.push(b):d.call(u,b)},"patchedEventListener"),s.set(d,y),i.set(d,m)}else h==="error"?(m=o(y=>{y instanceof ErrorEvent?d.call(u,y):d.call(u,new ErrorEvent("error",{error:y.error}))},"patchedEventListener"),a.set(d,m)):h==="stop"&&(m=o(y=>{for(const[b,_]of s.entries())if(_.length>0){const[S]=_;_.length>1&&Object.defineProperty(S,"data",{value:new Blob(_.map(({data:v})=>v),{type:S.data.type})}),_.length=0,b.call(u,S)}d.call(u,y)},"patchedEventListener"),c.set(d,m));return f.call(u,h,m,p)})(u.addEventListener),u.removeEventListener=(f=>(h,d,p)=>{let m=d;if(typeof d=="function"){if(h==="dataavailable"){s.delete(d);const y=i.get(d);y!==void 0&&(m=y)}else if(h==="error"){const y=a.get(d);y!==void 0&&(m=y)}else if(h==="stop"){const y=c.get(d);y!==void 0&&(m=y)}}return f.call(u,h,m,p)})(u.removeEventListener),u.start=(f=>h=>{if(r.mimeType!==void 0&&r.mimeType.startsWith("audio/")&&n.getVideoTracks().length>0)throw t();return u.state==="inactive"&&l.push([h!==void 0,!0]),h===void 0?f.call(u):f.call(u,h)})(u.start),u.stop=(f=>()=>{u.state!=="inactive"&&(l[0][1]=!1),f.call(u)})(u.stop),u},"createNativeMediaRecorderFactory"),uI=o(()=>{try{return new DOMException("","NotSupportedError")}catch(t){return t.code=9,t.name="NotSupportedError",t}},"createNotSupportedError$1"),p8e=o(t=>(e,n,r,s=2)=>{const i=t(e,n);if(i===null)return i;const{length:a,value:l}=i;if(r==="master")return{content:null,length:a};if(n+a+l>e.byteLength)return null;if(r==="binary"){const u=(l/Float32Array.BYTES_PER_ELEMENT-1)/s,c=Array.from({length:s},()=>new Float32Array(u));for(let f=0;f<u;f+=1){const h=f*s+1;for(let d=0;d<s;d+=1)c[d][f]=e.getFloat32(n+a+(h+d)*Float32Array.BYTES_PER_ELEMENT,!0)}return{content:c,length:a+l}}return{content:null,length:a+l}},"createReadElementContent"),m8e=o(t=>(e,n)=>{const r=t(e,n);if(r===null)return r;const{length:s,value:i}=r;return i===35?{length:s,type:"binary"}:i===46||i===97||i===88713574||i===106212971||i===139690087||i===172351395||i===256095861?{length:s,type:"master"}:{length:s,type:"unknown"}},"createReadElementType"),g8e=o(t=>(e,n)=>{const r=t(e,n);if(r===null)return r;const s=n+Math.floor((r-1)/8);if(s+r>e.byteLength)return null;let a=e.getUint8(s)&(1<<8-r%8)-1;for(let l=1;l<r;l+=1)a=(a<<8)+e.getUint8(s+l);return{length:r,value:a}},"createReadVariableSizeInteger"),D5=Symbol.observable||"@@observable";function y8e(t){return Symbol.observable||(typeof t=="function"&&t.prototype&&t.prototype[Symbol.observable]?(t.prototype[D5]=t.prototype[Symbol.observable],delete t.prototype[Symbol.observable]):(t[D5]=t[Symbol.observable],delete t[Symbol.observable])),t}o(y8e,"patch");const Pb=o(()=>{},"noop"),P5=o(t=>{throw t},"rethrow");function b8e(t){return t?t.next&&t.error&&t.complete?t:{complete:(t.complete??Pb).bind(t),error:(t.error??P5).bind(t),next:(t.next??Pb).bind(t)}:{complete:Pb,error:P5,next:Pb}}o(b8e,"toObserver");const _8e=o(t=>(e,n,r)=>t(s=>{const i=o(a=>s.next(a),"listener");return e.addEventListener(n,i,r),()=>e.removeEventListener(n,i,r)}),"createOn"),w8e=o((t,e)=>{const n=o(()=>{},"emptyFunction"),r=o(s=>typeof s[0]=="function","isNextFunction");return s=>{const i=o(((...a)=>{const l=s(r(a)?e({next:a[0]}):e(...a));return l!==void 0?l:n}),"subscribe");return i[Symbol.observable]=()=>({subscribe:o((...a)=>({unsubscribe:i(...a)}),"subscribe")}),t(i)}},"createWrapSubscribeFunction"),v8e=w8e(y8e,b8e),IX=_8e(v8e),E8e=o((t,e,n)=>async r=>{const s=new t([n],{type:"application/javascript; charset=utf-8"}),i=e.createObjectURL(s);try{await r(i)}finally{e.revokeObjectURL(i)}},"createAddRecorderAudioWorkletModule"),x8e=o(t=>({data:e})=>{const{id:n}=e;if(n!==null){const r=t.get(n);if(r!==void 0){const{reject:s,resolve:i}=r;t.delete(n),e.error===void 0?i(e.result):s(new Error(e.error.message))}}},"createListener"),S8e=o(t=>(e,n)=>(r,s=[])=>new Promise((i,a)=>{const l=t(e);e.set(l,{reject:a,resolve:i}),n.postMessage({id:l,...r},s)}),"createPostMessageFactory"),T8e=o((t,e,n,r)=>(s,i,a={})=>{const l=new s(i,"recorder-audio-worklet-processor",{...a,channelCountMode:"explicit",numberOfInputs:1,numberOfOutputs:0}),u=new Map,c=e(u,l.port),f=n(l.port,"message")(t(u));l.port.start();let h="inactive";return Object.defineProperties(l,{pause:{get(){return async()=>(r(["recording"],h),h="paused",c({method:"pause"}))}},port:{get(){throw new Error("The port of a RecorderAudioWorkletNode can't be accessed.")}},record:{get(){return async d=>(r(["inactive"],h),h="recording",c({method:"record",params:{encoderPort:d}},[d]))}},resume:{get(){return async()=>(r(["paused"],h),h="recording",c({method:"resume"}))}},stop:{get(){return async()=>{r(["paused","recording"],h),h="stopped";try{await c({method:"stop"})}finally{f()}}}}}),l},"createRecorderAudioWorkletNodeFactory"),k8e=o((t,e)=>{if(!t.includes(e))throw new Error(`Expected the state to be ${t.map(n=>`"${n}"`).join(" or ")} but it was "${e}".`)},"validateState"),A8e='(()=>{"use strict";class e extends AudioWorkletProcessor{constructor(){super(),this._encoderPort=null,this._numberOfChannels=0,this._state="inactive",this.port.onmessage=({data:e})=>{"pause"===e.method?"active"===this._state||"recording"===this._state?(this._state="paused",this._sendAcknowledgement(e.id)):this._sendUnexpectedStateError(e.id):"record"===e.method?"inactive"===this._state?(this._encoderPort=e.params.encoderPort,this._state="active",this._sendAcknowledgement(e.id)):this._sendUnexpectedStateError(e.id):"resume"===e.method?"paused"===this._state?(this._state="active",this._sendAcknowledgement(e.id)):this._sendUnexpectedStateError(e.id):"stop"===e.method?"active"!==this._state&&"paused"!==this._state&&"recording"!==this._state||null===this._encoderPort?this._sendUnexpectedStateError(e.id):(this._stop(this._encoderPort),this._sendAcknowledgement(e.id)):"number"==typeof e.id&&this.port.postMessage({error:{code:-32601,message:"The requested method is not supported."},id:e.id})}}process([e]){if("inactive"===this._state||"paused"===this._state)return!0;if("active"===this._state){if(void 0===e)throw new Error("No channelData was received for the first input.");if(0===e.length)return!0;this._state="recording"}if("recording"===this._state&&null!==this._encoderPort){if(void 0===e)throw new Error("No channelData was received for the first input.");return 0===e.length?this._encoderPort.postMessage(Array.from({length:this._numberOfChannels},(()=>128))):(this._encoderPort.postMessage(e,e.map((({buffer:e})=>e))),this._numberOfChannels=e.length),!0}return!1}_sendAcknowledgement(e){this.port.postMessage({id:e,result:null})}_sendUnexpectedStateError(e){this.port.postMessage({error:{code:-32603,message:"The internal state does not allow to process the given message."},id:e})}_stop(e){e.postMessage([]),e.close(),this._encoderPort=null,this._state="stopped"}}e.parameterDescriptors=[],registerProcessor("recorder-audio-worklet-processor",e)})();',C8e=E8e(Blob,URL,A8e),I8e=T8e(x8e,S8e(HN),IX,k8e),$5=o((t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),"createExtendedExponentialRampToValueAutomationEvent"),L5=o((t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),"createExtendedLinearRampToValueAutomationEvent"),cI=o((t,e)=>({startTime:e,type:"setValue",value:t}),"createSetValueAutomationEvent"),RX=o((t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),"createSetValueCurveAutomationEvent"),OX=o((t,e,{startTime:n,target:r,timeConstant:s})=>r+(e-r)*Math.exp((n-t)/s),"getTargetValueAtTime"),ld=o(t=>t.type==="exponentialRampToValue","isExponentialRampToValueAutomationEvent"),Hv=o(t=>t.type==="linearRampToValue","isLinearRampToValueAutomationEvent"),iu=o(t=>ld(t)||Hv(t),"isAnyRampToValueAutomationEvent"),GN=o(t=>t.type==="setValue","isSetValueAutomationEvent"),Ja=o(t=>t.type==="setValueCurve","isSetValueCurveAutomationEvent"),qv=o((t,e,n,r)=>{const s=t[e];return s===void 0?r:iu(s)||GN(s)?s.value:Ja(s)?s.values[s.values.length-1]:OX(n,qv(t,e-1,s.startTime,r),s)},"getValueOfAutomationEventAtIndexAtTime"),F5=o((t,e,n,r,s)=>n===void 0?[r.insertTime,s]:iu(n)?[n.endTime,n.value]:GN(n)?[n.startTime,n.value]:Ja(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,qv(t,e-1,n.startTime,s)],"getEndTimeAndValueOfPreviousAutomationEvent"),fI=o(t=>t.type==="cancelAndHold","isCancelAndHoldAutomationEvent"),hI=o(t=>t.type==="cancelScheduledValues","isCancelScheduledValuesAutomationEvent"),Yl=o(t=>fI(t)||hI(t)?t.cancelTime:ld(t)||Hv(t)?t.endTime:t.startTime,"getEventTime"),B5=o((t,e,n,{endTime:r,value:s})=>n===s?s:0<n&&0<s||n<0&&s<0?n*(s/n)**((t-e)/(r-e)):0,"getExponentialRampValueAtTime"),U5=o((t,e,n,{endTime:r,value:s})=>n+(t-e)/(r-e)*(s-n),"getLinearRampValueAtTime"),R8e=o((t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},"interpolateValue"),O8e=o((t,{duration:e,startTime:n,values:r})=>{const s=(t-n)/e*(r.length-1);return R8e(r,s)},"getValueCurveValueAtTime"),$b=o(t=>t.type==="setTarget","isSetTargetAutomationEvent");class N8e{static{o(this,"AutomationEventList")}constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Yl(e);if(fI(e)||hI(e)){const r=this._automationEvents.findIndex(i=>hI(e)&&Ja(i)?i.startTime+i.duration>=n:Yl(i)>=n),s=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),fI(e)){const i=this._automationEvents[this._automationEvents.length-1];if(s!==void 0&&iu(s)){if(i!==void 0&&$b(i))throw new Error("The internal list is malformed.");const a=i===void 0?s.insertTime:Ja(i)?i.startTime+i.duration:Yl(i),l=i===void 0?this._defaultValue:Ja(i)?i.values[i.values.length-1]:i.value,u=ld(s)?B5(n,a,l,s):U5(n,a,l,s),c=ld(s)?$5(u,n,this._currenTime):L5(u,n,this._currenTime);this._automationEvents.push(c)}if(i!==void 0&&$b(i)&&this._automationEvents.push(cI(this.getValue(n),n)),i!==void 0&&Ja(i)&&i.startTime+i.duration>n){const a=n-i.startTime,l=(i.values.length-1)/i.duration,u=Math.max(2,1+Math.ceil(a*l)),c=a/(u-1)*l,f=i.values.slice(0,u);if(c<1)for(let h=1;h<u;h+=1){const d=c*h%1;f[h]=i.values[h-1]*(1-d)+i.values[h]*d}this._automationEvents[this._automationEvents.length-1]=RX(f,i.startTime,a)}}}else{const r=this._automationEvents.findIndex(a=>Yl(a)>n),s=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(s!==void 0&&Ja(s)&&Yl(s)+s.duration>n)return!1;const i=ld(e)?$5(e.value,e.endTime,this._currenTime):Hv(e)?L5(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(i);else{if(Ja(e)&&n+e.duration>Yl(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>Yl(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),s=r[0];$b(s)&&r.unshift(cI(qv(this._automationEvents,n-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(a=>Yl(a)>e),r=this._automationEvents[n],s=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[s];if(i!==void 0&&$b(i)&&(r===void 0||!iu(r)||r.insertTime>e))return OX(e,qv(this._automationEvents,s-1,i.startTime,this._defaultValue),i);if(i!==void 0&&GN(i)&&(r===void 0||!iu(r)))return i.value;if(i!==void 0&&Ja(i)&&(r===void 0||!iu(r)||i.startTime+i.duration>e))return e<i.startTime+i.duration?O8e(e,i):i.values[i.values.length-1];if(i!==void 0&&iu(i)&&(r===void 0||!iu(r)))return i.value;if(r!==void 0&&ld(r)){const[a,l]=F5(this._automationEvents,s,i,r,this._defaultValue);return B5(e,a,l,r)}if(r!==void 0&&Hv(r)){const[a,l]=F5(this._automationEvents,s,i,r,this._defaultValue);return U5(e,a,l,r)}return this._defaultValue}}const M8e=o(t=>({cancelTime:t,type:"cancelAndHold"}),"createCancelAndHoldAutomationEvent"),D8e=o(t=>({cancelTime:t,type:"cancelScheduledValues"}),"createCancelScheduledValuesAutomationEvent"),P8e=o((t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),"createExponentialRampToValueAutomationEvent"),$8e=o((t,e)=>({endTime:e,type:"linearRampToValue",value:t}),"createLinearRampToValueAutomationEvent"),L8e=o((t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),"createSetTargetAutomationEvent"),F8e=o(()=>new DOMException("","AbortError"),"createAbortError"),B8e=o(t=>(e,n,[r,s,i],a)=>{t(e[s],[n,r,i],l=>l[0]===n&&l[1]===r,a)},"createAddActiveInputConnectionToAudioNode"),U8e=o(t=>(e,n,r)=>{const s=[];for(let i=0;i<r.numberOfInputs;i+=1)s.push(new Set);t.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},"createAddAudioNodeConnections"),z8e=o(t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},"createAddAudioParamConnections"),_p=new WeakSet,NX=new WeakMap,MX=new WeakMap,DX=new WeakMap,PX=new WeakMap,$X=new WeakMap,LX=new WeakMap,dI=new WeakMap,pI=new WeakMap,mI=new WeakMap,FX={construct(){return FX}},V8e=o(t=>{try{const e=new Proxy(t,FX);new e}catch{return!1}return!0},"isConstructible"),z5=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,V5=o((t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),s=r.match(z5);for(;s!==null;){const i=s[1].slice(1,-1),a=s[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(a),r=r.slice(s[0].length).replace(/^[\s]+/,""),s=r.match(z5)}return[n.join(";"),r]},"splitImportStatements"),j5=o(t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},"verifyParameterDescriptors"),W5=o(t=>{if(!V8e(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},"verifyProcessorCtor"),j8e=o((t,e,n,r,s,i,a,l,u,c,f,h,d)=>{let p=0;return(m,y,b={credentials:"omit"})=>{const _=f.get(m);if(_!==void 0&&_.has(y))return Promise.resolve();const S=c.get(m);if(S!==void 0){const C=S.get(y);if(C!==void 0)return C}const v=i(m),k=v.audioWorklet===void 0?s(y).then(([C,I])=>{const[x,E]=V5(C,I),T=`${x};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${E}
})})(window,'_AWGS')`;return n(T)}).then(()=>{const C=d._AWGS.pop();if(C===void 0)throw new SyntaxError;r(v.currentTime,v.sampleRate,()=>C(class{static{o(this,"AudioWorkletProcessor")}},void 0,(I,x)=>{if(I.trim()==="")throw e();const E=pI.get(v);if(E!==void 0){if(E.has(I))throw e();W5(x),j5(x.parameterDescriptors),E.set(I,x)}else W5(x),j5(x.parameterDescriptors),pI.set(v,new Map([[I,x]]))},v.sampleRate,void 0,void 0))}):Promise.all([s(y),Promise.resolve(t(h,h))]).then(([[C,I],x])=>{const E=p+1;p=E;const[T,O]=V5(C,I),B=`${T};((AudioWorkletProcessor,registerProcessor)=>{${O}
})(${x?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${x?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${x?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${E}',class extends AudioWorkletProcessor{process(){return !1}})`,z=new Blob([B],{type:"application/javascript; charset=utf-8"}),V=URL.createObjectURL(z);return v.audioWorklet.addModule(V,b).then(()=>{if(l(v))return v;const K=a(v);return K.audioWorklet.addModule(V,b).then(()=>K)}).then(K=>{if(u===null)throw new SyntaxError;try{new u(K,`__sac${E}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(V))});return S===void 0?c.set(m,new Map([[y,k]])):S.set(y,k),k.then(()=>{const C=f.get(m);C===void 0?f.set(m,new Set([y])):C.add(y)}).finally(()=>{const C=c.get(m);C!==void 0&&C.delete(y)}),k}},"createAddAudioWorkletModule"),So=o((t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},"getValueForKey"),Vx=o((t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},"pickElementFromSet"),BX=o((t,e,n,r)=>{const s=So(t,e),i=Vx(s,a=>a[0]===n&&a[1]===r);return s.size===0&&t.delete(e),i},"deletePassiveInputConnectionToAudioNode"),g1=o(t=>So(LX,t),"getEventListenersOfAudioNode"),Gv=o(t=>{if(_p.has(t))throw new Error("The AudioNode is already stored.");_p.add(t),g1(t).forEach(e=>e(!0))},"setInternalStateToActive"),UX=o(t=>"port"in t,"isAudioWorkletNode"),KN=o(t=>{if(!_p.has(t))throw new Error("The AudioNode is not stored.");_p.delete(t),g1(t).forEach(e=>e(!1))},"setInternalStateToPassive"),gI=o((t,e)=>{!UX(t)&&e.every(n=>n.size===0)&&KN(t)},"setInternalStateToPassiveWhenNecessary"),W8e=o((t,e,n,r,s,i,a,l,u,c,f,h,d)=>{const p=new WeakMap;return(m,y,b,_,S)=>{const{activeInputs:v,passiveInputs:k}=i(y),{outputs:C}=i(m),I=l(m),x=o(E=>{const T=u(y),O=u(m);if(E){const N=BX(k,m,b,_);t(v,m,N,!1),!S&&!h(m)&&n(O,T,b,_),d(y)&&Gv(y)}else{const N=r(v,m,b,_);e(k,_,N,!1),!S&&!h(m)&&s(O,T,b,_);const R=a(y);if(R===0)f(y)&&gI(y,v);else{const M=p.get(y);M!==void 0&&clearTimeout(M),p.set(y,setTimeout(()=>{f(y)&&gI(y,v)},R*1e3))}}},"eventListener");return c(C,[y,b,_],E=>E[0]===y&&E[1]===b&&E[2]===_,!0)?(I.add(x),f(m)?t(v,m,[b,_,x],!0):e(k,_,[m,b,x],!0),!0):!1}},"createAddConnectionToAudioNode"),H8e=o(t=>(e,n,[r,s,i],a)=>{const l=e.get(r);l===void 0?e.set(r,new Set([[s,n,i]])):t(l,[s,n,i],u=>u[0]===s&&u[1]===n,a)},"createAddPassiveInputConnectionToAudioNode"),q8e=o(t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const s=o(()=>{n.removeEventListener("ended",s),n.disconnect(r),r.disconnect()},"disconnect");n.addEventListener("ended",s)},"createAddSilentConnection"),G8e=o(t=>(e,n)=>{t(e).add(n)},"createAddUnrenderedAudioWorkletNode"),zX=o((t,e)=>t.context===e,"isOwnedByContext"),H5=o(t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},"testAudioBufferCopyChannelMethodsOutOfBoundsSupport"),ph=o(()=>new DOMException("","IndexSizeError"),"createIndexSizeError"),K8e=o(t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?ph():r}})(t.getChannelData)},"wrapAudioBufferGetChannelDataMethod"),Y8e={numberOfChannels:1},X8e=o((t,e,n,r,s,i,a,l)=>{let u=null;return class VX{static{o(this,"AudioBuffer")}constructor(f){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:d,sampleRate:p}={...Y8e,...f};u===null&&(u=new s(1,1,44100));const m=r!==null&&e(i,i)?new r({length:h,numberOfChannels:d,sampleRate:p}):u.createBuffer(d,h,p);if(m.numberOfChannels===0)throw n();return typeof m.copyFromChannel!="function"?(a(m),K8e(m)):e(H5,()=>H5(m))||l(m),t.add(m),m}static[Symbol.hasInstance](f){return f!==null&&typeof f=="object"&&Object.getPrototypeOf(f)===VX.prototype||t.has(f)}}},"createAudioBufferConstructor"),jx=-34028234663852886e22,YN=-jx,hf=o(t=>_p.has(t),"isActiveAudioNode"),J8e={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Z8e=o((t,e,n,r,s,i,a,l)=>class extends t{static{o(this,"AudioBufferSourceNode")}constructor(c,f){const h=i(c),d={...J8e,...f},p=s(h,d),m=a(h),y=m?e():null;super(c,!1,p,y),this._audioBufferSourceNodeRenderer=y,this._isBufferNullified=!1,this._isBufferSet=d.buffer!==null,this._nativeAudioBufferSourceNode=p,this._onended=null,this._playbackRate=n(this,m,p.playbackRate,YN,jx)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(c){if(this._nativeAudioBufferSourceNode.buffer=c,c!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(c){this._nativeAudioBufferSourceNode.loop=c}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(c){this._nativeAudioBufferSourceNode.loopEnd=c}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(c){this._nativeAudioBufferSourceNode.loopStart=c}get onended(){return this._onended}set onended(c){const f=typeof c=="function"?l(this,c):null;this._nativeAudioBufferSourceNode.onended=f;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===f?c:h}get playbackRate(){return this._playbackRate}start(c=0,f=0,h){if(this._nativeAudioBufferSourceNode.start(c,f,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[c,f]:[c,f,h]),this.context.state!=="closed"){Gv(this);const d=o(()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",d),hf(this)&&KN(this)},"resetInternalStateToPassive");this._nativeAudioBufferSourceNode.addEventListener("ended",d)}}stop(c=0){this._nativeAudioBufferSourceNode.stop(c),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=c)}},"createAudioBufferSourceNodeConstructor"),Q8e=o((t,e,n,r,s)=>()=>{const i=new WeakMap;let a=null,l=null;const u=o(async(c,f)=>{let h=n(c);const d=zX(h,f);if(!d){const p={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(f,p),a!==null&&h.start(...a),l!==null&&h.stop(l)}return i.set(f,h),d?await t(f,c.playbackRate,h.playbackRate):await r(f,c.playbackRate,h.playbackRate),await s(c,f,h),h},"createAudioBufferSourceNode");return{set start(c){a=c},set stop(c){l=c},render(c,f){const h=i.get(f);return h!==void 0?Promise.resolve(h):u(c,f)}}},"createAudioBufferSourceNodeRendererFactory"),e5e=o(t=>"playbackRate"in t,"isAudioBufferSourceNode"),t5e=o(t=>"frequency"in t&&"gain"in t,"isBiquadFilterNode"),n5e=o(t=>"offset"in t,"isConstantSourceNode"),r5e=o(t=>!("frequency"in t)&&"gain"in t,"isGainNode"),s5e=o(t=>"detune"in t&&"frequency"in t&&!("gain"in t),"isOscillatorNode"),i5e=o(t=>"pan"in t,"isStereoPannerNode"),ps=o(t=>So(NX,t),"getAudioNodeConnections"),y1=o(t=>So(DX,t),"getAudioParamConnections"),yI=o((t,e)=>{const{activeInputs:n}=ps(t);n.forEach(s=>s.forEach(([i])=>{e.includes(t)||yI(i,[...e,t])}));const r=e5e(t)?[t.playbackRate]:UX(t)?Array.from(t.parameters.values()):t5e(t)?[t.Q,t.detune,t.frequency,t.gain]:n5e(t)?[t.offset]:r5e(t)?[t.gain]:s5e(t)?[t.detune,t.frequency]:i5e(t)?[t.pan]:[];for(const s of r){const i=y1(s);i!==void 0&&i.activeInputs.forEach(([a])=>yI(a,e))}hf(t)&&KN(t)},"deactivateActiveAudioNodeInputConnections"),o5e=o(t=>{yI(t.destination,[])},"deactivateAudioGraph"),a5e=o(t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),"isValidLatencyHint"),l5e=o((t,e,n,r,s,i,a,l)=>class extends t{static{o(this,"AudioDestinationNode")}constructor(c,f){const h=i(c),d=a(h),p=s(h,f,d),m=d?e(l):null;super(c,!1,p,m),this._isNodeOfNativeOfflineAudioContext=d,this._nativeAudioDestinationNode=p}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(c){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(c>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=c}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(c){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=c}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},"createAudioDestinationNodeConstructor"),u5e=o(t=>{const e=new WeakMap,n=o(async(r,s)=>{const i=s.destination;return e.set(s,i),await t(r,s,i),i},"createAudioDestinationNode");return{render(r,s){const i=e.get(s);return i!==void 0?Promise.resolve(i):n(r,s)}}},"createAudioDestinationNodeRenderer"),c5e=o((t,e,n,r,s,i,a,l)=>(u,c)=>{const f=c.listener,h=o(()=>{const C=new Float32Array(1),I=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),x=a(c);let E=!1,T=[0,0,-1,0,1,0],O=[0,0,0];const N=o(()=>{if(E)return;E=!0;const z=r(c,256,9,0);z.onaudioprocess=({inputBuffer:V})=>{const K=[i(V,C,0),i(V,C,1),i(V,C,2),i(V,C,3),i(V,C,4),i(V,C,5)];K.some((Z,ue)=>Z!==T[ue])&&(f.setOrientation(...K),T=K);const ee=[i(V,C,6),i(V,C,7),i(V,C,8)];ee.some((Z,ue)=>Z!==O[ue])&&(f.setPosition(...ee),O=ee)},I.connect(z)},"createScriptProcessorNode"),R=o(z=>V=>{V!==T[z]&&(T[z]=V,f.setOrientation(...T))},"createSetOrientation"),M=o(z=>V=>{V!==O[z]&&(O[z]=V,f.setPosition(...O))},"createSetPosition"),B=o((z,V,K)=>{const ee=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:V});ee.connect(I,0,z),ee.start(),Object.defineProperty(ee.offset,"defaultValue",{get(){return V}});const Z=t({context:u},x,ee.offset,YN,jx);return l(Z,"value",ue=>()=>ue.call(Z),ue=>ae=>{try{ue.call(Z,ae)}catch(he){if(he.code!==9)throw he}N(),x&&K(ae)}),Z.cancelAndHoldAtTime=(ue=>x?()=>{throw s()}:(...ae)=>{const he=ue.apply(Z,ae);return N(),he})(Z.cancelAndHoldAtTime),Z.cancelScheduledValues=(ue=>x?()=>{throw s()}:(...ae)=>{const he=ue.apply(Z,ae);return N(),he})(Z.cancelScheduledValues),Z.exponentialRampToValueAtTime=(ue=>x?()=>{throw s()}:(...ae)=>{const he=ue.apply(Z,ae);return N(),he})(Z.exponentialRampToValueAtTime),Z.linearRampToValueAtTime=(ue=>x?()=>{throw s()}:(...ae)=>{const he=ue.apply(Z,ae);return N(),he})(Z.linearRampToValueAtTime),Z.setTargetAtTime=(ue=>x?()=>{throw s()}:(...ae)=>{const he=ue.apply(Z,ae);return N(),he})(Z.setTargetAtTime),Z.setValueAtTime=(ue=>x?()=>{throw s()}:(...ae)=>{const he=ue.apply(Z,ae);return N(),he})(Z.setValueAtTime),Z.setValueCurveAtTime=(ue=>x?()=>{throw s()}:(...ae)=>{const he=ue.apply(Z,ae);return N(),he})(Z.setValueCurveAtTime),Z},"createFakeAudioParam");return{forwardX:B(0,0,R(0)),forwardY:B(1,0,R(1)),forwardZ:B(2,-1,R(2)),positionX:B(6,0,M(0)),positionY:B(7,0,M(1)),positionZ:B(8,0,M(2)),upX:B(3,0,R(3)),upY:B(4,1,R(4)),upZ:B(5,0,R(5))}},"createFakeAudioParams"),{forwardX:d,forwardY:p,forwardZ:m,positionX:y,positionY:b,positionZ:_,upX:S,upY:v,upZ:k}=f.forwardX===void 0?h():f;return{get forwardX(){return d},get forwardY(){return p},get forwardZ(){return m},get positionX(){return y},get positionY(){return b},get positionZ(){return _},get upX(){return S},get upY(){return v},get upZ(){return k}}},"createAudioListenerFactory"),Kv=o(t=>"context"in t,"isAudioNode"),b1=o(t=>Kv(t[0]),"isAudioNodeOutputConnection"),mh=o((t,e,n,r)=>{for(const s of t)if(n(s)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},"insertElementInSet"),q5=o((t,e,[n,r],s)=>{mh(t,[e,n,r],i=>i[0]===e&&i[1]===n,s)},"addActiveInputConnectionToAudioParam"),G5=o((t,[e,n,r],s)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,r]])):mh(i,[n,r],a=>a[0]===n,s)},"addPassiveInputConnectionToAudioParam"),jX=o(t=>"inputs"in t,"isNativeAudioNodeFaker"),bI=o((t,e,n,r)=>{if(jX(e)){const s=e.inputs[r];return t.connect(s,n,0),[s,n,0]}return t.connect(e,n,r),[e,n,r]},"connectNativeAudioNodeToNativeAudioNode"),WX=o((t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},"deleteActiveInputConnection"),f5e=o((t,e,n)=>Vx(t,r=>r[0]===e&&r[1]===n),"deleteActiveInputConnectionToAudioParam"),HX=o((t,e)=>{if(!g1(t).delete(e))throw new Error("Missing the expected event listener.")},"deleteEventListenerOfAudioNode"),qX=o((t,e,n)=>{const r=So(t,e),s=Vx(r,i=>i[0]===n);return r.size===0&&t.delete(e),s},"deletePassiveInputConnectionToAudioParam"),_I=o((t,e,n,r)=>{jX(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},"disconnectNativeAudioNodeFromNativeAudioNode"),mo=o(t=>So(MX,t),"getNativeAudioNode"),ly=o(t=>So(PX,t),"getNativeAudioParam"),Vf=o(t=>dI.has(t),"isPartOfACycle"),k_=o(t=>!_p.has(t),"isPassiveAudioNode"),K5=o((t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),s=t.createGain(),i=t.createBuffer(1,2,44100),a=i.getChannelData(0);a[0]=1,a[1]=1;const l=t.createBufferSource();l.buffer=i,l.loop=!0,l.connect(r).connect(t.destination),l.connect(s),l.disconnect(s),r.onaudioprocess=u=>{const c=u.inputBuffer.getChannelData(0);Array.prototype.some.call(c,f=>f===1)?n(!0):n(!1),l.stop(),r.onaudioprocess=null,l.disconnect(r),r.disconnect(t.destination)},l.start()}}),"testAudioNodeDisconnectMethodSupport"),tk=o((t,e)=>{const n=new Map;for(const r of t)for(const s of r){const i=n.get(s);n.set(s,i===void 0?1:i+1)}n.forEach((r,s)=>e(s,r))},"visitEachAudioNodeOnce"),Yv=o(t=>"context"in t,"isNativeAudioNode$1"),h5e=o(t=>{const e=new Map;t.connect=(n=>(r,s=0,i=0)=>{const a=Yv(r)?n(r,s,i):n(r,s),l=e.get(r);return l===void 0?e.set(r,[{input:i,output:s}]):l.every(u=>u.input!==i||u.output!==s)&&l.push({input:i,output:s}),a})(t.connect.bind(t)),t.disconnect=(n=>(r,s,i)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[a,l]of e){const u=l.filter(c=>c.output!==r);u.length===0?e.delete(a):e.set(a,u)}else if(e.has(r))if(s===void 0)e.delete(r);else{const a=e.get(r);if(a!==void 0){const l=a.filter(u=>u.output!==s&&(u.input!==i||i===void 0));l.length===0?e.delete(r):e.set(r,l)}}for(const[a,l]of e)l.forEach(u=>{Yv(a)?t.connect(a,u.output,u.input):t.connect(a,u.output)})})(t.disconnect)},"wrapAudioNodeDisconnectMethod"),d5e=o((t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=y1(e),{outputs:a}=ps(t),l=g1(t),u=o(c=>{const f=mo(t),h=ly(e);if(c){const d=qX(i,t,n);q5(s,t,d,!1),!r&&!Vf(t)&&f.connect(h,n)}else{const d=f5e(s,t,n);G5(i,d,!1),!r&&!Vf(t)&&f.disconnect(h,n)}},"eventListener");return mh(a,[e,n],c=>c[0]===e&&c[1]===n,!0)?(l.add(u),hf(t)?q5(s,t,[n,u],!0):G5(i,[t,n,u],!0),!0):!1},"addConnectionToAudioParamOfAudioContext"),p5e=o((t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=ps(e),a=WX(s[r],t,n);return a===null?[BX(i,t,n,r)[2],!1]:[a[2],!0]},"deleteInputConnectionOfAudioNode"),m5e=o((t,e,n)=>{const{activeInputs:r,passiveInputs:s}=y1(e),i=WX(r,t,n);return i===null?[qX(s,t,n)[1],!1]:[i[2],!0]},"deleteInputConnectionOfAudioParam"),XN=o((t,e,n,r,s)=>{const[i,a]=p5e(t,n,r,s);if(i!==null&&(HX(t,i),a&&!e&&!Vf(t)&&_I(mo(t),mo(n),r,s)),hf(n)){const{activeInputs:l}=ps(n);gI(n,l)}},"deleteInputsOfAudioNode"),JN=o((t,e,n,r)=>{const[s,i]=m5e(t,n,r);s!==null&&(HX(t,s),i&&!e&&!Vf(t)&&mo(t).disconnect(ly(n),r))},"deleteInputsOfAudioParam"),g5e=o((t,e)=>{const n=ps(t),r=[];for(const s of n.outputs)b1(s)?XN(t,e,...s):JN(t,e,...s),r.push(s[0]);return n.outputs.clear(),r},"deleteAnyConnection"),y5e=o((t,e,n)=>{const r=ps(t),s=[];for(const i of r.outputs)i[1]===n&&(b1(i)?XN(t,e,...i):JN(t,e,...i),s.push(i[0]),r.outputs.delete(i));return s},"deleteConnectionAtOutput"),b5e=o((t,e,n,r,s)=>{const i=ps(t);return Array.from(i.outputs).filter(a=>a[0]===n&&(r===void 0||a[1]===r)&&(s===void 0||a[2]===s)).map(a=>(b1(a)?XN(t,e,...a):JN(t,e,...a),i.outputs.delete(a),a[0]))},"deleteConnectionToDestination"),_5e=o((t,e,n,r,s,i,a,l,u,c,f,h,d,p,m,y)=>class extends c{static{o(this,"AudioNode")}constructor(_,S,v,k){super(v),this._context=_,this._nativeAudioNode=v;const C=f(_);h(C)&&n(K5,()=>K5(C,y))!==!0&&h5e(v),MX.set(this,v),LX.set(this,new Set),_.state!=="closed"&&S&&Gv(this),t(this,k,v)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(_){this._nativeAudioNode.channelCount=_}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(_){this._nativeAudioNode.channelCountMode=_}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(_){this._nativeAudioNode.channelInterpretation=_}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(_,S=0,v=0){if(S<0||S>=this._nativeAudioNode.numberOfOutputs)throw s();const k=f(this._context),C=m(k);if(d(_)||p(_))throw i();if(Kv(_)){const E=mo(_);try{const O=bI(this._nativeAudioNode,E,S,v),N=k_(this);(C||N)&&this._nativeAudioNode.disconnect(...O),this.context.state!=="closed"&&!N&&k_(_)&&Gv(_)}catch(O){throw O.code===12?i():O}if(e(this,_,S,v,C)){const O=u([this],_);tk(O,r(C))}return _}const I=ly(_);if(I.name==="playbackRate"&&I.maxValue===1024)throw a();try{this._nativeAudioNode.connect(I,S),(C||k_(this))&&this._nativeAudioNode.disconnect(I,S)}catch(E){throw E.code===12?i():E}if(d5e(this,_,S,C)){const E=u([this],_);tk(E,r(C))}}disconnect(_,S,v){let k;const C=f(this._context),I=m(C);if(_===void 0)k=g5e(this,I);else if(typeof _=="number"){if(_<0||_>=this.numberOfOutputs)throw s();k=y5e(this,I,_)}else{if(S!==void 0&&(S<0||S>=this.numberOfOutputs)||Kv(_)&&v!==void 0&&(v<0||v>=_.numberOfInputs))throw s();if(k=b5e(this,I,_,S,v),k.length===0)throw i()}for(const x of k){const E=u([this],x);tk(E,l)}}},"createAudioNodeConstructor"),w5e=o((t,e,n,r,s,i,a,l,u,c,f,h,d)=>(p,m,y,b=null,_=null)=>{const S=y.value,v=new N8e(S),k=m?r(v):null,C={get defaultValue(){return S},get maxValue(){return b===null?y.maxValue:b},get minValue(){return _===null?y.minValue:_},get value(){return y.value},set value(I){y.value=I,C.setValueAtTime(I,p.context.currentTime)},cancelAndHoldAtTime(I){if(typeof y.cancelAndHoldAtTime=="function")k===null&&v.flush(p.context.currentTime),v.add(s(I)),y.cancelAndHoldAtTime(I);else{const x=Array.from(v).pop();k===null&&v.flush(p.context.currentTime),v.add(s(I));const E=Array.from(v).pop();y.cancelScheduledValues(I),x!==E&&E!==void 0&&(E.type==="exponentialRampToValue"?y.exponentialRampToValueAtTime(E.value,E.endTime):E.type==="linearRampToValue"?y.linearRampToValueAtTime(E.value,E.endTime):E.type==="setValue"?y.setValueAtTime(E.value,E.startTime):E.type==="setValueCurve"&&y.setValueCurveAtTime(E.values,E.startTime,E.duration))}return C},cancelScheduledValues(I){return k===null&&v.flush(p.context.currentTime),v.add(i(I)),y.cancelScheduledValues(I),C},exponentialRampToValueAtTime(I,x){if(I===0)throw new RangeError;if(!Number.isFinite(x)||x<0)throw new RangeError;const E=p.context.currentTime;return k===null&&v.flush(E),Array.from(v).length===0&&(v.add(c(S,E)),y.setValueAtTime(S,E)),v.add(a(I,x)),y.exponentialRampToValueAtTime(I,x),C},linearRampToValueAtTime(I,x){const E=p.context.currentTime;return k===null&&v.flush(E),Array.from(v).length===0&&(v.add(c(S,E)),y.setValueAtTime(S,E)),v.add(l(I,x)),y.linearRampToValueAtTime(I,x),C},setTargetAtTime(I,x,E){return k===null&&v.flush(p.context.currentTime),v.add(u(I,x,E)),y.setTargetAtTime(I,x,E),C},setValueAtTime(I,x){return k===null&&v.flush(p.context.currentTime),v.add(c(I,x)),y.setValueAtTime(I,x),C},setValueCurveAtTime(I,x,E){const T=I instanceof Float32Array?I:new Float32Array(I);if(h!==null&&h.name==="webkitAudioContext"){const O=x+E,N=p.context.sampleRate,R=Math.ceil(x*N),M=Math.floor(O*N),B=M-R,z=new Float32Array(B);for(let K=0;K<B;K+=1){const ee=(T.length-1)/E*((R+K)/N-x),Z=Math.floor(ee),ue=Math.ceil(ee);z[K]=Z===ue?T[Z]:(1-(ee-Z))*T[Z]+(1-(ue-ee))*T[ue]}k===null&&v.flush(p.context.currentTime),v.add(f(z,x,E)),y.setValueCurveAtTime(z,x,E);const V=M/N;V<O&&d(C,z[z.length-1],V),d(C,T[T.length-1],O)}else k===null&&v.flush(p.context.currentTime),v.add(f(T,x,E)),y.setValueCurveAtTime(T,x,E);return C}};return n.set(C,y),e.set(C,p),t(C,k),C},"createAudioParamFactory"),v5e=o(t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:s}=n;e.exponentialRampToValueAtTime(s,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:s}=n;e.linearRampToValueAtTime(s,r)}else if(n.type==="setTarget"){const{startTime:r,target:s,timeConstant:i}=n;e.setTargetAtTime(s,r,i)}else if(n.type==="setValue"){const{startTime:r,value:s}=n;e.setValueAtTime(s,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:s,values:i}=n;e.setValueCurveAtTime(i,s,r)}else throw new Error("Can't apply an unknown automation.")}}),"createAudioParamRenderer");class GX{static{o(this,"ReadOnlyMap")}constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,s)=>e.call(n,r,s,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const E5e={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},x5e=o((t,e,n,r,s,i,a,l,u,c,f,h,d,p)=>class extends e{static{o(this,"AudioWorkletNode")}constructor(y,b,_){var S;const v=l(y),k=u(v),C=f({...E5e,..._});d(C);const I=pI.get(v),x=I?.get(b),E=k||v.state!=="closed"?v:(S=a(v))!==null&&S!==void 0?S:v,T=s(E,k?null:y.baseLatency,c,b,x,C),O=k?r(b,C,x):null;super(y,!0,T,O);const N=[];T.parameters.forEach((M,B)=>{const z=n(this,k,M);N.push([B,z])}),this._nativeAudioWorkletNode=T,this._onprocessorerror=null,this._parameters=new GX(N),k&&t(v,this);const{activeInputs:R}=i(this);h(T,R)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(y){const b=typeof y=="function"?p(this,y):null;this._nativeAudioWorkletNode.onprocessorerror=b;const _=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=_!==null&&_===b?y:_}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}},"createAudioWorkletNodeConstructor");function Xv(t,e,n,r,s){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,s);else{const i=t.getChannelData(r);if(e[n].byteLength===0)e[n]=i.slice(s,s+128);else{const a=new Float32Array(i.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(a)}}}o(Xv,"copyFromChannel");const KX=o((t,e,n,r,s)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,s):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],s)},"copyToChannel"),Jv=o((t,e)=>{const n=[];for(let r=0;r<t;r+=1){const s=[],i=typeof e=="number"?e:e[r];for(let a=0;a<i;a+=1)s.push(new Float32Array(128));n.push(s)}return n},"createNestedArrays"),S5e=o((t,e)=>{const n=So(mI,t),r=mo(e);return So(n,r)},"getAudioWorkletProcessor"),T5e=o(async(t,e,n,r,s,i,a)=>{const l=e===null?Math.ceil(t.context.length/128)*128:e.length,u=r.channelCount*r.numberOfInputs,c=s.reduce((b,_)=>b+_,0),f=c===0?null:n.createBuffer(c,l,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const h=ps(t),d=await S5e(n,t),p=Jv(r.numberOfInputs,r.channelCount),m=Jv(r.numberOfOutputs,s),y=Array.from(t.parameters.keys()).reduce((b,_)=>({...b,[_]:new Float32Array(128)}),{});for(let b=0;b<l;b+=128){if(r.numberOfInputs>0&&e!==null)for(let _=0;_<r.numberOfInputs;_+=1)for(let S=0;S<r.channelCount;S+=1)Xv(e,p[_],S,S,b);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:_},S)=>{Xv(e,y,_,u+S,b)});for(let _=0;_<r.numberOfInputs;_+=1)for(let S=0;S<s[_];S+=1)m[_][S].byteLength===0&&(m[_][S]=new Float32Array(128));try{const _=p.map((v,k)=>h.activeInputs[k].size===0?[]:v),S=a(b/n.sampleRate,n.sampleRate,()=>d.process(_,m,y));if(f!==null)for(let v=0,k=0;v<r.numberOfOutputs;v+=1){for(let C=0;C<s[v];C+=1)KX(f,m[v],C,k+C,b);k+=s[v]}if(!S)break}catch(_){t.dispatchEvent(new ErrorEvent("processorerror",{colno:_.colno,filename:_.filename,lineno:_.lineno,message:_.message}));break}}return f},"processBuffer"),k5e=o((t,e,n,r,s,i,a,l,u,c,f,h,d,p,m,y)=>(b,_,S)=>{const v=new WeakMap;let k=null;const C=o(async(I,x)=>{let E=f(I),T=null;const O=zX(E,x),N=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(h===null){const R=N.reduce((V,K)=>V+K,0),M=s(x,{channelCount:Math.max(1,R),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,R)}),B=[];for(let V=0;V<I.numberOfOutputs;V+=1)B.push(r(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:N[V]}));const z=a(x,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1});z.connect=e.bind(null,B),z.disconnect=u.bind(null,B),T=[M,B,z]}else O||(E=new h(x,b));if(v.set(x,T===null?E:T[2]),T!==null){if(k===null){if(S===void 0)throw new Error("Missing the processor constructor.");if(d===null)throw new Error("Missing the native OfflineAudioContext constructor.");const K=I.channelCount*I.numberOfInputs,ee=S.parameterDescriptors===void 0?0:S.parameterDescriptors.length,Z=K+ee;k=T5e(I,Z===0?null:await o(async()=>{const ae=new d(Z,Math.ceil(I.context.length/128)*128,x.sampleRate),he=[],ve=[];for(let Ke=0;Ke<_.numberOfInputs;Ke+=1)he.push(a(ae,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),ve.push(s(ae,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const lt=await Promise.all(Array.from(I.parameters.values()).map(async Ke=>{const Mt=i(ae,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Ke.value});return await p(ae,Ke,Mt.offset),Mt})),Re=r(ae,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,K+ee)});for(let Ke=0;Ke<_.numberOfInputs;Ke+=1){he[Ke].connect(ve[Ke]);for(let Mt=0;Mt<_.channelCount;Mt+=1)ve[Ke].connect(Re,Mt,Ke*_.channelCount+Mt)}for(const[Ke,Mt]of lt.entries())Mt.connect(Re,0,K+Ke),Mt.start(0);return Re.connect(ae.destination),await Promise.all(he.map(Ke=>m(I,ae,Ke))),y(ae)},"renderBuffer")(),x,_,N,S,c)}const R=await k,M=n(x,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[B,z,V]=T;R!==null&&(M.buffer=R,M.start(0)),M.connect(B);for(let K=0,ee=0;K<I.numberOfOutputs;K+=1){const Z=z[K];for(let ue=0;ue<N[K];ue+=1)B.connect(Z,ee+ue,ue);ee+=N[K]}return V}if(O)for(const[R,M]of I.parameters.entries())await t(x,M,E.parameters.get(R));else for(const[R,M]of I.parameters.entries())await p(x,M,E.parameters.get(R));return await m(I,x,E),E},"createAudioNode");return{render(I,x){l(x,I);const E=v.get(x);return E!==void 0?Promise.resolve(E):C(I,x)}}},"createAudioWorkletNodeRendererFactory"),A5e=o((t,e)=>(n,r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t.get(n);if(i!==void 0)return i;try{const a=r();return a instanceof Promise?(t.set(n,a),a.catch(()=>!1).then(l=>(t.delete(n),e.set(n,l),l))):(e.set(n,a),a)}catch{return e.set(n,!1),!1}},"createCacheTestResult"),C5e=o(t=>(e,n,r)=>t(n,e,r),"createConnectAudioParam"),I5e=o(t=>(e,n,r=0,s=0)=>{const i=e[r];if(i===void 0)throw t();return Yv(n)?i.connect(n,0,s):i.connect(n,0)},"createConnectMultipleOutputs"),R5e=o(t=>e=>(t[0]=e,t[0]),"createConvertNumberToUnsignedLong"),O5e=o((t,e,n,r,s,i,a,l)=>(u,c)=>{const f=e.get(u);if(f===void 0)throw new Error("Missing the expected cycle count.");const h=i(u.context),d=l(h);if(f===c){if(e.delete(u),!d&&a(u)){const p=r(u),{outputs:m}=n(u);for(const y of m)if(b1(y)){const b=r(y[0]);t(p,b,y[1],y[2])}else{const b=s(y[0]);p.connect(b,y[1])}}}else e.set(u,f-c)},"createDecrementCycleCounter"),N5e=o(t=>(e,n,r,s)=>t(e[s],i=>i[0]===n&&i[1]===r),"createDeleteActiveInputConnectionToAudioNode"),M5e=o(t=>(e,n)=>{t(e).delete(n)},"createDeleteUnrenderedAudioWorkletNode"),D5e=o(t=>"delayTime"in t,"isDelayNode"),P5e=o((t,e,n)=>o(function r(s,i){const a=Kv(i)?i:n(t,i);if(D5e(a))return[];if(s[0]===a)return[s];if(s.includes(a))return[];const{outputs:l}=e(a);return Array.from(l).map(u=>r([...s,a],u[0])).reduce((u,c)=>u.concat(c),[])},"detectCycles"),"createDetectCycles"),Lb=o((t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},"getOutputAudioNodeAtIndex"),$5e=o(t=>(e,n=void 0,r=void 0,s=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?Lb(t,e,n).disconnect():Yv(n)?r===void 0?e.forEach(i=>i.disconnect(n)):s===void 0?Lb(t,e,r).disconnect(n,0):Lb(t,e,r).disconnect(n,0,s):r===void 0?e.forEach(i=>i.disconnect(n)):Lb(t,e,r).disconnect(n,0),"createDisconnectMultipleOutputs"),L5e=o(t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const s=t.document.head;if(s===null)r(new SyntaxError);else{const i=t.document.createElement("script"),a=new Blob([e],{type:"application/javascript"}),l=URL.createObjectURL(a),u=t.onerror,c=o(()=>{t.onerror=u,URL.revokeObjectURL(l)},"removeErrorEventListenerAndRevokeUrl");t.onerror=(f,h,d,p,m)=>{if(h===l||h===t.location.href&&d===1&&p===1)return c(),r(m),!1;if(u!==null)return u(f,h,d,p,m)},i.onerror=()=>{c(),r(new SyntaxError)},i.onload=()=>{c(),n()},i.src=l,i.type="module",s.appendChild(i)}}),"createEvaluateSource"),F5e=o(t=>class{static{o(this,"EventTarget")}constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,s){if(r!==null){let i=this._listeners.get(r);i===void 0&&(i=t(this,r),typeof r=="function"&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(n,i,s)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,s){const i=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,s)}},"createEventTargetConstructor"),B5e=o(t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},"createExposeCurrentFrameAndCurrentTime"),U5e=o(t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},"createFetchSource"),z5e=o((t,e)=>n=>e(t,n),"createGetActiveAudioWorkletNodeInputs"),V5e=o(t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},"createGetAudioNodeRenderer"),j5e=o(t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},"createGetAudioNodeTailTime"),W5e=o(t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},"createGetAudioParamRenderer"),H5e=o(t=>e=>t.get(e),"createGetBackupOfflineAudioContext"),go=o(()=>new DOMException("","InvalidStateError"),"createInvalidStateError"),q5e=o(t=>e=>{const n=t.get(e);if(n===void 0)throw go();return n},"createGetNativeContext"),G5e=o((t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},"createGetOrCreateBackupOfflineAudioContext"),K5e=o(t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},"createGetUnrenderedAudioWorkletNodes"),Y5e=o(()=>new DOMException("","InvalidAccessError"),"createInvalidAccessError"),X5e=o((t,e,n,r,s,i)=>a=>(l,u)=>{const c=t.get(l);if(c===void 0){if(!a&&i(l)){const f=r(l),{outputs:h}=n(l);for(const d of h)if(b1(d)){const p=r(d[0]);e(f,p,d[1],d[2])}else{const p=s(d[0]);f.disconnect(p,d[1])}}t.set(l,u)}else t.set(l,c+u)},"createIncrementCycleCounterFactory"),J5e=o(t=>e=>t!==null&&e instanceof t,"createIsNativeAudioContext"),Z5e=o(t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,"createIsNativeAudioNode"),Q5e=o(t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,"createIsNativeAudioParam"),eBe=o(t=>e=>t!==null&&e instanceof t,"createIsNativeOfflineAudioContext"),tBe=o(t=>t!==null&&t.isSecureContext,"createIsSecureContext"),nBe=o((t,e,n,r)=>class extends t{static{o(this,"MediaStreamAudioSourceNode")}constructor(i,a){const l=n(i),u=e(l,a);if(r(l))throw new TypeError;super(i,!0,u,null),this._nativeMediaStreamAudioSourceNode=u}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},"createMediaStreamAudioSourceNodeConstructor"),rBe=o((t,e,n,r,s)=>class extends r{static{o(this,"MinimalAudioContext")}constructor(a={}){if(s===null)throw new Error("Missing the native AudioContext constructor.");let l;try{l=new s(a)}catch(f){throw f.code===12&&f.message==="sampleRate is not in range"?e():f}if(l===null)throw n();if(!a5e(a.latencyHint))throw new TypeError(`The provided value '${a.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(a.sampleRate!==void 0&&l.sampleRate!==a.sampleRate)throw e();super(l,2);const{latencyHint:u}=a,{sampleRate:c}=l;if(this._baseLatency=typeof l.baseLatency=="number"?l.baseLatency:u==="balanced"?512/c:u==="interactive"||u===void 0?256/c:u==="playback"?1024/c:Math.max(2,Math.min(128,Math.round(u*c/128)))*128/c,this._nativeAudioContext=l,s.name==="webkitAudioContext"?(this._nativeGainNode=l.createGain(),this._nativeOscillatorNode=l.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(l.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,l.state==="running"){this._state="suspended";const f=o(()=>{this._state==="suspended"&&(this._state=null),l.removeEventListener("statechange",f)},"revokeState");l.addEventListener("statechange",f)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),o5e(this)}))}resume(){return this._state==="suspended"?new Promise((a,l)=>{const u=o(()=>{this._nativeAudioContext.removeEventListener("statechange",u),this._nativeAudioContext.state==="running"?a():this.resume().then(a,l)},"resolvePromise");this._nativeAudioContext.addEventListener("statechange",u)}):this._nativeAudioContext.resume().catch(a=>{throw a===void 0||a.code===15?t():a})}suspend(){return this._nativeAudioContext.suspend().catch(a=>{throw a===void 0?t():a})}},"createMinimalAudioContextConstructor"),sBe=o((t,e,n,r,s,i)=>class extends n{static{o(this,"MinimalBaseAudioContext")}constructor(l,u){super(l),this._nativeContext=l,$X.set(this,l),r(l)&&s.set(l,new Set),this._destination=new t(this,u),this._listener=e(this,l),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(l){const u=typeof l=="function"?i(this,l):null;this._nativeContext.onstatechange=u;const c=this._nativeContext.onstatechange;this._onstatechange=c!==null&&c===u?l:c}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},"createMinimalBaseAudioContextConstructor"),Y5=o(t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},"testPromiseSupport"),iBe=o((t,e)=>(n,r,s)=>{const i=new Set;return n.connect=(a=>(l,u=0,c=0)=>{const f=i.size===0;if(e(l))return a.call(n,l,u,c),t(i,[l,u,c],h=>h[0]===l&&h[1]===u&&h[2]===c,!0),f&&r(),l;a.call(n,l,u),t(i,[l,u],h=>h[0]===l&&h[1]===u,!0),f&&r()})(n.connect),n.disconnect=(a=>(l,u,c)=>{const f=i.size>0;if(l===void 0)a.apply(n),i.clear();else if(typeof l=="number"){a.call(n,l);for(const d of i)d[1]===l&&i.delete(d)}else{e(l)?a.call(n,l,u,c):a.call(n,l,u);for(const d of i)d[0]===l&&(u===void 0||d[1]===u)&&(c===void 0||d[2]===c)&&i.delete(d)}const h=i.size===0;f&&h&&s()})(n.disconnect),n},"createMonitorConnections"),Zc=o((t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},"assignNativeAudioNodeOption"),_1=o((t,e)=>{Zc(t,e,"channelCount"),Zc(t,e,"channelCountMode"),Zc(t,e,"channelInterpretation")},"assignNativeAudioNodeOptions"),oBe=o(t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,"createNativeAudioBufferConstructor"),ZN=o((t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},"assignNativeAudioNodeAudioParamValue"),aBe=o(t=>{t.start=(e=>{let n=!1;return(r=0,s=0,i)=>{if(n)throw go();e.call(t,r,s,i),n=!0}})(t.start)},"wrapAudioBufferSourceNodeStartMethodConsecutiveCalls"),YX=o(t=>{t.start=(e=>(n=0,r=0,s)=>{if(typeof s=="number"&&s<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,s)})(t.start)},"wrapAudioScheduledSourceNodeStartMethodNegativeParameters"),XX=o(t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},"wrapAudioScheduledSourceNodeStopMethodNegativeParameters"),lBe=o((t,e,n,r,s,i,a,l,u,c,f)=>(h,d)=>{const p=h.createBufferSource();return _1(p,d),ZN(p,d,"playbackRate"),Zc(p,d,"buffer"),Zc(p,d,"loop"),Zc(p,d,"loopEnd"),Zc(p,d,"loopStart"),e(n,()=>n(h))||aBe(p),e(r,()=>r(h))||u(p),e(s,()=>s(h))||c(p,h),e(i,()=>i(h))||YX(p),e(a,()=>a(h))||f(p,h),e(l,()=>l(h))||XX(p),t(h,p),p},"createNativeAudioBufferSourceNodeFactory"),uBe=o(t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,"createNativeAudioContextConstructor"),cBe=o((t,e)=>(n,r,s)=>{const i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}s&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});const a=t(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(a,"channelCount",l=>()=>l.call(a),l=>u=>{l.call(a,u);try{i.channelCount=u}catch(c){if(u>i.maxChannelCount)throw c}}),e(a,"channelCountMode",l=>()=>l.call(a),l=>u=>{l.call(a,u),i.channelCountMode=u}),e(a,"channelInterpretation",l=>()=>l.call(a),l=>u=>{l.call(a,u),i.channelInterpretation=u}),Object.defineProperty(a,"maxChannelCount",{get:o(()=>i.maxChannelCount,"get")}),a.connect(i),a},"createNativeAudioDestinationNodeFactory"),fBe=o(t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,"createNativeAudioWorkletNodeConstructor"),hBe=o(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},"testClonabilityOfAudioWorkletNodeOptions"),dBe=o((t,e,n,r,s)=>(i,a,l,u,c,f)=>{if(l!==null)try{const h=new l(i,u,f),d=new Map;let p=null;if(Object.defineProperties(h,{channelCount:{get:o(()=>f.channelCount,"get"),set:o(()=>{throw t()},"set")},channelCountMode:{get:o(()=>"explicit","get"),set:o(()=>{throw t()},"set")},onprocessorerror:{get:o(()=>p,"get"),set:o(m=>{typeof p=="function"&&h.removeEventListener("processorerror",p),p=typeof m=="function"?m:null,typeof p=="function"&&h.addEventListener("processorerror",p)},"set")}}),h.addEventListener=(m=>(...y)=>{if(y[0]==="processorerror"){const b=typeof y[1]=="function"?y[1]:typeof y[1]=="object"&&y[1]!==null&&typeof y[1].handleEvent=="function"?y[1].handleEvent:null;if(b!==null){const _=d.get(y[1]);_!==void 0?y[1]=_:(y[1]=S=>{S.type==="error"?(Object.defineProperties(S,{type:{value:"processorerror"}}),b(S)):b(new ErrorEvent(y[0],{...S}))},d.set(b,y[1]))}}return m.call(h,"error",y[1],y[2]),m.call(h,...y)})(h.addEventListener),h.removeEventListener=(m=>(...y)=>{if(y[0]==="processorerror"){const b=d.get(y[1]);b!==void 0&&(d.delete(y[1]),y[1]=b)}return m.call(h,"error",y[1],y[2]),m.call(h,y[0],y[1],y[2])})(h.removeEventListener),f.numberOfOutputs!==0){const m=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(m).connect(i.destination),s(h,o(()=>m.disconnect(),"whenConnected"),o(()=>m.connect(i.destination),"whenDisconnected"))}return h}catch(h){throw h.code===11?r():h}if(c===void 0)throw r();return hBe(f),e(i,a,c,f)},"createNativeAudioWorkletNodeFactory"),pBe=o((t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),"computeBufferSize"),mBe=o(t=>new Promise((e,n)=>{const{port1:r,port2:s}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),s.close(),e(i)},r.onmessageerror=({data:i})=>{r.close(),s.close(),n(i)},s.postMessage(t)}),"cloneAudioWorkletNodeOptions"),gBe=o(async(t,e)=>{const n=await mBe(e);return new t(n)},"createAudioWorkletProcessorPromise"),yBe=o((t,e,n,r)=>{let s=mI.get(t);s===void 0&&(s=new WeakMap,mI.set(t,s));const i=gBe(n,r);return s.set(e,i),i},"createAudioWorkletProcessor"),bBe=o((t,e,n,r,s,i,a,l,u,c,f,h,d)=>(p,m,y,b)=>{if(b.numberOfInputs===0&&b.numberOfOutputs===0)throw u();const _=Array.isArray(b.outputChannelCount)?b.outputChannelCount:Array.from(b.outputChannelCount);if(_.some(W=>W<1))throw u();if(_.length!==b.numberOfOutputs)throw e();if(b.channelCountMode!=="explicit")throw u();const S=b.channelCount*b.numberOfInputs,v=_.reduce((W,G)=>W+G,0),k=y.parameterDescriptors===void 0?0:y.parameterDescriptors.length;if(S+k>6||v>6)throw u();const C=new MessageChannel,I=[],x=[];for(let W=0;W<b.numberOfInputs;W+=1)I.push(a(p,{channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,gain:1})),x.push(s(p,{channelCount:b.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:b.channelCount}));const E=[];if(y.parameterDescriptors!==void 0)for(const{defaultValue:W,maxValue:G,minValue:te,name:le}of y.parameterDescriptors){const re=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:b.parameterData[le]!==void 0?b.parameterData[le]:W===void 0?0:W});Object.defineProperties(re.offset,{defaultValue:{get:o(()=>W===void 0?0:W,"get")},maxValue:{get:o(()=>G===void 0?YN:G,"get")},minValue:{get:o(()=>te===void 0?jx:te,"get")}}),E.push(re)}const T=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,S+k)}),O=pBe(m,p.sampleRate),N=l(p,O,S+k,Math.max(1,v)),R=s(p,{channelCount:Math.max(1,v),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,v)}),M=[];for(let W=0;W<b.numberOfOutputs;W+=1)M.push(r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:_[W]}));for(let W=0;W<b.numberOfInputs;W+=1){I[W].connect(x[W]);for(let G=0;G<b.channelCount;G+=1)x[W].connect(T,G,W*b.channelCount+G)}const B=new GX(y.parameterDescriptors===void 0?[]:y.parameterDescriptors.map(({name:W},G)=>{const te=E[G];return te.connect(T,0,S+G),te.start(0),[W,te.offset]}));T.connect(N);let z=b.channelInterpretation,V=null;const K=b.numberOfOutputs===0?[N]:M,ee={get bufferSize(){return O},get channelCount(){return b.channelCount},set channelCount(W){throw n()},get channelCountMode(){return b.channelCountMode},set channelCountMode(W){throw n()},get channelInterpretation(){return z},set channelInterpretation(W){for(const G of I)G.channelInterpretation=W;z=W},get context(){return N.context},get inputs(){return I},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get onprocessorerror(){return V},set onprocessorerror(W){typeof V=="function"&&ee.removeEventListener("processorerror",V),V=typeof W=="function"?W:null,typeof V=="function"&&ee.addEventListener("processorerror",V)},get parameters(){return B},get port(){return C.port2},addEventListener(...W){return N.addEventListener(W[0],W[1],W[2])},connect:t.bind(null,K),disconnect:c.bind(null,K),dispatchEvent(...W){return N.dispatchEvent(W[0])},removeEventListener(...W){return N.removeEventListener(W[0],W[1],W[2])}},Z=new Map;C.port1.addEventListener=(W=>(...G)=>{if(G[0]==="message"){const te=typeof G[1]=="function"?G[1]:typeof G[1]=="object"&&G[1]!==null&&typeof G[1].handleEvent=="function"?G[1].handleEvent:null;if(te!==null){const le=Z.get(G[1]);le!==void 0?G[1]=le:(G[1]=re=>{f(p.currentTime,p.sampleRate,()=>te(re))},Z.set(te,G[1]))}}return W.call(C.port1,G[0],G[1],G[2])})(C.port1.addEventListener),C.port1.removeEventListener=(W=>(...G)=>{if(G[0]==="message"){const te=Z.get(G[1]);te!==void 0&&(Z.delete(G[1]),G[1]=te)}return W.call(C.port1,G[0],G[1],G[2])})(C.port1.removeEventListener);let ue=null;Object.defineProperty(C.port1,"onmessage",{get:o(()=>ue,"get"),set:o(W=>{typeof ue=="function"&&C.port1.removeEventListener("message",ue),ue=typeof W=="function"?W:null,typeof ue=="function"&&(C.port1.addEventListener("message",ue),C.port1.start())},"set")}),y.prototype.port=C.port1;let ae=null;yBe(p,ee,y,b).then(W=>ae=W);const ve=Jv(b.numberOfInputs,b.channelCount),lt=Jv(b.numberOfOutputs,_),Re=y.parameterDescriptors===void 0?[]:y.parameterDescriptors.reduce((W,{name:G})=>({...W,[G]:new Float32Array(128)}),{});let Ke=!0;const Mt=o(()=>{b.numberOfOutputs>0&&N.disconnect(R);for(let W=0,G=0;W<b.numberOfOutputs;W+=1){const te=M[W];for(let le=0;le<_[W];le+=1)R.disconnect(te,G+le,le);G+=_[W]}},"disconnectOutputsGraph"),Xr=new Map;N.onaudioprocess=({inputBuffer:W,outputBuffer:G})=>{if(ae!==null){const te=h(ee);for(let le=0;le<O;le+=128){for(let re=0;re<b.numberOfInputs;re+=1)for(let D=0;D<b.channelCount;D+=1)Xv(W,ve[re],D,D,le);y.parameterDescriptors!==void 0&&y.parameterDescriptors.forEach(({name:re},D)=>{Xv(W,Re,re,S+D,le)});for(let re=0;re<b.numberOfInputs;re+=1)for(let D=0;D<_[re];D+=1)lt[re][D].byteLength===0&&(lt[re][D]=new Float32Array(128));try{const re=ve.map(($,H)=>{if(te[H].size>0)return Xr.set(H,O/128),$;const me=Xr.get(H);return me===void 0?[]:($.every(ye=>ye.every(Te=>Te===0))&&(me===1?Xr.delete(H):Xr.set(H,me-1)),$)});Ke=f(p.currentTime+le/p.sampleRate,p.sampleRate,()=>ae.process(re,lt,Re));for(let $=0,H=0;$<b.numberOfOutputs;$+=1){for(let J=0;J<_[$];J+=1)KX(G,lt[$],J,H+J,le);H+=_[$]}}catch(re){Ke=!1,ee.dispatchEvent(new ErrorEvent("processorerror",{colno:re.colno,filename:re.filename,lineno:re.lineno,message:re.message}))}if(!Ke){for(let re=0;re<b.numberOfInputs;re+=1){I[re].disconnect(x[re]);for(let D=0;D<b.channelCount;D+=1)x[le].disconnect(T,D,re*b.channelCount+D)}if(y.parameterDescriptors!==void 0){const re=y.parameterDescriptors.length;for(let D=0;D<re;D+=1){const $=E[D];$.disconnect(T,0,S+D),$.stop()}}T.disconnect(N),N.onaudioprocess=null,As?Mt():L();break}}}};let As=!1;const Ln=a(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),zs=o(()=>N.connect(Ln).connect(p.destination),"connectFakeGraph"),L=o(()=>{N.disconnect(Ln),Ln.disconnect()},"disconnectFakeGraph"),F=o(()=>{if(Ke){L(),b.numberOfOutputs>0&&N.connect(R);for(let W=0,G=0;W<b.numberOfOutputs;W+=1){const te=M[W];for(let le=0;le<_[W];le+=1)R.connect(te,G+le,le);G+=_[W]}}As=!0},"whenConnected"),X=o(()=>{Ke&&(zs(),Mt()),As=!1},"whenDisconnected");return zs(),d(ee,F,X)},"createNativeAudioWorkletNodeFakerFactory"),_Be=o((t,e)=>(n,r)=>{const s=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,s),_1(s,r),s},"createNativeChannelMergerNodeFactory"),wBe=o(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:o(()=>e,"get"),set:o(n=>{if(n!==e)throw go()},"set")}),Object.defineProperty(t,"channelCountMode",{get:o(()=>"explicit","get"),set:o(n=>{if(n!=="explicit")throw go()},"set")}),Object.defineProperty(t,"channelInterpretation",{get:o(()=>"discrete","get"),set:o(n=>{if(n!=="discrete")throw go()},"set")})},"wrapChannelSplitterNode"),JX=o((t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return _1(n,e),wBe(n),n},"createNativeChannelSplitterNode"),vBe=o((t,e,n,r,s)=>(i,a)=>{if(i.createConstantSource===void 0)return n(i,a);const l=i.createConstantSource();return _1(l,a),ZN(l,a,"offset"),e(r,()=>r(i))||YX(l),e(s,()=>s(i))||XX(l),t(i,l),l},"createNativeConstantSourceNodeFactory"),ZX=o((t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),"interceptConnections"),EBe=o((t,e,n,r)=>(s,{offset:i,...a})=>{const l=s.createBuffer(1,2,44100),u=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(s,{...a,gain:i}),f=l.getChannelData(0);f[0]=1,f[1]=1,u.buffer=l,u.loop=!0;const h={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(m){c.channelCount=m},get channelCountMode(){return c.channelCountMode},set channelCountMode(m){c.channelCountMode=m},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(m){c.channelInterpretation=m},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return u.onended},set onended(m){u.onended=m},addEventListener(...m){return u.addEventListener(m[0],m[1],m[2])},dispatchEvent(...m){return u.dispatchEvent(m[0])},removeEventListener(...m){return u.removeEventListener(m[0],m[1],m[2])},start(m=0){u.start.call(u,m)},stop(m=0){u.stop.call(u,m)}},d=o(()=>u.connect(c),"whenConnected"),p=o(()=>u.disconnect(c),"whenDisconnected");return t(s,u),r(ZX(h,c),d,p)},"createNativeConstantSourceNodeFakerFactory"),Qu=o((t,e)=>{const n=t.createGain();return _1(n,e),ZN(n,e,"gain"),n},"createNativeGainNode"),xBe=o((t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,a)=>i.id<a.id?-1:i.id>a.id?1:0);const r=n.slice(0,1),s=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(s,"mediaStream",{value:e}),s},"createNativeMediaStreamAudioSourceNode"),SBe=o(t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,"createNativeOfflineAudioContextConstructor"),QN=o((t,e,n,r)=>t.createScriptProcessor(e,n,r),"createNativeScriptProcessorNode"),gh=o(()=>new DOMException("","NotSupportedError"),"createNotSupportedError"),TBe=o((t,e)=>(n,r,s)=>(t(r).replay(s),e(r,n,s)),"createRenderAutomation"),kBe=o((t,e,n)=>async(r,s,i)=>{const a=t(r);await Promise.all(a.activeInputs.map((l,u)=>Array.from(l).map(async([c,f])=>{const d=await e(c).render(c,s),p=r.context.destination;!n(c)&&(r!==p||!n(r))&&d.connect(i,f,u)})).reduce((l,u)=>[...l,...u],[]))},"createRenderInputsOfAudioNode"),ABe=o((t,e,n)=>async(r,s,i)=>{const a=e(r);await Promise.all(Array.from(a.activeInputs).map(async([l,u])=>{const f=await t(l).render(l,s);n(l)||f.connect(i,u)}))},"createRenderInputsOfAudioParam"),CBe=o((t,e,n,r)=>s=>t(Y5,()=>Y5(s))?Promise.resolve(t(r,r)).then(i=>{if(!i){const a=n(s,512,0,1);s.oncomplete=()=>{a.onaudioprocess=null,a.disconnect()},a.onaudioprocess=()=>s.currentTime,a.connect(s.destination)}return s.startRendering()}):new Promise(i=>{const a=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=l=>{a.disconnect(),i(l.renderedBuffer)},a.connect(s.destination),s.startRendering()}),"createRenderNativeOfflineAudioContext"),IBe=o(t=>(e,n)=>{t.set(e,n)},"createSetActiveAudioWorkletNodeInputs"),RBe=o(t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},"createTestAudioBufferConstructorSupport"),OBe=o((t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),s=URL.createObjectURL(n);let i=!1,a=!1;try{await r.audioWorklet.addModule(s);const l=new t(r,"a",{numberOfOutputs:0}),u=r.createOscillator();l.port.onmessage=()=>i=!0,l.onprocessorerror=()=>a=!0,u.connect(l),u.start(0),await r.startRendering(),await new Promise(c=>setTimeout(c))}catch{}finally{URL.revokeObjectURL(s)}return i&&!a},"createTestAudioWorkletProcessorPostMessageSupport"),NBe=o((t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(s=>{n.oncomplete=()=>{r.disconnect(),s(n.currentTime!==0)},n.startRendering()})},"createTestOfflineAudioContextCurrentTimeSupport"),MBe=o(()=>new DOMException("","UnknownError"),"createUnknownError"),DBe=o(()=>typeof window>"u"?null:window,"createWindow$1"),PBe=o((t,e)=>n=>{n.copyFromChannel=(r,s,i=0)=>{const a=t(i),l=t(s);if(l>=n.numberOfChannels)throw e();const u=n.length,c=n.getChannelData(l),f=r.length;for(let h=a<0?-a:0;h+a<u&&h<f;h+=1)r[h]=c[h+a]},n.copyToChannel=(r,s,i=0)=>{const a=t(i),l=t(s);if(l>=n.numberOfChannels)throw e();const u=n.length,c=n.getChannelData(l),f=r.length;for(let h=a<0?-a:0;h+a<u&&h<f;h+=1)c[h+a]=r[h]}},"createWrapAudioBufferCopyChannelMethods"),$Be=o(t=>e=>{e.copyFromChannel=(n=>(r,s,i=0)=>{const a=t(i),l=t(s);if(a<e.length)return n.call(e,r,l,a)})(e.copyFromChannel),e.copyToChannel=(n=>(r,s,i=0)=>{const a=t(i),l=t(s);if(a<e.length)return n.call(e,r,l,a)})(e.copyToChannel)},"createWrapAudioBufferCopyChannelMethodsOutOfBounds"),LBe=o(t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",s=>()=>{const i=s.call(e);return i===r?null:i},s=>i=>s.call(e,i===null?r:i))},"createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer"),FBe=o((t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:o(()=>1,"get"),set:o(()=>{throw t()},"set")}),Object.defineProperty(r,"channelCountMode",{get:o(()=>"explicit","get"),set:o(()=>{throw t()},"set")});const s=n.createBufferSource();e(r,o(()=>{const l=r.numberOfInputs;for(let u=0;u<l;u+=1)s.connect(r,0,u)},"whenConnected"),o(()=>s.disconnect(r),"whenDisconnected"))},"createWrapChannelMergerNode"),BBe=o((t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),"getFirstSample"),eM=o((t,e,n,r)=>{let s=t;for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:i,set:a}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(t,e,{get:n(i),set:r(a)})},"overwriteAccessors"),UBe=o(t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),"sanitizeAudioWorkletNodeOptions"),QX=o((t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;QX(t,e,n+1e-7)}},"setValueAtTimeUntilPossible"),zBe=o(t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},"testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport"),VBe=o(t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},"testAudioBufferSourceNodeStartMethodOffsetClampingSupport"),jBe=o(t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},"testAudioBufferSourceNodeStopMethodNullifiedBufferSupport"),eJ=o(t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},"testAudioScheduledSourceNodeStartMethodNegativeParametersSupport"),WBe=o(t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},"testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport"),tJ=o(t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},"testAudioScheduledSourceNodeStopMethodNegativeParametersSupport"),HBe=o(t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},"testAudioWorkletNodeOptionsClonability"),qBe=o(t=>{t.start=(e=>(n=0,r=0,s)=>{const i=t.buffer,a=i===null?r:Math.min(i.duration,r);i!==null&&a>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,a,s)})(t.start)},"wrapAudioBufferSourceNodeStartMethodOffsetClamping"),GBe=o((t,e)=>{const n=e.createGain();t.connect(n);const r=(s=>()=>{s.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),ZX(t,n),t.stop=(s=>{let i=!1;return(a=0)=>{if(i)try{s.call(t,a)}catch{n.gain.setValueAtTime(0,a)}else s.call(t,a),i=!0}})(t.stop)},"wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls"),Wx=o((t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},"wrapEventListener$1"),KBe=B8e(mh),YBe=H8e(mh),XBe=N5e(Vx),JBe=new WeakMap,ZBe=j5e(JBe),rm=A5e(new Map,new WeakMap),Sa=DBe(),nJ=V5e(ps),tM=kBe(ps,nJ,Vf),jf=q5e($X),sm=SBe(Sa),Tl=eBe(sm),rJ=new WeakMap,sJ=F5e(Wx),Hx=uBe(Sa),QBe=J5e(Hx),iJ=Z5e(Sa),eUe=Q5e(Sa),uy=fBe(Sa),qx=_5e(U8e(NX),W8e(KBe,YBe,bI,XBe,_I,ps,ZBe,g1,mo,mh,hf,Vf,k_),rm,X5e(dI,_I,ps,mo,ly,hf),ph,Y5e,gh,O5e(bI,dI,ps,mo,ly,jf,hf,Tl),P5e(rJ,ps,So),sJ,jf,QBe,iJ,eUe,Tl,uy),tUe=new WeakSet,X5=oBe(Sa),oJ=R5e(new Uint32Array(1)),nUe=PBe(oJ,ph),rUe=$Be(oJ),sUe=X8e(tUe,rm,gh,X5,sm,RBe(X5),nUe,rUe),nM=q8e(Qu),aJ=ABe(nJ,y1,Vf),lJ=C5e(aJ),Gx=lBe(nM,rm,zBe,VBe,jBe,eJ,WBe,tJ,qBe,LBe(eM),GBe),uJ=TBe(W5e(y1),aJ),iUe=Q8e(lJ,Gx,mo,uJ,tM),rM=w5e(z8e(DX),rJ,PX,v5e,M8e,D8e,P8e,$8e,L8e,cI,RX,Hx,QX),oUe=Z8e(qx,iUe,rM,go,Gx,jf,Tl,Wx),aUe=l5e(qx,u5e,ph,go,cBe(Qu,eM),jf,Tl,tM),Kx=iBe(mh,iJ),lUe=FBe(go,Kx),sM=_Be(Hx,lUe),uUe=EBe(nM,Gx,Qu,Kx),iM=vBe(nM,rm,uUe,eJ,tJ),cUe=CBe(rm,Qu,QN,NBe(Qu,sm)),fUe=c5e(rM,sM,iM,QN,gh,BBe,Tl,eM),cJ=new WeakMap,hUe=sBe(aUe,fUe,sJ,Tl,cJ,Wx),fJ=tBe(Sa),oM=B5e(Sa),hJ=new WeakMap,dUe=G5e(hJ,sm),J5=fJ?j8e(rm,gh,L5e(Sa),oM,U5e(F8e),jf,dUe,Tl,uy,new WeakMap,new WeakMap,OBe(uy,sm),Sa):void 0,pUe=nBe(qx,xBe,jf,Tl),dJ=K5e(cJ),mUe=G8e(dJ),pJ=I5e(ph),gUe=M5e(dJ),mJ=$5e(ph),gJ=new WeakMap,yUe=z5e(gJ,So),bUe=bBe(pJ,ph,go,sM,JX,iM,Qu,QN,gh,mJ,oM,yUe,Kx),_Ue=dBe(go,bUe,Qu,gh,Kx),wUe=k5e(lJ,pJ,Gx,sM,JX,iM,Qu,gUe,mJ,oM,mo,uy,sm,uJ,tM,cUe),vUe=H5e(hJ),EUe=IBe(gJ),Z5=fJ?x5e(mUe,qx,rM,wUe,_Ue,ps,vUe,jf,Tl,uy,UBe,EUe,HBe,Wx):void 0,xUe=rBe(go,gh,MBe,hUe,Hx),yJ="Missing AudioWorklet support. Maybe this is not running in a secure context.",SUe=o(async(t,e,n,r,s)=>{const{encoderInstanceId:i,port:a}=await CX(s,e.sampleRate);if(Z5===void 0)throw new Error(yJ);const l=t===null?null:new oUe(e,{buffer:t}),u=new pUe(e,{mediaStream:r}),c=I8e(Z5,e,{channelCount:n});return{audioBufferSourceNode:l,encoderInstanceId:i,mediaStreamAudioSourceNode:u,port:a,recorderAudioWorkletNode:c}},"createPromisedAudioNodesEncoderInstanceIdAndPort"),TUe=o((t,e,n,r)=>(s,i,a)=>{var l;const u=(l=i.getAudioTracks()[0])===null||l===void 0?void 0:l.getSettings().sampleRate,c=new xUe({latencyHint:"playback",sampleRate:u}),f=MediaRecorder.isTypeSupported("audio/mp4")?new sUe({length:2688,sampleRate:c.sampleRate}):null,h=[],d=C8e(x=>{if(J5===void 0)throw new Error(yJ);return J5(c,x)});let p=null,m=null,y=null,b=null,_=!0;const S=o(x=>{s.dispatchEvent(t("dataavailable",{data:new Blob(x,{type:a})}))},"dispatchDataAvailableEvent"),v=o(async(x,E)=>{const T=await Wv(x,E);y===null?h.push(...T):(S(T),b=v(x,E))},"requestNextPartialRecording"),k=o(()=>(_=!0,c.resume()),"resume"),C=o(()=>{y!==null&&(p!==null&&(i.removeEventListener("addtrack",p),i.removeEventListener("removetrack",p)),m!==null&&clearTimeout(m),y.then(async({encoderInstanceId:x,mediaStreamAudioSourceNode:E,recorderAudioWorkletNode:T})=>{b!==null&&(b.catch(()=>{}),b=null),await T.stop(),E.disconnect(T);const O=await Wv(x,null);y===null&&await I(),S([...h,...O]),h.length=0,s.dispatchEvent(new Event("stop"))}),y=null)},"stop"),I=o(()=>(_=!1,c.suspend()),"suspend");return I(),{get mimeType(){return a},get state(){return y===null?"inactive":_?"recording":"paused"},pause(){if(y===null)throw n();_&&(I(),s.dispatchEvent(new Event("pause")))},resume(){if(y===null)throw n();_||(k(),s.dispatchEvent(new Event("resume")))},start(x){var E;if(y!==null)throw n();if(i.getVideoTracks().length>0)throw r();s.dispatchEvent(new Event("start"));const T=i.getAudioTracks(),O=T.length===0?2:(E=T[0].getSettings().channelCount)!==null&&E!==void 0?E:2;y=Promise.all([k(),d.then(()=>SUe(f,c,O,i,a))]).then(async([,{audioBufferSourceNode:R,encoderInstanceId:M,mediaStreamAudioSourceNode:B,port:z,recorderAudioWorkletNode:V}])=>(B.connect(V),R!==null&&(await new Promise(K=>{R.onended=K,R.connect(V),R.start()}),R.disconnect(V)),await V.record(z),x!==void 0&&(b=v(M,x)),{encoderInstanceId:M,mediaStreamAudioSourceNode:B,recorderAudioWorkletNode:V}));const N=i.getTracks();p=o(()=>{C(),s.dispatchEvent(new ErrorEvent("error",{error:e()}))},"abortRecording"),i.addEventListener("addtrack",p),i.addEventListener("removetrack",p),m=setInterval(()=>{const R=i.getTracks();(R.length!==N.length||R.some((M,B)=>M!==N[B]))&&p!==null&&p()},1e3)},stop:C}},"createWebAudioMediaRecorderFactory");class nk{static{o(this,"MultiBufferDataView")}constructor(e,n=0,r){if(n<0||r!==void 0&&r<0)throw new RangeError;const s=e.reduce((f,h)=>f+h.byteLength,0);if(n>s||r!==void 0&&n+r>s)throw new RangeError;const i=[],a=r===void 0?s-n:r,l=[];let u=0,c=n;for(const f of e)if(l.length===0)if(f.byteLength>c){u=f.byteLength-c;const h=u>a?a:u;i.push(new DataView(f,c,h)),l.push(f)}else c-=f.byteLength;else if(u<a){u+=f.byteLength;const h=u>a?f.byteLength-u+a:f.byteLength;i.push(new DataView(f,0,h)),l.push(f)}this._buffers=l,this._byteLength=a,this._byteOffset=c,this._dataViews=i,this._internalBuffer=new DataView(new ArrayBuffer(8))}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get byteOffset(){return this._byteOffset}getFloat32(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.setUint8(2,this.getUint8(e+2)),this._internalBuffer.setUint8(3,this.getUint8(e+3)),this._internalBuffer.getFloat32(0,n)}getFloat64(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.setUint8(2,this.getUint8(e+2)),this._internalBuffer.setUint8(3,this.getUint8(e+3)),this._internalBuffer.setUint8(4,this.getUint8(e+4)),this._internalBuffer.setUint8(5,this.getUint8(e+5)),this._internalBuffer.setUint8(6,this.getUint8(e+6)),this._internalBuffer.setUint8(7,this.getUint8(e+7)),this._internalBuffer.getFloat64(0,n)}getInt16(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.getInt16(0,n)}getInt32(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.setUint8(2,this.getUint8(e+2)),this._internalBuffer.setUint8(3,this.getUint8(e+3)),this._internalBuffer.getInt32(0,n)}getInt8(e){const[n,r]=this._findDataViewWithOffset(e);return n.getInt8(e-r)}getUint16(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.getUint16(0,n)}getUint32(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.setUint8(2,this.getUint8(e+2)),this._internalBuffer.setUint8(3,this.getUint8(e+3)),this._internalBuffer.getUint32(0,n)}getUint8(e){const[n,r]=this._findDataViewWithOffset(e);return n.getUint8(e-r)}setFloat32(e,n,r){this._internalBuffer.setFloat32(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1)),this.setUint8(e+2,this._internalBuffer.getUint8(2)),this.setUint8(e+3,this._internalBuffer.getUint8(3))}setFloat64(e,n,r){this._internalBuffer.setFloat64(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1)),this.setUint8(e+2,this._internalBuffer.getUint8(2)),this.setUint8(e+3,this._internalBuffer.getUint8(3)),this.setUint8(e+4,this._internalBuffer.getUint8(4)),this.setUint8(e+5,this._internalBuffer.getUint8(5)),this.setUint8(e+6,this._internalBuffer.getUint8(6)),this.setUint8(e+7,this._internalBuffer.getUint8(7))}setInt16(e,n,r){this._internalBuffer.setInt16(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1))}setInt32(e,n,r){this._internalBuffer.setInt32(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1)),this.setUint8(e+2,this._internalBuffer.getUint8(2)),this.setUint8(e+3,this._internalBuffer.getUint8(3))}setInt8(e,n){const[r,s]=this._findDataViewWithOffset(e);r.setInt8(e-s,n)}setUint16(e,n,r){this._internalBuffer.setUint16(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1))}setUint32(e,n,r){this._internalBuffer.setUint32(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1)),this.setUint8(e+2,this._internalBuffer.getUint8(2)),this.setUint8(e+3,this._internalBuffer.getUint8(3))}setUint8(e,n){const[r,s]=this._findDataViewWithOffset(e);r.setUint8(e-s,n)}_findDataViewWithOffset(e){let n=0;for(const r of this._dataViews){const s=n+r.byteLength;if(e>=n&&e<s)return[r,n];n=s}throw new RangeError}}const kUe=o((t,e,n)=>(r,s,i,a)=>{const l=[],u=new s(i,{mimeType:"audio/webm; codecs=pcm"});let c=null,f=o(()=>{},"stopRecording");const h=o(m=>{r.dispatchEvent(t("dataavailable",{data:new Blob(m,{type:a})}))},"dispatchDataAvailableEvent"),d=o(async(m,y)=>{const b=await Wv(m,y);u.state==="inactive"?l.push(...b):(h(b),c=d(m,y))},"requestNextPartialRecording"),p=o(()=>{u.state!=="inactive"&&(c!==null&&(c.catch(()=>{}),c=null),f(),f=o(()=>{},"stopRecording"),u.stop())},"stop");return u.addEventListener("error",m=>{p(),r.dispatchEvent(new ErrorEvent("error",{error:m.error}))}),u.addEventListener("pause",()=>r.dispatchEvent(new Event("pause"))),u.addEventListener("resume",()=>r.dispatchEvent(new Event("resume"))),u.addEventListener("start",()=>r.dispatchEvent(new Event("start"))),{get mimeType(){return a},get state(){return u.state},pause(){return u.pause()},resume(){return u.resume()},start(m){const[y]=i.getAudioTracks();if(y!==void 0&&u.state==="inactive"){const{channelCount:b,sampleRate:_}=y.getSettings();if(b===void 0)throw new Error("The channelCount is not defined.");if(_===void 0)throw new Error("The sampleRate is not defined.");let S=!1,v=!1,k=0,C=CX(a,_);f=o(()=>{v=!0},"stopRecording");const I=IX(u,"dataavailable")(({data:x})=>{k+=1;const E=x.arrayBuffer();C=C.then(async({dataView:T=null,elementType:O=null,encoderInstanceId:N,port:R})=>{const M=await E;k-=1;const B=T===null?new nk([M]):new nk([...T.buffers,M],T.byteOffset);if(!S&&u.state==="recording"&&!v){const Z=n(B,0);if(Z===null)return{dataView:B,elementType:O,encoderInstanceId:N,port:R};const{value:ue}=Z;if(ue!==172351395)return{dataView:T,elementType:O,encoderInstanceId:N,port:R};S=!0}const{currentElementType:z,offset:V,contents:K}=e(B,O,b),ee=V<B.byteLength?new nk(B.buffers,B.byteOffset+V):null;return K.forEach(Z=>R.postMessage(Z,Z.map(({buffer:ue})=>ue))),k===0&&(u.state==="inactive"||v)&&(Wv(N,null).then(Z=>{h([...l,...Z]),l.length=0,r.dispatchEvent(new Event("stop"))}),R.postMessage([]),R.close(),I()),{dataView:ee,elementType:z,encoderInstanceId:N,port:R}})});m!==void 0&&C.then(({encoderInstanceId:x})=>{v||(c=d(x,m))})}u.start(100)},stop:p}},"createWebmPcmMediaRecorderFactory"),AUe=o(()=>typeof window>"u"?null:window,"createWindow"),bJ=o((t,e)=>{if(e>=t.byteLength)return null;const n=t.getUint8(e);if(n>127)return 1;if(n>63)return 2;if(n>31)return 3;if(n>15)return 4;if(n>7)return 5;if(n>3)return 6;if(n>1)return 7;if(n>0)return 8;const r=bJ(t,e+1);return r===null?null:r+8},"readVariableSizeIntegerLength"),CUe=o((t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},"wrapEventListener"),_J=[],aM=AUe(),IUe=f8e(aM),wJ=s8e(IUe),RUe=TUe(wJ,l8e,u8e,uI),lM=g8e(bJ),OUe=p8e(lM),NUe=m8e(lM),MUe=i8e(OUe,NUe),DUe=kUe(wJ,MUe,lM),PUe=a8e(aM),$Ue=h8e(aM),ije=c8e(d8e(uI),uI,RUe,DUe,_J,o8e(PUe,CUe),$Ue),LUe=new WeakMap,oje=o(async t=>{const e=await r8e(t);_J.push(e),LUe.set(t,e)},"register"),FUe=kX({characterize:o(({call:t})=>()=>t("characterize"),"characterize"),encode:o(({call:t})=>(e,n)=>t("encode",{recordingId:e,timeslice:n}),"encode"),record:o(({call:t})=>async(e,n,r)=>{await t("record",{recordingId:e,sampleRate:n,typedArrays:r},r.map(({buffer:s})=>s))},"record")}),BUe=o(t=>{const e=new Worker(t);return FUe(e)},"load"),UUe=`(()=>{var e={455:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,s=536870912,a=2*s,o=function(e,t){return function(r){var o=t.get(r),i=void 0===o?r.size:o<a?o+1:0;if(!r.has(i))return e(r,i);if(r.size<s){for(;r.has(i);)i=Math.floor(Math.random()*a);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,c=r(i),l=o(c,i),u=t(l);e.addUniqueNumber=u,e.generateUniqueNumber=l}(t)}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}(()=>{"use strict";const e=-32603,t=-32602,n=-32601,s=(e,t)=>Object.assign(new Error(e),{status:t}),a=t=>s('The handler of the method called "'.concat(t,'" returned an unexpected result.'),e),o=(t,r)=>async({data:{id:o,method:i,params:c}})=>{const l=r[i];try{if(void 0===l)throw(e=>s('The requested method called "'.concat(e,'" is not supported.'),n))(i);const r=void 0===c?l():l(c);if(void 0===r)throw(t=>s('The handler of the method called "'.concat(t,'" returned no required result.'),e))(i);const u=r instanceof Promise?await r:r;if(null===o){if(void 0!==u.result)throw a(i)}else{if(void 0===u.result)throw a(i);const{result:e,transferables:r=[]}=u;t.postMessage({id:o,result:e},r)}}catch(e){const{message:r,status:n=-32603}=e;t.postMessage({error:{code:n,message:r},id:o})}};var i=r(455);const c=new Map,l=(e,r,n)=>({...r,connect:({port:t})=>{t.start();const n=e(t,r),s=(0,i.generateUniqueNumber)(c);return c.set(s,(()=>{n(),t.close(),c.delete(s)})),{result:s}},disconnect:({portId:e})=>{const r=c.get(e);if(void 0===r)throw(e=>s('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),t))(e);return r(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=({data:t})=>e(null!==t),n.postMessage(t,[t])}))){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),u=(e,t,r=()=>!0)=>{const n=l(u,t,r),s=o(e,n);return e.addEventListener("message",s),()=>e.removeEventListener("message",s)},d=e=>e.reduce(((e,t)=>e+t.length),0),h=(e,t)=>{const r=[];let n=0;e:for(;n<t;){const t=e.length;for(let s=0;s<t;s+=1){const t=e[s];void 0===r[s]&&(r[s]=[]);const a=t.shift();if(void 0===a)break e;r[s].push(a),0===s&&(n+=a.length)}}if(n>t){const s=n-t;r.forEach(((t,r)=>{const n=t.pop(),a=n.length-s;t.push(n.subarray(0,a)),e[r].unshift(n.subarray(a))}))}return r},f=new Map,m=(e=>(t,r,n)=>{const s=e.get(t);if(void 0===s){const s={channelDataArrays:n.map((e=>[e])),isComplete:!0,sampleRate:r};return e.set(t,s),s}return s.channelDataArrays.forEach(((e,t)=>e.push(n[t]))),s})(f),p=((e,t)=>(r,n,s,a)=>{const o=s>>3,i="subsequent"===n?0:44,c=r.length,l=e(r[0]),u=new ArrayBuffer(l*c*o+i),d=new DataView(u);return"subsequent"!==n&&t(d,s,c,"complete"===n?l:Number.POSITIVE_INFINITY,a),r.forEach(((e,t)=>{let r=i+t*o;e.forEach((e=>{const t=e.length;for(let n=0;n<t;n+=1){const t=e[n];d.setInt16(r,t<0?32768*Math.max(-1,t):32767*Math.min(1,t),!0),r+=c*o}}))})),[u]})(d,((e,t,r,n,s)=>{const a=t>>3,o=Math.min(n*r*a,4294967251);e.setUint32(0,1380533830),e.setUint32(4,o+36,!0),e.setUint32(8,1463899717),e.setUint32(12,1718449184),e.setUint32(16,16,!0),e.setUint16(20,1,!0),e.setUint16(22,r,!0),e.setUint32(24,s,!0),e.setUint32(28,s*r*a,!0),e.setUint16(32,r*a,!0),e.setUint16(34,t,!0),e.setUint32(36,1684108385),e.setUint32(40,o,!0)})),v=new Map;u(self,{characterize:()=>({result:/^audio\\/wav$/}),encode:({recordingId:e,timeslice:t})=>{const r=v.get(e);void 0!==r&&(v.delete(e),r.reject(new Error("Another request was made to initiate an encoding.")));const n=f.get(e);if(null!==t){if(void 0===n||d(n.channelDataArrays[0])*(1e3/n.sampleRate)<t)return new Promise(((r,n)=>{v.set(e,{reject:n,resolve:r,timeslice:t})}));const r=h(n.channelDataArrays,Math.ceil(t*(n.sampleRate/1e3))),s=p(r,n.isComplete?"initial":"subsequent",16,n.sampleRate);return n.isComplete=!1,{result:s,transferables:s}}if(void 0!==n){const t=p(n.channelDataArrays,n.isComplete?"complete":"subsequent",16,n.sampleRate);return f.delete(e),{result:t,transferables:t}}return{result:[],transferables:[]}},record:({recordingId:e,sampleRate:t,typedArrays:r})=>{const n=m(e,t,r),s=v.get(e);if(void 0!==s&&d(n.channelDataArrays[0])*(1e3/t)>=s.timeslice){const r=h(n.channelDataArrays,Math.ceil(s.timeslice*(t/1e3))),a=p(r,n.isComplete?"initial":"subsequent",16,t);n.isComplete=!1,v.delete(e),s.resolve({result:a,transferables:a})}return{result:null}}})})()})();`,zUe=new Blob([UUe],{type:"application/javascript; charset=utf-8"}),vJ=URL.createObjectURL(zUe),VUe=BUe(vJ),aje=VUe.connect;URL.revokeObjectURL(vJ);function w1(t){return t+.5|0}o(w1,"round");const Eu=o((t,e,n)=>Math.max(Math.min(t,n),e),"lim");function ug(t){return Eu(w1(t*2.55),0,255)}o(ug,"p2b");function Nu(t){return Eu(w1(t*255),0,255)}o(Nu,"n2b");function tl(t){return Eu(w1(t/2.55)/100,0,1)}o(tl,"b2n");function Q5(t){return Eu(w1(t*100),0,100)}o(Q5,"n2p");const mi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wI=[..."0123456789ABCDEF"],jUe=o(t=>wI[t&15],"h1"),WUe=o(t=>wI[(t&240)>>4]+wI[t&15],"h2"),Fb=o(t=>(t&240)>>4===(t&15),"eq"),HUe=o(t=>Fb(t.r)&&Fb(t.g)&&Fb(t.b)&&Fb(t.a),"isShort");function qUe(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&mi[t[1]]*17,g:255&mi[t[2]]*17,b:255&mi[t[3]]*17,a:e===5?mi[t[4]]*17:255}:(e===7||e===9)&&(n={r:mi[t[1]]<<4|mi[t[2]],g:mi[t[3]]<<4|mi[t[4]],b:mi[t[5]]<<4|mi[t[6]],a:e===9?mi[t[7]]<<4|mi[t[8]]:255})),n}o(qUe,"hexParse");const GUe=o((t,e)=>t<255?e(t):"","alpha");function KUe(t){var e=HUe(t)?jUe:WUe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+GUe(t.a,e):void 0}o(KUe,"hexString");const YUe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function EJ(t,e,n){const r=e*Math.min(n,1-n),s=o((i,a=(i+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1),"f");return[s(0),s(8),s(4)]}o(EJ,"hsl2rgbn");function XUe(t,e,n){const r=o((s,i=(s+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0),"f");return[r(5),r(3),r(1)]}o(XUe,"hsv2rgbn");function JUe(t,e,n){const r=EJ(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}o(JUe,"hwb2rgbn");function ZUe(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}o(ZUe,"hueValue");function uM(t){const n=t.r/255,r=t.g/255,s=t.b/255,i=Math.max(n,r,s),a=Math.min(n,r,s),l=(i+a)/2;let u,c,f;return i!==a&&(f=i-a,c=l>.5?f/(2-i-a):f/(i+a),u=ZUe(n,r,s,f,i),u=u*60+.5),[u|0,c||0,l]}o(uM,"rgb2hsl");function cM(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Nu)}o(cM,"calln");function fM(t,e,n){return cM(EJ,t,e,n)}o(fM,"hsl2rgb");function QUe(t,e,n){return cM(JUe,t,e,n)}o(QUe,"hwb2rgb");function e9e(t,e,n){return cM(XUe,t,e,n)}o(e9e,"hsv2rgb");function xJ(t){return(t%360+360)%360}o(xJ,"hue");function t9e(t){const e=YUe.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?ug(+e[5]):Nu(+e[5]));const s=xJ(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=QUe(s,i,a):e[1]==="hsv"?r=e9e(s,i,a):r=fM(s,i,a),{r:r[0],g:r[1],b:r[2],a:n}}o(t9e,"hueParse");function n9e(t,e){var n=uM(t);n[0]=xJ(n[0]+e),n=fM(n),t.r=n[0],t.g=n[1],t.b=n[2]}o(n9e,"rotate");function r9e(t){if(!t)return;const e=uM(t),n=e[0],r=Q5(e[1]),s=Q5(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${tl(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}o(r9e,"hslString");const eB={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},tB={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function s9e(){const t={},e=Object.keys(tB),n=Object.keys(eB);let r,s,i,a,l;for(r=0;r<e.length;r++){for(a=l=e[r],s=0;s<n.length;s++)i=n[s],l=l.replace(i,eB[i]);i=parseInt(tB[a],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}o(s9e,"unpack");let Bb;function i9e(t){Bb||(Bb=s9e(),Bb.transparent=[0,0,0,0]);const e=Bb[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}o(i9e,"nameParse");const o9e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function a9e(t){const e=o9e.exec(t);let n=255,r,s,i;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?ug(a):Eu(a*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?ug(r):Eu(r,0,255)),s=255&(e[4]?ug(s):Eu(s,0,255)),i=255&(e[6]?ug(i):Eu(i,0,255)),{r,g:s,b:i,a:n}}}o(a9e,"rgbParse");function l9e(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${tl(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}o(l9e,"rgbString");const rk=o(t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,"to"),Wh=o(t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4),"from");function u9e(t,e,n){const r=Wh(tl(t.r)),s=Wh(tl(t.g)),i=Wh(tl(t.b));return{r:Nu(rk(r+n*(Wh(tl(e.r))-r))),g:Nu(rk(s+n*(Wh(tl(e.g))-s))),b:Nu(rk(i+n*(Wh(tl(e.b))-i))),a:t.a+n*(e.a-t.a)}}o(u9e,"interpolate");function Ub(t,e,n){if(t){let r=uM(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=fM(r),t.r=r[0],t.g=r[1],t.b=r[2]}}o(Ub,"modHSL");function SJ(t,e){return t&&Object.assign(e||{},t)}o(SJ,"clone");function nB(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Nu(t[3]))):(e=SJ(t,{r:0,g:0,b:0,a:1}),e.a=Nu(e.a)),e}o(nB,"fromObject");function c9e(t){return t.charAt(0)==="r"?a9e(t):t9e(t)}o(c9e,"functionParse");class vI{static{o(this,"Color")}constructor(e){if(e instanceof vI)return e;const n=typeof e;let r;n==="object"?r=nB(e):n==="string"&&(r=qUe(e)||i9e(e)||c9e(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=SJ(this._rgb);return e&&(e.a=tl(e.a)),e}set rgb(e){this._rgb=nB(e)}rgbString(){return this._valid?l9e(this._rgb):void 0}hexString(){return this._valid?KUe(this._rgb):void 0}hslString(){return this._valid?r9e(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let i;const a=n===i?.5:n,l=2*a-1,u=r.a-s.a,c=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;i=1-c,r.r=255&c*r.r+i*s.r+.5,r.g=255&c*r.g+i*s.g+.5,r.b=255&c*r.b+i*s.b+.5,r.a=a*r.a+(1-a)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=u9e(this._rgb,e._rgb,n)),this}clone(){return new vI(this.rgb)}alpha(e){return this._rgb.a=Nu(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=w1(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ub(this._rgb,2,e),this}darken(e){return Ub(this._rgb,2,-e),this}saturate(e){return Ub(this._rgb,1,e),this}desaturate(e){return Ub(this._rgb,1,-e),this}rotate(e){return n9e(this._rgb,e),this}}export{Xy as $,ioe as A,y9e as B,vI as C,k9e as D,qe as E,ar as F,Gf as G,A9e as H,U9e as I,z9e as J,F9e as K,Vo as L,dNe as M,mNe as N,pNe as O,CC as P,Uc as Q,Ug as R,HH as S,P9e as T,PH as U,Yy as V,_7e as W,Be as X,DVe as Y,rg as Z,Xp as _,Ip as a,cNe as a$,Je as a0,PVe as a1,at as a2,Yp as a3,_ke as a4,ce as a5,lf as a6,AH as a7,GVe as a8,HVe as a9,JVe as aA,jq as aB,ZVe as aC,XVe as aD,f7e as aE,h7e as aF,hn as aG,AIe as aH,u7e as aI,a7e as aJ,i7e as aK,o7e as aL,l7e as aM,UO as aN,c7e as aO,s7e as aP,r7e as aQ,n7e as aR,t7e as aS,e7e as aT,QVe as aU,d7e as aV,p7e as aW,m7e as aX,g3e as aY,m3e as aZ,Li as a_,we as aa,Og as ab,YVe as ac,qVe as ad,jVe as ae,WVe as af,VVe as ag,UCe as ah,FCe as ai,zCe as aj,KVe as ak,jCe as al,UVe as am,FVe as an,LVe as ao,$Ve as ap,BH as aq,BCe as ar,BVe as as,LCe as at,zVe as au,Iq as av,VCe as aw,Ky as ax,_r as ay,kr as az,mf as b,oVe as b$,g7e as b0,b7e as b1,HQ as b2,Me as b3,d9e as b4,io as b5,h9e as b6,uk as b7,p9e as b8,Dt as b9,yd as bA,l3 as bB,us as bC,Yze as bD,cn as bE,Qe as bF,TA as bG,co as bH,B$ as bI,or as bJ,uVe as bK,Kze as bL,Fy as bM,zp as bN,ls as bO,qr as bP,Xze as bQ,qc as bR,lVe as bS,Pn as bT,pVe as bU,gVe as bV,iVe as bW,aVe as bX,DR as bY,eVe as bZ,bj as b_,Ep as ba,DI as bb,Nne as bc,See as bd,m9e as be,Ise as bf,on as bg,hd as bh,bt as bi,Fd as bj,LU as bk,UU as bl,EU as bm,Rse as bn,O9e as bo,J9e as bp,g9e as bq,H9e as br,nze as bs,tze as bt,Gae as bu,sze as bv,a0 as bw,jr as bx,Ae as by,Xse as bz,g4 as c,eze as c$,Qo as c0,kwe as c1,hVe as c2,tVe as c3,Rwe as c4,dVe as c5,Nwe as c6,mVe as c7,_0 as c8,Ki as c9,AVe as cA,Jd as cB,op as cC,CVe as cD,Wy as cE,mE as cF,IVe as cG,RVe as cH,ER as cI,qge as cJ,sge as cK,At as cL,R9e as cM,N9e as cN,kze as cO,au as cP,lu as cQ,X9e as cR,Z9e as cS,Ta as cT,W9e as cU,K9e as cV,G9e as cW,rze as cX,Q9e as cY,q9e as cZ,Y9e as c_,Owe as ca,Iwe as cb,RR as cc,yE as cd,mie as ce,nVe as cf,rVe as cg,sVe as ch,q2 as ci,Zze as cj,wE as ck,Qze as cl,fVe as cm,cVe as cn,Jze as co,Vn as cp,hj as cq,ni as cr,EVe as cs,gve as ct,xVe as cu,By as cv,hde as cw,SVe as cx,_ze as cy,TVe as cz,Fn as d,Ume as d$,cde as d0,Wr as d1,An as d2,oze as d3,g0 as d4,hze as d5,Kp as d6,hge as d7,fze as d8,vze as d9,E7e as dA,aMe as dB,_ie as dC,_l as dD,D9e as dE,E9e as dF,v9 as dG,Bt as dH,x7e as dI,Rv as dJ,Dye as dK,V9e as dL,FK as dM,De as dN,Wt as dO,se as dP,Ar as dQ,GC as dR,t4e as dS,W7e as dT,$7e as dU,S7e as dV,H7e as dW,rge as dX,aze as dY,Vye as dZ,q7e as d_,Sze as da,X7 as db,i3 as dc,Fye as dd,wze as de,ude as df,lze as dg,yVe as dh,bVe as di,vVe as dj,_Ve as dk,wVe as dl,B9e as dm,WV as dn,yze as dp,wo as dq,dze as dr,x9e as ds,Tze as dt,uze as du,Gze as dv,YV as dw,HV as dx,v7e as dy,w7e as dz,R9 as e,bde as e0,jge as e1,QE as e2,h1e as e3,Ome as e4,M9e as e5,ide as e6,L9e as e7,gze as e8,mze as e9,Aze as eA,ize as eB,Cze as eC,sie as eD,uj as eE,ije as eF,cze as eG,oje as eH,aje as eI,Xe as ea,v9e as eb,Ube as ec,G7e as ed,Bye as ee,R7 as ef,$me as eg,T7 as eh,gw as ei,xge as ej,Eze as ek,sse as el,j9e as em,C9e as en,I9e as eo,NVe as ep,V7 as eq,xze as er,bze as es,KV as et,s9 as eu,yge as ev,pze as ew,Yhe as ex,b9e as ey,Ede as ez,S9e as f,Bs as g,T9e as h,md as i,Sr as j,Di as k,_9e as l,yl as m,yf as n,rc as o,Rl as p,O9 as q,Ie as r,hE as s,vie as t,Cse as u,$9e as v,Jt as w,w9e as x,Eie as y,kn as z};
//# sourceMappingURL=vendor-other-PcOcwbNM.js.map
