var r5=Object.defineProperty;var a=(t,e)=>r5(t,"name",{value:e,configurable:!0});import{getCurrentScope as i5,onScopeDispose as s5,effectScope as o5,ref as le,watch as St,isRef as Aa,nextTick as Eu,customRef as CE,unref as oe,computed as be,toRefs as vu,toRef as mO,readonly as x0,onBeforeUnmount as a5,onMounted as qh,reactive as km,getCurrentInstance as dl,shallowRef as Am,watchEffect as gO,toValue as vi,inject as yO,provide as _O,Fragment as J_,toHandlerKey as l5,camelize as bO,defineComponent as Tn,Comment as u5,mergeProps as Io,cloneVNode as c5,h as xf,markRaw as f5,openBlock as un,createBlock as $n,withCtx as ti,renderSlot as Fs,createElementBlock as LA,createCommentVNode as wO,renderList as h5,normalizeStyle as IE,resolveDynamicComponent as d5,toRaw as p5,onUnmounted as m5,createVNode as g5}from"vue";const Oe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ta="8.48.0",We=globalThis;function C0(t,e,n){const r=n||We,i=r.__SENTRY__=r.__SENTRY__||{},s=i[Ta]=i[Ta]||{};return s[t]||(s[t]=e())}a(C0,"getGlobalSingleton");const pl=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,y5="Sentry Logger ",X_=["debug","info","warn","error","log","assert","trace"],Tm={};function ml(t){if(!("console"in We))return t();const e=We.console,n={},r=Object.keys(Tm);r.forEach(i=>{const s=Tm[i];n[i]=e[i],e[i]=s});try{return t()}finally{r.forEach(i=>{e[i]=n[i]})}}a(ml,"consoleSandbox");function _5(){let t=!1;const e={enable:a(()=>{t=!0},"enable"),disable:a(()=>{t=!1},"disable"),isEnabled:a(()=>t,"isEnabled")};return pl?X_.forEach(n=>{e[n]=(...r)=>{t&&ml(()=>{We.console[n](`${y5}[${n}]:`,...r)})}}):X_.forEach(n=>{e[n]=()=>{}}),e}a(_5,"makeLogger");const ce=C0("logger",_5),EO=50,Fa="?",FA=/\(error: (.*)\)/,$A=/captureMessage|captureException/;function vO(...t){const e=t.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],o=n.split(`
`);for(let l=r;l<o.length;l++){const u=o[l];if(u.length>1024)continue;const c=FA.test(u)?u.replace(FA,"$1"):u;if(!c.match(/\S*Error: /)){for(const f of e){const h=f(c);if(h){s.push(h);break}}if(s.length>=EO+i)break}}return w5(s.slice(i))}}a(vO,"createStackParser");function b5(t){return Array.isArray(t)?vO(...t):t}a(b5,"stackParserFromStackParserOptions");function w5(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(sp(e).function||"")&&e.pop(),e.reverse(),$A.test(sp(e).function||"")&&(e.pop(),$A.test(sp(e).function||"")&&e.pop()),e.slice(0,EO).map(n=>({...n,filename:n.filename||sp(e).filename,function:n.function||Fa}))}a(w5,"stripSentryFramesAndReverse");function sp(t){return t[t.length-1]||{}}a(sp,"getLastStackFrame");const a1="<anonymous>";function Ro(t){try{return!t||typeof t!="function"?a1:t.name||a1}catch{return a1}}a(Ro,"getFunctionName");function BA(t){const e=t.exception;if(e){const n=[];try{return e.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}a(BA,"getFramesFromEvent");const Qp={},UA={};function gl(t,e){Qp[t]=Qp[t]||[],Qp[t].push(e)}a(gl,"addHandler");function yl(t,e){if(!UA[t]){UA[t]=!0;try{e()}catch(n){pl&&ce.error(`Error while instrumenting ${t}`,n)}}}a(yl,"maybeInstrument");function qr(t,e){const n=t&&Qp[t];if(n)for(const r of n)try{r(e)}catch(i){pl&&ce.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Ro(r)}
Error:`,i)}}a(qr,"triggerHandlers");let l1=null;function E5(t){const e="error";gl(e,t),yl(e,v5)}a(E5,"addGlobalErrorInstrumentationHandler");function v5(){l1=We.onerror,We.onerror=function(t,e,n,r,i){return qr("error",{column:r,error:i,line:n,msg:t,url:e}),l1?l1.apply(this,arguments):!1},We.onerror.__SENTRY_INSTRUMENTED__=!0}a(v5,"instrumentError");let u1=null;function S5(t){const e="unhandledrejection";gl(e,t),yl(e,k5)}a(S5,"addGlobalUnhandledRejectionInstrumentationHandler");function k5(){u1=We.onunhandledrejection,We.onunhandledrejection=function(t){return qr("unhandledrejection",t),u1?u1.apply(this,arguments):!0},We.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}a(k5,"instrumentUnhandledRejection");function nc(){return RE(We),We}a(nc,"getMainCarrier");function RE(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||Ta,e[Ta]=e[Ta]||{}}a(RE,"getSentryCarrier");const SO=Object.prototype.toString;function OE(t){switch(SO.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return $a(t,Error)}}a(OE,"isError$1");function rc(t,e){return SO.call(t)===`[object ${e}]`}a(rc,"isBuiltin");function kO(t){return rc(t,"ErrorEvent")}a(kO,"isErrorEvent$1");function zA(t){return rc(t,"DOMError")}a(zA,"isDOMError");function A5(t){return rc(t,"DOMException")}a(A5,"isDOMException");function Ts(t){return rc(t,"String")}a(Ts,"isString$5");function NE(t){return typeof t=="object"&&t!==null&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}a(NE,"isParameterizedString");function DE(t){return t===null||NE(t)||typeof t!="object"&&typeof t!="function"}a(DE,"isPrimitive$1");function Su(t){return rc(t,"Object")}a(Su,"isPlainObject$3");function I0(t){return typeof Event<"u"&&$a(t,Event)}a(I0,"isEvent");function T5(t){return typeof Element<"u"&&$a(t,Element)}a(T5,"isElement$1");function x5(t){return rc(t,"RegExp")}a(x5,"isRegExp$4");function R0(t){return!!(t&&t.then&&typeof t.then=="function")}a(R0,"isThenable$1");function C5(t){return Su(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}a(C5,"isSyntheticEvent");function $a(t,e){try{return t instanceof e}catch{return!1}}a($a,"isInstanceOf");function AO(t){return!!(typeof t=="object"&&t!==null&&(t.__isVue||t._isVue))}a(AO,"isVueViewModel");const ME=We,I5=80;function TO(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,i=[];let s=0,o=0;const l=" > ",u=l.length;let c;const f=Array.isArray(e)?e:e.keyAttrs,h=!Array.isArray(e)&&e.maxStringLength||I5;for(;n&&s++<r&&(c=R5(n,f),!(c==="html"||s>1&&o+i.length*u+c.length>=h));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(l)}catch{return"<unknown>"}}a(TO,"htmlTreeAsString");function R5(t,e){const n=t,r=[];if(!n||!n.tagName)return"";if(ME.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=e&&e.length?e.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i&&i.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&Ts(o)){const l=o.split(/\s+/);for(const u of l)r.push(`.${u}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const l=n.getAttribute(o);l&&r.push(`[${o}="${l}"]`)}return r.join("")}a(R5,"_htmlElementAsString");function O5(){try{return ME.document.location.href}catch{return""}}a(O5,"getLocationHref");function N5(t){if(!ME.HTMLElement)return null;let e=t;const n=5;for(let r=0;r<n;r++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}a(N5,"getComponentName");function iu(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}a(iu,"truncate$1");function jA(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const i=t[r];try{AO(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}a(jA,"safeJoin");function D5(t,e,n=!1){return Ts(t)?x5(e)?e.test(t):Ts(e)?n?t===e:t.includes(e):!1:!1}a(D5,"isMatchingPattern");function O0(t,e=[],n=!1){return e.some(r=>D5(t,r,n))}a(O0,"stringMatchesSomePattern");function tr(t,e,n){if(!(e in t))return;const r=t[e],i=n(r);typeof i=="function"&&xO(i,r);try{t[e]=i}catch{pl&&ce.log(`Failed to replace method "${e}" in object`,t)}}a(tr,"fill$2");function Ar(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{pl&&ce.log(`Failed to add non-enumerable property "${e}" to object`,t)}}a(Ar,"addNonEnumerableProperty");function xO(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,Ar(t,"__sentry_original__",e)}catch{}}a(xO,"markFunctionWrapped");function PE(t){return t.__sentry_original__}a(PE,"getOriginalFunction");function CO(t){if(OE(t))return{message:t.message,name:t.name,stack:t.stack,...WA(t)};if(I0(t)){const e={type:t.type,target:VA(t.target),currentTarget:VA(t.currentTarget),...WA(t)};return typeof CustomEvent<"u"&&$a(t,CustomEvent)&&(e.detail=t.detail),e}else return t}a(CO,"convertToPlainObject");function VA(t){try{return T5(t)?TO(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}a(VA,"serializeEventTarget");function WA(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}a(WA,"getOwnProperties");function M5(t,e=40){const n=Object.keys(CO(t));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=e)return iu(r,e);for(let i=n.length;i>0;i--){const s=n.slice(0,i).join(", ");if(!(s.length>e))return i===n.length?s:iu(s,e)}return""}a(M5,"extractExceptionKeysForMessage");function vn(t){return Z_(t,new Map)}a(vn,"dropUndefinedKeys");function Z_(t,e){if(P5(t)){const n=e.get(t);if(n!==void 0)return n;const r={};e.set(t,r);for(const i of Object.getOwnPropertyNames(t))typeof t[i]<"u"&&(r[i]=Z_(t[i],e));return r}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const r=[];return e.set(t,r),t.forEach(i=>{r.push(Z_(i,e))}),r}return t}a(Z_,"_dropUndefinedKeys");function P5(t){if(!Su(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||e==="Object"}catch{return!0}}a(P5,"isPojo");const IO=1e3;function Gh(){return Date.now()/IO}a(Gh,"dateTimestampInSeconds");function L5(){const{performance:t}=We;if(!t||!t.now)return Gh;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/IO}a(L5,"createUnixTimestampInSecondsFunc");const Gr=L5();(()=>{const{performance:t}=We;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),r=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,s=i<e,o=t.timing&&t.timing.navigationStart,u=typeof o=="number"?Math.abs(o+n-r):e,c=u<e;return s||c?i<=u?t.timeOrigin:o:r})();function Sr(){const t=We,e=t.crypto||t.msCrypto;let n=a(()=>Math.random()*16,"getRandomByte");try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=a(()=>{const r=new Uint8Array(1);return e.getRandomValues(r),r[0]},"getRandomByte"))}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}a(Sr,"uuid4");function RO(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}a(RO,"getFirstException");function eo(t){const{message:e,event_id:n}=t;if(e)return e;const r=RO(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}a(eo,"getEventDescription");function Q_(t,e,n){const r=t.exception=t.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=e||""),s.type||(s.type="Error")}a(Q_,"addExceptionTypeValue");function ku(t,e){const n=RO(t);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...e},e&&"data"in e){const s={...i&&i.data,...e.data};n.mechanism.data=s}}a(ku,"addExceptionMechanism");function HA(t){if(F5(t))return!0;try{Ar(t,"__sentry_captured__",!0)}catch{}return!1}a(HA,"checkOrSetAlreadyCaught");function F5(t){try{return t.__sentry_captured__}catch{}}a(F5,"isAlreadyCaptured");var ys;(function(t){t[t.PENDING=0]="PENDING";const n=1;t[t.RESOLVED=n]="RESOLVED";const r=2;t[t.REJECTED=r]="REJECTED"})(ys||(ys={}));function Ba(t){return new mr(e=>{e(t)})}a(Ba,"resolvedSyncPromise");function xm(t){return new mr((e,n)=>{n(t)})}a(xm,"rejectedSyncPromise");class mr{static{a(this,"SyncPromise")}constructor(e){mr.prototype.__init.call(this),mr.prototype.__init2.call(this),mr.prototype.__init3.call(this),mr.prototype.__init4.call(this),this._state=ys.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new mr((r,i)=>{this._handlers.push([!1,s=>{if(!e)r(s);else try{r(e(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new mr((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,e&&e()},o=>{s=!0,i=o,e&&e()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=e=>{this._setResult(ys.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(ys.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{if(this._state===ys.PENDING){if(R0(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ys.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===ys.RESOLVED&&n[1](this._value),this._state===ys.REJECTED&&n[2](this._value),n[0]=!0)})}}}function $5(t){const e=Gr(),n={sid:Sr(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:a(()=>U5(n),"toJSON")};return t&&Au(n,t),n}a($5,"makeSession");function Au(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Gr(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:Sr()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}a(Au,"updateSession");function B5(t,e){let n={};t.status==="ok"&&(n={status:"exited"}),Au(t,n)}a(B5,"closeSession");function U5(t){return vn({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}a(U5,"sessionToJSON");function Cm(){return Sr()}a(Cm,"generateTraceId");function Xf(){return Sr().substring(16)}a(Xf,"generateSpanId");function N0(t,e,n=2){if(!e||typeof e!="object"||n<=0)return e;if(t&&e&&Object.keys(e).length===0)return t;const r={...t};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=N0(r[i],e[i],n-1));return r}a(N0,"merge$2");const eb="_sentrySpan";function tb(t,e){e?Ar(t,eb,e):delete t[eb]}a(tb,"_setSpanForScope");function Im(t){return t[eb]}a(Im,"_getSpanForScope");const z5=100;class LE{static{a(this,"ScopeClass")}constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Cm(),spanId:Xf()}}clone(){const e=new LE;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,tb(e,Im(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Au(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e,[r,i]=n instanceof Oo?[n.getScopeData(),n.getRequestSession()]:Su(n)?[e,e.requestSession]:[],{tags:s,extra:o,user:l,contexts:u,level:c,fingerprint:f=[],propagationContext:h}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...u},l&&Object.keys(l).length&&(this._user=l),c&&(this._level=c),f.length&&(this._fingerprint=f),h&&(this._propagationContext=h),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,tb(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Cm()}),this._notifyScopeListeners(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:z5;if(r<=0)return this;const i={timestamp:Gh(),...e},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Im(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=N0(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:Xf(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,n){const r=n&&n.event_id?n.event_id:Sr();if(!this._client)return ce.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureMessage(e,n,r){const i=r&&r.event_id?r.event_id:Sr();if(!this._client)return ce.warn("No client configured on scope - will not capture message!"),i;const s=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:s,...r,event_id:i},this),i}captureEvent(e,n){const r=n&&n.event_id?n.event_id:Sr();return this._client?(this._client.captureEvent(e,{...n,event_id:r},this),r):(ce.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}const Oo=LE;function j5(){return C0("defaultCurrentScope",()=>new Oo)}a(j5,"getDefaultCurrentScope");function V5(){return C0("defaultIsolationScope",()=>new Oo)}a(V5,"getDefaultIsolationScope");class W5{static{a(this,"AsyncContextStack")}constructor(e,n){let r;e?r=e:r=new Oo;let i;n?i=n:i=new Oo,this._stack=[{scope:r}],this._isolationScope=i}withScope(e){const n=this._pushScope();let r;try{r=e(n)}catch(i){throw this._popScope(),i}return R0(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Tu(){const t=nc(),e=RE(t);return e.stack=e.stack||new W5(j5(),V5())}a(Tu,"getAsyncContextStack");function H5(t){return Tu().withScope(t)}a(H5,"withScope$1");function q5(t,e){const n=Tu();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}a(q5,"withSetScope");function qA(t){return Tu().withScope(()=>t(Tu().getIsolationScope()))}a(qA,"withIsolationScope");function G5(){return{withIsolationScope:qA,withScope:H5,withSetScope:q5,withSetIsolationScope:a((t,e)=>qA(e),"withSetIsolationScope"),getCurrentScope:a(()=>Tu().getScope(),"getCurrentScope"),getIsolationScope:a(()=>Tu().getIsolationScope(),"getIsolationScope")}}a(G5,"getStackAsyncContextStrategy");function Kh(t){const e=RE(t);return e.acs?e.acs:G5()}a(Kh,"getAsyncContextStrategy");function ar(){const t=nc();return Kh(t).getCurrentScope()}a(ar,"getCurrentScope");function _l(){const t=nc();return Kh(t).getIsolationScope()}a(_l,"getIsolationScope");function K5(){return C0("globalScope",()=>new Oo)}a(K5,"getGlobalScope");function FE(...t){const e=nc(),n=Kh(e);if(t.length===2){const[r,i]=t;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(t[0])}a(FE,"withScope");function kt(){return ar().getClient()}a(kt,"getClient");function Y5(t){const e=t.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:i}=e;return vn({trace_id:n,span_id:r,parent_span_id:i})}a(Y5,"getTraceContextFromScope");const J5="_sentryMetrics";function nb(t){const e=t[J5];if(!e)return;const n={};for(const[,[r,i]]of e)(n[r]||(n[r]=[])).push(vn(i));return n}a(nb,"getMetricSummaryJsonForSpan");const Rm="sentry.source",OO="sentry.sample_rate",rb="sentry.op",ib="sentry.origin",X5="sentry.measurement_unit",Z5="sentry.measurement_value",GA="sentry.custom_span_name",Q5="sentry.profile_id",e9="sentry.exclusive_time",t9=0,n9=1,r9="sentry-",i9=/^sentry-/;function s9(t){const e=o9(t);if(!e)return;const n=Object.entries(e).reduce((r,[i,s])=>{if(i.match(i9)){const o=i.slice(r9.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}a(s9,"baggageHeaderToDynamicSamplingContext");function o9(t){if(!(!t||!Ts(t)&&!Array.isArray(t)))return Array.isArray(t)?t.reduce((e,n)=>{const r=KA(n);return Object.entries(r).forEach(([i,s])=>{e[i]=s}),e},{}):KA(t)}a(o9,"parseBaggageHeader");function KA(t){return t.split(",").map(e=>e.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((e,[n,r])=>(n&&r&&(e[n]=r),e),{})}a(KA,"baggageHeaderToObject");const NO=0,DO=1;let YA=!1;function a9(t){const{spanId:e,traceId:n}=t.spanContext(),{data:r,op:i,parent_span_id:s,status:o,origin:l}=ni(t);return vn({parent_span_id:s,span_id:e,trace_id:n,data:r,op:i,status:o,origin:l})}a(a9,"spanToTransactionTraceContext");function l9(t){const{spanId:e,traceId:n,isRemote:r}=t.spanContext(),i=r?e:ni(t).parent_span_id,s=r?Xf():e;return vn({parent_span_id:i,span_id:s,trace_id:n})}a(l9,"spanToTraceContext");function su(t){return typeof t=="number"?JA(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?JA(t.getTime()):Gr()}a(su,"spanTimeInputToSeconds");function JA(t){return t>9999999999?t/1e3:t}a(JA,"ensureTimestampInSeconds");function ni(t){if(c9(t))return t.getSpanJSON();try{const{spanId:e,traceId:n}=t.spanContext();if(u9(t)){const{attributes:r,startTime:i,name:s,endTime:o,parentSpanId:l,status:u}=t;return vn({span_id:e,trace_id:n,data:r,description:s,parent_span_id:l,start_timestamp:su(i),timestamp:su(o)||void 0,status:MO(u),op:r[rb],origin:r[ib],_metrics_summary:nb(t)})}return{span_id:e,trace_id:n}}catch{return{}}}a(ni,"spanToJSON");function u9(t){const e=t;return!!e.attributes&&!!e.startTime&&!!e.name&&!!e.endTime&&!!e.status}a(u9,"spanIsOpenTelemetrySdkTraceBaseSpan");function c9(t){return typeof t.getSpanJSON=="function"}a(c9,"spanIsSentrySpan");function Yh(t){const{traceFlags:e}=t.spanContext();return e===DO}a(Yh,"spanIsSampled");function MO(t){if(!(!t||t.code===t9))return t.code===n9?"ok":t.message||"unknown_error"}a(MO,"getStatusMessage");const Cf="_sentryChildSpans",sb="_sentryRootSpan";function PO(t,e){const n=t[sb]||t;Ar(e,sb,n),t[Cf]?t[Cf].add(e):Ar(t,Cf,new Set([e]))}a(PO,"addChildSpanToSpan");function f9(t){const e=new Set;function n(r){if(!e.has(r)&&Yh(r)){e.add(r);const i=r[Cf]?Array.from(r[Cf]):[];for(const s of i)n(s)}}return a(n,"addSpanChildren"),n(t),Array.from(e)}a(f9,"getSpanDescendants");function Eo(t){return t[sb]||t}a(Eo,"getRootSpan");function rve(){const t=nc(),e=Kh(t);return e.getActiveSpan?e.getActiveSpan():Im(ar())}a(rve,"getActiveSpan");function LO(){YA||(ml(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),YA=!0)}a(LO,"showSpanDropWarning");const FO="_sentryScope",$O="_sentryIsolationScope";function h9(t,e,n){t&&(Ar(t,$O,n),Ar(t,FO,e))}a(h9,"setCapturedScopesOnSpan");function XA(t){return{scope:t[FO],isolationScope:t[$O]}}a(XA,"getCapturedScopesOnSpan");function $E(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=kt(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}a($E,"hasTracingEnabled");class BE{static{a(this,"SentryNonRecordingSpan")}constructor(e={}){this._traceId=e.traceId||Cm(),this._spanId=e.spanId||Xf()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:NO}}end(e){}setAttribute(e,n){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,n,r){return this}addLink(e){return this}addLinks(e){return this}recordException(e,n){}}const UE="production",BO="_frozenDsc";function ZA(t,e){Ar(t,BO,e)}a(ZA,"freezeDscOnSpan");function UO(t,e){const n=e.getOptions(),{publicKey:r}=e.getDsn()||{},i=vn({environment:n.environment||UE,release:n.release,public_key:r,trace_id:t});return e.emit("createDsc",i),i}a(UO,"getDynamicSamplingContextFromClient");function d9(t,e){const n=e.getPropagationContext();return n.dsc||UO(n.traceId,t)}a(d9,"getDynamicSamplingContextFromScope");function D0(t){const e=kt();if(!e)return{};const n=Eo(t),r=n[BO];if(r)return r;const i=n.spanContext().traceState,s=i&&i.get("sentry.dsc"),o=s&&s9(s);if(o)return o;const l=UO(t.spanContext().traceId,e),u=ni(n),c=u.data||{},f=c[OO];f!=null&&(l.sample_rate=`${f}`);const h=c[Rm],p=u.description;return h!=="url"&&p&&(l.transaction=p),$E()&&(l.sampled=String(Yh(n))),e.emit("createDsc",l,n),l}a(D0,"getDynamicSamplingContextFromSpan");function p9(t){if(!Oe)return;const{description:e="< unknown name >",op:n="< unknown op >",parent_span_id:r}=ni(t),{spanId:i}=t.spanContext(),s=Yh(t),o=Eo(t),l=o===t,u=`[Tracing] Starting ${s?"sampled":"unsampled"} ${l?"root ":""}span`,c=[`op: ${n}`,`name: ${e}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!l){const{op:f,description:h}=ni(o);c.push(`root ID: ${o.spanContext().spanId}`),f&&c.push(`root op: ${f}`),h&&c.push(`root description: ${h}`)}ce.log(`${u}
  ${c.join(`
  `)}`)}a(p9,"logSpanStart");function m9(t){if(!Oe)return;const{description:e="< unknown name >",op:n="< unknown op >"}=ni(t),{spanId:r}=t.spanContext(),s=Eo(t)===t,o=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${e}" with ID ${r}`;ce.log(o)}a(m9,"logSpanEnd");function zO(t){if(typeof t=="boolean")return Number(t);const e=typeof t=="string"?parseFloat(t):t;if(typeof e!="number"||isNaN(e)||e<0||e>1){Oe&&ce.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`);return}return e}a(zO,"parseSampleRate");function g9(t,e){if(!$E(t))return[!1];const n=_l().getScopeData().sdkProcessingMetadata.normalizedRequest,r={...e,normalizedRequest:e.normalizedRequest||n};let i;typeof t.tracesSampler=="function"?i=t.tracesSampler(r):r.parentSampled!==void 0?i=r.parentSampled:typeof t.tracesSampleRate<"u"?i=t.tracesSampleRate:i=1;const s=zO(i);return s===void 0?(Oe&&ce.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):s?Math.random()<s?[!0,s]:(Oe&&ce.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[!1,s]):(Oe&&ce.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s])}a(g9,"sampleSpan");const y9=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function _9(t){return t==="http"||t==="https"}a(_9,"isValidProtocol");function Jh(t,e=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:l,publicKey:u}=t;return`${l}://${u}${e&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}a(Jh,"dsnToString");function b9(t){const e=y9.exec(t);if(!e){ml(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[n,r,i="",s="",o="",l=""]=e.slice(1);let u="",c=l;const f=c.split("/");if(f.length>1&&(u=f.slice(0,-1).join("/"),c=f.pop()),c){const h=c.match(/^\d+/);h&&(c=h[0])}return jO({host:s,pass:i,path:u,projectId:c,port:o,protocol:n,publicKey:r})}a(b9,"dsnFromString");function jO(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}a(jO,"dsnFromComponents");function w9(t){if(!pl)return!0;const{port:e,projectId:n,protocol:r}=t;return["protocol","publicKey","host","projectId"].find(o=>t[o]?!1:(ce.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?_9(r)?e&&isNaN(parseInt(e,10))?(ce.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(ce.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(ce.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}a(w9,"validateDsn");function E9(t){const e=typeof t=="string"?b9(t):jO(t);if(!(!e||!w9(e)))return e}a(E9,"makeDsn");function v9(){const t=typeof WeakSet=="function",e=t?new WeakSet:[];function n(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(let s=0;s<e.length;s++)if(e[s]===i)return!0;return e.push(i),!1}a(n,"memoize");function r(i){if(t)e.delete(i);else for(let s=0;s<e.length;s++)if(e[s]===i){e.splice(s,1);break}}return a(r,"unmemoize"),[n,r]}a(v9,"memoBuilder");function _s(t,e=100,n=1/0){try{return ob("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}a(_s,"normalize$2");function VO(t,e=3,n=100*1024){const r=_s(t,e);return T9(r)>n?VO(t,e-1,n):r}a(VO,"normalizeToSize");function ob(t,e,n=1/0,r=1/0,i=v9()){const[s,o]=i;if(e==null||["boolean","string"].includes(typeof e)||typeof e=="number"&&Number.isFinite(e))return e;const l=S9(t,e);if(!l.startsWith("[object "))return l;if(e.__sentry_skip_normalization__)return e;const u=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(u===0)return l.replace("object ","");if(s(e))return"[Circular ~]";const c=e;if(c&&typeof c.toJSON=="function")try{const m=c.toJSON();return ob("",m,u-1,r,i)}catch{}const f=Array.isArray(e)?[]:{};let h=0;const p=CO(e);for(const m in p){if(!Object.prototype.hasOwnProperty.call(p,m))continue;if(h>=r){f[m]="[MaxProperties ~]";break}const g=p[m];f[m]=ob(m,g,u-1,r,i),h++}return o(e),f}a(ob,"visit");function S9(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(AO(e))return"[VueViewModel]";if(C5(e))return"[SyntheticEvent]";if(typeof e=="number"&&!Number.isFinite(e))return`[${e}]`;if(typeof e=="function")return`[Function: ${Ro(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=k9(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}a(S9,"stringifyValue");function k9(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}a(k9,"getConstructorName");function A9(t){return~-encodeURI(t).split(/%..|./).length}a(A9,"utf8Length");function T9(t){return A9(JSON.stringify(t))}a(T9,"jsonSize");function ic(t,e=[]){return[t,e]}a(ic,"createEnvelope");function x9(t,e){const[n,r]=t;return[n,[...r,e]]}a(x9,"addItemToEnvelope");function QA(t,e){const n=t[1];for(const r of n){const i=r[0].type;if(e(r,i))return!0}return!1}a(QA,"forEachEnvelopeItem");function ab(t){return We.__SENTRY__&&We.__SENTRY__.encodePolyfill?We.__SENTRY__.encodePolyfill(t):new TextEncoder().encode(t)}a(ab,"encodeUTF8");function C9(t){const[e,n]=t;let r=JSON.stringify(e);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[ab(r),s]:r.push(typeof s=="string"?ab(s):s)}a(i,"append");for(const s of n){const[o,l]=s;if(i(`
${JSON.stringify(o)}
`),typeof l=="string"||l instanceof Uint8Array)i(l);else{let u;try{u=JSON.stringify(l)}catch{u=JSON.stringify(_s(l))}i(u)}}return typeof r=="string"?r:I9(r)}a(C9,"serializeEnvelope");function I9(t){const e=t.reduce((i,s)=>i+s.length,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}a(I9,"concatBuffers");function R9(t){return[{type:"span"},t]}a(R9,"createSpanEnvelopeItem");function O9(t){const e=typeof t.data=="string"?ab(t.data):t.data;return[vn({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}a(O9,"createAttachmentEnvelopeItem");const N9={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function eT(t){return N9[t]}a(eT,"envelopeItemTypeToDataCategory");function WO(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}a(WO,"getSdkMetadataForEnvelopeHeader");function D9(t,e,n,r){const i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:Jh(r)},...i&&{trace:vn({...i})}}}a(D9,"createEventEnvelopeHeaders");function M9(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}a(M9,"enhanceEventWithSdkInfo");function P9(t,e,n,r){const i=WO(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&e&&{dsn:Jh(e)}},o="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return ic(s,[o])}a(P9,"createSessionEnvelope");function L9(t,e,n,r){const i=WO(n),s=t.type&&t.type!=="replay_event"?t.type:"event";M9(t,n&&n.sdk);const o=D9(t,i,r,e);return delete t.sdkProcessingMetadata,ic(o,[[{type:s},t]])}a(L9,"createEventEnvelope");function F9(t,e){function n(f){return!!f.trace_id&&!!f.public_key}a(n,"dscHasRequiredProps");const r=D0(t[0]),i=e&&e.getDsn(),s=e&&e.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:Jh(i)}},l=e&&e.getOptions().beforeSendSpan,u=l?f=>{const h=l(ni(f));return h||LO(),h}:f=>ni(f),c=[];for(const f of t){const h=u(f);h&&c.push(R9(h))}return ic(o,c)}a(F9,"createSpanEnvelope");function tT(t){if(!t||t.length===0)return;const e={};return t.forEach(n=>{const r=n.attributes||{},i=r[X5],s=r[Z5];typeof i=="string"&&typeof s=="number"&&(e[n.name]={value:s,unit:i})}),e}a(tT,"timedEventsToMeasurements");const nT=1e3;class zE{static{a(this,"SentrySpan")}constructor(e={}){this._traceId=e.traceId||Cm(),this._spanId=e.spanId||Xf(),this._startTime=e.startTimestamp||Gr(),this._attributes={},this.setAttributes({[ib]:"manual",[rb]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this}addLinks(e){return this}recordException(e,n){}spanContext(){const{_spanId:e,_traceId:n,_sampled:r}=this;return{spanId:e,traceId:n,traceFlags:r?DO:NO}}setAttribute(e,n){return n===void 0?delete this._attributes[e]:this._attributes[e]=n,this}setAttributes(e){return Object.keys(e).forEach(n=>this.setAttribute(n,e[n])),this}updateStartTime(e){this._startTime=su(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(Rm,"custom"),this}end(e){this._endTime||(this._endTime=su(e),m9(this),this._onSpanEnded())}getSpanJSON(){return vn({data:this._attributes,description:this._name,op:this._attributes[rb],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:MO(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[ib],_metrics_summary:nb(this),profile_id:this._attributes[Q5],exclusive_time:this._attributes[e9],measurements:tT(this._events),is_segment:this._isStandaloneSpan&&Eo(this)===this||void 0,segment_id:this._isStandaloneSpan?Eo(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,n,r){Oe&&ce.log("[Tracing] Adding an event to span:",e);const i=rT(n)?n:r||Gr(),s=rT(n)?{}:n||{},o={name:e,time:su(i),attributes:s};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const e=kt();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===Eo(this)))return;if(this._isStandaloneSpan){this._sampled?B9(F9([this],e)):(Oe&&ce.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(XA(this).scope||ar()).captureEvent(r)}_convertSpanToTransaction(){if(!iT(ni(this)))return;this._name||(Oe&&ce.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:e,isolationScope:n}=XA(this),i=(e||ar()).getClient()||kt();if(this._sampled!==!0){Oe&&ce.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}const o=f9(this).filter(h=>h!==this&&!$9(h)).map(h=>ni(h)).filter(iT),l=this._attributes[Rm];delete this._attributes[GA],o.forEach(h=>{h.data&&delete h.data[GA]});const u={contexts:{trace:a9(this)},spans:o.length>nT?o.sort((h,p)=>h.start_timestamp-p.start_timestamp).slice(0,nT):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:n,...vn({dynamicSamplingContext:D0(this)})},_metrics_summary:nb(this),...l&&{transaction_info:{source:l}}},c=tT(this._events);return c&&Object.keys(c).length&&(Oe&&ce.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),u.measurements=c),u}}function rT(t){return t&&typeof t=="number"||t instanceof Date||Array.isArray(t)}a(rT,"isSpanTimeInput");function iT(t){return!!t.start_timestamp&&!!t.timestamp&&!!t.span_id&&!!t.trace_id}a(iT,"isFullFinishedSpan");function $9(t){return t instanceof zE&&t.isStandaloneSpan()}a($9,"isStandaloneSpan");function B9(t){const e=kt();if(!e)return;const n=t[1];if(!n||n.length===0){e.recordDroppedEvent("before_send","span");return}e.sendEnvelope(t)}a(B9,"sendSpanEnvelope");const HO="__SENTRY_SUPPRESS_TRACING__";function ive(t){const e=qO();if(e.startInactiveSpan)return e.startInactiveSpan(t);const n=j9(t),{forceTransaction:r,parentSpan:i}=t;return(t.scope?o=>FE(t.scope,o):i!==void 0?o=>U9(i,o):o=>o())(()=>{const o=ar(),l=W9(o);return t.onlyIfParent&&!l?new BE:z9({parentSpan:l,spanArguments:n,forceTransaction:r,scope:o})})}a(ive,"startInactiveSpan");function U9(t,e){const n=qO();return n.withActiveSpan?n.withActiveSpan(t,e):FE(r=>(tb(r,t||void 0),e(r)))}a(U9,"withActiveSpan");function z9({parentSpan:t,spanArguments:e,forceTransaction:n,scope:r}){if(!$E())return new BE;const i=_l();let s;if(t&&!n)s=V9(t,r,e),PO(t,s);else if(t){const o=D0(t),{traceId:l,spanId:u}=t.spanContext(),c=Yh(t);s=sT({traceId:l,parentSpanId:u,...e},r,c),ZA(s,o)}else{const{traceId:o,dsc:l,parentSpanId:u,sampled:c}={...i.getPropagationContext(),...r.getPropagationContext()};s=sT({traceId:o,parentSpanId:u,...e},r,c),l&&ZA(s,l)}return p9(s),h9(s,r,i),s}a(z9,"createChildOrRootSpan");function j9(t){const n={isStandalone:(t.experimental||{}).standalone,...t};if(t.startTime){const r={...n};return r.startTimestamp=su(t.startTime),delete r.startTime,r}return n}a(j9,"parseSentrySpanArguments");function qO(){const t=nc();return Kh(t)}a(qO,"getAcs");function sT(t,e,n){const r=kt(),i=r&&r.getOptions()||{},{name:s="",attributes:o}=t,[l,u]=e.getScopeData().sdkProcessingMetadata[HO]?[!1]:g9(i,{name:s,parentSampled:n,attributes:o,transactionContext:{name:s,parentSampled:n}}),c=new zE({...t,attributes:{[Rm]:"custom",...t.attributes},sampled:l});return u!==void 0&&c.setAttribute(OO,u),r&&r.emit("spanStart",c),c}a(sT,"_startRootSpan");function V9(t,e,n){const{spanId:r,traceId:i}=t.spanContext(),s=e.getScopeData().sdkProcessingMetadata[HO]?!1:Yh(t),o=s?new zE({...n,parentSpanId:r,traceId:i,sampled:s}):new BE({traceId:i});PO(t,o);const l=kt();return l&&(l.emit("spanStart",o),n.endTimestamp&&l.emit("spanEnd",o)),o}a(V9,"_startChildSpan");function W9(t){const e=Im(t);if(!e)return;const n=kt();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?Eo(e):e}a(W9,"getParentSpan");function lb(t,e,n,r=0){return new mr((i,s)=>{const o=t[r];if(e===null||typeof o!="function")i(e);else{const l=o({...e},n);Oe&&o.id&&l===null&&ce.log(`Event processor "${o.id}" dropped event`),R0(l)?l.then(u=>lb(t,u,n,r+1).then(i)).then(null,s):lb(t,l,n,r+1).then(i).then(null,s)}})}a(lb,"notifyEventProcessors");let op,oT,ap;function H9(t){const e=We._sentryDebugIds;if(!e)return{};const n=Object.keys(e);return ap&&n.length===oT||(oT=n.length,ap=n.reduce((r,i)=>{op||(op={});const s=op[i];if(s)r[s[0]]=s[1];else{const o=t(i);for(let l=o.length-1;l>=0;l--){const u=o[l],c=u&&u.filename,f=e[i];if(c&&f){r[c]=f,op[i]=[c,f];break}}}return r},{})),ap}a(H9,"getFilenameToDebugIdMap");function q9(t,e){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=e;G9(t,e),r&&J9(t,r),X9(t,n),K9(t,i),Y9(t,s)}a(q9,"applyScopeDataToEvent");function aT(t,e){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:l,breadcrumbs:u,fingerprint:c,eventProcessors:f,attachments:h,propagationContext:p,transactionName:m,span:g}=e;lp(t,"extra",n),lp(t,"tags",r),lp(t,"user",i),lp(t,"contexts",s),t.sdkProcessingMetadata=N0(t.sdkProcessingMetadata,l,2),o&&(t.level=o),m&&(t.transactionName=m),g&&(t.span=g),u.length&&(t.breadcrumbs=[...t.breadcrumbs,...u]),c.length&&(t.fingerprint=[...t.fingerprint,...c]),f.length&&(t.eventProcessors=[...t.eventProcessors,...f]),h.length&&(t.attachments=[...t.attachments,...h]),t.propagationContext={...t.propagationContext,...p}}a(aT,"mergeScopeData");function lp(t,e,n){t[e]=N0(t[e],n,1)}a(lp,"mergeAndOverwriteScopeData");function G9(t,e){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:l}=e,u=vn(n);u&&Object.keys(u).length&&(t.extra={...u,...t.extra});const c=vn(r);c&&Object.keys(c).length&&(t.tags={...c,...t.tags});const f=vn(i);f&&Object.keys(f).length&&(t.user={...f,...t.user});const h=vn(s);h&&Object.keys(h).length&&(t.contexts={...h,...t.contexts}),o&&(t.level=o),l&&t.type!=="transaction"&&(t.transaction=l)}a(G9,"applyDataToEvent");function K9(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}a(K9,"applyBreadcrumbsToEvent");function Y9(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}a(Y9,"applySdkMetadataToEvent");function J9(t,e){t.contexts={trace:l9(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:D0(e),...t.sdkProcessingMetadata};const n=Eo(e),r=ni(n).description;r&&!t.transaction&&t.type==="transaction"&&(t.transaction=r)}a(J9,"applySpanToEvent");function X9(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}a(X9,"applyFingerprintToEvent");function Z9(t,e,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:l=1e3}=t,u={...e,event_id:e.event_id||n.event_id||Sr(),timestamp:e.timestamp||Gh()},c=n.integrations||t.integrations.map(_=>_.name);Q9(u,t),n$(u,c),i&&i.emit("applyFrameMetadata",e),e.type===void 0&&e$(u,t.stackParser);const f=i$(r,n.captureContext);n.mechanism&&ku(u,n.mechanism);const h=i?i.getEventProcessors():[],p=K5().getScopeData();if(s){const _=s.getScopeData();aT(p,_)}if(f){const _=f.getScopeData();aT(p,_)}const m=[...n.attachments||[],...p.attachments];m.length&&(n.attachments=m),q9(u,p);const g=[...h,...p.eventProcessors];return lb(g,u,n).then(_=>(_&&t$(_),typeof o=="number"&&o>0?r$(_,o,l):_))}a(Z9,"prepareEvent");function Q9(t,e){const{environment:n,release:r,dist:i,maxValueLength:s=250}=e;t.environment=t.environment||n||UE,!t.release&&r&&(t.release=r),!t.dist&&i&&(t.dist=i),t.message&&(t.message=iu(t.message,s));const o=t.exception&&t.exception.values&&t.exception.values[0];o&&o.value&&(o.value=iu(o.value,s));const l=t.request;l&&l.url&&(l.url=iu(l.url,s))}a(Q9,"applyClientOptions");function e$(t,e){const n=H9(e);try{t.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{n&&i.filename&&(i.debug_id=n[i.filename])})})}catch{}}a(e$,"applyDebugIds");function t$(t){const e={};try{t.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?e[i.abs_path]=i.debug_id:i.filename&&(e[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.entries(e).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}a(t$,"applyDebugMeta");function n$(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}a(n$,"applyIntegrationsMetadata");function r$(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(i=>({...i,...i.data&&{data:_s(i.data,e,n)}}))},...t.user&&{user:_s(t.user,e,n)},...t.contexts&&{contexts:_s(t.contexts,e,n)},...t.extra&&{extra:_s(t.extra,e,n)}};return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=_s(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(i=>({...i,...i.data&&{data:_s(i.data,e,n)}}))),t.contexts&&t.contexts.flags&&r.contexts&&(r.contexts.flags=_s(t.contexts.flags,3,n)),r}a(r$,"normalizeEvent");function i$(t,e){if(!e)return t;const n=t?t.clone():new Oo;return n.update(e),n}a(i$,"getFinalScope");function s$(t){if(t)return o$(t)?{captureContext:t}:l$(t)?{captureContext:t}:t}a(s$,"parseEventHintOrCaptureContext");function o$(t){return t instanceof Oo||typeof t=="function"}a(o$,"hintIsScopeOrFunction");const a$=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function l$(t){return Object.keys(t).some(e=>a$.includes(e))}a(l$,"hintIsScopeContext");function u$(t,e){return ar().captureException(t,s$(e))}a(u$,"captureException");function GO(t,e){return ar().captureEvent(t,e)}a(GO,"captureEvent");function lT(t){const e=kt(),n=_l(),r=ar(),{release:i,environment:s=UE}=e&&e.getOptions()||{},{userAgent:o}=We.navigator||{},l=$5({release:i,environment:s,user:r.getUser()||n.getUser(),...o&&{userAgent:o},...t}),u=n.getSession();return u&&u.status==="ok"&&Au(u,{status:"exited"}),KO(),n.setSession(l),r.setSession(l),l}a(lT,"startSession");function KO(){const t=_l(),e=ar(),n=e.getSession()||t.getSession();n&&B5(n),YO(),t.setSession(),e.setSession()}a(KO,"endSession");function YO(){const t=_l(),e=ar(),n=kt(),r=e.getSession()||t.getSession();r&&n&&n.captureSession(r)}a(YO,"_sendSessionUpdate");function uT(t=!1){if(t){KO();return}YO()}a(uT,"captureSession");const c$="7";function f$(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}a(f$,"getBaseApiEndpoint");function h$(t){return`${f$(t)}${t.projectId}/envelope/`}a(h$,"_getIngestEndpoint");function d$(t,e){const n={sentry_version:c$};return t.publicKey&&(n.sentry_key=t.publicKey),e&&(n.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(n).toString()}a(d$,"_encodedAuth");function p$(t,e,n){return e||`${h$(t)}?${d$(t,n)}`}a(p$,"getEnvelopeEndpointWithUrlEncodedAuth");const cT=[];function m$(t){const e={};return t.forEach(n=>{const{name:r}=n,i=e[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(e[r]=n)}),Object.values(e)}a(m$,"filterDuplicates");function g$(t){const e=t.defaultIntegrations||[],n=t.integrations;e.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...e,...n];else if(typeof n=="function"){const o=n(e);r=Array.isArray(o)?o:[o]}else r=e;const i=m$(r),s=i.findIndex(o=>o.name==="Debug");if(s>-1){const[o]=i.splice(s,1);i.push(o)}return i}a(g$,"getIntegrationsToSetup");function y$(t,e){const n={};return e.forEach(r=>{r&&JO(t,r,n)}),n}a(y$,"setupIntegrations");function fT(t,e){for(const n of e)n&&n.afterAllSetup&&n.afterAllSetup(t)}a(fT,"afterSetupIntegrations");function JO(t,e,n){if(n[e.name]){Oe&&ce.log(`Integration skipped because it was already installed: ${e.name}`);return}if(n[e.name]=e,cT.indexOf(e.name)===-1&&typeof e.setupOnce=="function"&&(e.setupOnce(),cT.push(e.name)),e.setup&&typeof e.setup=="function"&&e.setup(t),typeof e.preprocessEvent=="function"){const r=e.preprocessEvent.bind(e);t.on("preprocessEvent",(i,s)=>r(i,s,t))}if(typeof e.processEvent=="function"){const r=e.processEvent.bind(e),i=Object.assign((s,o)=>r(s,o,t),{id:e.name});t.addEventProcessor(i)}Oe&&ce.log(`Integration installed: ${e.name}`)}a(JO,"setupIntegration");function sve(t){return t}a(sve,"defineIntegration");function _$(t,e,n){const r=[{type:"client_report"},{timestamp:Gh(),discarded_events:t}];return ic(e?{dsn:e}:{},[r])}a(_$,"createClientReportEnvelope");class Ti extends Error{static{a(this,"SentryError")}constructor(e,n="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}const hT="Not capturing exception because it's already been captured.";class b${static{a(this,"BaseClient")}constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=E9(e.dsn):Oe&&ce.warn("No DSN provided, client will not send events."),this._dsn){const i=p$(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:i})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in e&&e[i]==null);r&&ml(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(e,n,r){const i=Sr();if(HA(e))return Oe&&ce.log(hT),i;const s={event_id:i,...n};return this._process(this.eventFromException(e,s).then(o=>this._captureEvent(o,s,r))),s.event_id}captureMessage(e,n,r,i){const s={event_id:Sr(),...r},o=NE(e)?e:String(e),l=DE(e)?this.eventFromMessage(o,n,s):this.eventFromException(e,s);return this._process(l.then(u=>this._captureEvent(u,s,i))),s.event_id}captureEvent(e,n,r){const i=Sr();if(n&&n.originalException&&HA(n.originalException))return Oe&&ce.log(hT),i;const s={event_id:i,...n},l=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,s,l||r)),s.event_id}captureSession(e){typeof e.release!="string"?Oe&&ce.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Au(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(e).then(r=>n.flush(e).then(i=>r&&i))):Ba(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){const n=this._integrations[e.name];JO(this,e,this._integrations),n||fT(this,[e])}sendEvent(e,n={}){this.emit("beforeSendEvent",e,n);let r=L9(e,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=x9(r,O9(s));const i=this.sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",e,s),null)}sendSession(e){const n=P9(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(e,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,s=`${e}:${n}`;Oe&&ce.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(e,n){const r=this._hooks[e]=this._hooks[e]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(e,...n){const r=this._hooks[e];r&&r.forEach(i=>i(...n))}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,n=>(Oe&&ce.error("Error while sending envelope:",n),n)):(Oe&&ce.error("Transport disabled"),Ba({}))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=y$(this,e),fT(this,e)}_updateSessionFromEvent(e,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const u of s){const c=u.mechanism;if(c&&c.handled===!1){r=!0;break}}}const o=e.status==="ok";(o&&e.errors===0||o&&r)&&(Au(e,{...r&&{status:"crashed"},errors:e.errors||Number(i||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new mr(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,e&&r>=e&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(e,n,r=ar(),i=_l()){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",e,n),e.type||i.setLastEventId(e.event_id||n.event_id),Z9(s,e,n,r,this,i).then(l=>{if(l===null)return l;l.contexts={trace:Y5(r),...l.contexts};const u=d9(this,r);return l.sdkProcessingMetadata={dynamicSamplingContext:u,...l.sdkProcessingMetadata},l})}_captureEvent(e,n={},r){return this._processEvent(e,n,r).then(i=>i.event_id,i=>{if(Oe){const s=i;s.logLevel==="log"?ce.log(s.message):ce.warn(s)}})}_processEvent(e,n,r){const i=this.getOptions(),{sampleRate:s}=i,o=ZO(e),l=XO(e),u=e.type||"error",c=`before send for type \`${u}\``,f=typeof s>"u"?void 0:zO(s);if(l&&typeof f=="number"&&Math.random()>f)return this.recordDroppedEvent("sample_rate","error",e),xm(new Ti(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const h=u==="replay_event"?"replay":u,m=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,n,r,m).then(g=>{if(g===null)throw this.recordDroppedEvent("event_processor",h,e),new Ti("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return g;const _=E$(this,i,g,n);return w$(_,c)}).then(g=>{if(g===null){if(this.recordDroppedEvent("before_send",h,e),o){const S=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",S)}throw new Ti(`${c} returned \`null\`, will not send event.`,"log")}const y=r&&r.getSession();if(!o&&y&&this._updateSessionFromEvent(y,g),o){const w=g.sdkProcessingMetadata&&g.sdkProcessingMetadata.spanCountBeforeProcessing||0,S=g.spans?g.spans.length:0,T=w-S;T>0&&this.recordDroppedEvent("before_send","span",T)}const _=g.transaction_info;if(o&&_&&g.transaction!==e.transaction){const w="custom";g.transaction_info={..._,source:w}}return this.sendEvent(g,n),g}).then(null,g=>{throw g instanceof Ti?g:(this.captureException(g,{data:{__sentry__:!0},originalException:g}),new Ti(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${g}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.entries(e).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){Oe&&ce.log("Flushing outcomes...");const e=this._clearOutcomes();if(e.length===0){Oe&&ce.log("No outcomes to send");return}if(!this._dsn){Oe&&ce.log("No dsn provided, will not send outcomes");return}Oe&&ce.log("Sending outcomes:",e);const n=_$(e,this._options.tunnel&&Jh(this._dsn));this.sendEnvelope(n)}}function w$(t,e){const n=`${e} must return \`null\` or a valid event.`;if(R0(t))return t.then(r=>{if(!Su(r)&&r!==null)throw new Ti(n);return r},r=>{throw new Ti(`${e} rejected with ${r}`)});if(!Su(t)&&t!==null)throw new Ti(n);return t}a(w$,"_validateBeforeSendResult");function E$(t,e,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:o}=e;if(XO(n)&&i)return i(n,r);if(ZO(n)){if(n.spans&&o){const l=[];for(const u of n.spans){const c=o(u);c?l.push(c):(LO(),t.recordDroppedEvent("before_send","span"))}n.spans=l}if(s){if(n.spans){const l=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:l}}return s(n,r)}}return n}a(E$,"processBeforeSend");function XO(t){return t.type===void 0}a(XO,"isErrorEvent");function ZO(t){return t.type==="transaction"}a(ZO,"isTransactionEvent");function v$(t,e){e.debug===!0&&(Oe?ce.enable():ml(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ar().update(e.initialScope);const r=new t(e);return S$(r),r.init(),r}a(v$,"initAndBind");function S$(t){ar().setClient(t)}a(S$,"setCurrentClient");function k$(t){const e=[];function n(){return t===void 0||e.length<t}a(n,"isReady");function r(o){return e.splice(e.indexOf(o),1)[0]||Promise.resolve(void 0)}a(r,"remove");function i(o){if(!n())return xm(new Ti("Not adding Promise because buffer limit was reached."));const l=o();return e.indexOf(l)===-1&&e.push(l),l.then(()=>r(l)).then(null,()=>r(l).then(null,()=>{})),l}a(i,"add");function s(o){return new mr((l,u)=>{let c=e.length;if(!c)return l(!0);const f=setTimeout(()=>{o&&o>0&&l(!1)},o);e.forEach(h=>{Ba(h).then(()=>{--c||(clearTimeout(f),l(!0))},u)})})}return a(s,"drain"),{$:e,add:i,drain:s}}a(k$,"makePromiseBuffer");const A$=60*1e3;function T$(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${t}`);return isNaN(r)?A$:r-e}a(T$,"parseRetryAfterHeader");function x$(t,e){return t[e]||t.all||0}a(x$,"disabledUntil");function C$(t,e,n=Date.now()){return x$(t,e)>n}a(C$,"isRateLimited");function I$(t,{statusCode:e,headers:n},r=Date.now()){const i={...t},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const l of s.trim().split(",")){const[u,c,,,f]=l.split(":",5),h=parseInt(u,10),p=(isNaN(h)?60:h)*1e3;if(!c)i.all=r+p;else for(const m of c.split(";"))m==="metric_bucket"?(!f||f.split(";").includes("custom"))&&(i[m]=r+p):i[m]=r+p}else o?i.all=r+T$(o,r):e===429&&(i.all=r+60*1e3);return i}a(I$,"updateRateLimits");const R$=64;function O$(t,e,n=k$(t.bufferSize||R$)){let r={};const i=a(o=>n.drain(o),"flush");function s(o){const l=[];if(QA(o,(h,p)=>{const m=eT(p);if(C$(r,m)){const g=dT(h,p);t.recordDroppedEvent("ratelimit_backoff",m,g)}else l.push(h)}),l.length===0)return Ba({});const u=ic(o[0],l),c=a(h=>{QA(u,(p,m)=>{const g=dT(p,m);t.recordDroppedEvent(h,eT(m),g)})},"recordEnvelopeLoss"),f=a(()=>e({body:C9(u)}).then(h=>(h.statusCode!==void 0&&(h.statusCode<200||h.statusCode>=300)&&Oe&&ce.warn(`Sentry responded with status code ${h.statusCode} to sent event.`),r=I$(r,h),h),h=>{throw c("network_error"),h}),"requestTask");return n.add(f).then(h=>h,h=>{if(h instanceof Ti)return Oe&&ce.error("Skipped sending event because buffer is full."),c("queue_overflow"),Ba({});throw h})}return a(s,"send"),{send:s,flush:i}}a(O$,"createTransport");function dT(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}a(dT,"getEventForEnvelopeItem");function N$(t,e,n=[e],r="npm"){const i=t._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${e}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:Ta})),version:Ta}),t._metadata=i}a(N$,"applySdkMetadata");const D$=100;function Ua(t,e){const n=kt(),r=_l();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=D$}=n.getOptions();if(s<=0)return;const l={timestamp:Gh(),...t},u=i?ml(()=>i(l,e)):l;u!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",u,e),r.addBreadcrumb(u,s))}a(Ua,"addBreadcrumb");let pT;const M$="FunctionToString",mT=new WeakMap,P$=a(()=>({name:M$,setupOnce(){pT=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=PE(this),n=mT.has(kt())&&e!==void 0?e:this;return pT.apply(n,t)}}catch{}},setup(t){mT.set(t,!0)}}),"_functionToStringIntegration"),L$=P$,F$=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],$$="InboundFilters",B$=a((t={})=>({name:$$,processEvent(e,n,r){const i=r.getOptions(),s=z$(t,i);return j$(e,s)?null:e}}),"_inboundFiltersIntegration"),U$=B$;function z$(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:F$],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}a(z$,"_mergeOptions");function j$(t,e){return e.ignoreInternal&&K$(t)?(Oe&&ce.warn(`Event dropped due to being internal Sentry Error.
Event: ${eo(t)}`),!0):V$(t,e.ignoreErrors)?(Oe&&ce.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${eo(t)}`),!0):J$(t)?(Oe&&ce.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${eo(t)}`),!0):W$(t,e.ignoreTransactions)?(Oe&&ce.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${eo(t)}`),!0):H$(t,e.denyUrls)?(Oe&&ce.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${eo(t)}.
Url: ${Om(t)}`),!0):q$(t,e.allowUrls)?!1:(Oe&&ce.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${eo(t)}.
Url: ${Om(t)}`),!0)}a(j$,"_shouldDropEvent$1");function V$(t,e){return t.type||!e||!e.length?!1:G$(t).some(n=>O0(n,e))}a(V$,"_isIgnoredError");function W$(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;const n=t.transaction;return n?O0(n,e):!1}a(W$,"_isIgnoredTransaction");function H$(t,e){if(!e||!e.length)return!1;const n=Om(t);return n?O0(n,e):!1}a(H$,"_isDeniedUrl");function q$(t,e){if(!e||!e.length)return!0;const n=Om(t);return n?O0(n,e):!0}a(q$,"_isAllowedUrl");function G$(t){const e=[];t.message&&e.push(t.message);let n;try{n=t.exception.values[t.exception.values.length-1]}catch{}return n&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`)),e}a(G$,"_getPossibleEventMessages");function K$(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}a(K$,"_isSentryError");function Y$(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}a(Y$,"_getLastValidUrl");function Om(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?Y$(e):null}catch{return Oe&&ce.error(`Cannot extract url for event ${eo(t)}`),null}}a(Om,"_getEventFilterUrl");function J$(t){return t.type||!t.exception||!t.exception.values||t.exception.values.length===0?!1:!t.message&&!t.exception.values.some(e=>e.stacktrace||e.type&&e.type!=="Error"||e.value)}a(J$,"_isUselessError");function X$(t,e,n=250,r,i,s,o){if(!s.exception||!s.exception.values||!o||!$a(o.originalException,Error))return;const l=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;l&&(s.exception.values=Z$(ub(t,e,i,o.originalException,r,s.exception.values,l,0),n))}a(X$,"applyAggregateErrorsToEvent");function ub(t,e,n,r,i,s,o,l){if(s.length>=n+1)return s;let u=[...s];if($a(r[i],Error)){gT(o,l);const c=t(e,r[i]),f=u.length;yT(c,i,f,l),u=ub(t,e,n,r[i],i,[c,...u],c,f)}return Array.isArray(r.errors)&&r.errors.forEach((c,f)=>{if($a(c,Error)){gT(o,l);const h=t(e,c),p=u.length;yT(h,`errors[${f}]`,p,l),u=ub(t,e,n,c,i,[h,...u],h,p)}}),u}a(ub,"aggregateExceptionsFromError");function gT(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,...t.type==="AggregateError"&&{is_exception_group:!0},exception_id:e}}a(gT,"applyExceptionGroupFieldsForParentException");function yT(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}a(yT,"applyExceptionGroupFieldsForChildException");function Z$(t,e){return t.map(n=>(n.value&&(n.value=iu(n.value,e)),n))}a(Z$,"truncateAggregateExceptions");function c1(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}a(c1,"parseUrl$1");function Q$(t){const e="console";gl(e,t),yl(e,eB)}a(Q$,"addConsoleInstrumentationHandler");function eB(){"console"in We&&X_.forEach(function(t){t in We.console&&tr(We.console,t,function(e){return Tm[t]=e,function(...n){qr("console",{args:n,level:t});const i=Tm[t];i&&i.apply(We.console,n)}})})}a(eB,"instrumentConsole");function tB(t){return t==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}a(tB,"severityLevelFromString");const nB="Dedupe",rB=a(()=>{let t;return{name:nB,processEvent(e){if(e.type)return e;try{if(sB(e,t))return Oe&&ce.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}},"_dedupeIntegration"),iB=rB;function sB(t,e){return e?!!(oB(t,e)||aB(t,e)):!1}a(sB,"_shouldDropEvent");function oB(t,e){const n=t.message,r=e.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!eN(t,e)||!QO(t,e))}a(oB,"_isSameMessageEvent");function aB(t,e){const n=_T(e),r=_T(t);return!(!n||!r||n.type!==r.type||n.value!==r.value||!eN(t,e)||!QO(t,e))}a(aB,"_isSameExceptionEvent");function QO(t,e){let n=BA(t),r=BA(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}a(QO,"_isSameStacktrace");function eN(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}a(eN,"_isSameFingerprint");function _T(t){return t.exception&&t.exception.values&&t.exception.values[0]}a(_T,"_getExceptionFromEvent");function tN(t){if(t!==void 0)return t>=400&&t<500?"warning":t>=500?"error":void 0}a(tN,"getBreadcrumbLogLevelFromHttpStatusCode");const cb=We;function nN(){if(!("fetch"in cb))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}a(nN,"supportsFetch");function fb(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}a(fb,"isNativeFunction");function lB(){if(typeof EdgeRuntime=="string")return!0;if(!nN())return!1;if(fb(cb.fetch))return!0;let t=!1;const e=cb.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=fb(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){pl&&ce.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}a(lB,"supportsNativeFetch");function uB(t,e){const n="fetch";gl(n,t),yl(n,()=>cB(void 0,e))}a(uB,"addFetchInstrumentationHandler");function cB(t,e=!1){e&&!lB()||tr(We,"fetch",function(n){return function(...r){const i=new Error,{method:s,url:o}=fB(r),l={args:r,fetchData:{method:s,url:o},startTimestamp:Gr()*1e3,virtualError:i};return qr("fetch",{...l}),n.apply(We,r).then(async u=>(qr("fetch",{...l,endTimestamp:Gr()*1e3,response:u}),u),u=>{throw qr("fetch",{...l,endTimestamp:Gr()*1e3,error:u}),OE(u)&&u.stack===void 0&&(u.stack=i.stack,Ar(u,"framesToPop",1)),u})}})}a(cB,"instrumentFetch");function hb(t,e){return!!t&&typeof t=="object"&&!!t[e]}a(hb,"hasProp");function bT(t){return typeof t=="string"?t:t?hb(t,"url")?t.url:t.toString?t.toString():"":""}a(bT,"getUrlFromResource");function fB(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[n,r]=t;return{url:bT(n),method:hb(r,"method")?String(r.method).toUpperCase():"GET"}}const e=t[0];return{url:bT(e),method:hb(e,"method")?String(e.method).toUpperCase():"GET"}}a(fB,"parseFetchArgs");function hB(){return"npm"}a(hB,"getSDKSource");const up=We;function dB(){const t=up.chrome,e=t&&t.app&&t.app.runtime,n="history"in up&&!!up.history.pushState&&!!up.history.replaceState;return!e&&n}a(dB,"supportsHistory");const rt=We;let db=0;function rN(){return db>0}a(rN,"shouldIgnoreOnError");function pB(){db++,setTimeout(()=>{db--})}a(pB,"ignoreNextOnError");function xu(t,e={}){function n(i){return typeof i=="function"}if(a(n,"isFunction"),!n(t))return t;try{const i=t.__sentry_wrapped__;if(i)return typeof i=="function"?i:t;if(PE(t))return t}catch{return t}const r=a(function(...i){try{const s=i.map(o=>xu(o,e));return t.apply(this,s)}catch(s){throw pB(),FE(o=>{o.addEventProcessor(l=>(e.mechanism&&(Q_(l,void 0),ku(l,e.mechanism)),l.extra={...l.extra,arguments:i},l)),u$(s)}),s}},"sentryWrapped");try{for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}catch{}xO(r,t),Ar(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch{}return r}a(xu,"wrap$5");const Xh=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function jE(t,e){const n=VE(t,e),r={type:bB(e),value:wB(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}a(jE,"exceptionFromError");function mB(t,e,n,r){const i=kt(),s=i&&i.getOptions().normalizeDepth,o=AB(e),l={__serialized__:VO(e,s)};if(o)return{exception:{values:[jE(t,o)]},extra:l};const u={exception:{values:[{type:I0(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:SB(e,{isUnhandledRejection:r})}]},extra:l};if(n){const c=VE(t,n);c.length&&(u.exception.values[0].stacktrace={frames:c})}return u}a(mB,"eventFromPlainObject");function f1(t,e){return{exception:{values:[jE(t,e)]}}}a(f1,"eventFromError");function VE(t,e){const n=e.stacktrace||e.stack||"",r=yB(e),i=_B(e);try{return t(n,r,i)}catch{}return[]}a(VE,"parseStackFrames");const gB=/Minified React error #\d+;/i;function yB(t){return t&&gB.test(t.message)?1:0}a(yB,"getSkipFirstStackStringLines");function _B(t){return typeof t.framesToPop=="number"?t.framesToPop:0}a(_B,"getPopFirstTopFrames");function iN(t){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?t instanceof WebAssembly.Exception:!1}a(iN,"isWebAssemblyException");function bB(t){const e=t&&t.name;return!e&&iN(t)?t.message&&Array.isArray(t.message)&&t.message.length==2?t.message[0]:"WebAssembly.Exception":e}a(bB,"extractType");function wB(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:iN(t)&&Array.isArray(t.message)&&t.message.length==2?t.message[1]:e:"No error message"}a(wB,"extractMessage");function EB(t,e,n,r){const i=n&&n.syntheticException||void 0,s=WE(t,e,i,r);return ku(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),Ba(s)}a(EB,"eventFromException");function vB(t,e,n="info",r,i){const s=r&&r.syntheticException||void 0,o=pb(t,e,s,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Ba(o)}a(vB,"eventFromMessage");function WE(t,e,n,r,i){let s;if(kO(e)&&e.error)return f1(t,e.error);if(zA(e)||A5(e)){const o=e;if("stack"in e)s=f1(t,e);else{const l=o.name||(zA(o)?"DOMError":"DOMException"),u=o.message?`${l}: ${o.message}`:l;s=pb(t,u,n,r),Q_(s,u)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return OE(e)?f1(t,e):Su(e)||I0(e)?(s=mB(t,e,n,i),ku(s,{synthetic:!0}),s):(s=pb(t,e,n,r),Q_(s,`${e}`),ku(s,{synthetic:!0}),s)}a(WE,"eventFromUnknownInput");function pb(t,e,n,r){const i={};if(r&&n){const s=VE(t,n);s.length&&(i.exception={values:[{value:e,stacktrace:{frames:s}}]}),ku(i,{synthetic:!0})}if(NE(e)){const{__sentry_template_string__:s,__sentry_template_values__:o}=e;return i.logentry={message:s,params:o},i}return i.message=e,i}a(pb,"eventFromString");function SB(t,{isUnhandledRejection:e}){const n=M5(t),r=e?"promise rejection":"exception";return kO(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:I0(t)?`Event \`${kB(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}a(SB,"getNonErrorObjectExceptionValue");function kB(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}a(kB,"getObjectClassName");function AB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];if(n instanceof Error)return n}}a(AB,"getErrorPropertyFromObject");function TB(t,{metadata:e,tunnel:n,dsn:r}){const i={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!n&&!!r&&{dsn:Jh(r)}},s=xB(t);return ic(i,[s])}a(TB,"createUserFeedbackEnvelope");function xB(t){return[{type:"user_report"},t]}a(xB,"createUserFeedbackEnvelopeItem");class CB extends b${static{a(this,"BrowserClient")}constructor(e){const n={parentSpanIsAlwaysRootSpan:!0,...e},r=rt.SENTRY_SDK_SOURCE||hB();N$(n,"browser",["browser"],r),super(n),n.sendClientReports&&rt.document&&rt.document.addEventListener("visibilitychange",()=>{rt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return EB(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return vB(this._options.stackParser,e,n,r,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled()){Xh&&ce.warn("SDK not enabled, will not capture user feedback.");return}const n=TB(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(e,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r)}}const IB=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,wn=We,RB=1e3;let wT,mb,gb;function OB(t){const e="dom";gl(e,t),yl(e,NB)}a(OB,"addClickKeypressInstrumentationHandler");function NB(){if(!wn.document)return;const t=qr.bind(null,"dom"),e=ET(t,!0);wn.document.addEventListener("click",e,!1),wn.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{const i=wn[n],s=i&&i.prototype;!s||!s.hasOwnProperty||!s.hasOwnProperty("addEventListener")||(tr(s,"addEventListener",function(o){return function(l,u,c){if(l==="click"||l=="keypress")try{const f=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},h=f[l]=f[l]||{refCount:0};if(!h.handler){const p=ET(t);h.handler=p,o.call(this,l,p,c)}h.refCount++}catch{}return o.call(this,l,u,c)}}),tr(s,"removeEventListener",function(o){return function(l,u,c){if(l==="click"||l=="keypress")try{const f=this.__sentry_instrumentation_handlers__||{},h=f[l];h&&(h.refCount--,h.refCount<=0&&(o.call(this,l,h.handler,c),h.handler=void 0,delete f[l]),Object.keys(f).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return o.call(this,l,u,c)}}))})}a(NB,"instrumentDOM");function DB(t){if(t.type!==mb)return!1;try{if(!t.target||t.target._sentryId!==gb)return!1}catch{}return!0}a(DB,"isSimilarToLastCapturedEvent");function MB(t,e){return t!=="keypress"?!1:!e||!e.tagName?!0:!(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)}a(MB,"shouldSkipDOMEvent");function ET(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=PB(n);if(MB(n.type,r))return;Ar(n,"_sentryCaptured",!0),r&&!r._sentryId&&Ar(r,"_sentryId",Sr());const i=n.type==="keypress"?"input":n.type;DB(n)||(t({event:n,name:i,global:e}),mb=n.type,gb=r?r._sentryId:void 0),clearTimeout(wT),wT=wn.setTimeout(()=>{gb=void 0,mb=void 0},RB)}}a(ET,"makeDOMEventHandler");function PB(t){try{return t.target}catch{return null}}a(PB,"getEventTarget");let cp;function sN(t){const e="history";gl(e,t),yl(e,LB)}a(sN,"addHistoryInstrumentationHandler");function LB(){if(!dB())return;const t=wn.onpopstate;wn.onpopstate=function(...n){const r=wn.location.href,i=cp;if(cp=r,qr("history",{from:i,to:r}),t)try{return t.apply(this,n)}catch{}};function e(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=cp,o=String(i);cp=o,qr("history",{from:s,to:o})}return n.apply(this,r)}}a(e,"historyReplacementFunction"),tr(wn.history,"pushState",e),tr(wn.history,"replaceState",e)}a(LB,"instrumentHistory");const em={};function FB(t){const e=em[t];if(e)return e;let n=wn[t];if(fb(n))return em[t]=n.bind(wn);const r=wn.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s&&s[t]&&(n=s[t]),r.head.removeChild(i)}catch(i){IB&&ce.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,i)}return n&&(em[t]=n.bind(wn))}a(FB,"getNativeImplementation");function vT(t){em[t]=void 0}a(vT,"clearCachedImplementation");const pf="__sentry_xhr_v3__";function $B(t){const e="xhr";gl(e,t),yl(e,BB)}a($B,"addXhrInstrumentationHandler");function BB(){if(!wn.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(e,n,r){const i=new Error,s=Gr()*1e3,o=Ts(r[0])?r[0].toUpperCase():void 0,l=UB(r[1]);if(!o||!l)return e.apply(n,r);n[pf]={method:o,url:l,request_headers:{}},o==="POST"&&l.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const u=a(()=>{const c=n[pf];if(c&&n.readyState===4){try{c.status_code=n.status}catch{}const f={endTimestamp:Gr()*1e3,startTimestamp:s,xhr:n,virtualError:i};qr("xhr",f)}},"onreadystatechangeHandler");return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(c,f,h){return u(),c.apply(f,h)}}):n.addEventListener("readystatechange",u),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(c,f,h){const[p,m]=h,g=f[pf];return g&&Ts(p)&&Ts(m)&&(g.request_headers[p.toLowerCase()]=m),c.apply(f,h)}}),e.apply(n,r)}}),t.send=new Proxy(t.send,{apply(e,n,r){const i=n[pf];if(!i)return e.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const s={startTimestamp:Gr()*1e3,xhr:n};return qr("xhr",s),e.apply(n,r)}})}a(BB,"instrumentXHR");function UB(t){if(Ts(t))return t;try{return t.toString()}catch{}}a(UB,"parseUrl");function zB(t,e=FB("fetch")){let n=0,r=0;function i(s){const o=s.body.length;n+=o,r++;const l={body:s.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};if(!e)return vT("fetch"),xm("No fetch implementation available");try{return e(t.url,l).then(u=>(n-=o,r--,{statusCode:u.status,headers:{"x-sentry-rate-limits":u.headers.get("X-Sentry-Rate-Limits"),"retry-after":u.headers.get("Retry-After")}}))}catch(u){return vT("fetch"),n-=o,r--,xm(u)}}return a(i,"makeRequest"),O$(t,i)}a(zB,"makeFetchTransport");const jB=30,VB=50;function yb(t,e,n,r){const i={filename:t,function:e==="<anonymous>"?Fa:e,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}a(yb,"createFrame");const WB=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,HB=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,qB=/\((\S*)(?::(\d+))(?::(\d+))\)/,GB=a(t=>{const e=WB.exec(t);if(e){const[,r,i,s]=e;return yb(r,Fa,+i,+s)}const n=HB.exec(t);if(n){if(n[2]&&n[2].indexOf("eval")===0){const o=qB.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}const[i,s]=oN(n[1]||Fa,n[2]);return yb(s,i,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},"chromeStackParserFn"),KB=[jB,GB],YB=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,JB=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,XB=a(t=>{const e=YB.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const s=JB.exec(e[3]);s&&(e[1]=e[1]||"eval",e[3]=s[1],e[4]=s[2],e[5]="")}let r=e[3],i=e[1]||Fa;return[i,r]=oN(i,r),yb(r,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},"gecko$1"),ZB=[VB,XB],QB=[KB,ZB],eU=vO(...QB),oN=a((t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:Fa,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]},"extractSafariExtensionDetails"),fp=1024,tU="Breadcrumbs",nU=a((t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:tU,setup(n){e.console&&Q$(oU(n)),e.dom&&OB(sU(n,e.dom)),e.xhr&&$B(aU(n)),e.fetch&&uB(lU(n)),e.history&&sN(uU(n)),e.sentry&&n.on("beforeSendEvent",iU(n))}}},"_breadcrumbsIntegration"),rU=nU;function iU(t){return a(function(n){kt()===t&&Ua({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:eo(n)},{event:n})},"addSentryBreadcrumb")}a(iU,"_getSentryBreadcrumbHandler");function sU(t,e){return a(function(r){if(kt()!==t)return;let i,s,o=typeof e=="object"?e.serializeAttribute:void 0,l=typeof e=="object"&&typeof e.maxStringLength=="number"?e.maxStringLength:void 0;l&&l>fp&&(Xh&&ce.warn(`\`dom.maxStringLength\` cannot exceed ${fp}, but a value of ${l} was configured. Sentry will use ${fp} instead.`),l=fp),typeof o=="string"&&(o=[o]);try{const c=r.event,f=cU(c)?c.target:c;i=TO(f,{keyAttrs:o,maxStringLength:l}),s=N5(f)}catch{i="<unknown>"}if(i.length===0)return;const u={category:`ui.${r.name}`,message:i};s&&(u.data={"ui.component_name":s}),Ua(u,{event:r.event,name:r.name,global:r.global})},"_innerDomBreadcrumb")}a(sU,"_getDomBreadcrumbHandler");function oU(t){return a(function(n){if(kt()!==t)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:tB(n.level),message:jA(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${jA(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Ua(r,{input:n.args,level:n.level})},"_consoleBreadcrumb")}a(oU,"_getConsoleBreadcrumbHandler");function aU(t){return a(function(n){if(kt()!==t)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[pf];if(!r||!i||!s)return;const{method:o,url:l,status_code:u,body:c}=s,f={method:o,url:l,status_code:u},h={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i},p=tN(u);Ua({category:"xhr",data:f,type:"http",level:p},h)},"_xhrBreadcrumb")}a(aU,"_getXhrBreadcrumbHandler");function lU(t){return a(function(n){if(kt()!==t)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};Ua({category:"fetch",data:s,level:"error",type:"http"},o)}else{const s=n.response,o={...n.fetchData,status_code:s&&s.status},l={input:n.args,response:s,startTimestamp:r,endTimestamp:i},u=tN(o.status_code);Ua({category:"fetch",data:o,type:"http",level:u},l)}},"_fetchBreadcrumb")}a(lU,"_getFetchBreadcrumbHandler");function uU(t){return a(function(n){if(kt()!==t)return;let r=n.from,i=n.to;const s=c1(rt.location.href);let o=r?c1(r):void 0;const l=c1(i);(!o||!o.path)&&(o=s),s.protocol===l.protocol&&s.host===l.host&&(i=l.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),Ua({category:"navigation",data:{from:r,to:i}})},"_historyBreadcrumb")}a(uU,"_getHistoryBreadcrumbHandler");function cU(t){return!!t&&!!t.target}a(cU,"_isEvent");const fU=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],hU="BrowserApiErrors",dU=a((t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:hU,setupOnce(){e.setTimeout&&tr(rt,"setTimeout",ST),e.setInterval&&tr(rt,"setInterval",ST),e.requestAnimationFrame&&tr(rt,"requestAnimationFrame",mU),e.XMLHttpRequest&&"XMLHttpRequest"in rt&&tr(XMLHttpRequest.prototype,"send",gU);const n=e.eventTarget;n&&(Array.isArray(n)?n:fU).forEach(yU)}}},"_browserApiErrorsIntegration"),pU=dU;function ST(t){return function(...e){const n=e[0];return e[0]=xu(n,{mechanism:{data:{function:Ro(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}a(ST,"_wrapTimeFunction");function mU(t){return function(e){return t.apply(this,[xu(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Ro(t)},handled:!1,type:"instrument"}})])}}a(mU,"_wrapRAF");function gU(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&tr(n,i,function(s){const o={mechanism:{data:{function:i,handler:Ro(s)},handled:!1,type:"instrument"}},l=PE(s);return l&&(o.mechanism.data.handler=Ro(l)),xu(s,o)})}),t.apply(this,e)}}a(gU,"_wrapXHR");function yU(t){const n=rt[t],r=n&&n.prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(tr(r,"addEventListener",function(i){return function(s,o,l){try{_U(o)&&(o.handleEvent=xu(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ro(o),target:t},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[s,xu(o,{mechanism:{data:{function:"addEventListener",handler:Ro(o),target:t},handled:!1,type:"instrument"}}),l])}}),tr(r,"removeEventListener",function(i){return function(s,o,l){try{const u=o.__sentry_wrapped__;u&&i.call(this,s,u,l)}catch{}return i.call(this,s,o,l)}}))}a(yU,"_wrapEventTarget");function _U(t){return typeof t.handleEvent=="function"}a(_U,"isEventListenerObject");const bU=()=>({name:"BrowserSession",setupOnce(){if(typeof rt.document>"u"){Xh&&ce.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}lT({ignoreDuration:!0}),uT(),sN(({from:t,to:e})=>{t!==void 0&&t!==e&&(lT({ignoreDuration:!0}),uT())})}}),wU="GlobalHandlers",EU=a((t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:wU,setupOnce(){Error.stackTraceLimit=50},setup(n){e.onerror&&(SU(n),kT("onerror")),e.onunhandledrejection&&(kU(n),kT("onunhandledrejection"))}}},"_globalHandlersIntegration"),vU=EU;function SU(t){E5(e=>{const{stackParser:n,attachStacktrace:r}=aN();if(kt()!==t||rN())return;const{msg:i,url:s,line:o,column:l,error:u}=e,c=xU(WE(n,u||i,void 0,r,!1),s,o,l);c.level="error",GO(c,{originalException:u,mechanism:{handled:!1,type:"onerror"}})})}a(SU,"_installGlobalOnErrorHandler");function kU(t){S5(e=>{const{stackParser:n,attachStacktrace:r}=aN();if(kt()!==t||rN())return;const i=AU(e),s=DE(i)?TU(i):WE(n,i,void 0,r,!0);s.level="error",GO(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}a(kU,"_installGlobalOnUnhandledRejectionHandler");function AU(t){if(DE(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}a(AU,"_getUnhandledRejectionError");function TU(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}a(TU,"_eventFromRejectionWithPrimitive");function xU(t,e,n,r){const i=t.exception=t.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},l=o.stacktrace=o.stacktrace||{},u=l.frames=l.frames||[],c=r,f=n,h=Ts(e)&&e.length>0?e:O5();return u.length===0&&u.push({colno:c,filename:h,function:Fa,in_app:!0,lineno:f}),t}a(xU,"_enhanceEventWithInitialFrame");function kT(t){Xh&&ce.log(`Global Handler attached: ${t}`)}a(kT,"globalHandlerLog");function aN(){const t=kt();return t&&t.getOptions()||{stackParser:a(()=>[],"stackParser"),attachStacktrace:!1}}a(aN,"getOptions");const CU=()=>({name:"HttpContext",preprocessEvent(t){if(!rt.navigator&&!rt.location&&!rt.document)return;const e=t.request&&t.request.url||rt.location&&rt.location.href,{referrer:n}=rt.document||{},{userAgent:r}=rt.navigator||{},i={...t.request&&t.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...t.request,...e&&{url:e},headers:i};t.request=s}}),IU="cause",RU=5,OU="LinkedErrors",NU=a((t={})=>{const e=t.limit||RU,n=t.key||IU;return{name:OU,preprocessEvent(r,i,s){const o=s.getOptions();X$(jE,o.stackParser,o.maxValueLength,n,e,r,i)}}},"_linkedErrorsIntegration"),DU=NU;function MU(t){const e=[U$(),L$(),pU(),rU(),vU(),DU(),iB(),CU()];return t.autoSessionTracking!==!1&&e.push(bU()),e}a(MU,"getDefaultIntegrations");function PU(t={}){const e={defaultIntegrations:MU(t),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:rt.SENTRY_RELEASE&&rt.SENTRY_RELEASE.id?rt.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return t.defaultIntegrations==null&&delete t.defaultIntegrations,{...e,...t}}a(PU,"applyDefaultOptions");function LU(){const t=typeof rt.window<"u"&&rt;if(!t)return!1;const e=t.chrome?"chrome":"browser",n=t[e],r=n&&n.runtime&&n.runtime.id,i=rt.location&&rt.location.href||"",s=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],o=!!r&&rt===rt.top&&s.some(u=>i.startsWith(`${u}//`)),l=typeof t.nw<"u";return!!r&&!o&&!l}a(LU,"shouldShowBrowserExtensionError");function ove(t={}){const e=PU(t);if(!e.skipBrowserExtensionCheck&&LU()){ml(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}Xh&&(nN()||ce.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const n={...e,stackParser:b5(e.stackParser||eU),integrations:g$(e),transport:e.transport||zB};return v$(CB,n)}a(ove,"init$3");/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=a(()=>{},"getDefaultsFromPostinstall");var AT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te=a(function(t,e){if(!t)throw sc(e)},"assert"),sc=a(function(t){return new Error("Firebase Database ("+lN.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},"assertionError");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=a(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},"stringToByteArray$1"),$U=a(function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},"byteArrayToString"),M0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=s>>2,h=(s&3)<<4|l>>4;let p=(l&15)<<2|c>>6,m=c&63;u||(m=64,o||(p=64)),r.push(n[f],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$U(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||h==null)throw new BU;const p=s<<2|l>>4;if(r.push(p),c!==64){const m=l<<4&240|c>>2;if(r.push(m),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BU extends Error{static{a(this,"DecodeBase64StringError")}constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cN=a(function(t){const e=uN(t);return M0.encodeByteArray(e,!0)},"base64Encode"),fN=a(function(t){return cN(t).replace(/\./g,"")},"base64urlEncodeWithoutPadding"),Nm=a(function(t){try{return M0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},"base64Decode");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(t){return hN(void 0,t)}a(UU,"deepCopy");function hN(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!zU(n)||(t[n]=hN(t[n],e[n]));return t}a(hN,"deepExtend");function zU(t){return t!=="__proto__"}a(zU,"isValidKey$1");/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}a(jU,"getGlobal$1");/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=a(()=>jU().__FIREBASE_DEFAULTS__,"getDefaultsFromGlobal"),WU=a(()=>{if(typeof process>"u"||typeof AT>"u")return;const t=AT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},"getDefaultsFromEnvVariable"),HU=a(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nm(t[1]);return e&&JSON.parse(e)},"getDefaultsFromCookie"),dN=a(()=>{try{return FU()||VU()||WU()||HU()}catch(t){`${t}`;return}},"getDefaults"),pN=a(()=>{var t;return(t=dN())===null||t===void 0?void 0:t.config},"getDefaultAppConfig"),qU=a(t=>{var e;return(e=dN())===null||e===void 0?void 0:e[`_${t}`]},"getExperimentalSetting");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{static{a(this,"Deferred")}constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}a(xn,"getUA");function HE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xn())}a(HE,"isMobileCordova");function GU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}a(GU,"isCloudflareWorker");function KU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}a(KU,"isBrowserExtension");function mN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}a(mN,"isReactNative");function YU(){const t=xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}a(YU,"isIE");function gN(){return lN.NODE_ADMIN===!0}a(gN,"isNodeSdk");function yN(){try{return typeof indexedDB=="object"}catch{return!1}}a(yN,"isIndexedDBAvailable");function JU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}a(JU,"validateIndexedDBOpenable");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU="FirebaseError";class Ki extends Error{static{a(this,"FirebaseError")}constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XU,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oc.prototype.create)}}class oc{static{a(this,"ErrorFactory")}constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ZU(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ki(i,l,r)}}function ZU(t,e){return t.replace(QU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}a(ZU,"replaceTemplate");const QU=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t){return JSON.parse(t)}a(Qf,"jsonEval");function Zt(t){return JSON.stringify(t)}a(Zt,"stringify");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=a(function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Qf(Nm(s[0])||""),n=Qf(Nm(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},"decode$2"),e7=a(function(t){const e=_N(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},"isValidFormat"),t7=a(function(t){const e=_N(t).claims;return typeof e=="object"&&e.admin===!0},"isAdmin");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}a($s,"contains");function Cu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}a(Cu,"safeGet");function _b(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}a(_b,"isEmpty$3");function Dm(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}a(Dm,"map$3");function Mm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(TT(s)&&TT(o)){if(!Mm(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}a(Mm,"deepEqual");function TT(t){return t!==null&&typeof t=="object"}a(TT,"isObject$5");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}a(ac,"querystring");function mf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}a(mf,"querystringDecode");function gf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}a(gf,"extractQuerystring");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{static{a(this,"Sha1")}constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const p=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(p<<1|p>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],u=this.chain_[4],c,f;for(let h=0;h<80;h++){h<40?h<20?(c=l^s&(o^l),f=1518500249):(c=s^o^l,f=1859775393):h<60?(c=s&o|l&(s|o),f=2400959708):(c=s^o^l,f=3395469782);const p=(i<<5|i>>>27)+c+u+f+r[h]&4294967295;u=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=p}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function r7(t,e){const n=new i7(t,e);return n.subscribe.bind(n)}a(r7,"createSubscribe");class i7{static{a(this,"ObserverProxy")}constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");s7(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=h1),i.error===void 0&&(i.error=h1),i.complete===void 0&&(i.complete=h1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}a(s7,"implementsAnyMethods");function h1(){}a(h1,"noop$6");function o7(t,e){return`${t} failed: ${e} argument `}a(o7,"errorPrefix");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=a(function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,te(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},"stringToByteArray"),P0=a(function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},"stringLength");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t){return t&&t._delegate?t._delegate:t}a(Rr,"getModularInstance");class ri{static{a(this,"Component")}constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{static{a(this,"Provider")}constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Zf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c7(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:u7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u7(t){return t===ca?void 0:t}a(u7,"normalizeIdentifierForFactory");function c7(t){return t.instantiationMode==="EAGER"}a(c7,"isComponentEager");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{static{a(this,"ComponentContainer")}constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new l7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const h7={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},d7=Ge.INFO,p7={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},m7=a((t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=p7[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},"defaultLogHandler");class Zh{static{a(this,"Logger")}constructor(e){this.name=e,this._logLevel=d7,this._logHandler=m7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const g7=a((t,e)=>e.some(n=>t instanceof n),"instanceOfAny");let xT,CT;function y7(){return xT||(xT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}a(y7,"getIdbProxyableTypes");function _7(){return CT||(CT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}a(_7,"getCursorAdvanceMethods");const bN=new WeakMap,bb=new WeakMap,wN=new WeakMap,d1=new WeakMap,qE=new WeakMap;function b7(t){const e=new Promise((n,r)=>{const i=a(()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},"unlisten"),s=a(()=>{n(vo(t.result)),i()},"success"),o=a(()=>{r(t.error),i()},"error");t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bN.set(n,t)}).catch(()=>{}),qE.set(e,t),e}a(b7,"promisifyRequest");function w7(t){if(bb.has(t))return;const e=new Promise((n,r)=>{const i=a(()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},"unlisten"),s=a(()=>{n(),i()},"complete"),o=a(()=>{r(t.error||new DOMException("AbortError","AbortError")),i()},"error");t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});bb.set(t,e)}a(w7,"cacheDonePromiseForTransaction");let wb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function E7(t){wb=t(wb)}a(E7,"replaceTraps");function v7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(p1(this),e,...n);return wN.set(r,e.sort?e.sort():[e]),vo(r)}:_7().includes(t)?function(...e){return t.apply(p1(this),e),vo(bN.get(this))}:function(...e){return vo(t.apply(p1(this),e))}}a(v7,"wrapFunction");function S7(t){return typeof t=="function"?v7(t):(t instanceof IDBTransaction&&w7(t),g7(t,y7())?new Proxy(t,wb):t)}a(S7,"transformCachableValue");function vo(t){if(t instanceof IDBRequest)return b7(t);if(d1.has(t))return d1.get(t);const e=S7(t);return e!==t&&(d1.set(t,e),qE.set(e,t)),e}a(vo,"wrap$4");const p1=a(t=>qE.get(t),"unwrap");function k7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=vo(o);return r&&o.addEventListener("upgradeneeded",u=>{r(vo(o.result),u.oldVersion,u.newVersion,vo(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}a(k7,"openDB");const A7=["get","getKey","getAll","getAllKeys","count"],T7=["put","add","delete","clear"],m1=new Map;function IT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(m1.get(e))return m1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=T7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||A7.includes(n)))return;const s=a(async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]},"method");return m1.set(e,s),s}a(IT,"getMethod");E7(t=>({...t,get:a((e,n,r)=>IT(e,n)||t.get(e,n,r),"get"),has:a((e,n)=>!!IT(e,n)||t.has(e,n),"has")}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{static{a(this,"PlatformLoggerServiceImpl")}constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(C7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function C7(t){const e=t.getComponent();return e?.type==="VERSION"}a(C7,"isVersionServiceProvider");const Eb="@firebase/app",RT="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new Zh("@firebase/app"),I7="@firebase/app-compat",R7="@firebase/analytics-compat",O7="@firebase/analytics",N7="@firebase/app-check-compat",D7="@firebase/app-check",M7="@firebase/auth",P7="@firebase/auth-compat",L7="@firebase/database",F7="@firebase/data-connect",$7="@firebase/database-compat",B7="@firebase/functions",U7="@firebase/functions-compat",z7="@firebase/installations",j7="@firebase/installations-compat",V7="@firebase/messaging",W7="@firebase/messaging-compat",H7="@firebase/performance",q7="@firebase/performance-compat",G7="@firebase/remote-config",K7="@firebase/remote-config-compat",Y7="@firebase/storage",J7="@firebase/storage-compat",X7="@firebase/firestore",Z7="@firebase/vertexai",Q7="@firebase/firestore-compat",ez="firebase",tz="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="[DEFAULT]",nz={[Eb]:"fire-core",[I7]:"fire-core-compat",[O7]:"fire-analytics",[R7]:"fire-analytics-compat",[D7]:"fire-app-check",[N7]:"fire-app-check-compat",[M7]:"fire-auth",[P7]:"fire-auth-compat",[L7]:"fire-rtdb",[F7]:"fire-data-connect",[$7]:"fire-rtdb-compat",[B7]:"fire-fn",[U7]:"fire-fn-compat",[z7]:"fire-iid",[j7]:"fire-iid-compat",[V7]:"fire-fcm",[W7]:"fire-fcm-compat",[H7]:"fire-perf",[q7]:"fire-perf-compat",[G7]:"fire-rc",[K7]:"fire-rc-compat",[Y7]:"fire-gcs",[J7]:"fire-gcs-compat",[X7]:"fire-fst",[Q7]:"fire-fst-compat",[Z7]:"fire-vertex","fire-js":"fire-js",[ez]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=new Map,rz=new Map,Sb=new Map;function OT(t,e){try{t.container.addComponent(e)}catch(n){Os.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}a(OT,"_addComponent");function Li(t){const e=t.name;if(Sb.has(e))return Os.debug(`There were multiple attempts to register component ${e}.`),!1;Sb.set(e,t);for(const n of Pm.values())OT(n,t);for(const n of rz.values())OT(n,t);return!0}a(Li,"_registerComponent");function iz(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}a(iz,"_getProvider");function En(t){return t==null?!1:t.settings!==void 0}a(En,"_isFirebaseServerApp");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},So=new oc("app","Firebase",sz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{static{a(this,"FirebaseAppImpl")}constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=tz;function az(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:vb,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw So.create("bad-app-name",{appName:String(i)});if(n||(n=pN()),!n)throw So.create("no-options");const s=Pm.get(i);if(s){if(Mm(n,s.options)&&Mm(r,s.config))return s;throw So.create("duplicate-app",{appName:i})}const o=new f7(i);for(const u of Sb.values())o.addComponent(u);const l=new oz(n,r,o);return Pm.set(i,l),l}a(az,"initializeApp");function ave(t=vb){const e=Pm.get(t);if(!e&&t===vb&&pN())return az();if(!e)throw So.create("no-app",{appName:t});return e}a(ave,"getApp");function nr(t,e,n){var r;let i=(r=nz[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Os.warn(l.join(" "));return}Li(new ri(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}a(nr,"registerVersion");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz="firebase-heartbeat-database",uz=1,eh="firebase-heartbeat-store";let g1=null;function EN(){return g1||(g1=k7(lz,uz,{upgrade:a((t,e)=>{switch(e){case 0:try{t.createObjectStore(eh)}catch(n){console.warn(n)}}},"upgrade")}).catch(t=>{throw So.create("idb-open",{originalErrorMessage:t.message})})),g1}a(EN,"getDbPromise");async function cz(t){try{const n=(await EN()).transaction(eh),r=await n.objectStore(eh).get(vN(t));return await n.done,r}catch(e){if(e instanceof Ki)Os.warn(e.message);else{const n=So.create("idb-get",{originalErrorMessage:e?.message});Os.warn(n.message)}}}a(cz,"readHeartbeatsFromIndexedDB");async function NT(t,e){try{const r=(await EN()).transaction(eh,"readwrite");await r.objectStore(eh).put(e,vN(t)),await r.done}catch(n){if(n instanceof Ki)Os.warn(n.message);else{const r=So.create("idb-set",{originalErrorMessage:n?.message});Os.warn(r.message)}}}a(NT,"writeHeartbeatsToIndexedDB");function vN(t){return`${t.name}!${t.options.appId}`}a(vN,"computeKey$1");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz=1024,hz=30;class dz{static{a(this,"HeartbeatServiceImpl")}constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mz(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=DT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>hz){const o=gz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Os.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=DT(),{heartbeatsToSend:r,unsentEntries:i}=pz(this._heartbeatsCache.heartbeats),s=fN(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Os.warn(n),""}}}function DT(){return new Date().toISOString().substring(0,10)}a(DT,"getUTCDateString");function pz(t,e=fz){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),MT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),MT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}a(pz,"extractHeartbeatsForHeader");class mz{static{a(this,"HeartbeatStorageImpl")}constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yN()?JU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cz(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return NT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return NT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function MT(t){return fN(JSON.stringify({version:2,heartbeats:t})).length}a(MT,"countBytes");function gz(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}a(gz,"getEarliestHeartbeatIdx");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(t){Li(new ri("platform-logger",e=>new x7(e),"PRIVATE")),Li(new ri("heartbeat",e=>new dz(e),"PRIVATE")),nr(Eb,RT,t),nr(Eb,RT,"esm2017"),nr("fire-js","")}a(yz,"registerCoreComponents");yz("");var _z="firebase",bz="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr(_z,bz,"app");function GE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}a(GE,"__rest");function SN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}a(SN,"_prodErrorMap");const wz=SN,kN=new oc("auth","Firebase",SN()),lve={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type",INVALID_HOSTING_LINK_DOMAIN:"auth/invalid-hosting-link-domain"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=new Zh("@firebase/auth");function Ez(t,...e){Lm.logLevel<=Ge.WARN&&Lm.warn(`Auth (${Go}): ${t}`,...e)}a(Ez,"_logWarn");function tm(t,...e){Lm.logLevel<=Ge.ERROR&&Lm.error(`Auth (${Go}): ${t}`,...e)}a(tm,"_logError");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,...e){throw YE(t,...e)}a(Tr,"_fail");function Kr(t,...e){return YE(t,...e)}a(Kr,"_createError");function KE(t,e,n){const r=Object.assign(Object.assign({},wz()),{[e]:n});return new oc("auth","Firebase",r).create(e,{appName:t.name})}a(KE,"_errorWithCustomMessage");function xs(t){return KE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}a(xs,"_serverAppCurrentUserOperationNotSupportedError");function vz(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Tr(t,"argument-error"),KE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}a(vz,"_assertInstanceOf");function YE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kN.create(t,...e)}a(YE,"createErrorInternal");function ye(t,e,...n){if(!t)throw YE(e,...n)}a(ye,"_assert");function vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tm(e),new Error(e)}a(vs,"debugFail");function Ns(t,e){t||vs(e)}a(Ns,"debugAssert");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}a(kb,"_getCurrentUrl");function Sz(){return PT()==="http:"||PT()==="https:"}a(Sz,"_isHttpOrHttps");function PT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}a(PT,"_getCurrentScheme");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Sz()||KU()||"connection"in navigator)?navigator.onLine:!0}a(kz,"_isOnline");function Az(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}a(Az,"_getUserLanguage");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{static{a(this,"Delay")}constructor(e,n){this.shortDelay=e,this.longDelay=n,Ns(n>e,"Short delay should be less than long delay!"),this.isMobile=HE()||mN()}get(){return kz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t,e){Ns(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}a(JE,"_emulatorUrl");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{static{a(this,"FetchProvider")}static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Cz=new Qh(3e4,6e4);function Bs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}a(Bs,"_addTidIfNecessary");async function Yi(t,e,n,r,i={}){return TN(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=ac(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return GU()||(c.referrerPolicy="no-referrer"),AN.fetch()(await xN(t,t.config.apiHost,n,l),c)})}a(Yi,"_performApiRequest");async function TN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Tz),e);try{const i=new Rz(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw hp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw hp(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw hp(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw hp(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw KE(t,f,c);Tr(t,f)}}catch(i){if(i instanceof Ki)throw i;Tr(t,"network-request-failed",{message:String(i)})}}a(TN,"_performFetchWithErrorHandling");async function ed(t,e,n,r,i={}){const s=await Yi(t,e,n,r,i);return"mfaPendingCredential"in s&&Tr(t,"multi-factor-auth-required",{_serverResponse:s}),s}a(ed,"_performSignInRequest");async function xN(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?JE(t.config,i):`${t.config.apiScheme}://${i}`;return xz.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}a(xN,"_getFinalTarget");function Iz(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}a(Iz,"_parseEnforcementState");class Rz{static{a(this,"NetworkTimeout")}clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kr(this.auth,"network-request-failed")),Cz.get())})}}function hp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kr(t,e,r);return i.customData._tokenResponse=n,i}a(hp,"_makeTaggedError");function LT(t){return t!==void 0&&t.enterprise!==void 0}a(LT,"isEnterprise");class Oz{static{a(this,"RecaptchaConfig")}constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Iz(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Nz(t,e){return Yi(t,"GET","/v2/recaptchaConfig",Bs(t,e))}a(Nz,"getRecaptchaConfig");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dz(t,e){return Yi(t,"POST","/v1/accounts:delete",e)}a(Dz,"deleteAccount");async function Fm(t,e){return Yi(t,"POST","/v1/accounts:lookup",e)}a(Fm,"getAccountInfo");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}a(If,"utcTimestampToDateString");async function Mz(t,e=!1){const n=Rr(t),r=await n.getIdToken(e),i=XE(r);ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:If(y1(i.auth_time)),issuedAtTime:If(y1(i.iat)),expirationTime:If(y1(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}a(Mz,"getIdTokenResult");function y1(t){return Number(t)*1e3}a(y1,"secondsStringToMilliseconds");function XE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return tm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Nm(n);return i?JSON.parse(i):(tm("Failed to decode base64 JWT payload"),null)}catch(i){return tm("Caught error parsing JWT payload as JSON",i?.toString()),null}}a(XE,"_parseToken");function FT(t){const e=XE(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}a(FT,"_tokenExpiresIn");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ki&&Pz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}a(Iu,"_logoutIfInvalidated");function Pz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}a(Pz,"isUserInvalidated");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{static{a(this,"ProactiveRefresh")}constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{static{a(this,"UserMetadata")}constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=If(this.lastLoginAt),this.creationTime=If(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $m(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Iu(t,Fm(n,{idToken:r}));ye(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?CN(s.providerUserInfo):[],l=$z(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!l?.length,f=u?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Ab(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,h)}a($m,"_reloadWithoutSaving");async function Fz(t){const e=Rr(t);await $m(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}a(Fz,"reload");function $z(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}a($z,"mergeProviderData");function CN(t){return t.map(e=>{var{providerId:n}=e,r=GE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}a(CN,"extractProviderData");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bz(t,e){const n=await TN(t,{},async()=>{const r=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await xN(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",AN.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}a(Bz,"requestStsToken");async function Uz(t,e){return Yi(t,"POST","/v2/accounts:revokeToken",Bs(t,e))}a(Uz,"revokeToken");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{static{a(this,"StsTokenManager")}constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=FT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Bz(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ou;return r&&(ye(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ye(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ou,this.toJSON())}_performRefresh(){return vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}a(Gs,"assertStringOrUndefined");class zr{static{a(this,"UserImpl")}constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=GE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ab(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Iu(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Mz(this,e)}reload(){return Fz(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $m(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject(xs(this.auth));const e=await this.getIdToken();return await Iu(this,Dz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,c,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(l=n.tenantId)!==null&&l!==void 0?l:void 0,_=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,S=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:T,emailVerified:N,isAnonymous:O,providerData:M,stsTokenManager:k}=n;ye(T&&k,e,"internal-error");const v=ou.fromJSON(this.name,k);ye(typeof T=="string",e,"internal-error"),Gs(h,e.name),Gs(p,e.name),ye(typeof N=="boolean",e,"internal-error"),ye(typeof O=="boolean",e,"internal-error"),Gs(m,e.name),Gs(g,e.name),Gs(y,e.name),Gs(_,e.name),Gs(w,e.name),Gs(S,e.name);const A=new zr({uid:T,auth:e,email:p,emailVerified:N,displayName:h,isAnonymous:O,photoURL:g,phoneNumber:m,tenantId:y,stsTokenManager:v,createdAt:w,lastLoginAt:S});return M&&Array.isArray(M)&&(A.providerData=M.map(C=>Object.assign({},C))),_&&(A._redirectEventId=_),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new ou;i.updateFromServerResponse(n);const s=new zr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await $m(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ye(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?CN(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,l=new ou;l.updateFromIdToken(r);const u=new zr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ab(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=new Map;function Ss(t){Ns(t instanceof Function,"Expected a class definition");let e=$T.get(t);return e?(Ns(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$T.set(t,e),e)}a(Ss,"_getInstance");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{static{a(this,"InMemoryPersistence")}constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IN.type="NONE";const BT=IN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t,e,n){return`firebase:${t}:${e}:${n}`}a(nm,"_persistenceKeyName");class au{static{a(this,"PersistenceUserManager")}constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=nm(this.userKey,i.apiKey,s),this.fullPersistenceKey=nm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fm(this.auth,{idToken:e}).catch(()=>{});return n?zr._fromGetAccountInfoResponse(this.auth,n,e):null}return zr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new au(Ss(BT),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ss(BT);const o=nm(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const f=await c._get(o);if(f){let h;if(typeof f=="string"){const p=await Fm(e,{idToken:f}).catch(()=>{});if(!p)break;h=await zr._fromGetAccountInfoResponse(e,p,f)}else h=zr._fromJSON(e,f);c!==s&&(l=h),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new au(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new au(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PN(e))return"Blackberry";if(LN(e))return"Webos";if(ON(e))return"Safari";if((e.includes("chrome/")||NN(e))&&!e.includes("edge/"))return"Chrome";if(MN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}a(UT,"_getBrowserName");function RN(t=xn()){return/firefox\//i.test(t)}a(RN,"_isFirefox");function ON(t=xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}a(ON,"_isSafari");function NN(t=xn()){return/crios\//i.test(t)}a(NN,"_isChromeIOS");function DN(t=xn()){return/iemobile/i.test(t)}a(DN,"_isIEMobile");function MN(t=xn()){return/android/i.test(t)}a(MN,"_isAndroid");function PN(t=xn()){return/blackberry/i.test(t)}a(PN,"_isBlackBerry");function LN(t=xn()){return/webos/i.test(t)}a(LN,"_isWebOS");function ZE(t=xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}a(ZE,"_isIOS");function zz(t=xn()){var e;return ZE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}a(zz,"_isIOSStandalone");function jz(){return YU()&&document.documentMode===10}a(jz,"_isIE10");function FN(t=xn()){return ZE(t)||MN(t)||LN(t)||PN(t)||/windows phone/i.test(t)||DN(t)}a(FN,"_isMobileBrowser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t,e=[]){let n;switch(t){case"Browser":n=UT(xn());break;case"Worker":n=`${UT(xn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Go}/${r}`}a($N,"_getClientVersion");/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{static{a(this,"AuthMiddlewareQueue")}constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a(s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}}),"wrappedCallback");r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wz(t,e={}){return Yi(t,"GET","/v2/passwordPolicy",Bs(t,e))}a(Wz,"_getPasswordPolicy");/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=6;class qz{static{a(this,"PasswordPolicyImpl")}constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Hz,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{static{a(this,"AuthImpl")}constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zT(this),this.idTokenSubscription=new zT(this),this.beforeStateQueue=new Vz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ss(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await au.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fm(this,{idToken:e}),r=await zr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(En(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $m(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Az()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(En(this.app))return Promise.reject(xs(this));const n=e?Rr(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject(xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return En(this.app)?Promise.reject(xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Wz(this),n=new qz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Uz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ss(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await au.create(this,[Ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$N(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&Ez(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Ko(t){return Rr(t)}a(Ko,"_castAuth");class zT{static{a(this,"Subscription")}constructor(e){this.auth=e,this.observer=null,this.addObserver=r7(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kz(t){L0=t}a(Kz,"_setExternalJSProvider");function BN(t){return L0.loadJS(t)}a(BN,"_loadJS");function Yz(){return L0.recaptchaEnterpriseScript}a(Yz,"_recaptchaEnterpriseScriptUrl");function Jz(){return L0.gapiScript}a(Jz,"_gapiScriptUrl");function Xz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}a(Xz,"_generateCallbackName");class Zz{static{a(this,"MockGreCAPTCHATopLevel")}constructor(){this.enterprise=new Qz}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Qz{static{a(this,"MockGreCAPTCHA")}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ej="recaptcha-enterprise",UN="NO_RECAPTCHA";class tj{static{a(this,"RecaptchaEnterpriseVerifier")}constructor(e){this.type=ej,this.auth=Ko(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{Nz(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new Oz(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{l(u)})})}a(r,"retrieveSiteKey");function i(s,o,l){const u=window.grecaptcha;LT(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(UN)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return a(i,"retrieveRecaptchaToken"),this.auth.settings.appVerificationDisabledForTesting?new Zz().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&LT(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Yz();u.length!==0&&(u+=l),BN(u).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function jT(t,e,n,r=!1,i=!1){const s=new tj(t);let o;if(i)o=UN;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}a(jT,"injectRecaptchaFields");async function Bm(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await jT(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){`${n}`;const l=await jT(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}a(Bm,"handleRecaptchaFlow");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uve(t,e){const n=iz(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Mm(s,e??{}))return i;Tr(i,"already-initialized")}return n.initialize({options:e})}a(uve,"initializeAuth");function nj(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ss);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}a(nj,"_initializeAuthInstance");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{static{a(this,"AuthCredential")}constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,n){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}async function rj(t,e){return Yi(t,"POST","/v1/accounts:update",e)}a(rj,"updateEmailPassword");async function ij(t,e){return Yi(t,"POST","/v1/accounts:signUp",e)}a(ij,"linkEmailPassword");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sj(t,e){return ed(t,"POST","/v1/accounts:signInWithPassword",Bs(t,e))}a(sj,"signInWithPassword");async function oj(t,e){return Yi(t,"POST","/v1/accounts:sendOobCode",Bs(t,e))}a(oj,"sendOobCode");async function aj(t,e){return oj(t,e)}a(aj,"sendPasswordResetEmail$1");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(t,e){return ed(t,"POST","/v1/accounts:signInWithEmailLink",Bs(t,e))}a(lj,"signInWithEmailLink$1");async function uj(t,e){return ed(t,"POST","/v1/accounts:signInWithEmailLink",Bs(t,e))}a(uj,"signInWithEmailLinkForLinking");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends QE{static{a(this,"EmailAuthCredential")}constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new th(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new th(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,n,"signInWithPassword",sj);case"emailLink":return lj(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,r,"signUpPassword",ij);case"emailLink":return uj(e,{idToken:n,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(t,e){return ed(t,"POST","/v1/accounts:signInWithIdp",Bs(t,e))}a(lu,"signInWithIdp");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="http://localhost";class za extends QE{static{a(this,"OAuthCredential")}constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=GE(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new za(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return lu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,lu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lu(e,n)}buildRequest(){const e={requestUri:cj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ac(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}a(fj,"parseMode");function hj(t){const e=mf(gf(t)).link,n=e?mf(gf(e)).deep_link_id:null,r=mf(gf(t)).deep_link_id;return(r?mf(gf(r)).link:null)||r||n||e||t}a(hj,"parseDeepLink");class ev{static{a(this,"ActionCodeURL")}constructor(e){var n,r,i,s,o,l;const u=mf(gf(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,h=fj((i=u.mode)!==null&&i!==void 0?i:null);ye(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=hj(e);try{return new ev(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{static{a(this,"EmailAuthProvider")}constructor(){this.providerId=lc.PROVIDER_ID}static credential(e,n){return th._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ev.parseLink(n);return ye(r,"argument-error"),th._fromEmailAndCode(e,r.code,r.tenantId)}}lc.PROVIDER_ID="password";lc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{static{a(this,"FederatedAuthProvider")}constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends tv{static{a(this,"BaseOAuthProvider")}constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends td{static{a(this,"FacebookAuthProvider")}constructor(){super("facebook.com")}static credential(e){return za._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";oo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends td{static{a(this,"GoogleAuthProvider")}constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return za._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ao.credential(n,r)}catch{return null}}}ao.GOOGLE_SIGN_IN_METHOD="google.com";ao.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends td{static{a(this,"GithubAuthProvider")}constructor(){super("github.com")}static credential(e){return za._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lo.credential(e.oauthAccessToken)}catch{return null}}}lo.GITHUB_SIGN_IN_METHOD="github.com";lo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends td{static{a(this,"TwitterAuthProvider")}constructor(){super("twitter.com")}static credential(e,n){return za._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return uo.credential(n,r)}catch{return null}}}uo.TWITTER_SIGN_IN_METHOD="twitter.com";uo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dj(t,e){return ed(t,"POST","/v1/accounts:signUp",Bs(t,e))}a(dj,"signUp");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{static{a(this,"UserCredentialImpl")}constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await zr._fromIdTokenResponse(e,r,i),o=VT(r);return new ja({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=VT(r);return new ja({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function VT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}a(VT,"providerIdForResponse");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um extends Ki{static{a(this,"MultiFactorError")}constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Um.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Um(e,n,r,i)}}function zN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Um._fromErrorAndOperation(t,s,e,r):s})}a(zN,"_processCredentialSavingMfaContextIfNecessary");async function pj(t,e,n=!1){const r=await Iu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ja._forOperation(t,"link",r)}a(pj,"_link$1");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(t,e,n=!1){const{auth:r}=t;if(En(r.app))return Promise.reject(xs(r));const i="reauthenticate";try{const s=await Iu(t,zN(r,i,e,t),n);ye(s.idToken,r,"internal-error");const o=XE(s.idToken);ye(o,r,"internal-error");const{sub:l}=o;return ye(t.uid===l,r,"user-mismatch"),ja._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Tr(r,"user-mismatch"),s}}a(mj,"_reauthenticate");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(t,e,n=!1){if(En(t.app))return Promise.reject(xs(t));const r="signIn",i=await zN(t,r,e),s=await ja._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}a(jN,"_signInWithCredential");async function gj(t,e){return jN(Ko(t),e)}a(gj,"signInWithCredential");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(t){const e=Ko(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}a(VN,"recachePasswordPolicy");async function cve(t,e,n){const r=Ko(t);await Bm(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",aj)}a(cve,"sendPasswordResetEmail");async function fve(t,e,n){if(En(t.app))return Promise.reject(xs(t));const r=Ko(t),o=await Bm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&VN(t),u}),l=await ja._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}a(fve,"createUserWithEmailAndPassword");function hve(t,e,n){return En(t.app)?Promise.reject(xs(t)):gj(Rr(t),lc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VN(t),r})}a(hve,"signInWithEmailAndPassword");function dve(t,e){return yj(Rr(t),null,e)}a(dve,"updatePassword");async function yj(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const o=await Iu(t,rj(r,s));await t._updateTokensIfNecessary(o,!0)}a(yj,"updateEmailOrPassword");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pve(t,e){return Rr(t).setPersistence(e)}a(pve,"setPersistence");function mve(t,e,n,r){return Rr(t).onIdTokenChanged(e,n,r)}a(mve,"onIdTokenChanged");function gve(t,e,n,r){return Rr(t).onAuthStateChanged(e,n,r)}a(gve,"onAuthStateChanged");function yve(t){return Rr(t).signOut()}a(yve,"signOut");async function _ve(t){return Rr(t).delete()}a(_ve,"deleteUser");const zm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{static{a(this,"BrowserPersistenceClass")}constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zm,"1"),this.storage.removeItem(zm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=1e3,bj=10;class HN extends WN{static{a(this,"BrowserLocalPersistence")}constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=a(()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},"triggerListeners"),s=this.storage.getItem(r);jz()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,bj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_j)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HN.type="LOCAL";const bve=HN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN extends WN{static{a(this,"BrowserSessionPersistence")}constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qN.type="SESSION";const wj=qN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}a(Ej,"_allSettled");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{static{a(this,"Receiver")}constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new F0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),u=await Ej(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}F0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}a(nv,"_generateEventId");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{static{a(this,"Sender")}constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const c=nv("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return window}a(Di,"_window");function Sj(t){Di().location.href=t}a(Sj,"_setWindowLocation");/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}a(GN,"_isWorker");async function kj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}a(kj,"_getActiveServiceWorker");function Aj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}a(Aj,"_getServiceWorkerController");function Tj(){return GN()?self:null}a(Tj,"_getWorkerGlobalScope");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="firebaseLocalStorageDb",xj=1,jm="firebaseLocalStorage",YN="fbase_key";class nd{static{a(this,"DBPromise")}constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $0(t,e){return t.transaction([jm],e?"readwrite":"readonly").objectStore(jm)}a($0,"getObjectStore");function Cj(){const t=indexedDB.deleteDatabase(KN);return new nd(t).toPromise()}a(Cj,"_deleteDatabase");function Tb(){const t=indexedDB.open(KN,xj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jm,{keyPath:YN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jm)?e(r):(r.close(),await Cj(),e(await Tb()))})})}a(Tb,"_openDatabase");async function WT(t,e,n){const r=$0(t,!0).put({[YN]:e,value:n});return new nd(r).toPromise()}a(WT,"_putObject");async function Ij(t,e){const n=$0(t,!1).get(e),r=await new nd(n).toPromise();return r===void 0?null:r.value}a(Ij,"getObject");function HT(t,e){const n=$0(t,!0).delete(e);return new nd(n).toPromise()}a(HT,"_deleteObject");const Rj=800,Oj=3;class JN{static{a(this,"IndexedDBLocalPersistence")}constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Oj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=F0._getInstance(Tj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await kj(),!this.activeServiceWorker)return;this.sender=new vj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Aj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tb();return await WT(e,zm,"1"),await HT(e,zm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>WT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Ij(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>HT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=$0(i,!1).getAll();return new nd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Rj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JN.type="LOCAL";const wve=JN;new Qh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t,e){return e?Ss(e):(ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}a(XN,"_withDefaultResolver");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv extends QE{static{a(this,"IdpCredential")}constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Nj(t){return jN(t.auth,new rv(t),t.bypassAuthState)}a(Nj,"_signIn");function Dj(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),mj(n,new rv(t),t.bypassAuthState)}a(Dj,"_reauth");async function Mj(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),pj(n,new rv(t),t.bypassAuthState)}a(Mj,"_link");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{static{a(this,"AbstractPopupRedirectOperation")}constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nj;case"linkViaPopup":case"linkViaRedirect":return Mj;case"reauthViaPopup":case"reauthViaRedirect":return Dj;default:Tr(this.auth,"internal-error")}}resolve(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=new Qh(2e3,1e4);async function Eve(t,e,n){if(En(t.app))return Promise.reject(Kr(t,"operation-not-supported-in-this-environment"));const r=Ko(t);vz(t,e,tv);const i=XN(r,n);return new ga(r,"signInViaPopup",e,i).executeNotNull()}a(Eve,"signInWithPopup");class ga extends ZN{static{a(this,"PopupOperation")}constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ga.currentPopupAction&&ga.currentPopupAction.cancel(),ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const e=nv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ga.currentPopupAction=null}pollUserCancellation(){const e=a(()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Pj.get())},"poll");e()}}ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj="pendingRedirect",rm=new Map;class Fj extends ZN{static{a(this,"RedirectAction")}constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rm.get(this.auth._key());if(!e){try{const r=await $j(this.resolver,this.auth)?await super.execute():null;e=a(()=>Promise.resolve(r),"readyOutcome")}catch(n){e=a(()=>Promise.reject(n),"readyOutcome")}rm.set(this.auth._key(),e)}return this.bypassAuthState||rm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $j(t,e){const n=zj(e),r=Uj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}a($j,"_getAndClearPendingRedirectStatus");function Bj(t,e){rm.set(t._key(),e)}a(Bj,"_overrideRedirectResult");function Uj(t){return Ss(t._redirectPersistence)}a(Uj,"resolverPersistence");function zj(t){return nm(Lj,t.config.apiKey,t.name)}a(zj,"pendingRedirectKey");async function jj(t,e,n=!1){if(En(t.app))return Promise.reject(xs(t));const r=Ko(t),i=XN(r,e),o=await new Fj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}a(jj,"_getRedirectResult");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=10*60*1e3;class Wj{static{a(this,"AuthEventManager")}constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Hj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Vj&&this.cachedEventUids.clear(),this.cachedEventUids.has(qT(e))}saveEventToCache(e){this.cachedEventUids.add(qT(e)),this.lastProcessedEventTime=Date.now()}}function qT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}a(qT,"eventUid");function QN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}a(QN,"isNullRedirectEvent");function Hj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QN(t);default:return!1}}a(Hj,"isRedirectEvent");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(t,e={}){return Yi(t,"GET","/v1/projects",e)}a(qj,"_getProjectConfig");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kj=/^https?/;async function Yj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qj(t);for(const n of e)try{if(Jj(n))return}catch{}Tr(t,"unauthorized-domain")}a(Yj,"_validateOrigin");function Jj(t){const e=kb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Kj.test(n))return!1;if(Gj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}a(Jj,"matchDomain");/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=new Qh(3e4,6e4);function GT(){const t=Di().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}a(GT,"resetUnloadedGapiModules");function Zj(t){return new Promise((e,n)=>{var r,i,s;function o(){GT(),gapi.load("gapi.iframes",{callback:a(()=>{e(gapi.iframes.getContext())},"callback"),ontimeout:a(()=>{GT(),n(Kr(t,"network-request-failed"))},"ontimeout"),timeout:Xj.get()})}if(a(o,"loadGapiIframe"),!((i=(r=Di().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Di().gapi)===null||s===void 0)&&s.load)o();else{const l=Xz("iframefcb");return Di()[l]=()=>{gapi.load?o():n(Kr(t,"network-request-failed"))},BN(`${Jz()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw im=null,e})}a(Zj,"loadGapi");let im=null;function Qj(t){return im=im||Zj(t),im}a(Qj,"_loadGapi");/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=new Qh(5e3,15e3),tV="__/auth/iframe",nV="emulator/auth/iframe",rV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sV(t){const e=t.config;ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?JE(e,nV):`https://${t.config.authDomain}/${tV}`,r={apiKey:e.apiKey,appName:t.name,v:Go},i=iV.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ac(r).slice(1)}`}a(sV,"getIframeUrl");async function oV(t){const e=await Qj(t),n=Di().gapi;return ye(n,t,"internal-error"),e.open({where:document.body,url:sV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Kr(t,"network-request-failed"),l=Di().setTimeout(()=>{s(o)},eV.get());function u(){Di().clearTimeout(l),i(r)}a(u,"clearTimerAndResolve"),r.ping(u).then(u,()=>{s(o)})}))}a(oV,"_openIframe");/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lV=500,uV=600,cV="_blank",fV="http://localhost";class KT{static{a(this,"AuthPopup")}constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hV(t,e,n,r=lV,i=uV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},aV),{width:r.toString(),height:i.toString(),top:s,left:o}),c=xn().toLowerCase();n&&(l=NN(c)?cV:n),RN(c)&&(e=e||fV,u.scrollbars="yes");const f=Object.entries(u).reduce((p,[m,g])=>`${p}${m}=${g},`,"");if(zz(c)&&l!=="_self")return dV(e||"",l),new KT(null);const h=window.open(e||"",l,f);ye(h,t,"popup-blocked");try{h.focus()}catch{}return new KT(h)}a(hV,"_open");function dV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}a(dV,"openAsNewWindowIOS");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV="__/auth/handler",mV="emulator/auth/handler",gV=encodeURIComponent("fac");async function YT(t,e,n,r,i,s){ye(t.config.authDomain,t,"auth-domain-config-required"),ye(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Go,eventId:i};if(e instanceof tv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_b(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))o[f]=h}if(e instanceof td){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),c=u?`#${gV}=${encodeURIComponent(u)}`:"";return`${yV(t)}?${ac(l).slice(1)}${c}`}a(YT,"_getRedirectUrl");function yV({config:t}){return t.emulator?JE(t,mV):`https://${t.authDomain}/${pV}`}a(yV,"getHandlerBase");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="webStorageSupport";class _V{static{a(this,"BrowserPopupRedirectResolver")}constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wj,this._completeRedirectFn=jj,this._overrideRedirectResult=Bj}async _openPopup(e,n,r,i){var s;Ns((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await YT(e,n,r,kb(),i);return hV(e,o,nv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await YT(e,n,r,kb(),i);return Sj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ns(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oV(e),r=new Wj(e);return n.register("authEvent",i=>(ye(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_1,{type:_1},i=>{var s;const o=(s=i?.[0])===null||s===void 0?void 0:s[_1];o!==void 0&&n(!!o),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Yj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FN()||ON()||ZE()}}const vve=_V;var JT="@firebase/auth",XT="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{static{a(this,"AuthInterop")}constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}a(wV,"getVersionForPlatform");function EV(t){Li(new ri("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ye(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$N(t)},c=new Gz(r,i,s,u);return nj(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Li(new ri("auth-internal",e=>{const n=Ko(e.getProvider("auth").getImmediate());return(r=>new bV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),nr(JT,XT,wV(t)),nr(JT,XT,"esm2017")}a(EV,"registerAuth");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV=5*60;qU("authIdTokenMaxAge");function SV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}a(SV,"getScriptParentElement");Kz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Kr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",SV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EV("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=new Map,AV={activated:!1,tokenObservers:[]};function ii(t){return kV.get(t)||Object.assign({},AV)}a(ii,"getStateReference");const ZT={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{static{a(this,"Refresher")}constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Zf,this.pending.promise.catch(n=>{}),await xV(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Zf,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function xV(t){return new Promise(e=>{setTimeout(e,t)})}a(xV,"sleep");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Vm=new oc("appCheck","AppCheck",CV);function eD(t){if(!ii(t).activated)throw Vm.create("use-before-activation",{appName:t.name})}a(eD,"ensureActivated");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV="firebase-app-check-database",RV=1,xb="firebase-app-check-store";let dp=null;function OV(){return dp||(dp=new Promise((t,e)=>{try{const n=indexedDB.open(IV,RV);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Vm.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(xb,{keyPath:"compositeKey"})}}}catch(n){e(Vm.create("storage-open",{originalErrorMessage:n?.message}))}}),dp)}a(OV,"getDBPromise");function NV(t,e){return DV(MV(t),e)}a(NV,"writeTokenToIndexedDB");async function DV(t,e){const r=(await OV()).transaction(xb,"readwrite"),s=r.objectStore(xb).put({compositeKey:t,value:e});return new Promise((o,l)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;l(Vm.create("storage-set",{originalErrorMessage:(c=u.target.error)===null||c===void 0?void 0:c.message}))}})}a(DV,"write$1");function MV(t){return`${t.options.appId}-${t.name}`}a(MV,"computeKey");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=new Zh("@firebase/app-check");function QT(t,e){return yN()?NV(t,e).catch(n=>{Cb.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}a(QT,"writeTokenToStorage");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV={error:"UNKNOWN_ERROR"};function LV(t){return M0.encodeString(JSON.stringify(t),!1)}a(LV,"formatDummyToken");async function Ib(t,e=!1,n=!1){const r=t.app;eD(r);const i=ii(r);let s=i.token,o;if(s&&!yf(s)&&(i.token=void 0,s=void 0),!s){const c=await i.cachedTokenPromise;c&&(yf(c)?s=c:await QT(r,void 0))}if(!e&&s&&yf(s))return{token:s.token};let l=!1;try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),s=await ii(r).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?Cb.warn(c.message):n&&Cb.error(c),o=c}let u;return s?o?yf(s)?u={token:s.token,internalError:o}:u=t2(o):(u={token:s.token},i.token=s,await QT(r,s)):u=t2(o),l&&UV(r,u),u}a(Ib,"getToken$2");async function FV(t){const e=t.app;eD(e);const{provider:n}=ii(e);{const{token:r}=await n.getToken();return{token:r}}}a(FV,"getLimitedUseToken$1");function $V(t,e,n,r){const{app:i}=t,s=ii(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&yf(s.token)){const l=s.token;Promise.resolve().then(()=>{n({token:l.token}),e2(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>e2(t))}a($V,"addTokenListener");function tD(t,e){const n=ii(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}a(tD,"removeTokenListener");function e2(t){const{app:e}=t,n=ii(e);let r=n.tokenRefresher;r||(r=BV(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}a(e2,"initTokenRefresher");function BV(t){const{app:e}=t;return new TV(async()=>{const n=ii(e);let r;if(n.token?r=await Ib(t,!0):r=await Ib(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=ii(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},ZT.RETRIAL_MIN_WAIT,ZT.RETRIAL_MAX_WAIT)}a(BV,"createTokenRefresher");function UV(t,e){const n=ii(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}a(UV,"notifyTokenListeners");function yf(t){return t.expireTimeMillis-Date.now()>0}a(yf,"isValid$1");function t2(t){return{token:LV(PV),error:t}}a(t2,"makeDummyTokenResult");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{static{a(this,"AppCheckService")}constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=ii(this.app);for(const n of e)tD(this.app,n.next);return Promise.resolve()}}function jV(t,e){return new zV(t,e)}a(jV,"factory$1");function VV(t){return{getToken:a(e=>Ib(t,e),"getToken"),getLimitedUseToken:a(()=>FV(t),"getLimitedUseToken"),addTokenListener:a(e=>$V(t,"INTERNAL",e),"addTokenListener"),removeTokenListener:a(e=>tD(t.app,e),"removeTokenListener")}}a(VV,"internalFactory");const WV="@firebase/app-check",HV="0.8.13",qV="app-check",n2="app-check-internal";function GV(){Li(new ri(qV,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return jV(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(n2).initialize()})),Li(new ri(n2,t=>{const e=t.getProvider("app-check").getImmediate();return VV(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),nr(WV,HV)}a(GV,"registerAppCheck");GV();var r2={};const i2="@firebase/database",s2="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nD="";function KV(t){nD=t}a(KV,"setSDKVersion");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{static{a(this,"DOMStorageWrapper")}constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Zt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Qf(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{static{a(this,"MemoryStorage")}constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return $s(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=a(function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new YV(e)}}catch{}return new JV},"createStoragefor"),ya=rD("localStorage"),XV=rD("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=new Zh("@firebase/database"),ZV=function(){let t=1;return function(){return t++}}(),iD=a(function(t){const e=a7(t),n=new n7;n.update(e);const r=n.digest();return M0.encodeByteArray(r)},"sha1"),rd=a(function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=rd.apply(null,r):typeof r=="object"?e+=Zt(r):e+=r,e+=" "}return e},"buildLogMessage_");let Rf=null,o2=!0;const QV=a(function(t,e){te(!e,"Can't turn on custom loggers persistently."),uu.logLevel=Ge.VERBOSE,Rf=uu.log.bind(uu)},"enableLogging$1"),on=a(function(...t){if(o2===!0&&(o2=!1,Rf===null&&XV.get("logging_enabled")===!0&&QV()),Rf){const e=rd.apply(null,t);Rf(e)}},"log$1"),id=a(function(t){return function(...e){on(t,...e)}},"logWrapper"),Rb=a(function(...t){const e="FIREBASE INTERNAL ERROR: "+rd(...t);uu.error(e)},"error$1"),Va=a(function(...t){const e=`FIREBASE FATAL ERROR: ${rd(...t)}`;throw uu.error(e),new Error(e)},"fatal"),rr=a(function(...t){const e="FIREBASE WARNING: "+rd(...t);uu.warn(e)},"warn$2"),eW=a(function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&rr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},"warnIfPageIsSecure"),sD=a(function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},"isInvalidJSONNumber"),tW=a(function(t){if(document.readyState==="complete")t();else{let e=!1;const n=a(function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())},"wrappedFn");document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},"executeWhenDOMReady"),Ru="[MIN_NAME]",Wa="[MAX_NAME]",uc=a(function(t,e){if(t===e)return 0;if(t===Ru||e===Wa)return-1;if(e===Ru||t===Wa)return 1;{const n=a2(t),r=a2(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},"nameCompare"),nW=a(function(t,e){return t===e?0:t<e?-1:1},"stringCompare"),Hc=a(function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Zt(e))},"requireKey"),iv=a(function(t){if(typeof t!="object"||t===null)return Zt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Zt(e[r]),n+=":",n+=iv(t[e[r]]);return n+="}",n},"ObjectToUniqueKey"),oD=a(function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r},"splitStringBySize");function xr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}a(xr,"each");const aD=a(function(t){te(!sD(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,u;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(u=n;u;u-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const f=c.join("");let h="";for(u=0;u<64;u+=8){let p=parseInt(f.substr(u,8),2).toString(16);p.length===1&&(p="0"+p),h=h+p}return h.toLowerCase()},"doubleToIEEE754String"),rW=a(function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},"isChromeExtensionContentScript"),iW=a(function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},"isWindowsStoreApp"),sW=new RegExp("^-?(0*)\\d{1,10}$"),oW=-2147483648,aW=2147483647,a2=a(function(t){if(sW.test(t)){const e=Number(t);if(e>=oW&&e<=aW)return e}return null},"tryParseInt"),sd=a(function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw rr("Exception was thrown by user callback.",n),e},Math.floor(0))}},"exceptionGuard"),lW=a(function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},"beingCrawled"),Of=a(function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n},"setTimeoutNonBlocking");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{static{a(this,"AppCheckTokenProvider")}constructor(e,n){this.appCheckProvider=n,this.appName=e.name,En(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){rr(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{static{a(this,"FirebaseAuthTokenProvider")}constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(on("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="5",lD="v",uD="s",cD="r",fD="f",hD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,dD="ls",pD="p",Ob="ac",mD="websocket",gD="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{static{a(this,"RepoInfo")}constructor(e,n,r,i,s=!1,o="",l=!1,u=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=u,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ya.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ya.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function hW(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}a(hW,"repoInfoNeedsQueryParam");function yD(t,e,n){te(typeof e=="string","typeof type must == string"),te(typeof n=="object","typeof params must == object");let r;if(e===mD)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===gD)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);hW(t)&&(n.ns=t.namespace);const i=[];return xr(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}a(yD,"repoInfoConnectionURL");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{static{a(this,"StatsCollection")}constructor(){this.counters_={}}incrementCounter(e,n=1){$s(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return UU(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1={},w1={};function ov(t){const e=t.toString();return b1[e]||(b1[e]=new dW),b1[e]}a(ov,"statsManagerGetCollection");function pW(t,e){const n=t.toString();return w1[n]||(w1[n]=e()),w1[n]}a(pW,"statsManagerGetOrCreateReporter");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{static{a(this,"PacketReceiver")}constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&sd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="start",gW="close",yW="pLPCommand",_W="pRTLPCB",_D="id",bD="pw",wD="ser",bW="cb",wW="seg",EW="ts",vW="d",SW="dframe",ED=1870,vD=30,kW=ED-vD,AW=25e3,TW=3e4;class Ql{static{a(this,"BrowserPollConnection")}constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=id(e),this.stats_=ov(n),this.urlFn=u=>(this.appCheckToken&&(u[Ob]=this.appCheckToken),yD(n,gD,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new mW(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(TW)),tW(()=>{if(this.isClosed_)return;this.scriptTagHolder=new av((...s)=>{const[o,l,u,c,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===l2)this.id=l,this.password=u;else if(o===gW)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[l2]="t",r[wD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[bW]=this.scriptTagHolder.uniqueCallbackIdentifier),r[lD]=sv,this.transportSessionId&&(r[uD]=this.transportSessionId),this.lastSessionId&&(r[dD]=this.lastSessionId),this.applicationId&&(r[pD]=this.applicationId),this.appCheckToken&&(r[Ob]=this.appCheckToken),typeof location<"u"&&location.hostname&&hD.test(location.hostname)&&(r[cD]=fD);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ql.forceAllow_=!0}static forceDisallow(){Ql.forceDisallow_=!0}static isAvailable(){return Ql.forceAllow_?!0:!Ql.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!rW()&&!iW()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Zt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=cN(n),i=oD(r,kW);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[SW]="t",r[_D]=e,r[bD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Zt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class av{static{a(this,"FirebaseIFrameScriptHolder")}constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ZV(),window[yW+this.uniqueCallbackIdentifier]=e,window[_W+this.uniqueCallbackIdentifier]=n,this.myIFrame=av.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){on("frame writing exception"),l.stack&&on(l.stack),on(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||on("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[_D]=this.myID,e[bD]=this.myPW,e[wD]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+vD+r.length<=ED;){const o=this.pendingSegs.shift();r=r+"&"+wW+i+"="+o.seg+"&"+EW+i+"="+o.ts+"&"+vW+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=a(()=>{this.outstandingRequests.delete(n),this.newRequest_()},"doNewRequest"),i=setTimeout(r,Math.floor(AW)),s=a(()=>{clearTimeout(i),r()},"readyStateCB");this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{on("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xW=16384,CW=45e3;let Wm=null;typeof MozWebSocket<"u"?Wm=MozWebSocket:typeof WebSocket<"u"&&(Wm=WebSocket);class Fr{static{a(this,"WebSocketConnection")}constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=id(this.connId),this.stats_=ov(n),this.connURL=Fr.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[lD]=sv,typeof location<"u"&&location.hostname&&hD.test(location.hostname)&&(o[cD]=fD),n&&(o[uD]=n),r&&(o[dD]=r),i&&(o[Ob]=i),s&&(o[pD]=s),yD(e,mD,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ya.set("previous_websocket_failure",!0);try{let r;gN(),this.mySock=new Wm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Fr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Wm!==null&&!Fr.forceDisallow_}static previouslyFailed(){return ya.isInMemoryStorage||ya.get("previous_websocket_failure")===!0}markConnectionHealthy(){ya.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Qf(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(te(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Zt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=oD(n,xW);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(CW))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Fr.responsesRequiredToBeHealthy=2;Fr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{static{a(this,"TransportManager")}static get ALL_TRANSPORTS(){return[Ql,Fr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Fr&&Fr.isAvailable();let r=n&&!Fr.previouslyFailed();if(e.webSocketOnly&&(n||rr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Fr];else{const i=this.transports_=[];for(const s of nh.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);nh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}nh.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW=6e4,RW=5e3,OW=10*1024,NW=100*1024,E1="t",u2="d",DW="s",c2="r",MW="e",f2="o",h2="a",d2="n",p2="p",PW="h";class LW{static{a(this,"Connection")}constructor(e,n,r,i,s,o,l,u,c,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=id("c:"+this.id+":"),this.transportManager_=new nh(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Of(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>NW?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>OW?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(E1 in e){const n=e[E1];n===h2?this.upgradeIfSecondaryHealthy_():n===c2?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===f2&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Hc("t",e),r=Hc("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:p2,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:h2,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:d2,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Hc("t",e),r=Hc("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Hc(E1,e);if(u2 in e){const r=e[u2];if(n===PW){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===d2){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===DW?this.onConnectionShutdown_(r):n===c2?this.onReset_(r):n===MW?Rb("Server Error: "+r):n===f2?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Rb("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),sv!==r&&rr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Of(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(IW))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Of(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(RW))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:p2,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ya.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{static{a(this,"ServerActions")}put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{static{a(this,"EventEmitter")}constructor(e){this.allowedEvents_=e,this.listeners_={},te(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){te(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm extends kD{static{a(this,"OnlineMonitor")}static getInstance(){return new Hm}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!HE()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return te(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=32,g2=768;class dt{static{a(this,"Path")}constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Qe(){return new dt("")}a(Qe,"newEmptyPath");function $e(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}a($e,"pathGetFront");function No(t){return t.pieces_.length-t.pieceNum_}a(No,"pathGetLength");function ht(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new dt(t.pieces_,e)}a(ht,"pathPopFront");function AD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}a(AD,"pathGetBack");function FW(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}a(FW,"pathToUrlEncodedString");function TD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}a(TD,"pathSlice");function xD(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new dt(e,0)}a(xD,"pathParent");function zt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof dt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new dt(n,0)}a(zt,"pathChild");function Pe(t){return t.pieceNum_>=t.pieces_.length}a(Pe,"pathIsEmpty");function br(t,e){const n=$e(t),r=$e(e);if(n===null)return e;if(n===r)return br(ht(t),ht(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}a(br,"newRelativePath");function CD(t,e){if(No(t)!==No(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}a(CD,"pathEquals");function jr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(No(t)>No(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}a(jr,"pathContains");class $W{static{a(this,"ValidationPath")}constructor(e,n){this.errorPrefix_=n,this.parts_=TD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=P0(this.parts_[r]);ID(this)}}function BW(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=P0(e),ID(t)}a(BW,"validationPathPush");function UW(t){const e=t.parts_.pop();t.byteLength_-=P0(e),t.parts_.length>0&&(t.byteLength_-=1)}a(UW,"validationPathPop");function ID(t){if(t.byteLength_>g2)throw new Error(t.errorPrefix_+"has a key path longer than "+g2+" bytes ("+t.byteLength_+").");if(t.parts_.length>m2)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+m2+") or object contains a cycle "+fa(t))}a(ID,"validationPathCheckValid");function fa(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}a(fa,"validationPathToErrorString");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv extends kD{static{a(this,"VisibilityMonitor")}static getInstance(){return new lv}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return te(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=1e3,zW=60*5*1e3,y2=30*1e3,jW=1.3,VW=3e4,WW="server_kill",_2=3;class Cs extends SD{static{a(this,"PersistentConnection")}constructor(e,n,r,i,s,o,l,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=Cs.nextPersistentConnectionId_++,this.log_=id("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qc,this.maxReconnectDelay_=zW,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!gN())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Hm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Zt(s)),te(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Zf,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a(o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)},"onComplete")};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),te(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const u=l.d,c=l.s;Cs.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&$s(e,"w")){const r=Cu(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();rr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||t7(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=y2)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=e7(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),te(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Zt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Rb("Unrecognized action received from server: "+Zt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){te(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=qc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>VW&&(this.reconnectDelay_=qc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*jW)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Cs.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const u=a(function(){l?l.close():(o=!0,r())},"closeFn"),c=a(function(h){te(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)},"sendRequestFn");this.realtime_={close:u,sendRequest:c};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,p]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?on("getToken() completed but was canceled"):(on("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=p&&p.token,l=new LW(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,m=>{rr(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(WW)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&rr(h),u())}}}interrupt(e){on("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){on("Resuming connection for reason: "+e),delete this.interruptReasons_[e],_b(this.interruptReasons_)&&(this.reconnectDelay_=qc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>iv(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new dt(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){on("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=_2&&(this.reconnectDelay_=y2,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){on("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=_2&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&""+e.msg.replace(`
`,`
FIREBASE: `)}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+nD.replace(/\./g,"-")]=1,HE()?e["framework.cordova"]=1:mN()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Hm.getInstance().currentlyOnline();return _b(this.interruptReasons_)&&e}}Cs.nextPersistentConnectionId_=0;Cs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static{a(this,"NamedNode")}constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Be(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{static{a(this,"Index")}getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Be(Ru,e),i=new Be(Ru,n);return this.compare(r,i)!==0}minPost(){return Be.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pp;class RD extends B0{static{a(this,"KeyIndex")}static get __EMPTY_NODE(){return pp}static set __EMPTY_NODE(e){pp=e}compare(e,n){return uc(e.name,n.name)}isDefinedOn(e){throw sc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Be.MIN}maxPost(){return new Be(Wa,pp)}makePost(e,n){return te(typeof e=="string","KeyIndex indexValue must always be a string."),new Be(e,pp)}toString(){return".key"}}const cu=new RD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{static{a(this,"SortedMapIterator")}constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ut{static{a(this,"LLRBNode")}constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Fn.EMPTY_NODE,this.right=s??Fn.EMPTY_NODE}copy(e,n,r,i,s){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Fn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Fn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ut.RED=!0;Ut.BLACK=!1;class HW{static{a(this,"LLRBEmptyNode")}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ut(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Fn{static{a(this,"SortedMap")}constructor(e,n=Fn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Fn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ut.BLACK,null,null))}remove(e){return new Fn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ut.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new mp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new mp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new mp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new mp(this.root_,null,this.comparator_,!0,e)}}Fn.EMPTY_NODE=new HW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(t,e){return uc(t.name,e.name)}a(qW,"NAME_ONLY_COMPARATOR");function uv(t,e){return uc(t,e)}a(uv,"NAME_COMPARATOR");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nb;function GW(t){Nb=t}a(GW,"setMaxNode$1");const OD=a(function(t){return typeof t=="number"?"number:"+aD(t):"string:"+t},"priorityHashText"),ND=a(function(t){if(t.isLeafNode()){const e=t.val();te(typeof e=="string"||typeof e=="number"||typeof e=="object"&&$s(e,".sv"),"Priority must be a string or number.")}else te(t===Nb||t.isEmpty(),"priority of unexpected type.");te(t===Nb||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},"validatePriorityNode");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b2;class Bt{static{a(this,"LeafNode")}static set __childrenNodeConstructor(e){b2=e}static get __childrenNodeConstructor(){return b2}constructor(e,n=Bt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,te(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ND(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Bt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Bt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Pe(e)?this:$e(e)===".priority"?this.priorityNode_:Bt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Bt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=$e(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(te(r!==".priority"||No(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Bt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ht(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+OD(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=aD(this.value_):e+=this.value_,this.lazyHash_=iD(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Bt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Bt.__childrenNodeConstructor?-1:(te(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Bt.VALUE_TYPE_ORDER.indexOf(n),s=Bt.VALUE_TYPE_ORDER.indexOf(r);return te(i>=0,"Unknown leaf type: "+n),te(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Bt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DD,MD;function KW(t){DD=t}a(KW,"setNodeFromJSON");function YW(t){MD=t}a(YW,"setMaxNode");class JW extends B0{static{a(this,"PriorityIndex")}compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?uc(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Be.MIN}maxPost(){return new Be(Wa,new Bt("[PRIORITY-POST]",MD))}makePost(e,n){const r=DD(e);return new Be(n,new Bt("[PRIORITY-POST]",r))}toString(){return".priority"}}const cn=new JW;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XW=Math.log(2);class ZW{static{a(this,"Base12Num")}constructor(e){const n=a(s=>parseInt(Math.log(s)/XW,10),"logBase2"),r=a(s=>parseInt(Array(s+1).join("1"),2),"bitMask");this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const qm=a(function(t,e,n,r){t.sort(e);const i=a(function(u,c){const f=c-u;let h,p;if(f===0)return null;if(f===1)return h=t[u],p=n?n(h):h,new Ut(p,h.node,Ut.BLACK,null,null);{const m=parseInt(f/2,10)+u,g=i(u,m),y=i(m+1,c);return h=t[m],p=n?n(h):h,new Ut(p,h.node,Ut.BLACK,g,y)}},"buildBalancedTree"),s=a(function(u){let c=null,f=null,h=t.length;const p=a(function(g,y){const _=h-g,w=h;h-=g;const S=i(_+1,w),T=t[_],N=n?n(T):T;m(new Ut(N,T.node,y,null,S))},"buildPennant"),m=a(function(g){c?(c.left=g,c=g):(f=g,c=g)},"attachPennant");for(let g=0;g<u.count;++g){const y=u.nextBitIsOne(),_=Math.pow(2,u.count-(g+1));y?p(_,Ut.BLACK):(p(_,Ut.BLACK),p(_,Ut.RED))}return f},"buildFrom12Array"),o=new ZW(t.length),l=s(o);return new Fn(r||e,l)},"buildChildSet");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v1;const jl={};class ks{static{a(this,"IndexMap")}static get Default(){return te(jl&&cn,"ChildrenNode.ts has not been loaded"),v1=v1||new ks({".priority":jl},{".priority":cn}),v1}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Cu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Fn?n:null}hasIndex(e){return $s(this.indexSet_,e.toString())}addIndex(e,n){te(e!==cu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Be.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=qm(r,e.getCompare()):l=jl;const u=e.toString(),c=Object.assign({},this.indexSet_);c[u]=e;const f=Object.assign({},this.indexes_);return f[u]=l,new ks(f,c)}addToIndexes(e,n){const r=Dm(this.indexes_,(i,s)=>{const o=Cu(this.indexSet_,s);if(te(o,"Missing index implementation for "+s),i===jl)if(o.isDefinedOn(e.node)){const l=[],u=n.getIterator(Be.Wrap);let c=u.getNext();for(;c;)c.name!==e.name&&l.push(c),c=u.getNext();return l.push(e),qm(l,o.getCompare())}else return jl;else{const l=n.get(e.name);let u=i;return l&&(u=u.remove(new Be(e.name,l))),u.insert(e,e.node)}});return new ks(r,this.indexSet_)}removeFromIndexes(e,n){const r=Dm(this.indexes_,i=>{if(i===jl)return i;{const s=n.get(e.name);return s?i.remove(new Be(e.name,s)):i}});return new ks(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc;class Ke{static{a(this,"ChildrenNode")}static get EMPTY_NODE(){return Gc||(Gc=new Ke(new Fn(uv),null,ks.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ND(this.priorityNode_),this.children_.isEmpty()&&te(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gc}updatePriority(e){return this.children_.isEmpty()?this:new Ke(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Gc:n}}getChild(e){const n=$e(e);return n===null?this:this.getImmediateChild(n).getChild(ht(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(te(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Be(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Gc:this.priorityNode_;return new Ke(i,o,s)}}updateChild(e,n){const r=$e(e);if(r===null)return n;{te($e(e)!==".priority"||No(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ht(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(cn,(o,l)=>{n[o]=l.val(e),r++,s&&Ke.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+OD(this.getPriority().val())+":"),this.forEachChild(cn,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":iD(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Be(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Be(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Be(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Be.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Be.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===od?-1:0}withIndex(e){if(e===cu||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ke(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===cu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(cn),i=n.getIterator(cn);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===cu?null:this.indexMap_.get(e.toString())}}Ke.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class QW extends Ke{static{a(this,"MaxNode")}constructor(){super(new Fn(uv),Ke.EMPTY_NODE,ks.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ke.EMPTY_NODE}isEmpty(){return!1}}const od=new QW;Object.defineProperties(Be,{MIN:{value:new Be(Ru,Ke.EMPTY_NODE)},MAX:{value:new Be(Wa,od)}});RD.__EMPTY_NODE=Ke.EMPTY_NODE;Bt.__childrenNodeConstructor=Ke;GW(od);YW(od);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH=!0;function an(t,e=null){if(t===null)return Ke.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),te(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Bt(n,an(e))}if(!(t instanceof Array)&&eH){const n=[];let r=!1;if(xr(t,(o,l)=>{if(o.substring(0,1)!=="."){const u=an(l);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new Be(o,u)))}}),n.length===0)return Ke.EMPTY_NODE;const s=qm(n,qW,o=>o.name,uv);if(r){const o=qm(n,cn.getCompare());return new Ke(s,an(e),new ks({".priority":o},{".priority":cn}))}else return new Ke(s,an(e),ks.Default)}else{let n=Ke.EMPTY_NODE;return xr(t,(r,i)=>{if($s(t,r)&&r.substring(0,1)!=="."){const s=an(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(an(e))}}a(an,"nodeFromJSON");KW(an);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH extends B0{static{a(this,"PathIndex")}constructor(e){super(),this.indexPath_=e,te(!Pe(e)&&$e(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?uc(e.name,n.name):s}makePost(e,n){const r=an(e),i=Ke.EMPTY_NODE.updateChild(this.indexPath_,r);return new Be(n,i)}maxPost(){const e=Ke.EMPTY_NODE.updateChild(this.indexPath_,od);return new Be(Wa,e)}toString(){return TD(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH extends B0{static{a(this,"ValueIndex")}compare(e,n){const r=e.node.compareTo(n.node);return r===0?uc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Be.MIN}maxPost(){return Be.MAX}makePost(e,n){const r=an(e);return new Be(n,r)}toString(){return".value"}}const rH=new nH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iH(t){return{type:"value",snapshotNode:t}}a(iH,"changeValue");function sH(t,e){return{type:"child_added",snapshotNode:e,childName:t}}a(sH,"changeChildAdded");function oH(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}a(oH,"changeChildRemoved");function w2(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}a(w2,"changeChildChanged");function aH(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}a(aH,"changeChildMoved");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{static{a(this,"QueryParams")}constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=cn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return te(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return te(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ru}hasEnd(){return this.endSet_}getIndexEndValue(){return te(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return te(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Wa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return te(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===cn}copy(){const e=new cv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function E2(t){const e={};if(t.isDefault())return e;let n;if(t.index_===cn?n="$priority":t.index_===rH?n="$value":t.index_===cu?n="$key":(te(t.index_ instanceof tH,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Zt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Zt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Zt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Zt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Zt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}a(E2,"queryParamsToRestQueryStringParameters");function v2(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==cn&&(e.i=t.index_.toString()),e}a(v2,"queryParamsGetQueryObject");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends SD{static{a(this,"ReadonlyRestClient")}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(te(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=id("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Gm.getListenId_(e,r),l={};this.listens_[o]=l;const u=E2(e._queryParams);this.restRequest_(s+".json",u,(c,f)=>{let h=f;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,r),Cu(this.listens_,o)===l){let p;c?c===401?p="permission_denied":p="rest_error:"+c:p="ok",i(p,null)}})}unlisten(e,n){const r=Gm.getListenId_(e,n);delete this.listens_[r]}get(e){const n=E2(e._queryParams),r=e._path.toString(),i=new Zf;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ac(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=Qf(l.responseText)}catch{rr("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,u)}else l.status!==401&&l.status!==404&&rr("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{static{a(this,"SnapshotHolder")}constructor(){this.rootNode_=Ke.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(){return{value:null,children:new Map}}a(Km,"newSparseSnapshotTree");function PD(t,e,n){if(Pe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=$e(e);t.children.has(r)||t.children.set(r,Km());const i=t.children.get(r);e=ht(e),PD(i,e,n)}}a(PD,"sparseSnapshotTreeRemember");function Db(t,e,n){t.value!==null?n(e,t.value):uH(t,(r,i)=>{const s=new dt(e.toString()+"/"+r);Db(i,s,n)})}a(Db,"sparseSnapshotTreeForEachTree");function uH(t,e){t.children.forEach((n,r)=>{e(r,n)})}a(uH,"sparseSnapshotTreeForEachChild");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{static{a(this,"StatsListener")}constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&xr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=10*1e3,fH=30*1e3,hH=5*60*1e3;class dH{static{a(this,"StatsReporter")}constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new cH(e);const r=S2+(fH-S2)*Math.random();Of(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;xr(e,(i,s)=>{s>0&&$s(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Of(this.reportStats_.bind(this),Math.floor(Math.random()*2*hH))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(xi||(xi={}));function LD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}a(LD,"newOperationSourceUser");function FD(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}a(FD,"newOperationSourceServer");function $D(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}a($D,"newOperationSourceServerTaggedQuery");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{static{a(this,"AckUserWrite")}constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=xi.ACK_USER_WRITE,this.source=LD()}operationForChild(e){if(Pe(this.path)){if(this.affectedTree.value!=null)return te(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new dt(e));return new Ym(Qe(),n,this.revert)}}else return te($e(this.path)===e,"operationForChild called for unrelated child."),new Ym(ht(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{static{a(this,"Overwrite")}constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=xi.OVERWRITE}operationForChild(e){return Pe(this.path)?new Ha(this.source,Qe(),this.snap.getImmediateChild(e)):new Ha(this.source,ht(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{static{a(this,"Merge")}constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=xi.MERGE}operationForChild(e){if(Pe(this.path)){const n=this.children.subtree(new dt(e));return n.isEmpty()?null:n.value?new Ha(this.source,Qe(),n.value):new rh(this.source,Qe(),n)}else return te($e(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new rh(this.source,ht(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{static{a(this,"CacheNode")}constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Pe(e))return this.isFullyInitialized()&&!this.filtered_;const n=$e(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function pH(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(aH(o.childName,o.snapshotNode))}),Kc(t,i,"child_removed",e,r,n),Kc(t,i,"child_added",e,r,n),Kc(t,i,"child_moved",s,r,n),Kc(t,i,"child_changed",e,r,n),Kc(t,i,"value",e,r,n),i}a(pH,"eventGeneratorGenerateEventsForChanges");function Kc(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,u)=>gH(t,l,u)),o.forEach(l=>{const u=mH(t,l,s);i.forEach(c=>{c.respondsTo(l.type)&&e.push(c.createEvent(u,t.query_))})})}a(Kc,"eventGeneratorGenerateEventsForType");function mH(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}a(mH,"eventGeneratorMaterializeSingleChange");function gH(t,e,n){if(e.childName==null||n.childName==null)throw sc("Should only compare child_ events.");const r=new Be(e.childName,e.snapshotNode),i=new Be(n.childName,n.snapshotNode);return t.index_.compare(r,i)}a(gH,"eventGeneratorCompareChanges");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t,e){return{eventCache:t,serverCache:e}}a(BD,"newViewCache");function Nf(t,e,n,r){return BD(new fv(e,n,r),t.serverCache)}a(Nf,"viewCacheUpdateEventSnap");function UD(t,e,n,r){return BD(t.eventCache,new fv(e,n,r))}a(UD,"viewCacheUpdateServerSnap");function Mb(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}a(Mb,"viewCacheGetCompleteEventSnap");function qa(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}a(qa,"viewCacheGetCompleteServerSnap");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S1;const yH=a(()=>(S1||(S1=new Fn(nW)),S1),"EmptyChildren");class ft{static{a(this,"ImmutableTree")}static fromObject(e){let n=new ft(null);return xr(e,(r,i)=>{n=n.set(new dt(r),i)}),n}constructor(e,n=yH()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Qe(),value:this.value};if(Pe(e))return null;{const r=$e(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ht(e),n);return s!=null?{path:zt(new dt(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Pe(e))return this;{const n=$e(e),r=this.children.get(n);return r!==null?r.subtree(ht(e)):new ft(null)}}set(e,n){if(Pe(e))return new ft(n,this.children);{const r=$e(e),s=(this.children.get(r)||new ft(null)).set(ht(e),n),o=this.children.insert(r,s);return new ft(this.value,o)}}remove(e){if(Pe(e))return this.children.isEmpty()?new ft(null):new ft(null,this.children);{const n=$e(e),r=this.children.get(n);if(r){const i=r.remove(ht(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ft(null):new ft(this.value,s)}else return this}}get(e){if(Pe(e))return this.value;{const n=$e(e),r=this.children.get(n);return r?r.get(ht(e)):null}}setTree(e,n){if(Pe(e))return n;{const r=$e(e),s=(this.children.get(r)||new ft(null)).setTree(ht(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ft(this.value,o)}}fold(e){return this.fold_(Qe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(zt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Qe(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Pe(e))return null;{const s=$e(e),o=this.children.get(s);return o?o.findOnPath_(ht(e),zt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Qe(),n)}foreachOnPath_(e,n,r){if(Pe(e))return this;{this.value&&r(n,this.value);const i=$e(e),s=this.children.get(i);return s?s.foreachOnPath_(ht(e),zt(n,i),r):new ft(null)}}foreach(e){this.foreach_(Qe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(zt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{static{a(this,"CompoundWrite")}constructor(e){this.writeTree_=e}static empty(){return new Yr(new ft(null))}}function Df(t,e,n){if(Pe(e))return new Yr(new ft(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=br(i,e);return s=s.updateChild(o,n),new Yr(t.writeTree_.set(i,s))}else{const i=new ft(n),s=t.writeTree_.setTree(e,i);return new Yr(s)}}}a(Df,"compoundWriteAddWrite");function k2(t,e,n){let r=t;return xr(n,(i,s)=>{r=Df(r,zt(e,i),s)}),r}a(k2,"compoundWriteAddWrites");function A2(t,e){if(Pe(e))return Yr.empty();{const n=t.writeTree_.setTree(e,new ft(null));return new Yr(n)}}a(A2,"compoundWriteRemoveWrite");function Pb(t,e){return bl(t,e)!=null}a(Pb,"compoundWriteHasCompleteWrite");function bl(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(br(n.path,e)):null}a(bl,"compoundWriteGetCompleteNode");function T2(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(cn,(r,i)=>{e.push(new Be(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Be(r,i.value))}),e}a(T2,"compoundWriteGetCompleteChildren");function ko(t,e){if(Pe(e))return t;{const n=bl(t,e);return n!=null?new Yr(new ft(n)):new Yr(t.writeTree_.subtree(e))}}a(ko,"compoundWriteChildCompoundWrite");function Lb(t){return t.writeTree_.isEmpty()}a(Lb,"compoundWriteIsEmpty");function Ou(t,e){return zD(Qe(),t.writeTree_,e)}a(Ou,"compoundWriteApply");function zD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(te(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=zD(zt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(zt(t,".priority"),r)),n}}a(zD,"applySubtreeWrite");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t,e){return GD(e,t)}a(jD,"writeTreeChildWrites");function _H(t,e,n,r,i){te(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Df(t.visibleWrites,e,n)),t.lastWriteId=r}a(_H,"writeTreeAddOverwrite");function bH(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}a(bH,"writeTreeGetWrite");function wH(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);te(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&EH(l,r.path)?i=!1:jr(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return vH(t),!0;if(r.snap)t.visibleWrites=A2(t.visibleWrites,r.path);else{const l=r.children;xr(l,u=>{t.visibleWrites=A2(t.visibleWrites,zt(r.path,u))})}return!0}else return!1}a(wH,"writeTreeRemoveWrite");function EH(t,e){if(t.snap)return jr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&jr(zt(t.path,n),e))return!0;return!1}a(EH,"writeTreeRecordContainsPath_");function vH(t){t.visibleWrites=VD(t.allWrites,SH,Qe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}a(vH,"writeTreeResetTree_");function SH(t){return t.visible}a(SH,"writeTreeDefaultFilter_");function VD(t,e,n){let r=Yr.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)jr(n,o)?(l=br(n,o),r=Df(r,l,s.snap)):jr(o,n)&&(l=br(o,n),r=Df(r,Qe(),s.snap.getChild(l)));else if(s.children){if(jr(n,o))l=br(n,o),r=k2(r,l,s.children);else if(jr(o,n))if(l=br(o,n),Pe(l))r=k2(r,Qe(),s.children);else{const u=Cu(s.children,$e(l));if(u){const c=u.getChild(ht(l));r=Df(r,Qe(),c)}}}else throw sc("WriteRecord should have .snap or .children")}}return r}a(VD,"writeTreeLayerTree_");function WD(t,e,n,r,i){if(!r&&!i){const s=bl(t.visibleWrites,e);if(s!=null)return s;{const o=ko(t.visibleWrites,e);if(Lb(o))return n;if(n==null&&!Pb(o,Qe()))return null;{const l=n||Ke.EMPTY_NODE;return Ou(o,l)}}}else{const s=ko(t.visibleWrites,e);if(!i&&Lb(s))return n;if(!i&&n==null&&!Pb(s,Qe()))return null;{const o=a(function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(jr(c.path,e)||jr(e,c.path))},"filter"),l=VD(t.allWrites,o,e),u=n||Ke.EMPTY_NODE;return Ou(l,u)}}}a(WD,"writeTreeCalcCompleteEventCache");function kH(t,e,n){let r=Ke.EMPTY_NODE;const i=bl(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(cn,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=ko(t.visibleWrites,e);return n.forEachChild(cn,(o,l)=>{const u=Ou(ko(s,new dt(o)),l);r=r.updateImmediateChild(o,u)}),T2(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=ko(t.visibleWrites,e);return T2(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}a(kH,"writeTreeCalcCompleteEventChildren");function AH(t,e,n,r,i){te(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=zt(e,n);if(Pb(t.visibleWrites,s))return null;{const o=ko(t.visibleWrites,s);return Lb(o)?i.getChild(n):Ou(o,i.getChild(n))}}a(AH,"writeTreeCalcEventCacheAfterServerOverwrite");function TH(t,e,n,r){const i=zt(e,n),s=bl(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=ko(t.visibleWrites,i);return Ou(o,r.getNode().getImmediateChild(n))}else return null}a(TH,"writeTreeCalcCompleteChild");function xH(t,e){return bl(t.visibleWrites,e)}a(xH,"writeTreeShadowingWrite");function CH(t,e,n,r,i,s,o){let l;const u=ko(t.visibleWrites,e),c=bl(u,Qe());if(c!=null)l=c;else if(n!=null)l=Ou(u,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const f=[],h=o.getCompare(),p=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let m=p.getNext();for(;m&&f.length<i;)h(m,r)!==0&&f.push(m),m=p.getNext();return f}else return[]}a(CH,"writeTreeCalcIndexedSlice");function IH(){return{visibleWrites:Yr.empty(),allWrites:[],lastWriteId:-1}}a(IH,"newWriteTree");function Fb(t,e,n,r){return WD(t.writeTree,t.treePath,e,n,r)}a(Fb,"writeTreeRefCalcCompleteEventCache");function HD(t,e){return kH(t.writeTree,t.treePath,e)}a(HD,"writeTreeRefCalcCompleteEventChildren");function x2(t,e,n,r){return AH(t.writeTree,t.treePath,e,n,r)}a(x2,"writeTreeRefCalcEventCacheAfterServerOverwrite");function Jm(t,e){return xH(t.writeTree,zt(t.treePath,e))}a(Jm,"writeTreeRefShadowingWrite");function RH(t,e,n,r,i,s){return CH(t.writeTree,t.treePath,e,n,r,i,s)}a(RH,"writeTreeRefCalcIndexedSlice");function hv(t,e,n){return TH(t.writeTree,t.treePath,e,n)}a(hv,"writeTreeRefCalcCompleteChild");function qD(t,e){return GD(zt(t.treePath,e),t.writeTree)}a(qD,"writeTreeRefChild");function GD(t,e){return{treePath:t,writeTree:e}}a(GD,"newWriteTreeRef");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{static{a(this,"ChildChangeAccumulator")}constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;te(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),te(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,w2(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,oH(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,sH(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,w2(r,e.snapshotNode,i.oldSnap));else throw sc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{static{a(this,"NoCompleteChildSource_")}getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const KD=new NH;class dv{static{a(this,"WriteTreeCompleteChildSource")}constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new fv(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hv(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qa(this.viewCache_),s=RH(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function DH(t,e){te(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),te(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}a(DH,"viewProcessorAssertIndexed");function MH(t,e,n,r,i){const s=new OH;let o,l;if(n.type===xi.OVERWRITE){const c=n;c.source.fromUser?o=$b(t,e,c.path,c.snap,r,i,s):(te(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered()&&!Pe(c.path),o=Xm(t,e,c.path,c.snap,r,i,l,s))}else if(n.type===xi.MERGE){const c=n;c.source.fromUser?o=LH(t,e,c.path,c.children,r,i,s):(te(c.source.fromServer,"Unknown source."),l=c.source.tagged||e.serverCache.isFiltered(),o=Bb(t,e,c.path,c.children,r,i,l,s))}else if(n.type===xi.ACK_USER_WRITE){const c=n;c.revert?o=BH(t,e,c.path,r,i,s):o=FH(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===xi.LISTEN_COMPLETE)o=$H(t,e,n.path,r,s);else throw sc("Unknown operation type: "+n.type);const u=s.getChanges();return PH(e,o,u),{viewCache:o,changes:u}}a(MH,"viewProcessorApplyOperation");function PH(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Mb(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(iH(Mb(e)))}}a(PH,"viewProcessorMaybeAddValueEvent");function YD(t,e,n,r,i,s){const o=e.eventCache;if(Jm(r,n)!=null)return e;{let l,u;if(Pe(n))if(te(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=qa(e),f=c instanceof Ke?c:Ke.EMPTY_NODE,h=HD(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=Fb(r,qa(e));l=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=$e(n);if(c===".priority"){te(No(n)===1,"Can't have a priority with additional path components");const f=o.getNode();u=e.serverCache.getNode();const h=x2(r,n,f,u);h!=null?l=t.filter.updatePriority(f,h):l=o.getNode()}else{const f=ht(n);let h;if(o.isCompleteForChild(c)){u=e.serverCache.getNode();const p=x2(r,n,o.getNode(),u);p!=null?h=o.getNode().getImmediateChild(c).updateChild(f,p):h=o.getNode().getImmediateChild(c)}else h=hv(r,c,e.serverCache);h!=null?l=t.filter.updateChild(o.getNode(),c,h,f,i,s):l=o.getNode()}}return Nf(e,l,o.isFullyInitialized()||Pe(n),t.filter.filtersNodes())}}a(YD,"viewProcessorGenerateEventCacheAfterServerEvent");function Xm(t,e,n,r,i,s,o,l){const u=e.serverCache;let c;const f=o?t.filter:t.filter.getIndexedFilter();if(Pe(n))c=f.updateFullNode(u.getNode(),r,null);else if(f.filtersNodes()&&!u.isFiltered()){const m=u.getNode().updateChild(n,r);c=f.updateFullNode(u.getNode(),m,null)}else{const m=$e(n);if(!u.isCompleteForPath(n)&&No(n)>1)return e;const g=ht(n),_=u.getNode().getImmediateChild(m).updateChild(g,r);m===".priority"?c=f.updatePriority(u.getNode(),_):c=f.updateChild(u.getNode(),m,_,g,KD,null)}const h=UD(e,c,u.isFullyInitialized()||Pe(n),f.filtersNodes()),p=new dv(i,h,s);return YD(t,h,n,i,p,l)}a(Xm,"viewProcessorApplyServerOverwrite");function $b(t,e,n,r,i,s,o){const l=e.eventCache;let u,c;const f=new dv(i,e,s);if(Pe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),u=Nf(e,c,!0,t.filter.filtersNodes());else{const h=$e(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),u=Nf(e,c,l.isFullyInitialized(),l.isFiltered());else{const p=ht(n),m=l.getNode().getImmediateChild(h);let g;if(Pe(p))g=r;else{const y=f.getCompleteChild(h);y!=null?AD(p)===".priority"&&y.getChild(xD(p)).isEmpty()?g=y:g=y.updateChild(p,r):g=Ke.EMPTY_NODE}if(m.equals(g))u=e;else{const y=t.filter.updateChild(l.getNode(),h,g,p,f,o);u=Nf(e,y,l.isFullyInitialized(),t.filter.filtersNodes())}}}return u}a($b,"viewProcessorApplyUserOverwrite");function C2(t,e){return t.eventCache.isCompleteForChild(e)}a(C2,"viewProcessorCacheHasChild");function LH(t,e,n,r,i,s,o){let l=e;return r.foreach((u,c)=>{const f=zt(n,u);C2(e,$e(f))&&(l=$b(t,l,f,c,i,s,o))}),r.foreach((u,c)=>{const f=zt(n,u);C2(e,$e(f))||(l=$b(t,l,f,c,i,s,o))}),l}a(LH,"viewProcessorApplyUserMerge");function I2(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}a(I2,"viewProcessorApplyMerge");function Bb(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,c;Pe(n)?c=r:c=new ft(null).setTree(n,r);const f=e.serverCache.getNode();return c.children.inorderTraversal((h,p)=>{if(f.hasChild(h)){const m=e.serverCache.getNode().getImmediateChild(h),g=I2(t,m,p);u=Xm(t,u,new dt(h),g,i,s,o,l)}}),c.children.inorderTraversal((h,p)=>{const m=!e.serverCache.isCompleteForChild(h)&&p.value===null;if(!f.hasChild(h)&&!m){const g=e.serverCache.getNode().getImmediateChild(h),y=I2(t,g,p);u=Xm(t,u,new dt(h),y,i,s,o,l)}}),u}a(Bb,"viewProcessorApplyServerMerge");function FH(t,e,n,r,i,s,o){if(Jm(i,n)!=null)return e;const l=e.serverCache.isFiltered(),u=e.serverCache;if(r.value!=null){if(Pe(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Xm(t,e,n,u.getNode().getChild(n),i,s,l,o);if(Pe(n)){let c=new ft(null);return u.getNode().forEachChild(cu,(f,h)=>{c=c.set(new dt(f),h)}),Bb(t,e,n,c,i,s,l,o)}else return e}else{let c=new ft(null);return r.foreach((f,h)=>{const p=zt(n,f);u.isCompleteForPath(p)&&(c=c.set(f,u.getNode().getChild(p)))}),Bb(t,e,n,c,i,s,l,o)}}a(FH,"viewProcessorAckUserWrite");function $H(t,e,n,r,i){const s=e.serverCache,o=UD(e,s.getNode(),s.isFullyInitialized()||Pe(n),s.isFiltered());return YD(t,o,n,r,KD,i)}a($H,"viewProcessorListenComplete");function BH(t,e,n,r,i,s){let o;if(Jm(r,n)!=null)return e;{const l=new dv(r,e,i),u=e.eventCache.getNode();let c;if(Pe(n)||$e(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=Fb(r,qa(e));else{const h=e.serverCache.getNode();te(h instanceof Ke,"serverChildren would be complete if leaf node"),f=HD(r,h)}f=f,c=t.filter.updateFullNode(u,f,s)}else{const f=$e(n);let h=hv(r,f,e.serverCache);h==null&&e.serverCache.isCompleteForChild(f)&&(h=u.getImmediateChild(f)),h!=null?c=t.filter.updateChild(u,f,h,ht(n),l,s):e.eventCache.getNode().hasChild(f)?c=t.filter.updateChild(u,f,Ke.EMPTY_NODE,ht(n),l,s):c=u,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Fb(r,qa(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Jm(r,Qe())!=null,Nf(e,c,o,t.filter.filtersNodes())}}a(BH,"viewProcessorRevertUserWrite");function UH(t,e){const n=qa(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Pe(e)&&!n.getImmediateChild($e(e)).isEmpty())?n.getChild(e):null}a(UH,"viewGetCompleteServerCache");function R2(t,e,n,r){e.type===xi.MERGE&&e.source.queryId!==null&&(te(qa(t.viewCache_),"We should always have a full cache before handling merges"),te(Mb(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=MH(t.processor_,i,e,n,r);return DH(t.processor_,s.viewCache),te(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,zH(t,s.changes,s.viewCache.eventCache.getNode())}a(R2,"viewApplyOperation");function zH(t,e,n,r){const i=t.eventRegistrations_;return pH(t.eventGenerator_,e,n,i)}a(zH,"viewGenerateEventsForChanges_");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O2;function jH(t){te(!O2,"__referenceConstructor has already been defined"),O2=t}a(jH,"syncPointSetReferenceConstructor");function pv(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return te(s!=null,"SyncTree gave us an op for an invalid query."),R2(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(R2(o,e,n,r));return s}}a(pv,"syncPointApplyOperation");function mv(t,e){let n=null;for(const r of t.views.values())n=n||UH(r,e);return n}a(mv,"syncPointGetCompleteServerCache");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N2;function VH(t){te(!N2,"__referenceConstructor has already been defined"),N2=t}a(VH,"syncTreeSetReferenceConstructor");class D2{static{a(this,"SyncTree")}constructor(e){this.listenProvider_=e,this.syncPointTree_=new ft(null),this.pendingWriteTree_=IH(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function WH(t,e,n,r,i){return _H(t.pendingWriteTree_,e,n,r,i),i?z0(t,new Ha(LD(),e,n)):[]}a(WH,"syncTreeApplyUserOverwrite");function eu(t,e,n=!1){const r=bH(t.pendingWriteTree_,e);if(wH(t.pendingWriteTree_,e)){let s=new ft(null);return r.snap!=null?s=s.set(Qe(),!0):xr(r.children,o=>{s=s.set(new dt(o),!0)}),z0(t,new Ym(r.path,s,n))}else return[]}a(eu,"syncTreeAckUserWrite");function U0(t,e,n){return z0(t,new Ha(FD(),e,n))}a(U0,"syncTreeApplyServerOverwrite");function HH(t,e,n){const r=ft.fromObject(n);return z0(t,new rh(FD(),e,r))}a(HH,"syncTreeApplyServerMerge");function qH(t,e,n,r){const i=QD(t,r);if(i!=null){const s=e3(i),o=s.path,l=s.queryId,u=br(o,e),c=new Ha($D(l),u,n);return t3(t,o,c)}else return[]}a(qH,"syncTreeApplyTaggedQueryOverwrite");function GH(t,e,n,r){const i=QD(t,r);if(i){const s=e3(i),o=s.path,l=s.queryId,u=br(o,e),c=ft.fromObject(n),f=new rh($D(l),u,c);return t3(t,o,f)}else return[]}a(GH,"syncTreeApplyTaggedQueryMerge");function JD(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const u=br(o,e),c=mv(l,u);if(c)return c});return WD(i,e,s,n,!0)}a(JD,"syncTreeCalcCompleteEventCache");function z0(t,e){return XD(e,t.syncPointTree_,null,jD(t.pendingWriteTree_,Qe()))}a(z0,"syncTreeApplyOperationToSyncPoints_");function XD(t,e,n,r){if(Pe(t.path))return ZD(t,e,n,r);{const i=e.get(Qe());n==null&&i!=null&&(n=mv(i,Qe()));let s=[];const o=$e(t.path),l=t.operationForChild(o),u=e.children.get(o);if(u&&l){const c=n?n.getImmediateChild(o):null,f=qD(r,o);s=s.concat(XD(l,u,c,f))}return i&&(s=s.concat(pv(i,t,r,n))),s}}a(XD,"syncTreeApplyOperationHelper_");function ZD(t,e,n,r){const i=e.get(Qe());n==null&&i!=null&&(n=mv(i,Qe()));let s=[];return e.children.inorderTraversal((o,l)=>{const u=n?n.getImmediateChild(o):null,c=qD(r,o),f=t.operationForChild(o);f&&(s=s.concat(ZD(f,l,u,c)))}),i&&(s=s.concat(pv(i,t,r,n))),s}a(ZD,"syncTreeApplyOperationDescendantsHelper_");function QD(t,e){return t.tagToQueryMap.get(e)}a(QD,"syncTreeQueryKeyForTag_");function e3(t){const e=t.indexOf("$");return te(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new dt(t.substr(0,e))}}a(e3,"syncTreeParseQueryKey_");function t3(t,e,n){const r=t.syncPointTree_.get(e);te(r,"Missing sync point for query tag that we're tracking");const i=jD(t.pendingWriteTree_,e);return pv(r,n,i,null)}a(t3,"syncTreeApplyTaggedOperation_");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{static{a(this,"ExistingValueProvider")}constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new gv(n)}node(){return this.node_}}class yv{static{a(this,"DeferredValueProvider")}constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=zt(this.path_,e);return new yv(this.syncTree_,n)}node(){return JD(this.syncTree_,this.path_)}}const KH=a(function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},"generateWithValues"),M2=a(function(t,e,n){if(!t||typeof t!="object")return t;if(te(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return YH(t[".sv"],e,n);if(typeof t[".sv"]=="object")return JH(t[".sv"],e);te(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},"resolveDeferredLeafValue"),YH=a(function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:te(!1,"Unexpected server value: "+t)}},"resolveScalarDeferredValue"),JH=a(function(t,e,n){t.hasOwnProperty("increment")||te(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&te(!1,"Unexpected increment value: "+r);const i=e.node();if(te(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},"resolveComplexDeferredValue"),XH=a(function(t,e,n,r){return _v(e,new yv(n,t),r)},"resolveDeferredValueTree"),ZH=a(function(t,e,n){return _v(t,new gv(e),n)},"resolveDeferredValueSnapshot");function _v(t,e,n){const r=t.getPriority().val(),i=M2(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=M2(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new Bt(l,an(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Bt(i))),o.forEachChild(cn,(l,u)=>{const c=_v(u,e.getImmediateChild(l),n);c!==u&&(s=s.updateImmediateChild(l,c))}),s}}a(_v,"resolveDeferredValue");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{static{a(this,"Tree")}constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function wv(t,e){let n=e instanceof dt?e:new dt(e),r=t,i=$e(n);for(;i!==null;){const s=Cu(r.node.children,i)||{children:{},childCount:0};r=new bv(i,r,s),n=ht(n),i=$e(n)}return r}a(wv,"treeSubTree");function cc(t){return t.node.value}a(cc,"treeGetValue");function n3(t,e){t.node.value=e,Ub(t)}a(n3,"treeSetValue");function r3(t){return t.node.childCount>0}a(r3,"treeHasChildren");function QH(t){return cc(t)===void 0&&!r3(t)}a(QH,"treeIsEmpty");function j0(t,e){xr(t.node.children,(n,r)=>{e(new bv(n,t,r))})}a(j0,"treeForEachChild");function i3(t,e,n,r){n&&!r&&e(t),j0(t,i=>{i3(i,e,!0,r)}),n&&r&&e(t)}a(i3,"treeForEachDescendant");function eq(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}a(eq,"treeForEachAncestor");function ad(t){return new dt(t.parent===null?t.name:ad(t.parent)+"/"+t.name)}a(ad,"treeGetPath");function Ub(t){t.parent!==null&&tq(t.parent,t.name,t)}a(Ub,"treeUpdateParents");function tq(t,e,n){const r=QH(n),i=$s(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ub(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Ub(t))}a(tq,"treeUpdateChild");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq=/[\[\].#$\/\u0000-\u001F\u007F]/,rq=/[\[\].#$\u0000-\u001F\u007F]/,k1=10*1024*1024,s3=a(function(t){return typeof t=="string"&&t.length!==0&&!nq.test(t)},"isValidKey"),iq=a(function(t){return typeof t=="string"&&t.length!==0&&!rq.test(t)},"isValidPathString"),sq=a(function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),iq(t)},"isValidRootPathString"),o3=a(function(t,e,n){const r=n instanceof dt?new $W(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+fa(r));if(typeof e=="function")throw new Error(t+"contains a function "+fa(r)+" with contents = "+e.toString());if(sD(e))throw new Error(t+"contains "+e.toString()+" "+fa(r));if(typeof e=="string"&&e.length>k1/3&&P0(e)>k1)throw new Error(t+"contains a string greater than "+k1+" utf8 bytes "+fa(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(xr(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!s3(o)))throw new Error(t+" contains an invalid key ("+o+") "+fa(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);BW(r,o),o3(t,l,r),UW(r)}),i&&s)throw new Error(t+' contains ".value" child '+fa(r)+" in addition to actual children.")}},"validateFirebaseData"),oq=a(function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!s3(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!sq(n))throw new Error(o7(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},"validateUrl");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{static{a(this,"EventQueue")}constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lq(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!CD(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}a(lq,"eventQueueQueueEvents");function wl(t,e,n){lq(t,n),uq(t,r=>jr(r,e)||jr(e,r))}a(wl,"eventQueueRaiseEventsForChangedPath");function uq(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(cq(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}a(uq,"eventQueueRaiseQueuedEventsMatchingPredicate");function cq(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Rf&&on("event: "+n.toString()),sd(r)}}}a(cq,"eventListRaise");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq="repo_interrupt",hq=25;class dq{static{a(this,"Repo")}constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new aq,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Km(),this.transactionQueueTree_=new bv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function pq(t,e,n){if(t.stats_=ov(t.repoInfo_),t.forceRestClient_||lW())t.server_=new Gm(t.repoInfo_,(r,i,s,o)=>{P2(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>L2(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Zt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Cs(t.repoInfo_,e,(r,i,s,o)=>{P2(t,r,i,s,o)},r=>{L2(t,r)},r=>{gq(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=pW(t.repoInfo_,()=>new dH(t.stats_,t.server_)),t.infoData_=new lH,t.infoSyncTree_=new D2({startListening:a((r,i,s,o)=>{let l=[];const u=t.infoData_.getNode(r._path);return u.isEmpty()||(l=U0(t.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),l},"startListening"),stopListening:a(()=>{},"stopListening")}),Ev(t,"connected",!1),t.serverSyncTree_=new D2({startListening:a((r,i,s,o)=>(t.server_.listen(r,s,i,(l,u)=>{const c=o(l,u);wl(t.eventQueue_,r._path,c)}),[]),"startListening"),stopListening:a((r,i)=>{t.server_.unlisten(r,i)},"stopListening")})}a(pq,"repoStart");function mq(t){const n=t.infoData_.getNode(new dt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}a(mq,"repoServerTime");function a3(t){return KH({timestamp:mq(t)})}a(a3,"repoGenerateServerValues");function P2(t,e,n,r,i){t.dataUpdateCount++;const s=new dt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const u=Dm(n,c=>an(c));o=GH(t.serverSyncTree_,s,u,i)}else{const u=an(n);o=qH(t.serverSyncTree_,s,u,i)}else if(r){const u=Dm(n,c=>an(c));o=HH(t.serverSyncTree_,s,u)}else{const u=an(n);o=U0(t.serverSyncTree_,s,u)}let l=s;o.length>0&&(l=Sv(t,s)),wl(t.eventQueue_,l,o)}a(P2,"repoOnDataUpdate");function L2(t,e){Ev(t,"connected",e),e===!1&&_q(t)}a(L2,"repoOnConnectStatus");function gq(t,e){xr(e,(n,r)=>{Ev(t,n,r)})}a(gq,"repoOnServerInfoUpdate");function Ev(t,e,n){const r=new dt("/.info/"+e),i=an(n);t.infoData_.updateSnapshot(r,i);const s=U0(t.infoSyncTree_,r,i);wl(t.eventQueue_,r,s)}a(Ev,"repoUpdateInfo");function yq(t){return t.nextWriteId_++}a(yq,"repoGetNextWriteId");function _q(t){l3(t,"onDisconnectEvents");const e=a3(t),n=Km();Db(t.onDisconnect_,Qe(),(i,s)=>{const o=XH(i,s,t.serverSyncTree_,e);PD(n,i,o)});let r=[];Db(n,Qe(),(i,s)=>{r=r.concat(U0(t.serverSyncTree_,i,s));const o=vq(t,i);Sv(t,o)}),t.onDisconnect_=Km(),wl(t.eventQueue_,Qe(),r)}a(_q,"repoRunOnDisconnectEvents");function bq(t){t.persistentConnection_&&t.persistentConnection_.interrupt(fq)}a(bq,"repoInterrupt");function l3(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),on(n,...e)}a(l3,"repoLog");function u3(t,e,n){return JD(t.serverSyncTree_,e,n)||Ke.EMPTY_NODE}a(u3,"repoGetLatestState");function vv(t,e=t.transactionQueueTree_){if(e||V0(t,e),cc(e)){const n=f3(t,e);te(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&wq(t,ad(e),n)}else r3(e)&&j0(e,n=>{vv(t,n)})}a(vv,"repoSendReadyTransactions");function wq(t,e,n){const r=n.map(c=>c.currentWriteId),i=u3(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const f=n[c];te(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const h=br(e,f.path);s=s.updateChild(h,f.currentOutputSnapshotRaw)}const l=s.val(!0),u=e;t.server_.put(u.toString(),l,c=>{l3(t,"transaction put response",{path:u.toString(),status:c});let f=[];if(c==="ok"){const h=[];for(let p=0;p<n.length;p++)n[p].status=2,f=f.concat(eu(t.serverSyncTree_,n[p].currentWriteId)),n[p].onComplete&&h.push(()=>n[p].onComplete(null,!0,n[p].currentOutputSnapshotResolved)),n[p].unwatcher();V0(t,wv(t.transactionQueueTree_,e)),vv(t,t.transactionQueueTree_),wl(t.eventQueue_,e,f);for(let p=0;p<h.length;p++)sd(h[p])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{rr("transaction at "+u.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}Sv(t,e)}},o)}a(wq,"repoSendTransactionQueue");function Sv(t,e){const n=c3(t,e),r=ad(n),i=f3(t,n);return Eq(t,i,r),r}a(Sv,"repoRerunTransactions");function Eq(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const u=e[l],c=br(n,u.path);let f=!1,h;if(te(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)f=!0,h=u.abortReason,i=i.concat(eu(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=hq)f=!0,h="maxretry",i=i.concat(eu(t.serverSyncTree_,u.currentWriteId,!0));else{const p=u3(t,u.path,o);u.currentInputSnapshot=p;const m=e[l].update(p.val());if(m!==void 0){o3("transaction failed: Data returned ",m,u.path);let g=an(m);typeof m=="object"&&m!=null&&$s(m,".priority")||(g=g.updatePriority(p.getPriority()));const _=u.currentWriteId,w=a3(t),S=ZH(g,p,w);u.currentOutputSnapshotRaw=g,u.currentOutputSnapshotResolved=S,u.currentWriteId=yq(t),o.splice(o.indexOf(_),1),i=i.concat(WH(t.serverSyncTree_,u.path,S,u.currentWriteId,u.applyLocally)),i=i.concat(eu(t.serverSyncTree_,_,!0))}else f=!0,h="nodata",i=i.concat(eu(t.serverSyncTree_,u.currentWriteId,!0))}wl(t.eventQueue_,n,i),i=[],f&&(e[l].status=2,function(p){setTimeout(p,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(h==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(h),!1,null))))}V0(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)sd(r[l]);vv(t,t.transactionQueueTree_)}a(Eq,"repoRerunTransactionQueue");function c3(t,e){let n,r=t.transactionQueueTree_;for(n=$e(e);n!==null&&cc(r)===void 0;)r=wv(r,n),e=ht(e),n=$e(e);return r}a(c3,"repoGetAncestorTransactionNode");function f3(t,e){const n=[];return h3(t,e,n),n.sort((r,i)=>r.order-i.order),n}a(f3,"repoBuildTransactionQueue");function h3(t,e,n){const r=cc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);j0(e,i=>{h3(t,i,n)})}a(h3,"repoAggregateTransactionQueuesForNode");function V0(t,e){const n=cc(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,n3(e,n.length>0?n:void 0)}j0(e,r=>{V0(t,r)})}a(V0,"repoPruneCompletedTransactionsBelowNode");function vq(t,e){const n=ad(c3(t,e)),r=wv(t.transactionQueueTree_,e);return eq(r,i=>{A1(t,i)}),A1(t,r),i3(r,i=>{A1(t,i)}),n}a(vq,"repoAbortTransactions");function A1(t,e){const n=cc(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(te(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(te(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(eu(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?n3(e,void 0):n.length=s+1,wl(t.eventQueue_,ad(e),i);for(let o=0;o<r.length;o++)sd(r[o])}}a(A1,"repoAbortTransactionsOnNode");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}a(Sq,"decodePath");function kq(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):rr(`Invalid query segment '${n}' in query '${t}'`)}return e}a(kq,"decodeQuery");const F2=a(function(t,e){const n=Aq(t),r=n.namespace;n.domain==="firebase.com"&&Va(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Va("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||eW();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new fW(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new dt(n.pathString)}},"parseRepoInfo"),Aq=a(function(t){let e="",n="",r="",i="",s="",o=!0,l="https",u=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));let f=t.indexOf("/");f===-1&&(f=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(f,h)),f<h&&(i=Sq(t.substring(f,h)));const p=kq(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=l==="https"||l==="wss",u=parseInt(e.substring(c+1),10)):c=e.length;const m=e.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in p&&(s=p.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}},"parseDatabaseURL");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{static{a(this,"QueryImpl")}constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Pe(this._path)?null:AD(this._path)}get ref(){return new fc(this._repo,this._path)}get _queryIdentifier(){const e=v2(this._queryParams),n=iv(e);return n==="{}"?"default":n}get _queryObject(){return v2(this._queryParams)}isEqual(e){if(e=Rr(e),!(e instanceof kv))return!1;const n=this._repo===e._repo,r=CD(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+FW(this._path)}}class fc extends kv{static{a(this,"ReferenceImpl")}constructor(e,n){super(e,n,new cv,!1)}get parent(){const e=xD(this._path);return e===null?null:new fc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}jH(fc);VH(fc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq="FIREBASE_DATABASE_EMULATOR_HOST",zb={};let xq=!1;function Cq(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Va("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),on("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=F2(s,i),l=o.repoInfo,u;typeof process<"u"&&r2&&(u=r2[Tq]),u?(s=`http://${u}?ns=${l.namespace}`,o=F2(s,i),l=o.repoInfo):o.repoInfo.secure;const c=new cW(t.name,t.options,e);oq("Invalid Firebase Database URL",o),Pe(o.path)||Va("Database URL must point to the root of a Firebase Database (not including a child path).");const f=Rq(l,t,c,new uW(t,n));return new Oq(f,t)}a(Cq,"repoManagerDatabaseFromApp");function Iq(t,e){const n=zb[e];(!n||n[t.key]!==t)&&Va(`Database ${e}(${t.repoInfo_}) has already been deleted.`),bq(t),delete n[t.key]}a(Iq,"repoManagerDeleteRepo");function Rq(t,e,n,r){let i=zb[e.name];i||(i={},zb[e.name]=i);let s=i[t.toURLString()];return s&&Va("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new dq(t,xq,n,r),i[t.toURLString()]=s,s}a(Rq,"repoManagerCreateRepo");class Oq{static{a(this,"Database")}constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(pq(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fc(this._repo,Qe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Iq(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Va("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nq(t){KV(Go),Li(new ri("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Cq(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),nr(i2,s2,t),nr(i2,s2,"esm2017")}a(Nq,"registerDatabase");Cs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Cs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Nq();var $2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var d3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,v){function A(){}a(A,"c"),A.prototype=v.prototype,k.D=v.prototype,k.prototype=new A,k.prototype.constructor=k,k.C=function(C,x,I){for(var D=Array(arguments.length-2),$=2;$<arguments.length;$++)D[$-2]=arguments[$];return v.prototype[x].apply(C,D)}}a(e,"k");function n(){this.blockSize=-1}a(n,"l");function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}a(r,"m"),e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,v,A){A||(A=0);var C=Array(16);if(typeof v=="string")for(var x=0;16>x;++x)C[x]=v.charCodeAt(A++)|v.charCodeAt(A++)<<8|v.charCodeAt(A++)<<16|v.charCodeAt(A++)<<24;else for(x=0;16>x;++x)C[x]=v[A++]|v[A++]<<8|v[A++]<<16|v[A++]<<24;v=k.g[0],A=k.g[1],x=k.g[2];var I=k.g[3],D=v+(I^A&(x^I))+C[0]+3614090360&4294967295;v=A+(D<<7&4294967295|D>>>25),D=I+(x^v&(A^x))+C[1]+3905402710&4294967295,I=v+(D<<12&4294967295|D>>>20),D=x+(A^I&(v^A))+C[2]+606105819&4294967295,x=I+(D<<17&4294967295|D>>>15),D=A+(v^x&(I^v))+C[3]+3250441966&4294967295,A=x+(D<<22&4294967295|D>>>10),D=v+(I^A&(x^I))+C[4]+4118548399&4294967295,v=A+(D<<7&4294967295|D>>>25),D=I+(x^v&(A^x))+C[5]+1200080426&4294967295,I=v+(D<<12&4294967295|D>>>20),D=x+(A^I&(v^A))+C[6]+2821735955&4294967295,x=I+(D<<17&4294967295|D>>>15),D=A+(v^x&(I^v))+C[7]+4249261313&4294967295,A=x+(D<<22&4294967295|D>>>10),D=v+(I^A&(x^I))+C[8]+1770035416&4294967295,v=A+(D<<7&4294967295|D>>>25),D=I+(x^v&(A^x))+C[9]+2336552879&4294967295,I=v+(D<<12&4294967295|D>>>20),D=x+(A^I&(v^A))+C[10]+4294925233&4294967295,x=I+(D<<17&4294967295|D>>>15),D=A+(v^x&(I^v))+C[11]+2304563134&4294967295,A=x+(D<<22&4294967295|D>>>10),D=v+(I^A&(x^I))+C[12]+1804603682&4294967295,v=A+(D<<7&4294967295|D>>>25),D=I+(x^v&(A^x))+C[13]+4254626195&4294967295,I=v+(D<<12&4294967295|D>>>20),D=x+(A^I&(v^A))+C[14]+2792965006&4294967295,x=I+(D<<17&4294967295|D>>>15),D=A+(v^x&(I^v))+C[15]+1236535329&4294967295,A=x+(D<<22&4294967295|D>>>10),D=v+(x^I&(A^x))+C[1]+4129170786&4294967295,v=A+(D<<5&4294967295|D>>>27),D=I+(A^x&(v^A))+C[6]+3225465664&4294967295,I=v+(D<<9&4294967295|D>>>23),D=x+(v^A&(I^v))+C[11]+643717713&4294967295,x=I+(D<<14&4294967295|D>>>18),D=A+(I^v&(x^I))+C[0]+3921069994&4294967295,A=x+(D<<20&4294967295|D>>>12),D=v+(x^I&(A^x))+C[5]+3593408605&4294967295,v=A+(D<<5&4294967295|D>>>27),D=I+(A^x&(v^A))+C[10]+38016083&4294967295,I=v+(D<<9&4294967295|D>>>23),D=x+(v^A&(I^v))+C[15]+3634488961&4294967295,x=I+(D<<14&4294967295|D>>>18),D=A+(I^v&(x^I))+C[4]+3889429448&4294967295,A=x+(D<<20&4294967295|D>>>12),D=v+(x^I&(A^x))+C[9]+568446438&4294967295,v=A+(D<<5&4294967295|D>>>27),D=I+(A^x&(v^A))+C[14]+3275163606&4294967295,I=v+(D<<9&4294967295|D>>>23),D=x+(v^A&(I^v))+C[3]+4107603335&4294967295,x=I+(D<<14&4294967295|D>>>18),D=A+(I^v&(x^I))+C[8]+1163531501&4294967295,A=x+(D<<20&4294967295|D>>>12),D=v+(x^I&(A^x))+C[13]+2850285829&4294967295,v=A+(D<<5&4294967295|D>>>27),D=I+(A^x&(v^A))+C[2]+4243563512&4294967295,I=v+(D<<9&4294967295|D>>>23),D=x+(v^A&(I^v))+C[7]+1735328473&4294967295,x=I+(D<<14&4294967295|D>>>18),D=A+(I^v&(x^I))+C[12]+2368359562&4294967295,A=x+(D<<20&4294967295|D>>>12),D=v+(A^x^I)+C[5]+4294588738&4294967295,v=A+(D<<4&4294967295|D>>>28),D=I+(v^A^x)+C[8]+2272392833&4294967295,I=v+(D<<11&4294967295|D>>>21),D=x+(I^v^A)+C[11]+1839030562&4294967295,x=I+(D<<16&4294967295|D>>>16),D=A+(x^I^v)+C[14]+4259657740&4294967295,A=x+(D<<23&4294967295|D>>>9),D=v+(A^x^I)+C[1]+2763975236&4294967295,v=A+(D<<4&4294967295|D>>>28),D=I+(v^A^x)+C[4]+1272893353&4294967295,I=v+(D<<11&4294967295|D>>>21),D=x+(I^v^A)+C[7]+4139469664&4294967295,x=I+(D<<16&4294967295|D>>>16),D=A+(x^I^v)+C[10]+3200236656&4294967295,A=x+(D<<23&4294967295|D>>>9),D=v+(A^x^I)+C[13]+681279174&4294967295,v=A+(D<<4&4294967295|D>>>28),D=I+(v^A^x)+C[0]+3936430074&4294967295,I=v+(D<<11&4294967295|D>>>21),D=x+(I^v^A)+C[3]+3572445317&4294967295,x=I+(D<<16&4294967295|D>>>16),D=A+(x^I^v)+C[6]+76029189&4294967295,A=x+(D<<23&4294967295|D>>>9),D=v+(A^x^I)+C[9]+3654602809&4294967295,v=A+(D<<4&4294967295|D>>>28),D=I+(v^A^x)+C[12]+3873151461&4294967295,I=v+(D<<11&4294967295|D>>>21),D=x+(I^v^A)+C[15]+530742520&4294967295,x=I+(D<<16&4294967295|D>>>16),D=A+(x^I^v)+C[2]+3299628645&4294967295,A=x+(D<<23&4294967295|D>>>9),D=v+(x^(A|~I))+C[0]+4096336452&4294967295,v=A+(D<<6&4294967295|D>>>26),D=I+(A^(v|~x))+C[7]+1126891415&4294967295,I=v+(D<<10&4294967295|D>>>22),D=x+(v^(I|~A))+C[14]+2878612391&4294967295,x=I+(D<<15&4294967295|D>>>17),D=A+(I^(x|~v))+C[5]+4237533241&4294967295,A=x+(D<<21&4294967295|D>>>11),D=v+(x^(A|~I))+C[12]+1700485571&4294967295,v=A+(D<<6&4294967295|D>>>26),D=I+(A^(v|~x))+C[3]+2399980690&4294967295,I=v+(D<<10&4294967295|D>>>22),D=x+(v^(I|~A))+C[10]+4293915773&4294967295,x=I+(D<<15&4294967295|D>>>17),D=A+(I^(x|~v))+C[1]+2240044497&4294967295,A=x+(D<<21&4294967295|D>>>11),D=v+(x^(A|~I))+C[8]+1873313359&4294967295,v=A+(D<<6&4294967295|D>>>26),D=I+(A^(v|~x))+C[15]+4264355552&4294967295,I=v+(D<<10&4294967295|D>>>22),D=x+(v^(I|~A))+C[6]+2734768916&4294967295,x=I+(D<<15&4294967295|D>>>17),D=A+(I^(x|~v))+C[13]+1309151649&4294967295,A=x+(D<<21&4294967295|D>>>11),D=v+(x^(A|~I))+C[4]+4149444226&4294967295,v=A+(D<<6&4294967295|D>>>26),D=I+(A^(v|~x))+C[11]+3174756917&4294967295,I=v+(D<<10&4294967295|D>>>22),D=x+(v^(I|~A))+C[2]+718787259&4294967295,x=I+(D<<15&4294967295|D>>>17),D=A+(I^(x|~v))+C[9]+3951481745&4294967295,k.g[0]=k.g[0]+v&4294967295,k.g[1]=k.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+x&4294967295,k.g[3]=k.g[3]+I&4294967295}a(i,"n"),r.prototype.u=function(k,v){v===void 0&&(v=k.length);for(var A=v-this.blockSize,C=this.B,x=this.h,I=0;I<v;){if(x==0)for(;I<=A;)i(this,k,I),I+=this.blockSize;if(typeof k=="string"){for(;I<v;)if(C[x++]=k.charCodeAt(I++),x==this.blockSize){i(this,C),x=0;break}}else for(;I<v;)if(C[x++]=k[I++],x==this.blockSize){i(this,C),x=0;break}}this.h=x,this.o+=v},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var v=1;v<k.length-8;++v)k[v]=0;var A=8*this.o;for(v=k.length-8;v<k.length;++v)k[v]=A&255,A/=256;for(this.u(k),k=Array(16),v=A=0;4>v;++v)for(var C=0;32>C;C+=8)k[A++]=this.g[v]>>>C&255;return k};function s(k,v){var A=l;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=v(k)}a(s,"p");function o(k,v){this.h=v;for(var A=[],C=!0,x=k.length-1;0<=x;x--){var I=k[x]|0;C&&I==v||(A[x]=I,C=!1)}this.g=A}a(o,"t");var l={};function u(k){return-128<=k&&128>k?s(k,function(v){return new o([v|0],0>v?-1:0)}):new o([k|0],0>k?-1:0)}a(u,"u");function c(k){if(isNaN(k)||!isFinite(k))return h;if(0>k)return _(c(-k));for(var v=[],A=1,C=0;k>=A;C++)v[C]=k/A|0,A*=4294967296;return new o(v,0)}a(c,"v");function f(k,v){if(k.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(k.charAt(0)=="-")return _(f(k.substring(1),v));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(v,8)),C=h,x=0;x<k.length;x+=8){var I=Math.min(8,k.length-x),D=parseInt(k.substring(x,x+I),v);8>I?(I=c(Math.pow(v,I)),C=C.j(I).add(c(D))):(C=C.j(A),C=C.add(c(D)))}return C}a(f,"y");var h=u(0),p=u(1),m=u(16777216);t=o.prototype,t.m=function(){if(y(this))return-_(this).m();for(var k=0,v=1,A=0;A<this.g.length;A++){var C=this.i(A);k+=(0<=C?C:4294967296+C)*v,v*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(g(this))return"0";if(y(this))return"-"+_(this).toString(k);for(var v=c(Math.pow(k,6)),A=this,C="";;){var x=N(A,v).g;A=w(A,x.j(v));var I=((0<A.g.length?A.g[0]:A.h)>>>0).toString(k);if(A=x,g(A))return I+C;for(;6>I.length;)I="0"+I;C=I+C}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function g(k){if(k.h!=0)return!1;for(var v=0;v<k.g.length;v++)if(k.g[v]!=0)return!1;return!0}a(g,"C");function y(k){return k.h==-1}a(y,"B"),t.l=function(k){return k=w(this,k),y(k)?-1:g(k)?0:1};function _(k){for(var v=k.g.length,A=[],C=0;C<v;C++)A[C]=~k.g[C];return new o(A,~k.h).add(p)}a(_,"x"),t.abs=function(){return y(this)?_(this):this},t.add=function(k){for(var v=Math.max(this.g.length,k.g.length),A=[],C=0,x=0;x<=v;x++){var I=C+(this.i(x)&65535)+(k.i(x)&65535),D=(I>>>16)+(this.i(x)>>>16)+(k.i(x)>>>16);C=D>>>16,I&=65535,D&=65535,A[x]=D<<16|I}return new o(A,A[A.length-1]&-2147483648?-1:0)};function w(k,v){return k.add(_(v))}a(w,"F"),t.j=function(k){if(g(this)||g(k))return h;if(y(this))return y(k)?_(this).j(_(k)):_(_(this).j(k));if(y(k))return _(this.j(_(k)));if(0>this.l(m)&&0>k.l(m))return c(this.m()*k.m());for(var v=this.g.length+k.g.length,A=[],C=0;C<2*v;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(var x=0;x<k.g.length;x++){var I=this.i(C)>>>16,D=this.i(C)&65535,$=k.i(x)>>>16,F=k.i(x)&65535;A[2*C+2*x]+=D*F,S(A,2*C+2*x),A[2*C+2*x+1]+=I*F,S(A,2*C+2*x+1),A[2*C+2*x+1]+=D*$,S(A,2*C+2*x+1),A[2*C+2*x+2]+=I*$,S(A,2*C+2*x+2)}for(C=0;C<v;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=v;C<2*v;C++)A[C]=0;return new o(A,0)};function S(k,v){for(;(k[v]&65535)!=k[v];)k[v+1]+=k[v]>>>16,k[v]&=65535,v++}a(S,"G");function T(k,v){this.g=k,this.h=v}a(T,"H");function N(k,v){if(g(v))throw Error("division by zero");if(g(k))return new T(h,h);if(y(k))return v=N(_(k),v),new T(_(v.g),_(v.h));if(y(v))return v=N(k,_(v)),new T(_(v.g),v.h);if(30<k.g.length){if(y(k)||y(v))throw Error("slowDivide_ only works with positive integers.");for(var A=p,C=v;0>=C.l(k);)A=O(A),C=O(C);var x=M(A,1),I=M(C,1);for(C=M(C,2),A=M(A,2);!g(C);){var D=I.add(C);0>=D.l(k)&&(x=x.add(A),I=D),C=M(C,1),A=M(A,1)}return v=w(k,x.j(v)),new T(x,v)}for(x=h;0<=k.l(v);){for(A=Math.max(1,Math.floor(k.m()/v.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),I=c(A),D=I.j(v);y(D)||0<D.l(k);)A-=C,I=c(A),D=I.j(v);g(I)&&(I=p),x=x.add(I),k=w(k,D)}return new T(x,k)}a(N,"D"),t.A=function(k){return N(this,k).h},t.and=function(k){for(var v=Math.max(this.g.length,k.g.length),A=[],C=0;C<v;C++)A[C]=this.i(C)&k.i(C);return new o(A,this.h&k.h)},t.or=function(k){for(var v=Math.max(this.g.length,k.g.length),A=[],C=0;C<v;C++)A[C]=this.i(C)|k.i(C);return new o(A,this.h|k.h)},t.xor=function(k){for(var v=Math.max(this.g.length,k.g.length),A=[],C=0;C<v;C++)A[C]=this.i(C)^k.i(C);return new o(A,this.h^k.h)};function O(k){for(var v=k.g.length+1,A=[],C=0;C<v;C++)A[C]=k.i(C)<<1|k.i(C-1)>>>31;return new o(A,k.h)}a(O,"I");function M(k,v){var A=v>>5;v%=32;for(var C=k.g.length-A,x=[],I=0;I<C;I++)x[I]=0<v?k.i(I+A)>>>v|k.i(I+A+1)<<32-v:k.i(I+A);return new o(x,k.h)}a(M,"J"),r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,d3=o}).apply(typeof $2<"u"?$2:typeof self<"u"?self:typeof window<"u"?window:{});var gp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,b,E){return d==Array.prototype||d==Object.prototype||(d[b]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof gp=="object"&&gp];for(var b=0;b<d.length;++b){var E=d[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}a(n,"ba");var r=n(this);function i(d,b){if(b)e:{var E=r;d=d.split(".");for(var R=0;R<d.length-1;R++){var L=d[R];if(!(L in E))break e;E=E[L]}d=d[d.length-1],R=E[d],b=b(R),b!=R&&b!=null&&e(E,d,{configurable:!0,writable:!0,value:b})}}a(i,"da");function s(d,b){d instanceof String&&(d+="");var E=0,R=!1,L={next:a(function(){if(!R&&E<d.length){var z=E++;return{value:b(z,d[z]),done:!1}}return R=!0,{done:!0,value:void 0}},"next")};return L[Symbol.iterator]=function(){return L},L}a(s,"ea"),i("Array.prototype.values",function(d){return d||function(){return s(this,function(b,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(d){var b=typeof d;return b=b!="object"?b:d?Array.isArray(d)?"array":b:"null",b=="array"||b=="object"&&typeof d.length=="number"}a(u,"ha");function c(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}a(c,"n");function f(d,b,E){return d.call.apply(d.bind,arguments)}a(f,"ia");function h(d,b,E){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,R),d.apply(b,L)}}return function(){return d.apply(b,arguments)}}a(h,"ja");function p(d,b,E){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,p.apply(null,arguments)}a(p,"p");function m(d,b){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),d.apply(this,R)}}a(m,"ka");function g(d,b){function E(){}a(E,"c"),E.prototype=b.prototype,d.aa=b.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(R,L,z){for(var X=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)X[nt-2]=arguments[nt];return b.prototype[L].apply(R,X)}}a(g,"r");function y(d){const b=d.length;if(0<b){const E=Array(b);for(let R=0;R<b;R++)E[R]=d[R];return E}return[]}a(y,"la");function _(d,b){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(u(R)){const L=d.length||0,z=R.length||0;d.length=L+z;for(let X=0;X<z;X++)d[L+X]=R[X]}else d.push(R)}}a(_,"ma");class w{static{a(this,"na")}constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function S(d){return/^[\s\xa0]*$/.test(d)}a(S,"t");function T(){var d=l.navigator;return d&&(d=d.userAgent)?d:""}a(T,"u");function N(d){return N[" "](d),d}a(N,"oa"),N[" "]=function(){};var O=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(d,b,E){for(const R in d)b.call(E,d[R],R,d)}a(M,"qa");function k(d,b){for(const E in d)b.call(void 0,d[E],E,d)}a(k,"ra");function v(d){const b={};for(const E in d)b[E]=d[E];return b}a(v,"sa");const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(d,b){let E,R;for(let L=1;L<arguments.length;L++){R=arguments[L];for(E in R)d[E]=R[E];for(let z=0;z<A.length;z++)E=A[z],Object.prototype.hasOwnProperty.call(R,E)&&(d[E]=R[E])}}a(C,"ua");function x(d){var b=1;d=d.split(":");const E=[];for(;0<b&&d.length;)E.push(d.shift()),b--;return d.length&&E.push(d.join(":")),E}a(x,"va");function I(d){l.setTimeout(()=>{throw d},0)}a(I,"wa");function D(){var d=V;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}a(D,"xa");class ${static{a(this,"Aa")}constructor(){this.h=this.g=null}add(b,E){const R=F.get();R.set(b,E),this.h?this.h.next=R:this.g=R,this.h=R}}var F=new w(()=>new B,d=>d.reset());class B{static{a(this,"Ca")}constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let j,Y=!1,V=new $,K=a(()=>{const d=l.Promise.resolve(void 0);j=a(()=>{d.then(J)},"x")},"Ea");var J=a(()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(E){I(E)}var b=F;b.j(d),100>b.h&&(b.h++,d.next=b.g,b.g=d)}Y=!1},"Da");function ne(){this.s=this.s,this.C=this.C}a(ne,"z"),ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}a(ie,"A"),ie.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:a(function(){d=!0},"get")});try{const E=a(()=>{},"c");l.addEventListener("test",E,b),l.removeEventListener("test",E,b)}catch{}return d}();function fe(d,b){if(ie.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget){if(O){e:{try{N(b.nodeName);var L=!0;break e}catch{}L=!1}L||(b=null)}}else E=="mouseover"?b=d.fromElement:E=="mouseout"&&(b=d.toElement);this.relatedTarget=b,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Me[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&fe.aa.h.call(this)}}a(fe,"C"),g(fe,ie);var Me={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),ts=0;function ns(d,b,E,R,L){this.listener=d,this.proxy=null,this.src=b,this.type=E,this.capture=!!R,this.ha=L,this.key=++ts,this.da=this.fa=!1}a(ns,"Ia");function Or(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}a(Or,"Ja");function pi(d){this.src=d,this.g={},this.h=0}a(pi,"Ka"),pi.prototype.add=function(d,b,E,R,L){var z=d.toString();d=this.g[z],d||(d=this.g[z]=[],this.h++);var X=rs(d,b,R,L);return-1<X?(b=d[X],E||(b.fa=!1)):(b=new ns(b,this.src,z,!!R,L),b.fa=E,d.push(b)),b};function Wn(d,b){var E=b.type;if(E in d.g){var R=d.g[E],L=Array.prototype.indexOf.call(R,b,void 0),z;(z=0<=L)&&Array.prototype.splice.call(R,L,1),z&&(Or(b),d.g[E].length==0&&(delete d.g[E],d.h--))}}a(Wn,"Ma");function rs(d,b,E,R){for(var L=0;L<d.length;++L){var z=d[L];if(!z.da&&z.listener==b&&z.capture==!!E&&z.ha==R)return L}return-1}a(rs,"La");var Hn="closure_lm_"+(1e6*Math.random()|0),Q={};function he(d,b,E,R,L){if(Array.isArray(b)){for(var z=0;z<b.length;z++)he(d,b[z],E,R,L);return null}return E=Nr(E),d&&d[yt]?d.K(b,E,c(R)?!!R.capture:!!R,L):Ze(d,b,E,!1,R,L)}a(he,"Qa");function Ze(d,b,E,R,L,z){if(!b)throw Error("Invalid event type");var X=c(L)?!!L.capture:!!L,nt=qn(d);if(nt||(d[Hn]=nt=new pi(d)),E=nt.add(b,E,R,X,z),E.proxy)return E;if(R=qe(),E.proxy=R,R.src=d,R.listener=E,d.addEventListener)ot||(L=X),L===void 0&&(L=!1),d.addEventListener(b.toString(),R,L);else if(d.attachEvent)d.attachEvent(Dt(b.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}a(Ze,"Ta");function qe(){function d(E){return b.call(d.src,d.listener,E)}a(d,"a");const b=ur;return d}a(qe,"Va");function Ce(d,b,E,R,L){if(Array.isArray(b))for(var z=0;z<b.length;z++)Ce(d,b[z],E,R,L);else R=c(R)?!!R.capture:!!R,E=Nr(E),d&&d[yt]?(d=d.i,b=String(b).toString(),b in d.g&&(z=d.g[b],E=rs(z,E,R,L),-1<E&&(Or(z[E]),Array.prototype.splice.call(z,E,1),z.length==0&&(delete d.g[b],d.h--)))):d&&(d=qn(d))&&(b=d.g[b.toString()],d=-1,b&&(d=rs(b,E,R,L)),(E=-1<d?b[d]:null)&&Je(E))}a(Ce,"Ya");function Je(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[yt])Wn(b.i,d);else{var E=d.type,R=d.proxy;b.removeEventListener?b.removeEventListener(E,R,d.capture):b.detachEvent?b.detachEvent(Dt(E),R):b.addListener&&b.removeListener&&b.removeListener(R),(E=qn(b))?(Wn(E,d),E.h==0&&(E.src=null,b[Hn]=null)):Or(d)}}}a(Je,"Za");function Dt(d){return d in Q?Q[d]:Q[d]="on"+d}a(Dt,"Wa");function ur(d,b){if(d.da)d=!0;else{b=new fe(b,this);var E=d.listener,R=d.ha||d.src;d.fa&&Je(d),d=E.call(R,b)}return d}a(ur,"Xa");function qn(d){return d=d[Hn],d instanceof pi?d:null}a(qn,"Ua");var Gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nr(d){return typeof d=="function"?d:(d[Gn]||(d[Gn]=function(b){return d.handleEvent(b)}),d[Gn])}a(Nr,"Sa");function at(){ne.call(this),this.i=new pi(this),this.M=this,this.F=null}a(at,"E"),g(at,ne),at.prototype[yt]=!0,at.prototype.removeEventListener=function(d,b,E,R){Ce(this,d,b,E,R)};function Mt(d,b){var E,R=d.F;if(R)for(E=[];R;R=R.F)E.push(R);if(d=d.M,R=b.type||b,typeof b=="string")b=new ie(b,d);else if(b instanceof ie)b.target=b.target||d;else{var L=b;b=new ie(R,d),C(b,L)}if(L=!0,E)for(var z=E.length-1;0<=z;z--){var X=b.g=E[z];L=na(X,R,!0,b)&&L}if(X=b.g=d,L=na(X,R,!0,b)&&L,L=na(X,R,!1,b)&&L,E)for(z=0;z<E.length;z++)X=b.g=E[z],L=na(X,R,!1,b)&&L}a(Mt,"F"),at.prototype.N=function(){if(at.aa.N.call(this),this.i){var d=this.i,b;for(b in d.g){for(var E=d.g[b],R=0;R<E.length;R++)Or(E[R]);delete d.g[b],d.h--}}this.F=null},at.prototype.K=function(d,b,E,R){return this.i.add(String(d),b,!1,E,R)},at.prototype.L=function(d,b,E,R){return this.i.add(String(d),b,!0,E,R)};function na(d,b,E,R){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();for(var L=!0,z=0;z<b.length;++z){var X=b[z];if(X&&!X.da&&X.capture==E){var nt=X.listener,qt=X.ha||X.src;X.fa&&Wn(d.i,X),L=nt.call(qt,R)!==!1&&L}}return L&&!R.defaultPrevented}a(na,"ab");function Oc(d,b,E){if(typeof d=="function")E&&(d=p(d,E));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:l.setTimeout(d,b||0)}a(Oc,"bb");function Dl(d){d.g=Oc(()=>{d.g=null,d.i&&(d.i=!1,Dl(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}a(Dl,"cb");class jd extends ne{static{a(this,"eb")}constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Dl(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(d){ne.call(this),this.h=d,this.g={}}a(mi,"G"),g(mi,ne);var ra=[];function cr(d){M(d.g,function(b,E){this.g.hasOwnProperty(E)&&Je(b)},d),d.g={}}a(cr,"gb"),mi.prototype.N=function(){mi.aa.N.call(this),cr(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gi=l.JSON.stringify,Nc=l.JSON.parse,Dc=class{static{a(this,"jb")}stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function Mc(){}a(Mc,"kb"),Mc.prototype.h=null;function ia(d){return d.h||(d.h=d.i())}a(ia,"lb");function Ml(){}a(Ml,"mb");var sa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function is(){ie.call(this,"d")}a(is,"nb"),g(is,ie);function Pc(){ie.call(this,"c")}a(Pc,"ob"),g(Pc,ie);var Vs={},At=null;function yi(){return At=At||new at}a(yi,"qb"),Vs.La="serverreachability";function Vd(d){ie.call(this,Vs.La,d)}a(Vd,"rb"),g(Vd,ie);function Ws(d){const b=yi();Mt(b,new Vd(b))}a(Ws,"J"),Vs.STAT_EVENT="statevent";function Pl(d,b){ie.call(this,Vs.STAT_EVENT,d),this.stat=b}a(Pl,"sb"),g(Pl,ie);function Pt(d){const b=yi();Mt(b,new Pl(b,d))}a(Pt,"K"),Vs.Ma="timingevent";function Lc(d,b){ie.call(this,Vs.Ma,d),this.size=b}a(Lc,"tb"),g(Lc,ie);function oa(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},b)}a(oa,"ub");function tn(){this.g=!0}a(tn,"vb"),tn.prototype.xa=function(){this.g=!1};function Ll(d,b,E,R,L,z){d.info(function(){if(d.g)if(z)for(var X="",nt=z.split("&"),qt=0;qt<nt.length;qt++){var Ve=nt[qt].split("=");if(1<Ve.length){var nn=Ve[0];Ve=Ve[1];var rn=nn.split("_");X=2<=rn.length&&rn[1]=="type"?X+(nn+"="+Ve+"&"):X+(nn+"=redacted&")}}else X=null;else X=z;return"XMLHTTP REQ ("+R+") [attempt "+L+"]: "+b+`
`+E+`
`+X})}a(Ll,"wb");function Wd(d,b,E,R,L,z,X){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+L+"]: "+b+`
`+E+`
`+z+" "+X})}a(Wd,"xb");function ss(d,b,E,R){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+Hd(d,E)+(R?" "+R:"")})}a(ss,"L");function Fc(d,b){d.info(function(){return"TIMEOUT: "+b})}a(Fc,"zb"),tn.prototype.info=function(){};function Hd(d,b){if(!d.g)return b;if(!b)return null;try{var E=JSON.parse(b);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var R=E[d];if(!(2>R.length)){var L=R[1];if(Array.isArray(L)&&!(1>L.length)){var z=L[0];if(z!="noop"&&z!="stop"&&z!="close")for(var X=1;X<L.length;X++)L[X]=""}}}}return gi(E)}catch{return b}}a(Hd,"yb");var Kn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fl;function aa(){}a(aa,"Db"),g(aa,Mc),aa.prototype.g=function(){return new XMLHttpRequest},aa.prototype.i=function(){return{}},Fl=new aa;function Dr(d,b,E,R){this.j=d,this.i=b,this.l=E,this.R=R||1,this.U=new mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gd}a(Dr,"M");function Gd(){this.i=null,this.g="",this.h=!1}a(Gd,"Eb");var ue={},P={};function q(d,b,E){d.L=1,d.v=Xd(as(b)),d.m=E,d.P=!0,se(d,null)}a(q,"Hb");function se(d,b){d.F=Date.now(),_t(d),d.A=as(d.v);var E=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),pA(E.i,"t",R),d.C=0,E=d.j.J,d.h=new Gd,d.g=NA(d.j,E?b:null,!d.m),0<d.O&&(d.M=new jd(p(d.Y,d,d.g),d.O)),b=d.U,E=d.g,R=d.ca;var L="readystatechange";Array.isArray(L)||(L&&(ra[0]=L.toString()),L=ra);for(var z=0;z<L.length;z++){var X=he(E,L[z],R||b.handleEvent,!1,b.h||b);if(!X)break;b.g[X.key]=X}b=d.H?v(d.H):{},d.m?(d.u||(d.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,b)):(d.u="GET",d.g.ea(d.A,d.u,null,b)),Ws(),Ll(d.i,d.u,d.A,d.l,d.R,d.m)}a(se,"Jb"),Dr.prototype.ca=function(d){d=d.target;const b=this.M;b&&ls(d)==3?b.j():this.Y(d)},Dr.prototype.Y=function(d){try{if(d==this.g)e:{const rn=ls(this.g);var b=this.g.Ba();const zl=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||EA(this.g)))){this.J||rn!=4||b==7||(b==8||0>=zl?Ws(3):Ws(2)),Pn(this);var E=this.g.Z();this.X=E;t:if(tt(this)){var R=EA(this.g);d="";var L=R.length,z=ls(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mt(this),Mr(this);var X="";break t}this.h.i=new l.TextDecoder}for(b=0;b<L;b++)this.h.h=!0,d+=this.h.i.decode(R[b],{stream:!(z&&b==L-1)});R.length=0,this.h.g+=d,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=E==200,Wd(this.i,this.u,this.A,this.l,this.R,rn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,qt=this.g;if((nt=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(nt)){var Ve=nt;break t}}Ve=null}if(E=Ve)ss(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$l(this,E);else{this.o=!1,this.s=3,Pt(12),mt(this),Mr(this);break e}}if(this.P){E=!0;let Pr;for(;!this.J&&this.C<X.length;)if(Pr=Lt(this,X),Pr==P){rn==4&&(this.s=4,Pt(14),E=!1),ss(this.i,this.l,null,"[Incomplete Response]");break}else if(Pr==ue){this.s=4,Pt(15),ss(this.i,this.l,X,"[Invalid Chunk]"),E=!1;break}else ss(this.i,this.l,Pr,null),$l(this,Pr);if(tt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||X.length!=0||this.h.h||(this.s=1,Pt(16),E=!1),this.o=this.o&&E,!E)ss(this.i,this.l,X,"[Invalid Chunked Response]"),mt(this),Mr(this);else if(0<X.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),s1(nn),nn.M=!0,Pt(11))}}else ss(this.i,this.l,X,null),$l(this,X);rn==4&&mt(this),this.o&&!this.J&&(rn==4?CA(this.j,this):(this.o=!1,_t(this)))}else t5(this.g),E==400&&0<X.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),mt(this),Mr(this)}}}catch{}finally{}};function tt(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}a(tt,"Pb");function Lt(d,b){var E=d.C,R=b.indexOf(`
`,E);return R==-1?P:(E=Number(b.substring(E,R)),isNaN(E)?ue:(R+=1,R+E>b.length?P:(b=b.slice(R,R+E),d.C=R+E,b)))}a(Lt,"Sb"),Dr.prototype.cancel=function(){this.J=!0,mt(this)};function _t(d){d.S=Date.now()+d.I,Ht(d,d.I)}a(_t,"Kb");function Ht(d,b){if(d.B!=null)throw Error("WatchDog timer not null");d.B=oa(p(d.ba,d),b)}a(Ht,"Wb");function Pn(d){d.B&&(l.clearTimeout(d.B),d.B=null)}a(Pn,"Ob"),Dr.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Fc(this.i,this.A),this.L!=2&&(Ws(),Pt(17)),mt(this),this.s=2,Mr(this)):Ht(this,this.S-d)};function Mr(d){d.j.G==0||d.J||CA(d.j,d)}a(Mr,"Qb");function mt(d){Pn(d);var b=d.M;b&&typeof b.ma=="function"&&b.ma(),d.M=null,cr(d.U),d.g&&(b=d.g,d.g=null,b.abort(),b.ma())}a(mt,"Q");function $l(d,b){try{var E=d.j;if(E.G!=0&&(E.g==d||e1(E.h,d))){if(!d.K&&e1(E.h,d)&&E.G==3){try{var R=E.Da.g.parse(b)}catch{R=null}if(Array.isArray(R)&&R.length==3){var L=R;if(L[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)rp(E),tp(E);else break e;i1(E),Pt(18)}}else E.za=L[1],0<E.za-E.T&&37500>L[2]&&E.F&&E.v==0&&!E.C&&(E.C=oa(p(E.Za,E),6e3));if(1>=sA(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ua(E,11)}else if((d.K||E.g==d)&&rp(E),!S(b))for(L=E.Da.g.parse(b),b=0;b<L.length;b++){let Ve=L[b];if(E.T=Ve[0],Ve=Ve[1],E.G==2)if(Ve[0]=="c"){E.K=Ve[1],E.ia=Ve[2];const nn=Ve[3];nn!=null&&(E.la=nn,E.j.info("VER="+E.la));const rn=Ve[4];rn!=null&&(E.Aa=rn,E.j.info("SVER="+E.Aa));const zl=Ve[5];zl!=null&&typeof zl=="number"&&0<zl&&(R=1.5*zl,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Pr=d.g;if(Pr){const ip=Pr.g?Pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ip){var z=R.h;z.g||ip.indexOf("spdy")==-1&&ip.indexOf("quic")==-1&&ip.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(t1(z,z.h),z.h=null))}if(R.D){const o1=Pr.g?Pr.g.getResponseHeader("X-HTTP-Session-Id"):null;o1&&(R.ya=o1,lt(R.I,R.D,o1))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var X=d;if(R.qa=OA(R,R.J?R.ia:null,R.W),X.K){oA(R.h,X);var nt=X,qt=R.L;qt&&(nt.I=qt),nt.B&&(Pn(nt),_t(nt)),R.g=X}else TA(R);0<E.i.length&&np(E)}else Ve[0]!="stop"&&Ve[0]!="close"||ua(E,7);else E.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?ua(E,7):r1(E):Ve[0]!="noop"&&E.l&&E.l.ta(Ve),E.v=0)}}Ws(4)}catch{}}a($l,"Rb");var Kd=class{static{a(this,"hc")}constructor(d,b){this.g=d,this.map=b}};function rA(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}a(rA,"ic");function iA(d){return d.h?!0:d.g?d.g.size>=d.j:!1}a(iA,"jc");function sA(d){return d.h?1:d.g?d.g.size:0}a(sA,"ac");function e1(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}a(e1,"Xb");function t1(d,b){d.g?d.g.add(b):d.h=b}a(t1,"bc");function oA(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}a(oA,"dc"),rA.prototype.cancel=function(){if(this.i=aA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function aA(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const E of d.g.values())b=b.concat(E.D);return b}return y(d.i)}a(aA,"kc");function U8(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(u(d)){for(var b=[],E=d.length,R=0;R<E;R++)b.push(d[R]);return b}b=[],E=0;for(R in d)b[E++]=d[R];return b}a(U8,"lc");function z8(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(u(d)||typeof d=="string"){var b=[];d=d.length;for(var E=0;E<d;E++)b.push(E);return b}b=[],E=0;for(const R in d)b[E++]=R;return b}}}a(z8,"mc");function lA(d,b){if(d.forEach&&typeof d.forEach=="function")d.forEach(b,void 0);else if(u(d)||typeof d=="string")Array.prototype.forEach.call(d,b,void 0);else for(var E=z8(d),R=U8(d),L=R.length,z=0;z<L;z++)b.call(void 0,R[z],E&&E[z],d)}a(lA,"nc");var uA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function j8(d,b){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var R=d[E].indexOf("="),L=null;if(0<=R){var z=d[E].substring(0,R);L=d[E].substring(R+1)}else z=d[E];b(z,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}a(j8,"pc");function la(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof la){this.h=d.h,Yd(this,d.j),this.o=d.o,this.g=d.g,Jd(this,d.s),this.l=d.l;var b=d.i,E=new Uc;E.i=b.i,b.g&&(E.g=new Map(b.g),E.h=b.h),cA(this,E),this.m=d.m}else d&&(b=String(d).match(uA))?(this.h=!1,Yd(this,b[1]||"",!0),this.o=$c(b[2]||""),this.g=$c(b[3]||"",!0),Jd(this,b[4]),this.l=$c(b[5]||"",!0),cA(this,b[6]||"",!0),this.m=$c(b[7]||"")):(this.h=!1,this.i=new Uc(null,this.h))}a(la,"T"),la.prototype.toString=function(){var d=[],b=this.j;b&&d.push(Bc(b,fA,!0),":");var E=this.g;return(E||b=="file")&&(d.push("//"),(b=this.o)&&d.push(Bc(b,fA,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Bc(E,E.charAt(0)=="/"?H8:W8,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Bc(E,G8)),d.join("")};function as(d){return new la(d)}a(as,"N");function Yd(d,b,E){d.j=E?$c(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}a(Yd,"qc");function Jd(d,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);d.s=b}else d.s=null}a(Jd,"rc");function cA(d,b,E){b instanceof Uc?(d.i=b,K8(d.i,d.h)):(E||(b=Bc(b,q8)),d.i=new Uc(b,d.h))}a(cA,"tc");function lt(d,b,E){d.i.set(b,E)}a(lt,"S");function Xd(d){return lt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}a(Xd,"Ib");function $c(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}a($c,"uc");function Bc(d,b,E){return typeof d=="string"?(d=encodeURI(d).replace(b,V8),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}a(Bc,"vc");function V8(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}a(V8,"Cc");var fA=/[#\/\?@]/g,W8=/[#\?:]/g,H8=/[#\?]/g,q8=/[#\?@]/g,G8=/#/g;function Uc(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}a(Uc,"sc");function Hs(d){d.g||(d.g=new Map,d.h=0,d.i&&j8(d.i,function(b,E){d.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}a(Hs,"U"),t=Uc.prototype,t.add=function(d,b){Hs(this),this.i=null,d=Bl(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(b),this.h+=1,this};function hA(d,b){Hs(d),b=Bl(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}a(hA,"Dc");function dA(d,b){return Hs(d),b=Bl(d,b),d.g.has(b)}a(dA,"Ec"),t.forEach=function(d,b){Hs(this),this.g.forEach(function(E,R){E.forEach(function(L){d.call(b,L,R,this)},this)},this)},t.na=function(){Hs(this);const d=Array.from(this.g.values()),b=Array.from(this.g.keys()),E=[];for(let R=0;R<b.length;R++){const L=d[R];for(let z=0;z<L.length;z++)E.push(b[R])}return E},t.V=function(d){Hs(this);let b=[];if(typeof d=="string")dA(this,d)&&(b=b.concat(this.g.get(Bl(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)b=b.concat(d[E])}return b},t.set=function(d,b){return Hs(this),this.i=null,d=Bl(this,d),dA(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},t.get=function(d,b){return d?(d=this.V(d),0<d.length?String(d[0]):b):b};function pA(d,b,E){hA(d,b),0<E.length&&(d.i=null,d.g.set(Bl(d,b),y(E)),d.h+=E.length)}a(pA,"Lb"),t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(var E=0;E<b.length;E++){var R=b[E];const z=encodeURIComponent(String(R)),X=this.V(R);for(R=0;R<X.length;R++){var L=z;X[R]!==""&&(L+="="+encodeURIComponent(String(X[R]))),d.push(L)}}return this.i=d.join("&")};function Bl(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}a(Bl,"V");function K8(d,b){b&&!d.j&&(Hs(d),d.i=null,d.g.forEach(function(E,R){var L=R.toLowerCase();R!=L&&(hA(this,R),pA(this,L,E))},d)),d.j=b}a(K8,"Ac");function Y8(d,b){const E=new tn;if(l.Image){const R=new Image;R.onload=m(qs,E,"TestLoadImage: loaded",!0,b,R),R.onerror=m(qs,E,"TestLoadImage: error",!1,b,R),R.onabort=m(qs,E,"TestLoadImage: abort",!1,b,R),R.ontimeout=m(qs,E,"TestLoadImage: timeout",!1,b,R),l.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else b(!1)}a(Y8,"Fc");function J8(d,b){const E=new tn,R=new AbortController,L=setTimeout(()=>{R.abort(),qs(E,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:R.signal}).then(z=>{clearTimeout(L),z.ok?qs(E,"TestPingServer: ok",!0,b):qs(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(L),qs(E,"TestPingServer: error",!1,b)})}a(J8,"Gc");function qs(d,b,E,R,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),R(E)}catch{}}a(qs,"W");function X8(){this.g=new Dc}a(X8,"Hc");function Z8(d,b,E){const R=E||"";try{lA(d,function(L,z){let X=L;c(L)&&(X=gi(L)),b.push(R+z+"="+encodeURIComponent(X))})}catch(L){throw b.push(R+"type="+encodeURIComponent("_badmap")),L}}a(Z8,"Ic");function Zd(d){this.l=d.Ub||null,this.j=d.eb||!1}a(Zd,"Jc"),g(Zd,Mc),Zd.prototype.g=function(){return new Qd(this.l,this.j)},Zd.prototype.i=function(d){return function(){return d}}({});function Qd(d,b){at.call(this),this.D=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}a(Qd,"Kc"),g(Qd,at),t=Qd.prototype,t.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=b,this.readyState=1,jc(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(b.body=d),(this.D||l).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zc(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,jc(this)),this.g&&(this.readyState=3,jc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mA(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function mA(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}a(mA,"Nc"),t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?zc(this):jc(this),this.readyState==3&&mA(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,zc(this))},t.Qa=function(d){this.g&&(this.response=d,zc(this))},t.ga=function(){this.g&&zc(this)};function zc(d){d.readyState=4,d.l=null,d.j=null,d.v=null,jc(d)}a(zc,"Mc"),t.setRequestHeader=function(d,b){this.u.append(d,b)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=b.next();return d.join(`\r
`)};function jc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}a(jc,"Lc"),Object.defineProperty(Qd.prototype,"withCredentials",{get:a(function(){return this.m==="include"},"get"),set:a(function(d){this.m=d?"include":"same-origin"},"set")});function gA(d){let b="";return M(d,function(E,R){b+=R,b+=":",b+=E,b+=`\r
`}),b}a(gA,"Oc");function n1(d,b,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=gA(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):lt(d,b,E))}a(n1,"Pc");function Tt(d){at.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}a(Tt,"X"),g(Tt,at);var Q8=/^https?$/i,e5=["POST","PUT"];t=Tt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,b,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fl.g(),this.v=this.o?ia(this.o):ia(Fl),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(z){yA(this,z);return}if(d=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var L in R)E.set(L,R[L]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const z of R.keys())E.set(z,R.get(z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(z=>z.toLowerCase()=="content-type"),L=l.FormData&&d instanceof l.FormData,!(0<=Array.prototype.indexOf.call(e5,b,void 0))||R||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,X]of E)this.g.setRequestHeader(z,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wA(this),this.u=!0,this.g.send(d),this.u=!1}catch(z){yA(this,z)}};function yA(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.m=5,_A(d),ep(d)}a(yA,"Sc");function _A(d){d.A||(d.A=!0,Mt(d,"complete"),Mt(d,"error"))}a(_A,"Uc"),t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Mt(this,"complete"),Mt(this,"abort"),ep(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ep(this,!0)),Tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?bA(this):this.bb())},t.bb=function(){bA(this)};function bA(d){if(d.h&&typeof o<"u"&&(!d.v[1]||ls(d)!=4||d.Z()!=2)){if(d.u&&ls(d)==4)Oc(d.Ea,0,d);else if(Mt(d,"readystatechange"),ls(d)==4){d.h=!1;try{const X=d.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var E;if(!(E=b)){var R;if(R=X===0){var L=String(d.D).match(uA)[1]||null;!L&&l.self&&l.self.location&&(L=l.self.location.protocol.slice(0,-1)),R=!Q8.test(L?L.toLowerCase():"")}E=R}if(E)Mt(d,"complete"),Mt(d,"success");else{d.m=6;try{var z=2<ls(d)?d.g.statusText:""}catch{z=""}d.l=z+" ["+d.Z()+"]",_A(d)}}finally{ep(d)}}}}a(bA,"Wc");function ep(d,b){if(d.g){wA(d);const E=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,b||Mt(d,"ready");try{E.onreadystatechange=R}catch{}}}a(ep,"Vc");function wA(d){d.I&&(l.clearTimeout(d.I),d.I=null)}a(wA,"Tc"),t.isActive=function(){return!!this.g};function ls(d){return d.g?d.g.readyState:0}a(ls,"P"),t.Z=function(){try{return 2<ls(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),Nc(b)}};function EA(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}a(EA,"Nb");function t5(d){const b={};d=(d.g&&2<=ls(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(S(d[R]))continue;var E=x(d[R]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const z=b[L]||[];b[L]=z,z.push(E)}k(b,function(R){return R.join(", ")})}a(t5,"Vb"),t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vc(d,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||b}a(Vc,"Xc");function vA(d){this.Aa=0,this.i=[],this.j=new tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vc("baseRetryDelayMs",5e3,d),this.cb=Vc("retryDelaySeedMs",1e4,d),this.Wa=Vc("forwardChannelMaxRetries",2,d),this.wa=Vc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new rA(d&&d.concurrentRequestLimit),this.Da=new X8,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a(vA,"Yc"),t=vA.prototype,t.la=8,t.G=1,t.connect=function(d,b,E,R){Pt(0),this.W=d,this.H=b||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=OA(this,null,this.W),np(this)};function r1(d){if(SA(d),d.G==3){var b=d.U++,E=as(d.I);if(lt(E,"SID",d.K),lt(E,"RID",b),lt(E,"TYPE","terminate"),Wc(d,E),b=new Dr(d,d.j,b),b.L=2,b.v=Xd(as(E)),E=!1,l.navigator&&l.navigator.sendBeacon)try{E=l.navigator.sendBeacon(b.v.toString(),"")}catch{}!E&&l.Image&&(new Image().src=b.v,E=!0),E||(b.g=NA(b.j,null),b.g.ea(b.v)),b.F=Date.now(),_t(b)}RA(d)}a(r1,"gc");function tp(d){d.g&&(s1(d),d.g.cancel(),d.g=null)}a(tp,"Zb");function SA(d){tp(d),d.u&&(l.clearTimeout(d.u),d.u=null),rp(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&l.clearTimeout(d.s),d.s=null)}a(SA,"Zc");function np(d){if(!iA(d.h)&&!d.s){d.s=!0;var b=d.Ga;j||K(),Y||(j(),Y=!0),V.add(b,d),d.B=0}}a(np,"fc");function n5(d,b){return sA(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=b.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=oa(p(d.Ga,d,b),IA(d,d.B)),d.B++,!0)}a(n5,"bd"),t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const L=new Dr(this,this.j,d);let z=this.o;if(this.S&&(z?(z=v(z),C(z,this.S)):z=this.S),this.m!==null||this.O||(L.H=z,z=null),this.P)e:{for(var b=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(b+=R,4096<b){b=E;break e}if(b===4096||E===this.i.length-1){b=E+1;break e}}b=1e3}else b=1e3;b=AA(this,L,b),E=as(this.I),lt(E,"RID",d),lt(E,"CVER",22),this.D&&lt(E,"X-HTTP-Session-Id",this.D),Wc(this,E),z&&(this.O?b="headers="+encodeURIComponent(String(gA(z)))+"&"+b:this.m&&n1(E,this.m,z)),t1(this.h,L),this.Ua&&lt(E,"TYPE","init"),this.P?(lt(E,"$req",b),lt(E,"SID","null"),L.T=!0,q(L,E,null)):q(L,E,b),this.G=2}}else this.G==3&&(d?kA(this,d):this.i.length==0||iA(this.h)||kA(this))};function kA(d,b){var E;b?E=b.l:E=d.U++;const R=as(d.I);lt(R,"SID",d.K),lt(R,"RID",E),lt(R,"AID",d.T),Wc(d,R),d.m&&d.o&&n1(R,d.m,d.o),E=new Dr(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),b&&(d.i=b.D.concat(d.i)),b=AA(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),t1(d.h,E),q(E,R,b)}a(kA,"ed");function Wc(d,b){d.H&&M(d.H,function(E,R){lt(b,R,E)}),d.l&&lA({},function(E,R){lt(b,R,E)})}a(Wc,"$c");function AA(d,b,E){E=Math.min(d.i.length,E);var R=d.l?p(d.l.Na,d.l,d):null;e:{var L=d.i;let z=-1;for(;;){const X=["count="+E];z==-1?0<E?(z=L[0].g,X.push("ofs="+z)):z=0:X.push("ofs="+z);let nt=!0;for(let qt=0;qt<E;qt++){let Ve=L[qt].g;const nn=L[qt].map;if(Ve-=z,0>Ve)z=Math.max(0,L[qt].g-100),nt=!1;else try{Z8(nn,X,"req"+Ve+"_")}catch{R&&R(nn)}}if(nt){R=X.join("&");break e}}}return d=d.i.splice(0,E),b.D=d,R}a(AA,"dd");function TA(d){if(!d.g&&!d.u){d.Y=1;var b=d.Fa;j||K(),Y||(j(),Y=!0),V.add(b,d),d.v=0}}a(TA,"ec");function i1(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=oa(p(d.Fa,d),IA(d,d.v)),d.v++,!0)}a(i1,"$b"),t.Fa=function(){if(this.u=null,xA(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=oa(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),tp(this),xA(this))};function s1(d){d.A!=null&&(l.clearTimeout(d.A),d.A=null)}a(s1,"Tb");function xA(d){d.g=new Dr(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var b=as(d.qa);lt(b,"RID","rpc"),lt(b,"SID",d.K),lt(b,"AID",d.T),lt(b,"CI",d.F?"0":"1"),!d.F&&d.ja&&lt(b,"TO",d.ja),lt(b,"TYPE","xmlhttp"),Wc(d,b),d.m&&d.o&&n1(b,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Xd(as(b)),E.m=null,E.P=!0,se(E,d)}a(xA,"fd"),t.Za=function(){this.C!=null&&(this.C=null,tp(this),i1(this),Pt(19))};function rp(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}a(rp,"Yb");function CA(d,b){var E=null;if(d.g==b){rp(d),s1(d),d.g=null;var R=2}else if(e1(d.h,b))E=b.D,oA(d.h,b),R=1;else return;if(d.G!=0){if(b.o)if(R==1){E=b.m?b.m.length:0,b=Date.now()-b.F;var L=d.B;R=yi(),Mt(R,new Lc(R,E)),np(d)}else TA(d);else if(L=b.s,L==3||L==0&&0<b.X||!(R==1&&n5(d,b)||R==2&&i1(d)))switch(E&&0<E.length&&(b=d.h,b.i=b.i.concat(E)),L){case 1:ua(d,5);break;case 4:ua(d,10);break;case 3:ua(d,6);break;default:ua(d,2)}}}a(CA,"Ub");function IA(d,b){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*b}a(IA,"cd");function ua(d,b){if(d.j.info("Error code "+b),b==2){var E=p(d.fb,d),R=d.Xa;const L=!R;R=new la(R||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Yd(R,"https"),Xd(R),L?Y8(R.toString(),E):J8(R.toString(),E)}else Pt(2);d.G=0,d.l&&d.l.sa(b),RA(d),SA(d)}a(ua,"R"),t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function RA(d){if(d.G=0,d.ka=[],d.l){const b=aA(d.h);(b.length!=0||d.i.length!=0)&&(_(d.ka,b),_(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}a(RA,"ad");function OA(d,b,E){var R=E instanceof la?as(E):new la(E);if(R.g!="")b&&(R.g=b+"."+R.g),Jd(R,R.s);else{var L=l.location;R=L.protocol,b=b?b+"."+L.hostname:L.hostname,L=+L.port;var z=new la(null);R&&Yd(z,R),b&&(z.g=b),L&&Jd(z,L),E&&(z.l=E),R=z}return E=d.D,b=d.ya,E&&b&&lt(R,E,b),lt(R,"VER",d.la),Wc(d,R),R}a(OA,"cc");function NA(d,b,E){if(b&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Ca&&!d.pa?new Tt(new Zd({eb:E})):new Tt(d.pa),b.Ha(d.J),b}a(NA,"Mb"),t.isActive=function(){return!!this.l&&this.l.isActive(this)};function DA(){}a(DA,"gd"),t=DA.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fr(d,b){at.call(this),this.g=new vA(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(d?d["X-WebChannel-Client-Profile"]=b.va:d={"X-WebChannel-Client-Profile":b.va}),this.g.S=d,(d=b&&b.Sb)&&!S(d)&&(this.g.m=d),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!S(b)&&(this.g.D=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new Ul(this)}a(fr,"Y"),g(fr,at),fr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fr.prototype.close=function(){r1(this.g)},fr.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=gi(d),d=E);b.i.push(new Kd(b.Ya++,d)),b.G==3&&np(b)},fr.prototype.N=function(){this.g.l=null,delete this.j,r1(this.g),delete this.g,fr.aa.N.call(this)};function MA(d){is.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const E in b){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}a(MA,"id"),g(MA,is);function PA(){Pc.call(this),this.status=1}a(PA,"jd"),g(PA,Pc);function Ul(d){this.g=d}a(Ul,"Z"),g(Ul,DA),Ul.prototype.ua=function(){Mt(this.g,"a")},Ul.prototype.ta=function(d){Mt(this.g,new MA(d))},Ul.prototype.sa=function(d){Mt(this.g,new PA)},Ul.prototype.ra=function(){Mt(this.g,"b")},fr.prototype.send=fr.prototype.o,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,Kn.NO_ERROR=0,Kn.TIMEOUT=8,Kn.HTTP_ERROR=6,qd.COMPLETE="complete",Ml.EventType=sa,sa.OPEN="a",sa.CLOSE="b",sa.ERROR="c",sa.MESSAGE="d",at.prototype.listen=at.prototype.K,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha}).apply(typeof gp<"u"?gp:typeof self<"u"?self:typeof window<"u"?window:{});const B2="@firebase/firestore",U2="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{static{a(this,"User")}constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xn.UNAUTHENTICATED=new Xn(null),Xn.GOOGLE_CREDENTIALS=new Xn("google-credentials-uid"),Xn.FIRST_PARTY=new Xn("first-party-uid"),Xn.MOCK_USER=new Xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W0="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=new Zh("@firebase/firestore");function Vr(t,...e){if(Zm.logLevel<=Ge.DEBUG){const n=e.map(m3);Zm.debug(`Firestore (${W0}): ${t}`,...n)}}a(Vr,"__PRIVATE_logDebug");function p3(t,...e){if(Zm.logLevel<=Ge.ERROR){const n=e.map(m3);Zm.error(`Firestore (${W0}): ${t}`,...n)}}a(p3,"__PRIVATE_logError");function m3(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return a(function(n){return JSON.stringify(n)},"__PRIVATE_formatJSON")(t)}catch{return t}}a(m3,"__PRIVATE_argToString");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t="Unexpected state"){const e=`FIRESTORE (${W0}) INTERNAL ASSERTION FAILED: `+t;throw p3(e),new Error(e)}a(g3,"fail");function Mf(t,e){t||g3()}a(Mf,"__PRIVATE_hardAssert");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Br extends Ki{static{a(this,"FirestoreError")}constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{static{a(this,"__PRIVATE_Deferred")}constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{static{a(this,"__PRIVATE_OAuthToken")}constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mq{static{a(this,"__PRIVATE_EmptyAuthCredentialsProvider")}getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xn.UNAUTHENTICATED))}shutdown(){}}class Pq{static{a(this,"__PRIVATE_FirebaseAuthCredentialsProvider")}constructor(e){this.t=e,this.currentUser=Xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Mf(this.o===void 0);let r=this.i;const i=a(u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),"__PRIVATE_guardedChangeListener");let s=new Pf;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Pf,e.enqueueRetryable(()=>i(this.currentUser))};const o=a(()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},"__PRIVATE_awaitNextToken"),l=a(u=>{Vr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())},"__PRIVATE_registerAuth");this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Vr("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Pf)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Vr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mf(typeof r.accessToken=="string"),new Dq(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mf(e===null||typeof e=="string"),new Xn(e)}}class Lq{static{a(this,"__PRIVATE_FirstPartyToken")}constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Xn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Fq{static{a(this,"__PRIVATE_FirstPartyAuthCredentialsProvider")}constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Lq(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z2{static{a(this,"AppCheckToken")}constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $q{static{a(this,"__PRIVATE_FirebaseAppCheckTokenProvider")}constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,En(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Mf(this.o===void 0);const r=a(s=>{s.error!=null&&Vr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Vr("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()},"onTokenChanged");this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=a(s=>{Vr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)},"__PRIVATE_registerAppCheck");this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Vr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new z2(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Mf(typeof n.token=="string"),this.R=n.token,new z2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Bq(t){return t.name==="IndexedDbTransactionError"}a(Bq,"__PRIVATE_isIndexedDbTransactionError");const j2="(default)";class Qm{static{a(this,"DatabaseId")}constructor(e,n){this.projectId=e,this.database=n||j2}static empty(){return new Qm("","")}get isDefaultDatabase(){return this.database===j2}isEqual(e){return e instanceof Qm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V2,Fe;(Fe=V2||(V2={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new d3([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uq=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq=1048576;function T1(){return typeof document<"u"?document:null}a(T1,"getDocument");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{static{a(this,"__PRIVATE_ExponentialBackoff")}constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&Vr("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{static{a(this,"DelayedOperation")}constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Av(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Br($r.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var W2,H2;(H2=W2||(W2={}))._a="default",H2.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}a(Vq,"__PRIVATE_cloneLongPollingOptions");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new Map;function Wq(t,e,n,r){if(e===!0&&r===!0)throw new Br($r.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}a(Wq,"__PRIVATE_validateIsNotUsedTogether");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hq="firestore.googleapis.com",G2=!0;class K2{static{a(this,"FirestoreSettingsImpl")}constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Br($r.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hq,this.ssl=G2}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:G2;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Uq;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zq)throw new Br($r.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Wq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vq((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),a(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Br($r.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Br($r.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Br($r.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}},"__PRIVATE_validateLongPollingOptions")(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&a(function(r,i){return r.timeoutSeconds===i.timeoutSeconds},"__PRIVATE_longPollingOptionsEqual")(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qq{static{a(this,"Firestore$1")}constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new K2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Br($r.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Br($r.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new K2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=a(function(r){if(!r)return new Mq;switch(r.type){case"firstParty":return new Fq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Br($r.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}},"__PRIVATE_makeAuthCredentialsProvider")(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return a(function(n){const r=q2.get(n);r&&(Vr("ComponentProvider","Removing Datastore"),q2.delete(n),r.terminate())},"__PRIVATE_removeComponents")(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="AsyncQueue";class J2{static{a(this,"__PRIVATE_AsyncQueueImpl")}constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new jq(this,"async_queue_retry"),this.Su=()=>{const r=T1();r&&Vr(Y2,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=T1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=T1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Pf;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Bq(e))throw e;Vr(Y2,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=a(function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l},"__PRIVATE_getMessageOrStack")(r);throw p3("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=Av.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&g3()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Gq extends qq{static{a(this,"Firestore")}constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new J2,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new J2(e),this._firestoreClient=void 0,await e}}}a(function(e,n=!0){a(function(i){W0=i},"__PRIVATE_setSDKVersion")(Go),Li(new ri("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Gq(new Pq(r.getProvider("auth-internal")),new $q(o,r.getProvider("app-check-internal")),a(function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Br($r.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qm(c.options.projectId,f)},"__PRIVATE_databaseIdFromApp")(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),nr(B2,U2,e),nr(B2,U2,"esm2017")},"__PRIVATE_registerFirestore")();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="firebasestorage.googleapis.com",Kq="storageBucket",Yq=2*60*1e3,Jq=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Ki{static{a(this,"StorageError")}constructor(e,n,r=0){super(x1(e),`Firebase Storage: ${n} (${x1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ji.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return x1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fi||(Fi={}));function x1(t){return"storage/"+t}a(x1,"prependCode");function Xq(){const t="An unknown error occurred, please check the error payload for server response.";return new Ji(Fi.UNKNOWN,t)}a(Xq,"unknown");function Zq(){return new Ji(Fi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}a(Zq,"retryLimitExceeded");function Qq(){return new Ji(Fi.CANCELED,"User canceled the upload/download.")}a(Qq,"canceled");function eG(t){return new Ji(Fi.INVALID_URL,"Invalid URL '"+t+"'.")}a(eG,"invalidUrl");function tG(t){return new Ji(Fi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}a(tG,"invalidDefaultBucket");function X2(t){return new Ji(Fi.INVALID_ARGUMENT,t)}a(X2,"invalidArgument");function _3(){return new Ji(Fi.APP_DELETED,"The Firebase app was deleted.")}a(_3,"appDeleted");function nG(t){return new Ji(Fi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}a(nG,"invalidRootOperation");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{static{a(this,"Location")}constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Wr.makeFromUrl(e,n)}catch{return new Wr(e,"")}if(r.path==="")return r;throw tG(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}a(s,"gsModify");const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(N){N.path_=decodeURIComponent(N.path)}a(c,"httpModify");const f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${f}/b/${i}/o${p}`,"i"),g={bucket:1,path:3},y=n===y3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",w=new RegExp(`^https?://${y}/${i}/${_}`,"i"),T=[{regex:l,indices:u,postModify:s},{regex:m,indices:g,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let N=0;N<T.length;N++){const O=T[N],M=O.regex.exec(e);if(M){const k=M[O.indices.bucket];let v=M[O.indices.path];v||(v=""),r=new Wr(k,v),O.postModify(r);break}}if(r==null)throw eG(e);return r}}class rG{static{a(this,"FailRequest")}constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iG(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function u(){return l===2}a(u,"canceled");let c=!1;function f(..._){c||(c=!0,e.apply(null,_))}a(f,"triggerCallback");function h(_){i=setTimeout(()=>{i=null,t(m,u())},_)}a(h,"callWithDelay");function p(){s&&clearTimeout(s)}a(p,"clearGlobalTimeout");function m(_,...w){if(c){p();return}if(_){p(),f.call(null,_,...w);return}if(u()||o){p(),f.call(null,_,...w);return}r<64&&(r*=2);let T;l===1?(l=2,T=0):T=(r+Math.random())*1e3,h(T)}a(m,"responseHandler");let g=!1;function y(_){g||(g=!0,p(),!c&&(i!==null?(_||(l=2),clearTimeout(i),h(0)):_||(l=1)))}return a(y,"stop"),h(0),s=setTimeout(()=>{o=!0,y(!0)},n),y}a(iG,"start$1");function sG(t){t(!1)}a(sG,"stop");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oG(t){return t!==void 0}a(oG,"isJustDef");function Z2(t,e,n,r){if(r<e)throw X2(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw X2(`Invalid value for '${t}'. Expected ${n} or less.`)}a(Z2,"validateNumber");function aG(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}a(aG,"makeQueryString");var eg;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(eg||(eg={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lG(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}a(lG,"isRetryStatusCode");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{static{a(this,"NetworkRequest")}constructor(e,n,r,i,s,o,l,u,c,f,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const e=a((r,i)=>{if(i){r(!1,new yp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a(l=>{const u=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)},"progressListener");this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===eg.NO_ERROR,u=s.getStatus();if(!l||lG(u,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===eg.ABORT;r(!1,new yp(!1,null,f));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new yp(c,s))})},"doTheRequest"),n=a((r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());oG(u)?s(u):s()}catch(u){o(u)}else if(l!==null){const u=Xq();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(i.canceled){const u=this.appDelete_?_3():Qq();o(u)}else{const u=Zq();o(u)}},"backoffDone");this.canceled_?n(!1,new yp(!1,null,!0)):this.backoffId_=iG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yp{static{a(this,"RequestEndStatus")}constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function cG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}a(cG,"addAuthHeader_");function fG(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}a(fG,"addVersionHeader_");function hG(t,e){e&&(t["X-Firebase-GMPID"]=e)}a(hG,"addGmpidHeader_");function dG(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}a(dG,"addAppCheckHeader_");function pG(t,e,n,r,i,s,o=!0){const l=aG(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return hG(c,e),cG(c,n),fG(c,s),dG(c,r),new uG(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}a(pG,"makeRequest");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mG(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}a(mG,"parent");function gG(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}a(gG,"lastComponent");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{static{a(this,"Reference")}constructor(e,n){this._service=e,n instanceof Wr?this._location=n:this._location=Wr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new tg(e,n)}get root(){const e=new Wr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gG(this._location.path)}get storage(){return this._service}get parent(){const e=mG(this._location.path);if(e===null)return null;const n=new Wr(this._location.bucket,e);return new tg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw nG(e)}}function Q2(t,e){const n=e?.[Kq];return n==null?null:Wr.makeFromBucketSpec(n,t)}a(Q2,"extractBucket");class yG{static{a(this,"FirebaseStorageImpl")}constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=y3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Yq,this._maxUploadRetryTime=Jq,this._requests=new Set,i!=null?this._bucket=Wr.makeFromBucketSpec(i,this._host):this._bucket=Q2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wr.makeFromBucketSpec(this._url,e):this._bucket=Q2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Z2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Z2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tg(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new rG(_3());{const o=pG(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const ex="@firebase/storage",tx="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G="storage";function bG(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new yG(n,r,i,e,Go)}a(bG,"factory");function wG(){Li(new ri(_G,bG,"PUBLIC").setMultipleInstances(!0)),nr(ex,tx,""),nr(ex,tx,"esm2017")}a(wG,"registerStorage");wG();function Sve(t,e){let n,r,i;const s=le(!0),o=a(()=>{s.value=!0,i()},"update");St(t,o,{flush:"sync"});const l=typeof e=="function"?e:e.get,u=typeof e=="function"?void 0:e.set,c=CE((f,h)=>(r=f,i=h,{get(){return s.value&&(n=l(n),s.value=!1),r(),n},set(p){u?.(p)}}));return Object.isExtensible(c)&&(c.trigger=o),c}a(Sve,"computedWithControl");function $i(t){return i5()?(s5(t),!0):!1}a($i,"tryOnScopeDispose");function kve(t){let e=0,n,r;const i=a(()=>{e-=1,r&&e<=0&&(r.stop(),n=void 0,r=void 0)},"dispose");return(...s)=>(e+=1,n||(r=o5(!0),n=r.run(()=>t(...s))),$i(i),n)}a(kve,"createSharedComposable");function Ave(t,e){return e==null?oe(t):oe(t)[e]}a(Ave,"get$3");function we(t){return typeof t=="function"?t():oe(t)}a(we,"toValue$2");function EG(t){if(!Aa(t))return km(t);const e=new Proxy({},{get(n,r,i){return oe(Reflect.get(t.value,r,i))},set(n,r,i){return Aa(t.value[r])&&!Aa(i)?t.value[r].value=i:t.value[r]=i,!0},deleteProperty(n,r){return Reflect.deleteProperty(t.value,r)},has(n,r){return Reflect.has(t.value,r)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return km(e)}a(EG,"toReactive");function vG(t){return EG(be(t))}a(vG,"reactiveComputed");function Tve(t,...e){const n=e.flat(),r=n[0];return vG(()=>Object.fromEntries(typeof r=="function"?Object.entries(vu(t)).filter(([i,s])=>!r(we(s),i)):Object.entries(vu(t)).filter(i=>!n.includes(i[0]))))}a(Tve,"reactiveOmit");const Ga=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const SG=a(t=>t!=null,"notNullish"),kG=Object.prototype.toString,AG=a(t=>kG.call(t)==="[object Object]","isObject$4"),Bi=a(()=>{},"noop$5");function Tv(t,e){function n(...r){return new Promise((i,s)=>{Promise.resolve(t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(s)})}return a(n,"wrapper"),n}a(Tv,"createFilterWrapper");const b3=a(t=>t(),"bypassFilter");function w3(t,e={}){let n,r,i=Bi;const s=a(l=>{clearTimeout(l),i(),i=Bi},"_clearTimeout");return a(l=>{const u=we(t),c=we(e.maxWait);return n&&s(n),u<=0||c!==void 0&&c<=0?(r&&(s(r),r=null),Promise.resolve(l())):new Promise((f,h)=>{i=e.rejectOnCancel?h:f,c&&!r&&(r=setTimeout(()=>{n&&s(n),r=null,f(l())},c)),n=setTimeout(()=>{r&&s(r),r=null,f(l())},u)})},"filter")}a(w3,"debounceFilter");function TG(...t){let e=0,n,r=!0,i=Bi,s,o,l,u,c;!Aa(t[0])&&typeof t[0]=="object"?{delay:o,trailing:l=!0,leading:u=!0,rejectOnCancel:c=!1}=t[0]:[o,l=!0,u=!0,c=!1]=t;const f=a(()=>{n&&(clearTimeout(n),n=void 0,i(),i=Bi)},"clear");return a(p=>{const m=we(o),g=Date.now()-e,y=a(()=>s=p(),"invoke2");return f(),m<=0?(e=Date.now(),y()):(g>m&&(u||!r)?(e=Date.now(),y()):l&&(s=new Promise((_,w)=>{i=c?w:_,n=setTimeout(()=>{e=Date.now(),r=!0,_(y()),f()},Math.max(0,m-g))})),!u&&!n&&(n=setTimeout(()=>r=!0,m)),r=!1,s)},"filter")}a(TG,"throttleFilter");function xG(t=b3){const e=le(!0);function n(){e.value=!1}a(n,"pause");function r(){e.value=!0}a(r,"resume");const i=a((...s)=>{e.value&&t(...s)},"eventFilter");return{isActive:x0(e),pause:n,resume:r,eventFilter:i}}a(xG,"pausableFilter");function jb(t,e=!1,n="Timeout"){return new Promise((r,i)=>{setTimeout(e?()=>i(n):r,t)})}a(jb,"promiseTimeout");function CG(t){let e;function n(){return e||(e=t()),e}return a(n,"wrapper"),n.reset=async()=>{const r=e;e=void 0,r&&await r},n}a(CG,"createSingletonPromise");function IG(t,e){var n;if(typeof t=="number")return t+e;const r=((n=t.match(/^-?\d+\.?\d*/))==null?void 0:n[0])||"",i=t.slice(r.length),s=Number.parseFloat(r)+e;return Number.isNaN(s)?t:s+i}a(IG,"increaseWithUnit");function E3(t){return dl()}a(E3,"getLifeCycleTarget");function v3(...t){if(t.length!==1)return mO(...t);const e=t[0];return typeof e=="function"?x0(CE(()=>({get:e,set:Bi}))):le(e)}a(v3,"toRef");function S3(t,e=200,n={}){return Tv(w3(e,n),t)}a(S3,"useDebounceFn");function xve(t,e=200,n={}){const r=le(t.value),i=S3(()=>{r.value=t.value},e,n);return St(t,()=>i()),r}a(xve,"refDebounced");function RG(t,e=200,n=!1,r=!0,i=!1){return Tv(TG(e,n,r,i),t)}a(RG,"useThrottleFn");function k3(t,e,n={}){const{eventFilter:r=b3,...i}=n;return St(t,Tv(r,e),i)}a(k3,"watchWithFilter");function OG(t,e,n={}){const{eventFilter:r,...i}=n,{eventFilter:s,pause:o,resume:l,isActive:u}=xG(r);return{stop:k3(t,e,{...i,eventFilter:s}),pause:o,resume:l,isActive:u}}a(OG,"watchPausable");function NG(t,e={}){if(!Aa(t))return vu(t);const n=Array.isArray(t.value)?Array.from({length:t.value.length}):{};for(const r in t.value)n[r]=CE(()=>({get(){return t.value[r]},set(i){var s;if((s=we(e.replaceRef))!=null?s:!0)if(Array.isArray(t.value)){const l=[...t.value];l[r]=i,t.value=l}else{const l={...t.value,[r]:i};Object.setPrototypeOf(l,Object.getPrototypeOf(t.value)),t.value=l}else t.value[r]=i}}));return n}a(NG,"toRefs");function DG(t,e){E3()&&a5(t,e)}a(DG,"tryOnBeforeUnmount");function H0(t,e=!0,n){E3()?qh(t,n):e?t():Eu(t)}a(H0,"tryOnMounted");function Vb(t,e=!1){function n(h,{flush:p="sync",deep:m=!1,timeout:g,throwOnTimeout:y}={}){let _=null;const S=[new Promise(T=>{_=St(t,N=>{h(N)!==e&&(_?_():Eu(()=>_?.()),T(N))},{flush:p,deep:m,immediate:!0})})];return g!=null&&S.push(jb(g,y).then(()=>we(t)).finally(()=>_?.())),Promise.race(S)}a(n,"toMatch");function r(h,p){if(!Aa(h))return n(N=>N===h,p);const{flush:m="sync",deep:g=!1,timeout:y,throwOnTimeout:_}=p??{};let w=null;const T=[new Promise(N=>{w=St([t,h],([O,M])=>{e!==(O===M)&&(w?w():Eu(()=>w?.()),N(O))},{flush:m,deep:g,immediate:!0})})];return y!=null&&T.push(jb(y,_).then(()=>we(t)).finally(()=>(w?.(),we(t)))),Promise.race(T)}a(r,"toBe");function i(h){return n(p=>!!p,h)}a(i,"toBeTruthy");function s(h){return r(null,h)}a(s,"toBeNull");function o(h){return r(void 0,h)}a(o,"toBeUndefined");function l(h){return n(Number.isNaN,h)}a(l,"toBeNaN");function u(h,p){return n(m=>{const g=Array.from(m);return g.includes(h)||g.includes(we(h))},p)}a(u,"toContains");function c(h){return f(1,h)}a(c,"changed");function f(h=1,p){let m=-1;return n(()=>(m+=1,m>=h),p)}return a(f,"changedTimes"),Array.isArray(we(t))?{toMatch:n,toContains:u,changed:c,changedTimes:f,get not(){return Vb(t,!e)}}:{toMatch:n,toBe:r,toBeTruthy:i,toBeNull:s,toBeNaN:l,toBeUndefined:o,changed:c,changedTimes:f,get not(){return Vb(t,!e)}}}a(Vb,"createUntil");function MG(t){return Vb(t)}a(MG,"until");function Cve(t,e=1e3,n={}){const{immediate:r=!0,immediateCallback:i=!1}=n;let s=null;const o=le(!1);function l(){s&&(clearInterval(s),s=null)}a(l,"clean");function u(){o.value=!1,l()}a(u,"pause");function c(){const f=we(e);f<=0||(o.value=!0,i&&t(),l(),s=setInterval(t,f))}if(a(c,"resume"),r&&Ga&&c(),Aa(e)||typeof e=="function"){const f=St(e,()=>{o.value&&Ga&&c()});$i(f)}return $i(u),{isActive:o,pause:u,resume:c}}a(Cve,"useIntervalFn");function PG(t,e,n={}){const{immediate:r=!0}=n,i=le(!1);let s=null;function o(){s&&(clearTimeout(s),s=null)}a(o,"clear");function l(){i.value=!1,o()}a(l,"stop");function u(...c){o(),i.value=!0,s=setTimeout(()=>{i.value=!1,s=null,t(...c)},we(e))}return a(u,"start"),r&&(i.value=!0,Ga&&u()),$i(l),{isPending:x0(i),start:u,stop:l}}a(PG,"useTimeoutFn");function Ive(t,e,n={}){const{debounce:r=0,maxWait:i=void 0,...s}=n;return k3(t,e,{...s,eventFilter:w3(r,{maxWait:i})})}a(Ive,"watchDebounced");function Rve(t,e,n){const r=St(t,(i,s,o)=>{i&&(n?.once&&Eu(()=>r()),e(i,s,o))},{...n,once:!1});return r}a(Rve,"whenever");function wr(t){var e;const n=we(t);return(e=n?.$el)!=null?e:n}a(wr,"unrefElement$1");const pn=Ga?window:void 0,xv=Ga?window.document:void 0,A3=Ga?window.navigator:void 0;function Ct(...t){let e,n,r,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,i]=t,e=pn):[e,n,r,i]=t,!e)return Bi;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],o=a(()=>{s.forEach(f=>f()),s.length=0},"cleanup"),l=a((f,h,p,m)=>(f.addEventListener(h,p,m),()=>f.removeEventListener(h,p,m)),"register"),u=St(()=>[wr(e),we(i)],([f,h])=>{if(o(),!f)return;const p=AG(h)?{...h}:h;s.push(...n.flatMap(m=>r.map(g=>l(f,m,g,p))))},{immediate:!0,flush:"post"}),c=a(()=>{u(),o()},"stop");return $i(c),c}a(Ct,"useEventListener");function LG(){const t=le(!1),e=dl();return e&&qh(()=>{t.value=!0},e),t}a(LG,"useMounted$1");function ld(t){const e=LG();return be(()=>(e.value,!!t()))}a(ld,"useSupported");function T3(t,e,n={}){const{window:r=pn,...i}=n;let s;const o=ld(()=>r&&"MutationObserver"in r),l=a(()=>{s&&(s.disconnect(),s=void 0)},"cleanup"),u=be(()=>{const p=we(t),m=(Array.isArray(p)?p:[p]).map(wr).filter(SG);return new Set(m)}),c=St(()=>u.value,p=>{l(),o.value&&p.size&&(s=new MutationObserver(e),p.forEach(m=>s.observe(m,i)))},{immediate:!0,flush:"post"}),f=a(()=>s?.takeRecords(),"takeRecords"),h=a(()=>{c(),l()},"stop");return $i(h),{isSupported:o,stop:h,takeRecords:f}}a(T3,"useMutationObserver");function Ove(t,e={}){const{immediate:n=!0,fpsLimit:r=void 0,window:i=pn}=e,s=le(!1),o=r?1e3/r:null;let l=0,u=null;function c(p){if(!s.value||!i)return;l||(l=p);const m=p-l;if(o&&m<o){u=i.requestAnimationFrame(c);return}l=p,t({delta:m,timestamp:p}),u=i.requestAnimationFrame(c)}a(c,"loop");function f(){!s.value&&i&&(s.value=!0,l=0,u=i.requestAnimationFrame(c))}a(f,"resume");function h(){s.value=!1,u!=null&&i&&(i.cancelAnimationFrame(u),u=null)}return a(h,"pause"),n&&f(),$i(h),{isActive:x0(s),pause:h,resume:f}}a(Ove,"useRafFn");function FG(t,e,n){const{immediate:r=!0,delay:i=0,onError:s=Bi,onSuccess:o=Bi,resetOnExecute:l=!0,shallow:u=!0,throwError:c}=n??{},f=u?Am(e):le(e),h=le(!1),p=le(!1),m=Am(void 0);async function g(w=0,...S){l&&(f.value=e),m.value=void 0,h.value=!1,p.value=!0,w>0&&await jb(w);const T=typeof t=="function"?t(...S):t;try{const N=await T;f.value=N,h.value=!0,o(N)}catch(N){if(m.value=N,s(N),c)throw N}finally{p.value=!1}return f.value}a(g,"execute"),r&&g(i);const y={state:f,isReady:h,isLoading:p,error:m,execute:g};function _(){return new Promise((w,S)=>{MG(p).toBe(!1).then(()=>w(y)).catch(S)})}return a(_,"waitUntilIsLoaded"),{...y,then(w,S){return _().then(w,S)}}}a(FG,"useAsyncState");function Yc(t,e={}){const{window:n=pn}=e,r=ld(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let i;const s=le(!1),o=a(c=>{s.value=c.matches},"handler"),l=a(()=>{i&&("removeEventListener"in i?i.removeEventListener("change",o):i.removeListener(o))},"cleanup"),u=gO(()=>{r.value&&(l(),i=n.matchMedia(we(t)),"addEventListener"in i?i.addEventListener("change",o):i.addListener(o),s.value=i.matches)});return $i(()=>{u(),l(),i=void 0}),s}a(Yc,"useMediaQuery");const Nve={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function Dve(t,e={}){function n(f,h){let p=we(t[we(f)]);return h!=null&&(p=IG(p,h)),typeof p=="number"&&(p=`${p}px`),p}a(n,"getValue2");const{window:r=pn,strategy:i="min-width"}=e;function s(f){return r?r.matchMedia(f).matches:!1}a(s,"match");const o=a(f=>Yc(()=>`(min-width: ${n(f)})`,e),"greaterOrEqual"),l=a(f=>Yc(()=>`(max-width: ${n(f)})`,e),"smallerOrEqual"),u=Object.keys(t).reduce((f,h)=>(Object.defineProperty(f,h,{get:a(()=>i==="min-width"?o(h):l(h),"get"),enumerable:!0,configurable:!0}),f),{});function c(){const f=Object.keys(t).map(h=>[h,o(h)]);return be(()=>f.filter(([,h])=>h.value).map(([h])=>h))}return a(c,"current"),Object.assign(u,{greaterOrEqual:o,smallerOrEqual:l,greater(f){return Yc(()=>`(min-width: ${n(f,.1)})`,e)},smaller(f){return Yc(()=>`(max-width: ${n(f,-.1)})`,e)},between(f,h){return Yc(()=>`(min-width: ${n(f)}) and (max-width: ${n(h,-.1)})`,e)},isGreater(f){return s(`(min-width: ${n(f,.1)})`)},isGreaterOrEqual(f){return s(`(min-width: ${n(f)})`)},isSmaller(f){return s(`(max-width: ${n(f,-.1)})`)},isSmallerOrEqual(f){return s(`(max-width: ${n(f)})`)},isInBetween(f,h){return s(`(min-width: ${n(f)}) and (max-width: ${n(h,-.1)})`)},current:c,active(){const f=c();return be(()=>f.value.length===0?"":f.value.at(-1))}})}a(Dve,"useBreakpoints");function nx(t,e={}){const{controls:n=!1,navigator:r=A3}=e,i=ld(()=>r&&"permissions"in r);let s;const o=typeof t=="string"?{name:t}:t,l=le(),u=a(()=>{s&&(l.value=s.state)},"onChange"),c=CG(async()=>{if(i.value){if(!s)try{s=await r.permissions.query(o),Ct(s,"change",u),u()}catch{l.value="prompt"}return s}});return c(),n?{state:l,isSupported:i,query:c}:l}a(nx,"usePermission");function Mve(t={}){const{navigator:e=A3,read:n=!1,source:r,copiedDuring:i=1500,legacy:s=!1}=t,o=ld(()=>e&&"clipboard"in e),l=nx("clipboard-read"),u=nx("clipboard-write"),c=be(()=>o.value||s),f=le(""),h=le(!1),p=PG(()=>h.value=!1,i);function m(){o.value&&w(l.value)?e.clipboard.readText().then(S=>{f.value=S}):f.value=_()}a(m,"updateText"),c.value&&n&&Ct(["copy","cut"],m);async function g(S=we(r)){c.value&&S!=null&&(o.value&&w(u.value)?await e.clipboard.writeText(S):y(S),f.value=S,h.value=!0,p.start())}a(g,"copy");function y(S){const T=document.createElement("textarea");T.value=S??"",T.style.position="absolute",T.style.opacity="0",document.body.appendChild(T),T.select(),document.execCommand("copy"),T.remove()}a(y,"legacyCopy");function _(){var S,T,N;return(N=(T=(S=document?.getSelection)==null?void 0:S.call(document))==null?void 0:T.toString())!=null?N:""}a(_,"legacyRead");function w(S){return S==="granted"||S==="prompt"}return a(w,"isAllowed"),{isSupported:c,text:f,copied:h,copy:g}}a(Mve,"useClipboard");const _p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bp="__vueuse_ssr_handlers__",$G=BG();function BG(){return bp in _p||(_p[bp]=_p[bp]||{}),_p[bp]}a(BG,"getHandlers");function UG(t,e){return $G[t]||e}a(UG,"getSSRHandler");function zG(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}a(zG,"guessSerializerType");const jG={boolean:{read:a(t=>t==="true","read"),write:a(t=>String(t),"write")},object:{read:a(t=>JSON.parse(t),"read"),write:a(t=>JSON.stringify(t),"write")},number:{read:a(t=>Number.parseFloat(t),"read"),write:a(t=>String(t),"write")},any:{read:a(t=>t,"read"),write:a(t=>String(t),"write")},string:{read:a(t=>t,"read"),write:a(t=>String(t),"write")},map:{read:a(t=>new Map(JSON.parse(t)),"read"),write:a(t=>JSON.stringify(Array.from(t.entries())),"write")},set:{read:a(t=>new Set(JSON.parse(t)),"read"),write:a(t=>JSON.stringify(Array.from(t)),"write")},date:{read:a(t=>new Date(t),"read"),write:a(t=>t.toISOString(),"write")}},rx="vueuse-storage";function VG(t,e,n,r={}){var i;const{flush:s="pre",deep:o=!0,listenToStorageChanges:l=!0,writeDefaults:u=!0,mergeDefaults:c=!1,shallow:f,window:h=pn,eventFilter:p,onError:m=a(C=>{console.error(C)},"onError"),initOnMounted:g}=r,y=(f?Am:le)(typeof e=="function"?e():e);if(!n)try{n=UG("getDefaultStorage",()=>{var C;return(C=pn)==null?void 0:C.localStorage})()}catch(C){m(C)}if(!n)return y;const _=we(e),w=zG(_),S=(i=r.serializer)!=null?i:jG[w],{pause:T,resume:N}=OG(y,()=>M(y.value),{flush:s,deep:o,eventFilter:p});h&&l&&H0(()=>{n instanceof Storage?Ct(h,"storage",v):Ct(h,rx,A),g&&v()}),g||v();function O(C,x){h&&!(n instanceof Storage)&&h.dispatchEvent(new CustomEvent(rx,{detail:{key:t,oldValue:C,newValue:x,storageArea:n}}))}a(O,"dispatchWriteEvent");function M(C){try{const x=n.getItem(t);if(C==null)O(x,null),n.removeItem(t);else{const I=S.write(C);x!==I&&(n.setItem(t,I),O(x,I))}}catch(x){m(x)}}a(M,"write");function k(C){const x=C?C.newValue:n.getItem(t);if(x==null)return u&&_!=null&&n.setItem(t,S.write(_)),_;if(!C&&c){const I=S.read(x);return typeof c=="function"?c(I,_):w==="object"&&!Array.isArray(I)?{..._,...I}:I}else return typeof x!="string"?x:S.read(x)}a(k,"read");function v(C){if(!(C&&C.storageArea!==n)){if(C&&C.key==null){y.value=_;return}if(!(C&&C.key!==t)){T();try{C?.newValue!==S.write(y.value)&&(y.value=k(C))}catch(x){m(x)}finally{C?Eu(N):N()}}}}a(v,"update");function A(C){v(C.detail)}return a(A,"updateFromCustomEvent"),y}a(VG,"useStorage");function Pve(t={}){const{window:e=pn}=t,n=le(1);if(e){let r=a(function(){n.value=e.devicePixelRatio,i(),s=e.matchMedia(`(resolution: ${n.value}dppx)`),s.addEventListener("change",r,{once:!0})},"observe2"),i=a(function(){s?.removeEventListener("change",r)},"cleanup2"),s;r(),$i(i)}return{pixelRatio:n}}a(Pve,"useDevicePixelRatio");function Lve(t,e={}){var n,r;const{pointerTypes:i,preventDefault:s,stopPropagation:o,exact:l,onMove:u,onEnd:c,onStart:f,initialValue:h,axis:p="both",draggingElement:m=pn,containerElement:g,handle:y=t,buttons:_=[0]}=e,w=le((n=we(h))!=null?n:{x:0,y:0}),S=le(),T=a(v=>i?i.includes(v.pointerType):!0,"filterEvent"),N=a(v=>{we(s)&&v.preventDefault(),we(o)&&v.stopPropagation()},"handleEvent"),O=a(v=>{var A;if(!we(_).includes(v.button)||we(e.disabled)||!T(v)||we(l)&&v.target!==we(t))return;const C=we(g),x=(A=C?.getBoundingClientRect)==null?void 0:A.call(C),I=we(t).getBoundingClientRect(),D={x:v.clientX-(C?I.left-x.left+C.scrollLeft:I.left),y:v.clientY-(C?I.top-x.top+C.scrollTop:I.top)};f?.(D,v)!==!1&&(S.value=D,N(v))},"start"),M=a(v=>{if(we(e.disabled)||!T(v)||!S.value)return;const A=we(g),C=we(t).getBoundingClientRect();let{x,y:I}=w.value;(p==="x"||p==="both")&&(x=v.clientX-S.value.x,A&&(x=Math.min(Math.max(0,x),A.scrollWidth-C.width))),(p==="y"||p==="both")&&(I=v.clientY-S.value.y,A&&(I=Math.min(Math.max(0,I),A.scrollHeight-C.height))),w.value={x,y:I},u?.(w.value,v),N(v)},"move"),k=a(v=>{we(e.disabled)||!T(v)||S.value&&(S.value=void 0,c?.(w.value,v),N(v))},"end");if(Ga){const v={capture:(r=e.capture)!=null?r:!0};Ct(y,"pointerdown",O,v),Ct(m,"pointermove",M,v),Ct(m,"pointerup",k,v)}return{...NG(w),position:w,isDragging:be(()=>!!S.value),style:be(()=>`left:${w.value.x}px;top:${w.value.y}px;`)}}a(Lve,"useDraggable");function x3(t,e,n={}){const{window:r=pn,...i}=n;let s;const o=ld(()=>r&&"ResizeObserver"in r),l=a(()=>{s&&(s.disconnect(),s=void 0)},"cleanup"),u=be(()=>{const h=we(t);return Array.isArray(h)?h.map(p=>wr(p)):[wr(h)]}),c=St(u,h=>{if(l(),o.value&&r){s=new ResizeObserver(e);for(const p of h)p&&s.observe(p,i)}},{immediate:!0,flush:"post"}),f=a(()=>{l(),c()},"stop");return $i(f),{isSupported:o,stop:f}}a(x3,"useResizeObserver");function Fve(t,e={}){const{reset:n=!0,windowResize:r=!0,windowScroll:i=!0,immediate:s=!0,updateTiming:o="sync"}=e,l=le(0),u=le(0),c=le(0),f=le(0),h=le(0),p=le(0),m=le(0),g=le(0);function y(){const w=wr(t);if(!w){n&&(l.value=0,u.value=0,c.value=0,f.value=0,h.value=0,p.value=0,m.value=0,g.value=0);return}const S=w.getBoundingClientRect();l.value=S.height,u.value=S.bottom,c.value=S.left,f.value=S.right,h.value=S.top,p.value=S.width,m.value=S.x,g.value=S.y}a(y,"recalculate");function _(){o==="sync"?y():o==="next-frame"&&requestAnimationFrame(()=>y())}return a(_,"update"),x3(t,_),St(()=>wr(t),w=>!w&&_()),T3(t,_,{attributeFilter:["style","class"]}),i&&Ct("scroll",_,{capture:!0,passive:!0}),r&&Ct("resize",_,{passive:!0}),H0(()=>{s&&_()}),{height:l,bottom:u,left:c,right:f,top:h,width:p,x:m,y:g,update:_}}a(Fve,"useElementBounding");function $ve(t,e={}){const{delayEnter:n=0,delayLeave:r=0,window:i=pn}=e,s=le(!1);let o;const l=a(u=>{const c=u?n:r;o&&(clearTimeout(o),o=void 0),c?o=setTimeout(()=>s.value=u,c):s.value=u},"toggle");return i&&(Ct(t,"mouseenter",()=>l(!0),{passive:!0}),Ct(t,"mouseleave",()=>l(!1),{passive:!0})),s}a($ve,"useElementHover");function Bve(t,e={width:0,height:0},n={}){const{window:r=pn,box:i="content-box"}=n,s=be(()=>{var h,p;return(p=(h=wr(t))==null?void 0:h.namespaceURI)==null?void 0:p.includes("svg")}),o=le(e.width),l=le(e.height),{stop:u}=x3(t,([h])=>{const p=i==="border-box"?h.borderBoxSize:i==="content-box"?h.contentBoxSize:h.devicePixelContentBoxSize;if(r&&s.value){const m=wr(t);if(m){const g=m.getBoundingClientRect();o.value=g.width,l.value=g.height}}else if(p){const m=Array.isArray(p)?p:[p];o.value=m.reduce((g,{inlineSize:y})=>g+y,0),l.value=m.reduce((g,{blockSize:y})=>g+y,0)}else o.value=h.contentRect.width,l.value=h.contentRect.height},n);H0(()=>{const h=wr(t);h&&(o.value="offsetWidth"in h?h.offsetWidth:e.width,l.value="offsetHeight"in h?h.offsetHeight:e.height)});const c=St(()=>wr(t),h=>{o.value=h?e.width:0,l.value=h?e.height:0});function f(){u(),c()}return a(f,"stop"),{width:o,height:l,stop:f}}a(Bve,"useElementSize");function Uve(t=null,e={}){const{baseUrl:n="",rel:r="icon",document:i=xv}=e,s=v3(t),o=a(l=>{const u=i?.head.querySelectorAll(`link[rel*="${r}"]`);if(!u||u.length===0){const c=i?.createElement("link");c&&(c.rel=r,c.href=`${n}${l}`,c.type=`image/${l.split(".").pop()}`,i?.head.append(c));return}u?.forEach(c=>c.href=`${n}${l}`)},"applyIcon");return St(s,(l,u)=>{typeof l=="string"&&l!==u&&o(l)},{immediate:!0}),s}a(Uve,"useFavicon");async function WG(t){return new Promise((e,n)=>{const r=new Image,{src:i,srcset:s,sizes:o,class:l,loading:u,crossorigin:c,referrerPolicy:f}=t;r.src=i,s&&(r.srcset=s),o&&(r.sizes=o),l&&(r.className=l),u&&(r.loading=u),c&&(r.crossOrigin=c),f&&(r.referrerPolicy=f),r.onload=()=>e(r),r.onerror=n})}a(WG,"loadImage");function zve(t,e={}){const n=FG(()=>WG(we(t)),void 0,{resetOnExecute:!0,...e});return St(()=>we(t),()=>n.execute(e.delay),{deep:!0}),n}a(zve,"useImage");const ix=1;function jve(t,e={}){const{throttle:n=0,idle:r=200,onStop:i=Bi,onScroll:s=Bi,offset:o={left:0,right:0,top:0,bottom:0},eventListenerOptions:l={capture:!1,passive:!0},behavior:u="auto",window:c=pn,onError:f=a(k=>{console.error(k)},"onError")}=e,h=le(0),p=le(0),m=be({get(){return h.value},set(k){y(k,void 0)}}),g=be({get(){return p.value},set(k){y(void 0,k)}});function y(k,v){var A,C,x,I;if(!c)return;const D=we(t);if(!D)return;(x=D instanceof Document?c.document.body:D)==null||x.scrollTo({top:(A=we(v))!=null?A:g.value,left:(C=we(k))!=null?C:m.value,behavior:we(u)});const $=((I=D?.document)==null?void 0:I.documentElement)||D?.documentElement||D;m!=null&&(h.value=$.scrollLeft),g!=null&&(p.value=$.scrollTop)}a(y,"scrollTo2");const _=le(!1),w=km({left:!0,right:!1,top:!0,bottom:!1}),S=km({left:!1,right:!1,top:!1,bottom:!1}),T=a(k=>{_.value&&(_.value=!1,S.left=!1,S.right=!1,S.top=!1,S.bottom=!1,i(k))},"onScrollEnd"),N=S3(T,n+r),O=a(k=>{var v;if(!c)return;const A=((v=k?.document)==null?void 0:v.documentElement)||k?.documentElement||wr(k),{display:C,flexDirection:x}=getComputedStyle(A),I=A.scrollLeft;S.left=I<h.value,S.right=I>h.value;const D=Math.abs(I)<=(o.left||0),$=Math.abs(I)+A.clientWidth>=A.scrollWidth-(o.right||0)-ix;C==="flex"&&x==="row-reverse"?(w.left=$,w.right=D):(w.left=D,w.right=$),h.value=I;let F=A.scrollTop;k===c.document&&!F&&(F=c.document.body.scrollTop),S.top=F<p.value,S.bottom=F>p.value;const B=Math.abs(F)<=(o.top||0),j=Math.abs(F)+A.clientHeight>=A.scrollHeight-(o.bottom||0)-ix;C==="flex"&&x==="column-reverse"?(w.top=j,w.bottom=B):(w.top=B,w.bottom=j),p.value=F},"setArrivedState"),M=a(k=>{var v;if(!c)return;const A=(v=k.target.documentElement)!=null?v:k.target;O(A),_.value=!0,N(k),s(k)},"onScrollHandler");return Ct(t,"scroll",n?RG(M,n,!0,!1):M,l),H0(()=>{try{const k=we(t);if(!k)return;O(k)}catch(k){f(k)}}),Ct(t,"scrollend",T,l),{x:m,y:g,isScrolling:_,arrivedState:w,directions:S,measure(){const k=we(t);c&&k&&O(k)}}}a(jve,"useScroll");const HG=["mousedown","mouseup","keydown","keyup"];function Vve(t,e={}){const{events:n=HG,document:r=xv,initial:i=null}=e,s=le(i);return r&&n.forEach(o=>{Ct(r,o,l=>{typeof l.getModifierState=="function"&&(s.value=l.getModifierState(t))})}),s}a(Vve,"useKeyModifier");function Wve(t,e,n={}){const{window:r=pn}=n;return VG(t,e,r?.localStorage,n)}a(Wve,"useLocalStorage");const qG={page:a(t=>[t.pageX,t.pageY],"page"),client:a(t=>[t.clientX,t.clientY],"client"),screen:a(t=>[t.screenX,t.screenY],"screen"),movement:a(t=>t instanceof Touch?null:[t.movementX,t.movementY],"movement")};function GG(t={}){const{type:e="page",touch:n=!0,resetOnTouchEnds:r=!1,initialValue:i={x:0,y:0},window:s=pn,target:o=s,scroll:l=!0,eventFilter:u}=t;let c=null;const f=le(i.x),h=le(i.y),p=le(null),m=typeof e=="function"?e:qG[e],g=a(O=>{const M=m(O);c=O,M&&([f.value,h.value]=M,p.value="mouse")},"mouseHandler"),y=a(O=>{if(O.touches.length>0){const M=m(O.touches[0]);M&&([f.value,h.value]=M,p.value="touch")}},"touchHandler"),_=a(()=>{if(!c||!s)return;const O=m(c);c instanceof MouseEvent&&O&&(f.value=O[0]+s.scrollX,h.value=O[1]+s.scrollY)},"scrollHandler"),w=a(()=>{f.value=i.x,h.value=i.y},"reset"),S=u?O=>u(()=>g(O),{}):O=>g(O),T=u?O=>u(()=>y(O),{}):O=>y(O),N=u?()=>u(()=>_(),{}):()=>_();if(o){const O={passive:!0};Ct(o,["mousemove","dragover"],S,O),n&&e!=="movement"&&(Ct(o,["touchstart","touchmove"],T,O),r&&Ct(o,"touchend",w,O)),l&&e==="page"&&Ct(s,"scroll",N,{passive:!0})}return{x:f,y:h,sourceType:p}}a(GG,"useMouse");function Hve(t,e={}){const{handleOutside:n=!0,window:r=pn}=e,i=e.type||"page",{x:s,y:o,sourceType:l}=GG(e),u=le(t??r?.document.body),c=le(0),f=le(0),h=le(0),p=le(0),m=le(0),g=le(0),y=le(!0);let _=a(()=>{},"stop");return r&&(_=St([u,s,o],()=>{const w=wr(u);if(!w||!(w instanceof HTMLElement))return;const{left:S,top:T,width:N,height:O}=w.getBoundingClientRect();h.value=S+(i==="page"?r.pageXOffset:0),p.value=T+(i==="page"?r.pageYOffset:0),m.value=O,g.value=N;const M=s.value-h.value,k=o.value-p.value;y.value=N===0||O===0||M<0||k<0||M>N||k>O,(n||!y.value)&&(c.value=M,f.value=k)},{immediate:!0}),Ct(document,"mouseleave",()=>{y.value=!0})),{x:s,y:o,sourceType:l,elementX:c,elementY:f,elementPositionX:h,elementPositionY:p,elementHeight:m,elementWidth:g,isOutside:y,stop:_}}a(Hve,"useMouseInElement");function qve(t=null,e={}){var n,r,i;const{document:s=xv,restoreOnUnmount:o=a(h=>h,"restoreOnUnmount")}=e,l=(n=s?.title)!=null?n:"",u=v3((r=t??s?.title)!=null?r:null),c=t&&typeof t=="function";function f(h){if(!("titleTemplate"in e))return h;const p=e.titleTemplate||"%s";return typeof p=="function"?p(h):we(p).replace(/%s/g,h)}return a(f,"format"),St(u,(h,p)=>{h!==p&&s&&(s.title=f(typeof h=="string"?h:""))},{immediate:!0}),e.observe&&!e.titleTemplate&&s&&!c&&T3((i=s.head)==null?void 0:i.querySelector("title"),()=>{s&&s.title!==u.value&&(u.value=f(s.title))},{childList:!0}),DG(()=>{if(o){const h=o(l,u.value||"");h!=null&&s&&(s.title=h)}}),u}a(qve,"useTitle");function KG(t){return arguments.length===0?[]:Array.isArray(t)?t:[t]}a(KG,"castArray");function YG(t,e){if(!Number.isInteger(e)||e<=0)throw new Error("Size must be an integer greater than zero.");const n=Math.ceil(t.length/e),r=Array(n);for(let i=0;i<n;i++){const s=i*e,o=s+e;r[i]=t.slice(s,o)}return r}a(YG,"chunk$1");function Vn(t){return Array.isArray(t)?t:Array.from(t)}a(Vn,"toArray$2");function JG(t){return Number.isSafeInteger(t)&&t>=0}a(JG,"isLength$2");function ge(t){return t!=null&&typeof t!="function"&&JG(t.length)}a(ge,"isArrayLike");function XG(t,e=1){return e=Math.max(Math.floor(e),0),e===0||!ge(t)?[]:YG(Vn(t),e)}a(XG,"chunk");function ZG(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];r&&e.push(r)}return e}a(ZG,"compact$1");function QG(t){return ge(t)?ZG(Array.from(t)):[]}a(QG,"compact");function q0(t,e=1){const n=[],r=Math.floor(e),i=a((s,o)=>{for(let l=0;l<s.length;l++){const u=s[l];Array.isArray(u)&&o<r?i(u,o+1):n.push(u)}},"recursive");return i(t,0),n}a(q0,"flatten$1");function eK(...t){return q0(t)}a(eK,"concat");function De(t){return t}a(De,"identity$1");function Do(t){return t==="__proto__"}a(Do,"isUnsafeProperty");function G0(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}a(G0,"isDeepKey");function El(t){return typeof t=="string"||typeof t=="symbol"?t:Object.is(t?.valueOf?.(),-0)?"-0":String(t)}a(El,"toKey");function Xi(t){const e=[],n=t.length;if(n===0)return e;let r=0,i="",s="",o=!1;for(t.charCodeAt(0)===46&&(e.push(""),r++);r<n;){const l=t[r];s?l==="\\"&&r+1<n?(r++,i+=t[r]):l===s?s="":i+=l:o?l==='"'||l==="'"?s=l:l==="]"?(o=!1,e.push(i),i=""):i+=l:l==="["?(o=!0,i&&(e.push(i),i="")):l==="."?i&&(e.push(i),i=""):i+=l,r++}return i&&e.push(i),e}a(Xi,"toPath");function ir(t,e,n){if(t==null)return n;switch(typeof e){case"string":{if(Do(e))return n;const r=t[e];return r===void 0?G0(e)?ir(t,Xi(e),n):n:r}case"number":case"symbol":{typeof e=="number"&&(e=El(e));const r=t[e];return r===void 0?n:r}default:{if(Array.isArray(e))return tK(t,e,n);if(Object.is(e?.valueOf(),-0)?e="-0":e=String(e),Do(e))return n;const r=t[e];return r===void 0?n:r}}}a(ir,"get$2");function tK(t,e,n){if(e.length===0)return n;let r=t;for(let i=0;i<e.length;i++){if(r==null||Do(e[i]))return n;r=r[e[i]]}return r===void 0?n:r}a(tK,"getWithPath");function Us(t){return function(e){return ir(e,t)}}a(Us,"property");function si(t){return t!==null&&(typeof t=="object"||typeof t=="function")}a(si,"isObject$3");function ud(t){return t==null||typeof t!="object"&&typeof t!="function"}a(ud,"isPrimitive");function mn(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}a(mn,"eq$3");function C3(t,e,n){return typeof n!="function"?K0(t,e):Wb(t,e,a(function r(i,s,o,l,u,c){const f=n(i,s,o,l,u,c);return f!==void 0?!!f:Wb(i,s,r,c)},"doesMatch"),new Map)}a(C3,"isMatchWith");function Wb(t,e,n,r){if(e===t)return!0;switch(typeof e){case"object":return nK(t,e,n,r);case"function":return Object.keys(e).length>0?Wb(t,{...e},n,r):mn(t,e);default:return si(t)?typeof e=="string"?e==="":!0:mn(t,e)}}a(Wb,"isMatchWithInternal");function nK(t,e,n,r){if(e==null)return!0;if(Array.isArray(e))return I3(t,e,n,r);if(e instanceof Map)return rK(t,e,n,r);if(e instanceof Set)return iK(t,e,n,r);const i=Object.keys(e);if(t==null)return i.length===0;if(i.length===0)return!0;if(r&&r.has(e))return r.get(e)===t;r&&r.set(e,t);try{for(let s=0;s<i.length;s++){const o=i[s];if(!ud(t)&&!(o in t)||e[o]===void 0&&t[o]!==void 0||e[o]===null&&t[o]!==null||!n(t[o],e[o],o,t,e,r))return!1}return!0}finally{r&&r.delete(e)}}a(nK,"isObjectMatch");function rK(t,e,n,r){if(e.size===0)return!0;if(!(t instanceof Map))return!1;for(const[i,s]of e.entries()){const o=t.get(i);if(n(o,s,i,t,e,r)===!1)return!1}return!0}a(rK,"isMapMatch");function I3(t,e,n,r){if(e.length===0)return!0;if(!Array.isArray(t))return!1;const i=new Set;for(let s=0;s<e.length;s++){const o=e[s];let l=!1;for(let u=0;u<t.length;u++){if(i.has(u))continue;const c=t[u];let f=!1;if(n(c,o,s,t,e,r)&&(f=!0),f){i.add(u),l=!0;break}}if(!l)return!1}return!0}a(I3,"isArrayMatch");function iK(t,e,n,r){return e.size===0?!0:t instanceof Set?I3([...t],[...e],n,r):!1}a(iK,"isSetMatch");function K0(t,e){return C3(t,e,()=>{})}a(K0,"isMatch");function ih(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}a(ih,"getSymbols");function Ka(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}a(Ka,"getTag$1");const Y0="[object RegExp]",Nu="[object String]",cd="[object Number]",fd="[object Boolean]",Du="[object Arguments]",J0="[object Symbol]",X0="[object Date]",Z0="[object Map]",Q0="[object Set]",Cv="[object Array]",sK="[object Function]",ey="[object ArrayBuffer]",Lf="[object Object]",oK="[object Error]",ty="[object DataView]",Iv="[object Uint8Array]",Rv="[object Uint8ClampedArray]",Ov="[object Uint16Array]",Nv="[object Uint32Array]",aK="[object BigUint64Array]",Dv="[object Int8Array]",Mv="[object Int16Array]",Pv="[object Int32Array]",lK="[object BigInt64Array]",Lv="[object Float32Array]",Fv="[object Float64Array]";function $v(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}a($v,"isTypedArray$2");function uK(t,e){return _a(t,void 0,t,new Map,e)}a(uK,"cloneDeepWith$1");function _a(t,e,n,r=new Map,i=void 0){const s=i?.(t,e,n,r);if(s!==void 0)return s;if(ud(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let l=0;l<t.length;l++)o[l]=_a(t[l],l,n,r,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[l,u]of t)o.set(l,_a(u,l,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const l of t)o.add(_a(l,void 0,n,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if($v(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let l=0;l<t.length;l++)o[l]=_a(t[l],l,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),da(o,t,n,r,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),da(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),da(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,da(o,t,n,r,i),o}if(typeof t=="object"&&cK(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),da(o,t,n,r,i),o}return t}a(_a,"cloneDeepWithImpl");function da(t,e,n=t,r,i){const s=[...Object.keys(e),...ih(e)];for(let o=0;o<s.length;o++){const l=s[o],u=Object.getOwnPropertyDescriptor(t,l);(u==null||u.writable)&&(t[l]=_a(e[l],l,n,r,i))}}a(da,"copyProperties");function cK(t){switch(Ka(t)){case Du:case Cv:case ey:case ty:case fd:case X0:case Lv:case Fv:case Dv:case Mv:case Pv:case Z0:case cd:case Lf:case Y0:case Q0:case Nu:case J0:case Iv:case Rv:case Ov:case Nv:return!0;default:return!1}}a(cK,"isCloneableObject$1");function Bv(t){return _a(t,void 0,t,new Map,void 0)}a(Bv,"cloneDeep$1");function Yo(t){return t=Bv(t),e=>K0(e,t)}a(Yo,"matches$1");function R3(t,e){return uK(t,(n,r,i,s)=>{const o=e?.(n,r,i,s);if(o!==void 0)return o;if(typeof t=="object")switch(Object.prototype.toString.call(t)){case cd:case Nu:case fd:{const l=new t.constructor(t?.valueOf());return da(l,t),l}case Du:{const l={};return da(l,t),l.length=t.length,l[Symbol.iterator]=t[Symbol.iterator],l}default:return}})}a(R3,"cloneDeepWith");function sh(t){return R3(t)}a(sh,"cloneDeep");const fK=/^(?:0|[1-9]\d*)$/;function Mu(t,e=Number.MAX_SAFE_INTEGER){switch(typeof t){case"number":return Number.isInteger(t)&&t>=0&&t<e;case"symbol":return!1;case"string":return fK.test(t)}}a(Mu,"isIndex");function Pu(t){return t!==null&&typeof t=="object"&&Ka(t)==="[object Arguments]"}a(Pu,"isArguments");function Uv(t,e){let n;if(Array.isArray(e)?n=e:typeof e=="string"&&G0(e)&&t?.[e]==null?n=Xi(e):n=[e],n.length===0)return!1;let r=t;for(let i=0;i<n.length;i++){const s=n[i];if((r==null||!Object.hasOwn(r,s))&&!((Array.isArray(r)||Pu(r))&&Mu(s)&&s<r.length))return!1;r=r[s]}return!0}a(Uv,"has$1");function Jo(t,e){switch(typeof t){case"object":{Object.is(t?.valueOf(),-0)&&(t="-0");break}case"number":{t=El(t);break}}return e=sh(e),function(n){const r=ir(n,t);return r===void 0?Uv(n,t):e===void 0?r===void 0:K0(r,e)}}a(Jo,"matchesProperty");function xe(t){if(t==null)return De;switch(typeof t){case"function":return t;case"object":return Array.isArray(t)&&t.length===2?Jo(t[0],t[1]):Yo(t);case"string":case"symbol":case"number":return Us(t)}}a(xe,"iteratee");function hK(t,e){if(t==null)return{};const n=ge(t)?Array.from(t):Object.values(t),r=xe(e??void 0),i=Object.create(null);for(let s=0;s<n.length;s++){const o=n[s],l=r(o);i[l]=(i[l]??0)+1}return i}a(hK,"countBy");function ny(t,e){const n=new Set(e);return t.filter(r=>!n.has(r))}a(ny,"difference$1");function Ya(t){return typeof t=="object"&&t!==null}a(Ya,"isObjectLike$1");function Xe(t){return Ya(t)&&ge(t)}a(Xe,"isArrayLikeObject");function dK(t,...e){if(!Xe(t))return[];const n=Vn(t),r=[];for(let i=0;i<e.length;i++){const s=e[i];Xe(s)&&r.push(...Array.from(s))}return ny(n,r)}a(dK,"difference");function ry(t){return t[t.length-1]}a(ry,"last$2");function vl(t){if(ge(t))return ry(Vn(t))}a(vl,"last$1");function pK(t,e,n){const r=new Set(e.map(i=>n(i)));return t.filter(i=>!r.has(n(i)))}a(pK,"differenceBy$1");function iy(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];if(Xe(r))for(let i=0;i<r.length;i++)e.push(r[i])}return e}a(iy,"flattenArrayLike");function O3(t,...e){if(!Xe(t))return[];const n=vl(e),r=iy(e);return Xe(n)?ny(Array.from(t),r):pK(Array.from(t),r,xe(n))}a(O3,"differenceBy");function mK(t,e,n){return t.filter(r=>e.every(i=>!n(r,i)))}a(mK,"differenceWith$1");function N3(t,...e){if(!Xe(t))return[];const n=vl(e),r=iy(e);return typeof n=="function"?mK(Array.from(t),r,n):ny(Array.from(t),r)}a(N3,"differenceWith");function gK(t,e){return e=Math.max(e,0),t.slice(e)}a(gK,"drop$1");function Ja(t){return typeof t=="symbol"||t instanceof Symbol}a(Ja,"isSymbol$1");function It(t){return Ja(t)?NaN:Number(t)}a(It,"toNumber");function Ao(t){return t?(t=It(t),t===1/0||t===-1/0?(t<0?-1:1)*Number.MAX_VALUE:t===t?t:0):t===0?t:0}a(Ao,"toFinite");function Rt(t){const e=Ao(t),n=e%1;return n?e-n:e}a(Rt,"toInteger");function yK(t,e=1,n){return ge(t)?(e=n?1:Rt(e),gK(Vn(t),e)):[]}a(yK,"drop");function _K(t,e){return e=Math.min(-e,0),e===0?t.slice():t.slice(0,e)}a(_K,"dropRight$1");function bK(t,e=1,n){return ge(t)?(e=n?1:Rt(e),_K(Vn(t),e)):[]}a(bK,"dropRight");function wp(t,e){for(let n=t.length-1;n>=0;n--)if(!e(t[n],n,t))return t.slice(0,n+1);return[]}a(wp,"dropRightWhile$1");function wK(t,e=De){return ge(t)?EK(Array.from(t),e):[]}a(wK,"dropRightWhile");function EK(t,e){switch(typeof e){case"function":return wp(t,(n,r,i)=>!!e(n,r,i));case"object":if(Array.isArray(e)&&e.length===2){const n=e[0],r=e[1];return wp(t,Jo(n,r))}else return wp(t,Yo(e));case"symbol":case"number":case"string":return wp(t,Us(e))}}a(EK,"dropRightWhileImpl");function Ep(t,e){const n=t.findIndex((r,i,s)=>!e(r,i,s));return n===-1?[]:t.slice(n)}a(Ep,"dropWhile$1");function vK(t,e=De){return ge(t)?SK(Vn(t),e):[]}a(vK,"dropWhile");function SK(t,e){switch(typeof e){case"function":return Ep(t,(n,r,i)=>!!e(n,r,i));case"object":if(Array.isArray(e)&&e.length===2){const n=e[0],r=e[1];return Ep(t,Jo(n,r))}else return Ep(t,Yo(e));case"number":case"symbol":case"string":return Ep(t,Us(e))}}a(SK,"dropWhileImpl");function Sl(t,e,n=1){if(e==null&&(e=t,t=0),!Number.isInteger(n)||n===0)throw new Error("The step value must be a non-zero integer.");const r=Math.max(Math.ceil((e-t)/n),0),i=new Array(r);for(let s=0;s<r;s++)i[s]=t+s*n;return i}a(Sl,"range$2");function Hb(t,e=De){if(!t)return t;const n=ge(t)||Array.isArray(t)?Sl(0,t.length):Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r],s=t[i];if(e(s,i,t)===!1)break}return t}a(Hb,"forEach$2");function sx(t,e=De){if(!t)return t;const n=ge(t)?Sl(0,t.length):Object.keys(t);for(let r=n.length-1;r>=0;r--){const i=n[r],s=t[i];if(e(s,i,t)===!1)break}return t}a(sx,"forEachRight");function Ds(t,e,n){return si(n)&&(typeof e=="number"&&ge(n)&&Mu(e)&&e<n.length||typeof e=="string"&&e in n)?mn(n[e],t):!1}a(Ds,"isIterateeCall");function kK(t,e,n){if(!t)return!0;n&&Ds(t,e,n)&&(e=void 0),e||(e=De);let r;switch(typeof e){case"function":{r=e;break}case"object":{if(Array.isArray(e)&&e.length===2){const i=e[0],s=e[1];r=Jo(i,s)}else r=Yo(e);break}case"symbol":case"number":case"string":r=Us(e)}if(!ge(t)){const i=Object.keys(t);for(let s=0;s<i.length;s++){const o=i[s],l=t[o];if(!r(l,o,t))return!1}return!0}for(let i=0;i<t.length;i++)if(!r(t[i],i,t))return!1;return!0}a(kK,"every$1");function AK(t,e,n=0,r=t.length){const i=t.length,s=Math.max(n>=0?n:i+n,0),o=Math.min(r>=0?r:i+r,i);for(let l=s;l<o;l++)t[l]=e;return t}a(AK,"fill$1");function sy(t){return typeof t=="string"||t instanceof String}a(sy,"isString$4");function TK(t,e,n=0,r=t?t.length:0){return ge(t)?sy(t)?t:(n=Math.floor(n),r=Math.floor(r),n||(n=0),r||(r=0),AK(t,e,n,r)):[]}a(TK,"fill");function D3(t,e=De){if(!t)return[];if(e=xe(e),!Array.isArray(t)){const i=[],s=Object.keys(t),o=ge(t)?t.length:s.length;for(let l=0;l<o;l++){const u=s[l],c=t[u];e(c,u,t)&&i.push(c)}return i}const n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];e(s,i,t)&&n.push(s)}return n}a(D3,"filter");function xK(t,e=De,n=0){if(!t)return;n<0&&(n=Math.max(t.length+n,0));const r=xe(e);if(typeof r=="function"&&!Array.isArray(t)){const s=Object.keys(t);for(let o=n;o<s.length;o++){const l=s[o],u=t[l];if(r(u,l,t))return u}return}return(Array.isArray(t)?t.slice(n):Object.values(t).slice(n)).find(r)}a(xK,"find$2");function CK(t,e,n=0){if(!t)return-1;n<0&&(n=Math.max(t.length+n,0));const r=Array.from(t).slice(n);let i=-1;switch(typeof e){case"function":{i=r.findIndex(e);break}case"object":{if(Array.isArray(e)&&e.length===2){const s=e[0],o=e[1];i=r.findIndex(Jo(s,o))}else i=r.findIndex(Yo(e));break}case"number":case"symbol":case"string":i=r.findIndex(Us(e))}return i===-1?-1:i+n}a(CK,"findIndex");function IK(t,e=De,n){if(!t)return;const r=Array.isArray(t)?t.length:Object.keys(t).length;n=Rt(n??r-1),n<0?n=Math.max(r+n,0):n=Math.min(n,r-1);const i=xe(e);if(typeof i=="function"&&!Array.isArray(t)){const o=Object.keys(t);for(let l=n;l>=0;l--){const u=o[l],c=t[u];if(i(c,u,t))return c}return}return(Array.isArray(t)?t.slice(0,n+1):Object.values(t).slice(0,n+1)).findLast(i)}a(IK,"findLast");function RK(t,e=De,n=t?t.length-1:0){if(!t)return-1;n<0?n=Math.max(t.length+n,0):n=Math.min(n,t.length-1);const r=Vn(t).slice(0,n+1);switch(typeof e){case"function":return r.findLastIndex(e);case"object":if(Array.isArray(e)&&e.length===2){const i=e[0],s=e[1];return r.findLastIndex(Jo(i,s))}else return r.findLastIndex(Yo(e));case"number":case"symbol":case"string":return r.findLastIndex(Us(e))}}a(RK,"findLastIndex");function OK(t){return t[0]}a(OK,"head$1");function ox(t){if(ge(t))return OK(Vn(t))}a(ox,"head");function oy(t,e=1){const n=[],r=Math.floor(e);if(!ge(t))return n;const i=a((s,o)=>{for(let l=0;l<s.length;l++){const u=s[l];o<r&&(Array.isArray(u)||u?.[Symbol.isConcatSpreadable]||u!==null&&typeof u=="object"&&Object.prototype.toString.call(u)==="[object Arguments]")?Array.isArray(u)?i(u,o+1):i(Array.from(u),o+1):n.push(u)}},"recursive");return i(Array.from(t),0),n}a(oy,"flatten");function hd(t,e=1){return oy(t,e)}a(hd,"flattenDepth");function ng(t,e){if(!t)return[];const n=ge(t)||Array.isArray(t)?Sl(0,t.length):Object.keys(t),r=xe(e??De),i=new Array(n.length);for(let s=0;s<n.length;s++){const o=n[s],l=t[o];i[s]=r(l,o,t)}return i}a(ng,"map$2");function Mo(t){return t==null}a(Mo,"isNil$1");function NK(t,e){if(Mo(t))return[];const n=Mo(e)?ng(t):ng(t,e);return hd(n,1)}a(NK,"flatMap");function M3(t,e=De,n=1){if(t==null)return[];const r=xe(e),i=ng(t,r);return oy(i,n)}a(M3,"flatMapDepth");function DK(t,e){return M3(t,e,1/0)}a(DK,"flatMapDeep");function MK(t){return hd(t,1/0)}a(MK,"flattenDeep");function PK(t,e){const n={};for(let r=0;r<t.length;r++){const i=t[r],s=e(i);Object.hasOwn(n,s)||(n[s]=[]),n[s].push(i)}return n}a(PK,"groupBy$1");function LK(t,e){if(t==null)return{};const n=ge(t)?Array.from(t):Object.values(t),r=xe(e??De);return PK(n,r)}a(LK,"groupBy");function FK(t,e,n,r){if(t==null)return!1;if(r||!n?n=0:n=Rt(n),sy(t))return n>t.length||e instanceof RegExp?!1:(n<0&&(n=Math.max(0,t.length+n)),t.includes(e,n));if(Array.isArray(t))return t.includes(e,n);const i=Object.keys(t);n<0&&(n=Math.max(0,i.length+n));for(let s=n;s<i.length;s++){const o=Reflect.get(t,i[s]);if(mn(o,e))return!0}return!1}a(FK,"includes");function $K(t,e,n){if(!ge(t))return-1;if(Number.isNaN(e)){n=n??0,n<0&&(n=Math.max(0,t.length+n));for(let r=n;r<t.length;r++)if(Number.isNaN(t[r]))return r;return-1}return Array.from(t).indexOf(e,n)}a($K,"indexOf");function BK(t){return t.slice(0,-1)}a(BK,"initial$1");function UK(t){return ge(t)?BK(Array.from(t)):[]}a(UK,"initial");function zK(t,e){const n=new Set(e);return t.filter(r=>n.has(r))}a(zK,"intersection$1");function hc(t){return Array.from(new Set(t))}a(hc,"uniq$1");function jK(...t){if(t.length===0)return[];if(!Xe(t[0]))return[];let e=hc(Array.from(t[0]));for(let n=1;n<t.length;n++){const r=t[n];if(!Xe(r))return[];e=zK(e,Array.from(r))}return e}a(jK,"intersection");function C1(t,e,n){const r=new Set(e.map(n));return t.filter(i=>r.has(n(i)))}a(C1,"intersectionBy$1");function P3(t,...e){if(!Xe(t))return[];const n=ry(e);if(n===void 0)return Array.from(t);let r=hc(Array.from(t));const i=Xe(n)?e.length:e.length-1;for(let s=0;s<i;++s){const o=e[s];if(!Xe(o))return[];Xe(n)?r=C1(r,Array.from(o),De):typeof n=="function"?r=C1(r,Array.from(o),l=>n(l)):typeof n=="string"&&(r=C1(r,Array.from(o),Us(n)))}return r}a(P3,"intersectionBy");function VK(t,e,n){return t.filter(r=>e.some(i=>n(r,i)))}a(VK,"intersectionWith$1");function zv(t){return ge(t)?hc(Array.from(t)):[]}a(zv,"uniq");function L3(t,...e){if(t==null)return[];const n=vl(e);let r=mn,i=zv;typeof n=="function"&&(r=n,i=WK,e.pop());let s=i(Array.from(t));for(let o=0;o<e.length;++o){const l=e[o];if(l==null)return[];s=VK(s,Array.from(l),r)}return s}a(L3,"intersectionWith");function WK(t){const e=[],n=new Set;for(let r=0;r<t.length;r++){const i=t[r];n.has(i)||(e.push(i),n.add(i))}return e}a(WK,"uniqPreserve0");function kl(t){return typeof t=="function"}a(kl,"isFunction$3");function HK(t,e,...n){if(Mo(t))return[];const r=ge(t)?Array.from(t):Object.values(t),i=[];for(let s=0;s<r.length;s++){const o=r[s];if(kl(e)){i.push(e.apply(o,n));continue}const l=ir(o,e);let u=o;if(Array.isArray(e)){const c=e.slice(0,-1);c.length>0&&(u=ir(o,c))}else if(typeof e=="string"&&e.includes(".")){const f=e.split(".").slice(0,-1).join(".");u=ir(o,f)}i.push(l?.apply(u,n))}return i}a(HK,"invokeMap");function qK(t,e){return ge(t)?Array.from(t).join(e):""}a(qK,"join$1");function F3(t,e=De,n){if(!t)return n;let r,i=0;ge(t)?(r=Sl(0,t.length),n==null&&t.length>0&&(n=t[0],i+=1)):(r=Object.keys(t),n==null&&(n=t[r[0]],i+=1));for(let s=i;s<r.length;s++){const o=r[s],l=t[o];n=e(n,l,o,t)}return n}a(F3,"reduce");function GK(t,e){if(!ge(t)&&!Ya(t))return{};const n=xe(e??De);return F3(t,(r,i)=>{const s=n(i);return r[s]=i,r},{})}a(GK,"keyBy");function KK(t,e,n){if(!ge(t)||t.length===0)return-1;const r=t.length;let i=n??r-1;if(n!=null&&(i=i<0?Math.max(r+i,0):Math.min(i,r-1)),Number.isNaN(e)){for(let s=i;s>=0;s--)if(Number.isNaN(t[s]))return s}return Array.from(t).lastIndexOf(e,i)}a(KK,"lastIndexOf");function YK(t,e=0){if(!(!Xe(t)||t.length===0))return e=Rt(e),e<0&&(e+=t.length),t[e]}a(YK,"nth");function ax(t){return typeof t=="symbol"?1:t===null?2:t===void 0?3:t!==t?4:0}a(ax,"getPriority");const JK=a((t,e,n)=>{if(t!==e){const r=ax(t),i=ax(e);if(r===i&&r===0){if(t<e)return n==="desc"?1:-1;if(t>e)return n==="desc"?-1:1}return n==="desc"?i-r:r-i}return 0},"compareValues$1"),XK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ZK=/^\w*$/;function ay(t,e){return Array.isArray(t)?!1:typeof t=="number"||typeof t=="boolean"||t==null||Ja(t)?!0:typeof t=="string"&&(ZK.test(t)||!XK.test(t))||e!=null&&Object.hasOwn(e,t)}a(ay,"isKey");function $3(t,e,n,r){if(t==null)return[];n=r?void 0:n,Array.isArray(t)||(t=Object.values(t)),Array.isArray(e)||(e=e==null?[null]:[e]),e.length===0&&(e=[null]),Array.isArray(n)||(n=n==null?[]:[n]),n=n.map(u=>String(u));const i=a((u,c)=>{let f=u;for(let h=0;h<c.length&&f!=null;++h)f=f[c[h]];return f},"getValueByNestedPath"),s=a((u,c)=>c==null||u==null?c:typeof u=="object"&&"key"in u?Object.hasOwn(c,u.key)?c[u.key]:i(c,u.path):typeof u=="function"?u(c):Array.isArray(u)?i(c,u):typeof c=="object"?c[u]:c,"getValueByCriterion"),o=e.map(u=>(Array.isArray(u)&&u.length===1&&(u=u[0]),u==null||typeof u=="function"||Array.isArray(u)||ay(u)?u:{key:u,path:Xi(u)}));return t.map(u=>({original:u,criteria:o.map(c=>s(c,u))})).slice().sort((u,c)=>{for(let f=0;f<o.length;f++){const h=JK(u.criteria[f],c.criteria[f],n[f]);if(h!==0)return h}return 0}).map(u=>u.original)}a($3,"orderBy$1");function QK(t,e=De){if(!t)return[[],[]];const n=ge(t)?t:Object.values(t);e=xe(e);const r=[],i=[];for(let s=0;s<n.length;s++){const o=n[s];e(o)?r.push(o):i.push(o)}return[r,i]}a(QK,"partition");function B3(t,e){const n=new Set(e);let r=0;for(let i=0;i<t.length;i++)if(!n.has(t[i])){if(!Object.hasOwn(t,i)){delete t[r++];continue}t[r++]=t[i]}return t.length=r,t}a(B3,"pull$1");function eY(t,...e){return B3(t,e)}a(eY,"pull");function tY(t,e=[]){return B3(t,Array.from(e))}a(tY,"pullAll");function nY(t,e,n){const r=xe(n),i=new Set(Array.from(e).map(o=>r(o)));let s=0;for(let o=0;o<t.length;o++){const l=r(t[o]);if(!i.has(l)){if(!Object.hasOwn(t,o)){delete t[s++];continue}t[s++]=t[o]}}return t.length=s,t}a(nY,"pullAllBy");function rY(t,e){const n=t.length;e==null&&(e=Array(n));for(let r=0;r<n;r++)e[r]=t[r];return e}a(rY,"copyArray");function iY(t,e,n){if(t?.length==null||e?.length==null)return t;t===e&&(e=rY(e));let r=0;n==null&&(n=a((o,l)=>mn(o,l),"comparator"));const i=Array.isArray(e)?e:Array.from(e),s=i.includes(void 0);for(let o=0;o<t.length;o++){if(o in t){i.some(u=>n(t[o],u))||(t[r++]=t[o]);continue}s||delete t[r++]}return t.length=r,t}a(iY,"pullAllWith");function U3(t,...e){if(e.length===0)return[];const n=[];for(let i=0;i<e.length;i++){const s=e[i];if(!ge(s)||sy(s)){n.push(s);continue}for(let o=0;o<s.length;o++)n.push(s[o])}const r=[];for(let i=0;i<n.length;i++)r.push(ir(t,n[i]));return r}a(U3,"at");function rg(t,e){if(t==null)return!0;switch(typeof e){case"symbol":case"number":case"object":{if(Array.isArray(e))return lx(t,e);if(typeof e=="number"?e=El(e):typeof e=="object"&&(Object.is(e?.valueOf(),-0)?e="-0":e=String(e)),Do(e))return!1;if(t?.[e]===void 0)return!0;try{return delete t[e],!0}catch{return!1}}case"string":{if(t?.[e]===void 0&&G0(e))return lx(t,Xi(e));if(Do(e))return!1;try{return delete t[e],!0}catch{return!1}}}}a(rg,"unset");function lx(t,e){const n=ir(t,e.slice(0,-1),t),r=e[e.length-1];if(n?.[r]===void 0)return!0;if(Do(r))return!1;try{return delete n[r],!0}catch{return!1}}a(lx,"unsetWithPath");function Po(t){return Array.isArray(t)}a(Po,"isArray$3");function sY(t,...e){const n=hd(e,1);if(!t)return Array(n.length);const r=U3(t,n),i=n.map(s=>Mu(s,t.length)?Number(s):s).sort((s,o)=>o-s);for(const s of new Set(i)){if(Mu(s,t.length)){Array.prototype.splice.call(t,s,1);continue}if(ay(s,t)){delete t[El(s)];continue}const o=Po(s)?s:Xi(s);rg(t,o)}return r}a(sY,"pullAt");function oY(t,e=De,n){if(!t)return n;let r,i;ge(t)?(r=Sl(0,t.length).reverse(),n==null&&t.length>0?(n=t[t.length-1],i=1):i=0):(r=Object.keys(t).reverse(),n==null?(n=t[r[0]],i=1):i=0);for(let s=i;s<r.length;s++){const o=r[s],l=t[o];n=e(n,l,o,t)}return n}a(oY,"reduceRight");function jv(t){if(typeof t!="function")throw new TypeError("Expected a function");return function(...e){return!t.apply(this,e)}}a(jv,"negate$1");function aY(t,e=De){return D3(t,jv(xe(e)))}a(aY,"reject");function lY(t,e){const n=t.slice(),r=[];let i=0;for(let s=0;s<t.length;s++){if(e(t[s],s,n)){r.push(t[s]);continue}if(!Object.hasOwn(t,s)){delete t[i++];continue}t[i++]=t[s]}return t.length=i,r}a(lY,"remove$1");function uY(t,e=De){return lY(t,xe(e))}a(uY,"remove");function cY(t){return t==null?t:t.reverse()}a(cY,"reverse");function ux(t){const e=Math.floor(Math.random()*t.length);return t[e]}a(ux,"sample$1");function fY(t){if(t!=null)return ge(t)?ux(Vn(t)):ux(Object.values(t))}a(fY,"sample");function z3(t,e){if(e==null&&(e=t,t=0),t>=e)throw new Error("Invalid input: The maximum value must be greater than the minimum value.");return Math.random()*(e-t)+t}a(z3,"random$1");function j3(t,e){return Math.floor(z3(t,e))}a(j3,"randomInt");function hY(t,e){if(e>t.length)throw new Error("Size must be less than or equal to the length of array.");const n=new Array(e),r=new Set;for(let i=t.length-e,s=0;i<t.length;i++,s++){let o=j3(0,i+1);r.has(o)&&(o=i),r.add(o),n[s]=t[o]}return n}a(hY,"sampleSize$1");function dY(t,e,n){return n==null?Math.min(t,e):Math.min(Math.max(t,e),n)}a(dY,"clamp$2");function Lu(t,e,n){return Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),dY(t,e,n)}a(Lu,"clamp$1");function pY(t){return t instanceof Map}a(pY,"isMap$1");function V3(t){return pY(t)}a(V3,"isMap");function Vv(t){return t==null?[]:ge(t)||V3(t)?Array.from(t):typeof t=="object"?Object.values(t):[]}a(Vv,"toArray$1");function mY(t,e,n){const r=Vv(t);return(n?Ds(t,e,n):e===void 0)?e=1:e=Lu(Rt(e),0,r.length),hY(r,e)}a(mY,"sampleSize");function I1(t){const e=t.slice();for(let n=e.length-1;n>=1;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e}a(I1,"shuffle$2");function W3(t){return t==null?[]:Object.values(t)}a(W3,"values");function ly(t){return t==null}a(ly,"isNil");function gY(t){return ly(t)?[]:Po(t)?I1(t):ge(t)?I1(Array.from(t)):Ya(t)?I1(W3(t)):[]}a(gY,"shuffle$1");function yY(t){return Mo(t)?0:t instanceof Map||t instanceof Set?t.size:Object.keys(t).length}a(yY,"size$1");function _Y(t,e,n){if(!ge(t))return[];const r=t.length;n===void 0?n=r:typeof n!="number"&&Ds(t,e,n)&&(e=0,n=r),e=Rt(e),n=Rt(n),e<0?e=Math.max(r+e,0):e=Math.min(e,r),n<0?n=Math.max(r+n,0):n=Math.min(n,r);const i=Math.max(n-e,0),s=new Array(i);for(let o=0;o<i;++o)s[o]=t[e+o];return s}a(_Y,"slice");function bY(t,e,n){if(!t)return!1;n!=null&&(e=void 0),e||(e=De);const r=Array.isArray(t)?t:Object.values(t);switch(typeof e){case"function":{if(!Array.isArray(t)){const i=Object.keys(t);for(let s=0;s<i.length;s++){const o=i[s],l=t[o];if(e(l,o,t))return!0}return!1}for(let i=0;i<t.length;i++)if(e(t[i],i,t))return!0;return!1}case"object":if(Array.isArray(e)&&e.length===2){const i=e[0],s=e[1],o=Jo(i,s);if(Array.isArray(t)){for(let l=0;l<t.length;l++)if(o(t[l]))return!0;return!1}return r.some(o)}else{const i=Yo(e);if(Array.isArray(t)){for(let s=0;s<t.length;s++)if(i(t[s]))return!0;return!1}return r.some(i)}case"number":case"symbol":case"string":{const i=Us(e);if(Array.isArray(t)){for(let s=0;s<t.length;s++)if(i(t[s]))return!0;return!1}return r.some(i)}}}a(bY,"some");function wY(t,...e){const n=e.length;return n>1&&Ds(t,e[0],e[1])?e=[]:n>2&&Ds(e[0],e[1],e[2])&&(e=[e[0]]),$3(t,q0(e),["asc"])}a(wY,"sortBy$1");function ig(t){return t===null}a(ig,"isNull$1");function qb(t){return t===void 0}a(qb,"isUndefined$2");function Gb(t){return Number.isNaN(t)}a(Gb,"isNaN$1");const EY=4294967295,vY=EY-1;function Wv(t,e,n=xe,r){let i=0,s=t==null?0:t.length;if(s===0||ly(t))return 0;const o=xe(n),l=o(e),u=Gb(l),c=ig(l),f=Ja(l),h=qb(l);for(;i<s;){let p;const m=Math.floor((i+s)/2),g=o(t[m]),y=!qb(g),_=ig(g),w=!Gb(g),S=Ja(g);u?p=r||w:h?p=w&&(r||y):c?p=w&&y&&(r||!_):f?p=w&&y&&!_&&(r||!S):_||S?p=!1:p=r?g<=l:g<l,p?i=m+1:s=m}return Math.min(s,vY)}a(Wv,"sortedIndexBy");function H3(t){return typeof t=="symbol"}a(H3,"isSymbol");function Hv(t){return typeof t=="number"||t instanceof Number}a(Hv,"isNumber$4");const SY=4294967295,kY=SY>>>1;function q3(t,e){if(Mo(t))return 0;let n=0,r=Mo(t)?n:t.length;if(Hv(e)&&e===e&&r<=kY){for(;n<r;){const i=n+r>>>1,s=t[i];!ig(s)&&!H3(s)&&s<e?n=i+1:r=i}return r}return Wv(t,e,i=>i)}a(q3,"sortedIndex");function AY(t,e){if(!t?.length)return-1;const n=q3(t,e);return n<t.length&&mn(t[n],e)?n:-1}a(AY,"sortedIndexOf");function G3(t,e,n){return Wv(t,e,n,!0)}a(G3,"sortedLastIndexBy");const TY=4294967295,xY=TY>>>1;function K3(t,e){if(Mo(t))return 0;let n=t.length;if(!Hv(e)||Number.isNaN(e)||n>xY)return G3(t,e,i=>i);let r=0;for(;r<n;){const i=r+n>>>1,s=t[i];!ig(s)&&!H3(s)&&s<=e?r=i+1:n=i}return n}a(K3,"sortedLastIndex");function CY(t,e){if(!t?.length)return-1;const n=K3(t,e)-1;return n>=0&&mn(t[n],e)?n:-1}a(CY,"sortedLastIndexOf");function IY(t){return t.slice(1)}a(IY,"tail$1");function RY(t){return ge(t)?IY(Vn(t)):[]}a(RY,"tail");function OY(t,e,n){return e=e===void 0?1:Rt(e),t.slice(0,e)}a(OY,"take$1");function NY(t,e=1,n){return e=n?1:Rt(e),e<1||!ge(t)?[]:OY(Vn(t),e)}a(NY,"take");function DY(t,e=1,n){return e=e===void 0?1:Rt(e),e<=0||t==null||t.length===0?[]:t.slice(-e)}a(DY,"takeRight$1");function MY(t,e=1,n){return e=n?1:Rt(e),e<=0||!ge(t)?[]:DY(Vn(t),e)}a(MY,"takeRight");function PY(t){return(...e)=>!t(...e)}a(PY,"negate");function LY(t,e){if(!Xe(t))return[];const n=Vn(t),r=n.findLastIndex(PY(xe(e??De)));return n.slice(r+1)}a(LY,"takeRightWhile");function dc(t){return t}a(dc,"identity");function FY(t,e){if(!Xe(t))return[];const n=Vn(t),r=n.findIndex(jv(xe(e??dc)));return r===-1?n:n.slice(0,r)}a(FY,"takeWhile");function $Y(...t){const e=t.filter(Xe),n=hd(e,1);return hc(n)}a($Y,"union");function Y3(t,e){const n=new Map;for(let r=0;r<t.length;r++){const i=t[r],s=e(i);n.has(s)||n.set(s,i)}return Array.from(n.values())}a(Y3,"uniqBy$1");function Kb(...t){const e=ry(t),n=iy(t);return Xe(e)||e==null?hc(n):Y3(n,xe(e))}a(Kb,"unionBy");function J3(t,e){const n=[];for(let r=0;r<t.length;r++){const i=t[r];n.every(o=>!e(o,i))&&n.push(i)}return n}a(J3,"uniqWith$1");function Yb(...t){const e=ry(t),n=iy(t);return Xe(e)||e==null?hc(n):J3(n,e)}a(Yb,"unionWith");function BY(t,e=De){return Xe(t)?Y3(Array.from(t),xe(e)):[]}a(BY,"uniqBy");function UY(t,e){return ge(t)?typeof e=="function"?J3(Array.from(t),e):zv(Array.from(t)):[]}a(UY,"uniqWith");function Jb(t){let e=0;for(let r=0;r<t.length;r++)t[r].length>e&&(e=t[r].length);const n=new Array(e);for(let r=0;r<e;r++){n[r]=new Array(t.length);for(let i=0;i<t.length;i++)n[r][i]=t[i][r]}return n}a(Jb,"unzip$1");function X3(t){return!Xe(t)||!t.length?[]:(t=Po(t)?t:Array.from(t),t=t.filter(e=>Xe(e)),Jb(t))}a(X3,"unzip");function zY(t,e){if(!Xe(t)||!t.length)return[];const n=Po(t)?Jb(t):Jb(Array.from(t,i=>Array.from(i)));if(!e)return n;const r=new Array(n.length);for(let i=0;i<n.length;i++){const s=n[i];r[i]=e(...s)}return r}a(zY,"unzipWith");function jY(t,...e){return ny(t,e)}a(jY,"without$1");function VY(t,...e){return Xe(t)?jY(Array.from(t),...e):[]}a(VY,"without");function WY(...t){const e=new Map;for(let r=0;r<t.length;r++){const i=t[r];if(!Xe(i))continue;const s=new Set(Vv(i));for(const o of s)e.has(o)?e.set(o,e.get(o)+1):e.set(o,1)}const n=[];for(const[r,i]of e)i===1&&n.push(r);return n}a(WY,"xor");function Z3(t,e,n=1,{partialWindows:r=!1}={}){if(!Number.isInteger(e))throw new Error("Size must be a positive integer.");if(n<=0||!Number.isInteger(n))throw new Error("Step must be a positive integer.");const i=[],s=r?t.length:t.length-e+1;for(let o=0;o<s;o+=n)i.push(t.slice(o,o+e));return i}a(Z3,"windowed");function HY(...t){const e=vl(t);let n=De;!Xe(e)&&e!=null&&(n=xe(e),t=t.slice(0,-1));const r=t.filter(Xe),i=Kb(...r,n),s=Z3(r,2).map(([o,l])=>P3(o,l,n));return O3(i,Kb(...s,n),n)}a(HY,"xorBy");function qY(...t){const e=vl(t);let n=a((o,l)=>o===l,"comparator");typeof e=="function"&&(n=e,t=t.slice(0,-1));const r=t.filter(Xe),i=Yb(...r,n),s=Z3(r,2).map(([o,l])=>L3(o,l,n));return N3(i,Yb(...s,n),n)}a(qY,"xorWith");function Q3(...t){let e=0;for(let i=0;i<t.length;i++)t[i].length>e&&(e=t[i].length);const n=t.length,r=Array(e);for(let i=0;i<e;++i){const s=Array(n);for(let o=0;o<n;++o)s[o]=t[o][i];r[i]=s}return r}a(Q3,"zip$1");function GY(...t){return t.length?Q3(...t.filter(e=>Xe(e))):[]}a(GY,"zip");const qv=a((t,e,n)=>{const r=t[e];(!(Object.hasOwn(t,e)&&mn(r,n))||n===void 0&&!(e in t))&&(t[e]=n)},"assignValue");function KY(t=[],e=[]){const n={};for(let r=0;r<t.length;r++)qv(n,t[r],e[r]);return n}a(KY,"zipObject");function uy(t,e,n,r){if(t==null&&!si(t))return t;const i=ay(e,t)?[e]:Array.isArray(e)?e:typeof e=="string"?Xi(e):[e];let s=t;for(let o=0;o<i.length&&s!=null;o++){const l=El(i[o]);if(Do(l))continue;let u;if(o===i.length-1)u=n(s[l]);else{const c=s[l],f=r?.(c,l,t);u=f!==void 0?f:si(c)?c:Mu(i[o+1])?[]:{}}qv(s,l,u),s=s[l]}return t}a(uy,"updateWith");function Gv(t,e,n){return uy(t,e,()=>n,()=>{})}a(Gv,"set");function YY(t,e){const n={};if(!ge(t))return n;ge(e)||(e=[]);const r=Q3(Array.from(t),Array.from(e));for(let i=0;i<r.length;i++){const[s,o]=r[i];s!=null&&Gv(n,s,o)}return n}a(YY,"zipObjectDeep");function JY(...t){let e=t.pop();if(kl(e)||(t.push(e),e=void 0),!t?.length)return[];const n=X3(t);return e==null?n:n.map(r=>e(...r))}a(JY,"zipWith");function XY(t,e){if(typeof e!="function")throw new TypeError("Expected a function");return t=Rt(t),function(...n){if(--t<1)return e.apply(this,n)}}a(XY,"after$1");function ZY(t,e){return function(...n){return t.apply(this,n.slice(0,e))}}a(ZY,"ary$1");function eM(t,e=t.length,n){return n&&(e=t.length),(Number.isNaN(e)||e<0)&&(e=0),ZY(t,e)}a(eM,"ary");function tM(t,...e){try{return t(...e)}catch(n){return n instanceof Error?n:new Error(n)}}a(tM,"attempt");function QY(t,e){if(typeof e!="function")throw new TypeError("Expected a function");let n;return t=Rt(t),function(...r){return--t>0&&(n=e.apply(this,r)),t<=1&&e&&(e=void 0),n}}a(QY,"before");function Kv(t,e,...n){const r=a(function(...i){const s=[];let o=0;for(let l=0;l<n.length;l++){const u=n[l];u===Kv.placeholder?s.push(i[o++]):s.push(u)}for(let l=o;l<i.length;l++)s.push(i[l]);return this instanceof r?new t(...s):t.apply(e,s)},"bound");return r}a(Kv,"bind$4");const eJ=Symbol("bind.placeholder");Kv.placeholder=eJ;function Yv(t,e,...n){const r=a(function(...i){const s=[];let o=0;for(let l=0;l<n.length;l++){const u=n[l];u===Yv.placeholder?s.push(i[o++]):s.push(u)}for(let l=o;l<i.length;l++)s.push(i[l]);return this instanceof r?new t[e](...s):t[e].apply(t,s)},"bound");return r}a(Yv,"bindKey");const tJ=Symbol("bindKey.placeholder");Yv.placeholder=tJ;function dd(t,e=t.length,n){e=n?t.length:e,e=Number.parseInt(e,10),(Number.isNaN(e)||e<1)&&(e=0);const r=a(function(...i){const s=i.filter(l=>l===dd.placeholder),o=i.length-s.length;return o<e?nM(t,e-o,i):this instanceof r?new t(...i):t.apply(this,i)},"wrapper");return r.placeholder=Jv,r}a(dd,"curry");function nM(t,e,n){function r(...i){const s=i.filter(l=>l===dd.placeholder),o=i.length-s.length;return i=nJ(i,n),o<e?nM(t,e-o,i):this instanceof r?new t(...i):t.apply(this,i)}return a(r,"wrapper"),r.placeholder=Jv,r}a(nM,"makeCurry");function nJ(t,e){const n=[];let r=0;for(let i=0;i<e.length;i++){const s=e[i];s===dd.placeholder&&r<t.length?n.push(t[r++]):n.push(s)}for(let i=r;i<t.length;i++)n.push(t[i]);return n}a(nJ,"composeArgs$1");const Jv=Symbol("curry.placeholder");dd.placeholder=Jv;function Fu(t,e=t.length,n){e=n?t.length:e,e=Number.parseInt(e,10),(Number.isNaN(e)||e<1)&&(e=0);const r=a(function(...i){const s=i.filter(l=>l===Fu.placeholder),o=i.length-s.length;return o<e?rM(t,e-o,i):this instanceof r?new t(...i):t.apply(this,i)},"wrapper");return r.placeholder=Xv,r}a(Fu,"curryRight");function rM(t,e,n){function r(...i){const s=i.filter(l=>l===Fu.placeholder),o=i.length-s.length;return i=rJ(i,n),o<e?rM(t,e-o,i):this instanceof r?new t(...i):t.apply(this,i)}return a(r,"wrapper"),r.placeholder=Xv,r}a(rM,"makeCurryRight");function rJ(t,e){const n=e.filter(o=>o===Fu.placeholder).length,r=Math.max(t.length-n,0),i=[];let s=0;for(let o=0;o<r;o++)i.push(t[s++]);for(let o=0;o<e.length;o++){const l=e[o];l===Fu.placeholder&&s<t.length?i.push(t[s++]):i.push(l)}return i}a(rJ,"composeArgs");const Xv=Symbol("curryRight.placeholder");Fu.placeholder=Xv;function iJ(t,e,{signal:n,edges:r}={}){let i,s=null;const o=r!=null&&r.includes("leading"),l=r==null||r.includes("trailing"),u=a(()=>{s!==null&&(t.apply(i,s),i=void 0,s=null)},"invoke"),c=a(()=>{l&&u(),m()},"onTimerEnd");let f=null;const h=a(()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,c()},e)},"schedule"),p=a(()=>{f!==null&&(clearTimeout(f),f=null)},"cancelTimer"),m=a(()=>{p(),i=void 0,s=null},"cancel"),g=a(()=>{u()},"flush"),y=a(function(..._){if(n?.aborted)return;i=this,s=_;const w=f==null;h(),o&&w&&u()},"debounced");return y.schedule=h,y.cancel=m,y.flush=g,n?.addEventListener("abort",m,{once:!0}),y}a(iJ,"debounce$1");function iM(t,e=0,n={}){typeof n!="object"&&(n={});const{leading:r=!1,trailing:i=!0,maxWait:s}=n,o=Array(2);r&&(o[0]="leading"),i&&(o[1]="trailing");let l,u=null;const c=iJ(function(...p){l=t.apply(this,p),u=null},e,{edges:o}),f=a(function(...p){return s!=null&&(u===null&&(u=Date.now()),Date.now()-u>=s)?(l=t.apply(this,p),u=Date.now(),c.cancel(),c.schedule(),l):(c.apply(this,p),l)},"debounced"),h=a(()=>(c.flush(),l),"flush");return f.cancel=c.cancel,f.flush=h,f}a(iM,"debounce");function sJ(t,...e){if(typeof t!="function")throw new TypeError("Expected a function");return setTimeout(t,1,...e)}a(sJ,"defer");function oJ(t,e,...n){if(typeof t!="function")throw new TypeError("Expected a function");return setTimeout(t,It(e)||0,...n)}a(oJ,"delay");function aJ(t){return function(...e){return t.apply(this,e.reverse())}}a(aJ,"flip");function sM(...t){return function(...e){let n=t.length?t[0].apply(this,e):e[0];for(let r=1;r<t.length;r++)n=t[r].call(this,n);return n}}a(sM,"flow$1");function lJ(...t){const e=q0(t,1);if(e.some(n=>typeof n!="function"))throw new TypeError("Expected a function");return sM(...e)}a(lJ,"flow");function uJ(...t){return sM(...t.reverse())}a(uJ,"flowRight$1");function cJ(...t){const e=q0(t,1);if(e.some(n=>typeof n!="function"))throw new TypeError("Expected a function");return uJ(...e)}a(cJ,"flowRight");function Zv(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");const n=a(function(...i){const s=e?e.apply(this,i):i[0],o=n.cache;if(o.has(s))return o.get(s);const l=t.apply(this,i);return n.cache=o.set(s,l)||o,l},"memoized"),r=Zv.Cache||Map;return n.cache=new r,n}a(Zv,"memoize");Zv.Cache=Map;function fJ(t=0){return function(...e){return e.at(Rt(t))}}a(fJ,"nthArg");function hJ(t){let e=!1,n;return function(...r){return e||(e=!0,n=t(...r)),n}}a(hJ,"once$2");function dJ(t){return hJ(t)}a(dJ,"once$1");function pJ(t,...e){if(typeof t!="function")throw new TypeError("Expected a function");const n=e.flat();return function(...r){const i=Math.min(r.length,n.length),s=[...r];for(let o=0;o<i;o++){const l=xe(n[o]??De);s[o]=l.call(this,r[o])}return t.apply(this,s)}}a(pJ,"overArgs");function mJ(t,e,...n){const r=a(function(...i){let s=0;const o=n.slice().map(u=>u===e?i[s++]:u),l=i.slice(s);return t.apply(this,o.concat(l))},"partialed");return t.prototype&&(r.prototype=Object.create(t.prototype)),r}a(mJ,"partialImpl");function Qv(t,...e){return mJ(t,Qv.placeholder,...e)}a(Qv,"partial");Qv.placeholder=Symbol("compat.partial.placeholder");function gJ(t,e,...n){const r=a(function(...i){const s=n.filter(f=>f===e).length,o=Math.max(i.length-s,0),l=i.slice(0,o);let u=o;const c=n.slice().map(f=>f===e?i[u++]:f);return t.apply(this,l.concat(c))},"partialedRight");return t.prototype&&(r.prototype=Object.create(t.prototype)),r}a(gJ,"partialRightImpl");function eS(t,...e){return gJ(t,eS.placeholder,...e)}a(eS,"partialRight");eS.placeholder=Symbol("compat.partialRight.placeholder");function yJ(t,...e){const n=oy(e);return function(...r){const i=n.map(s=>r[s]).slice(0,r.length);for(let s=i.length;s<r.length;s++)i.push(r[s]);return t.apply(this,i)}}a(yJ,"rearg");function _J(t,e=t.length-1){return function(...n){const r=n.slice(e),i=n.slice(0,e);for(;i.length<e;)i.push(void 0);return t.apply(this,[...i,r])}}a(_J,"rest$1");function bJ(t,e=t.length-1){return e=Number.parseInt(e,10),(Number.isNaN(e)||e<0)&&(e=t.length-1),_J(t,e)}a(bJ,"rest");function wJ(t,e=0){return e=Number.parseInt(e,10),(Number.isNaN(e)||e<0)&&(e=0),function(...n){const r=n[e],i=n.slice(0,e);return r&&i.push(...r),t.apply(this,i)}}a(wJ,"spread$1");function EJ(t,e=0,n={}){const{leading:r=!0,trailing:i=!0}=n;return iM(t,e,{leading:r,maxWait:e,trailing:i})}a(EJ,"throttle$1");function vJ(t){return eM(t,1)}a(vJ,"unary");function SJ(t,e){return function(...n){return(kl(e)?e:De).apply(this,[t,...n])}}a(SJ,"wrap$3");function He(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(He).join(",");const e=String(t);return e==="0"&&Object.is(Number(t),-0)?"-0":e}a(He,"toString$2");function kJ(t,e){return t===void 0&&e===void 0?0:t===void 0||e===void 0?t??e:(typeof t=="string"||typeof e=="string"?(t=He(t),e=He(e)):(t=It(t),e=It(e)),t+e)}a(kJ,"add");function tS(t,e,n=0){if(e=Number(e),Object.is(e,-0)&&(e="-0"),n=Math.min(Number.parseInt(n,10),292),n){const[r,i=0]=e.toString().split("e");let s=Math[t](+`${r}e${Number(i)+n}`);Object.is(s,-0)&&(s="-0");const[o,l=0]=s.toString().split("e");return+`${o}e${Number(l)-n}`}return Math[t](Number(e))}a(tS,"decimalAdjust");function AJ(t,e=0){return tS("ceil",t,e)}a(AJ,"ceil");function TJ(t,e){return t===void 0&&e===void 0?1:t===void 0||e===void 0?t??e:(typeof t=="string"||typeof e=="string"?(t=He(t),e=He(e)):(t=It(t),e=It(e)),t/e)}a(TJ,"divide");function xJ(t,e=0){return tS("floor",t,e)}a(xJ,"floor$2");function CJ(t,e,n){if(n==null&&(n=e,e=0),e>=n)throw new Error("The maximum value must be greater than the minimum value.");return e<=t&&t<n}a(CJ,"inRange$1");function IJ(t,e,n){return e||(e=0),n!=null&&!n&&(n=0),e!=null&&typeof e!="number"&&(e=Number(e)),n==null&&e===0||(n!=null&&typeof n!="number"&&(n=Number(n)),n!=null&&e>n&&([e,n]=[n,e]),e===n)?!1:CJ(t,e,n)}a(IJ,"inRange");function RJ(t){if(!t||t.length===0)return;let e;for(let n=0;n<t.length;n++){const r=t[n];r==null||Number.isNaN(r)||typeof r=="symbol"||(e===void 0||r>e)&&(e=r)}return e}a(RJ,"max$1");function OJ(t,e){if(t.length===0)return;let n=t[0],r=e(n);for(let i=1;i<t.length;i++){const s=t[i],o=e(s);o>r&&(r=o,n=s)}return n}a(OJ,"maxBy$1");function NJ(t,e){if(t!=null)return OJ(Array.from(t),xe(e??De))}a(NJ,"maxBy");function oM(t,e){if(!t||!t.length)return 0;e!=null&&(e=xe(e));let n;for(let r=0;r<t.length;r++){const i=e?e(t[r]):t[r];i!==void 0&&(n===void 0?n=i:n+=i)}return n}a(oM,"sumBy");function aM(t){return oM(t)}a(aM,"sum$1");function DJ(t){const e=t?t.length:0;return e===0?NaN:aM(t)/e}a(DJ,"mean$1");function MJ(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}a(MJ,"sum");function PJ(t){return MJ(t)/t.length}a(PJ,"mean");function LJ(t,e){const n=t.map(r=>e(r));return PJ(n)}a(LJ,"meanBy$1");function FJ(t,e){return t==null?NaN:LJ(Array.from(t),xe(e??De))}a(FJ,"meanBy");function $J(t){if(!t||t.length===0)return;let e;for(let n=0;n<t.length;n++){const r=t[n];r==null||Number.isNaN(r)||typeof r=="symbol"||(e===void 0||r<e)&&(e=r)}return e}a($J,"min$1");function BJ(t,e){if(t.length===0)return;let n=t[0],r=e(n);for(let i=1;i<t.length;i++){const s=t[i],o=e(s);o<r&&(r=o,n=s)}return n}a(BJ,"minBy$1");function UJ(t,e){if(t!=null)return BJ(Array.from(t),xe(e??De))}a(UJ,"minBy");function zJ(t,e){return t===void 0&&e===void 0?1:t===void 0||e===void 0?t??e:(typeof t=="string"||typeof e=="string"?(t=He(t),e=He(e)):(t=It(t),e=It(e)),t*e)}a(zJ,"multiply");function jJ(t,e=0,n){return n&&(e=0),Number.parseInt(t,e)}a(jJ,"parseInt$1");function VJ(...t){let e=0,n=1,r=!1;switch(t.length){case 1:{typeof t[0]=="boolean"?r=t[0]:n=t[0];break}case 2:typeof t[1]=="boolean"?(n=t[0],r=t[1]):(e=t[0],n=t[1]);case 3:typeof t[2]=="object"&&t[2]!=null&&t[2][t[1]]===t[0]?(e=0,n=t[0],r=!1):(e=t[0],n=t[1],r=t[2])}return typeof e!="number"&&(e=Number(e)),typeof n!="number"&&(e=Number(n)),e||(e=0),n||(n=0),e>n&&([e,n]=[n,e]),e=Lu(e,-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),n=Lu(n,-Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),e===n?e:r?z3(e,n+1):j3(e,n+1)}a(VJ,"random");function WJ(t,e,n){n&&typeof n!="number"&&Ds(t,e,n)&&(e=n=void 0),t=Ao(t),e===void 0?(e=t,t=0):e=Ao(e),n=n===void 0?t<e?1:-1:Ao(n);const r=Math.max(Math.ceil((e-t)/(n||1)),0),i=new Array(r);for(let s=0;s<r;s++)i[s]=t,t+=n;return i}a(WJ,"range$1");function HJ(t,e,n){n&&typeof n!="number"&&Ds(t,e,n)&&(e=n=void 0),t=Ao(t),e===void 0?(e=t,t=0):e=Ao(e),n=n===void 0?t<e?1:-1:Ao(n);const r=Math.max(Math.ceil((e-t)/(n||1)),0),i=new Array(r);for(let s=r-1;s>=0;s--)i[s]=t,t+=n;return i}a(HJ,"rangeRight");function qJ(t,e=0){return tS("round",t,e)}a(qJ,"round");function GJ(t,e){return t===void 0&&e===void 0?0:t===void 0||e===void 0?t??e:(typeof t=="string"||typeof e=="string"?(t=He(t),e=He(e)):(t=It(t),e=It(e)),t-e)}a(GJ,"subtract");function cx(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}a(cx,"isPlainObject$2");function lM(t,e,n){return _f(t,e,void 0,void 0,void 0,void 0,n)}a(lM,"isEqualWith$1");function _f(t,e,n,r,i,s,o){const l=o(t,e,n,r,i,s);if(l!==void 0)return l;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Ff(t,e,s,o)}return Ff(t,e,s,o)}a(_f,"isEqualWithImpl");function Ff(t,e,n,r){if(Object.is(t,e))return!0;let i=Ka(t),s=Ka(e);if(i===Du&&(i=Lf),s===Du&&(s=Lf),i!==s)return!1;switch(i){case Nu:return t.toString()===e.toString();case cd:{const u=t.valueOf(),c=e.valueOf();return mn(u,c)}case fd:case X0:case J0:return Object.is(t.valueOf(),e.valueOf());case Y0:return t.source===e.source&&t.flags===e.flags;case sK:return t===e}n=n??new Map;const o=n.get(t),l=n.get(e);if(o!=null&&l!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case Z0:{if(t.size!==e.size)return!1;for(const[u,c]of t.entries())if(!e.has(u)||!_f(c,e.get(u),u,t,e,n,r))return!1;return!0}case Q0:{if(t.size!==e.size)return!1;const u=Array.from(t.values()),c=Array.from(e.values());for(let f=0;f<u.length;f++){const h=u[f],p=c.findIndex(m=>_f(h,m,void 0,t,e,n,r));if(p===-1)return!1;c.splice(p,1)}return!0}case Cv:case Iv:case Rv:case Ov:case Nv:case aK:case Dv:case Mv:case Pv:case lK:case Lv:case Fv:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let u=0;u<t.length;u++)if(!_f(t[u],e[u],u,t,e,n,r))return!1;return!0}case ey:return t.byteLength!==e.byteLength?!1:Ff(new Uint8Array(t),new Uint8Array(e),n,r);case ty:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Ff(new Uint8Array(t),new Uint8Array(e),n,r);case oK:return t.name===e.name&&t.message===e.message;case Lf:{if(!(Ff(t.constructor,e.constructor,n,r)||cx(t)&&cx(e)))return!1;const c=[...Object.keys(t),...ih(t)],f=[...Object.keys(e),...ih(e)];if(c.length!==f.length)return!1;for(let h=0;h<c.length;h++){const p=c[h],m=t[p];if(!Object.hasOwn(e,p))return!1;const g=e[p];if(!_f(m,g,p,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}a(Ff,"areObjectsEqual");function uM(){}a(uM,"noop$4");function KJ(t,e){return lM(t,e,uM)}a(KJ,"isEqual");function YJ(...t){}a(YJ,"noop$3");function nS(t){return typeof Buffer<"u"&&Buffer.isBuffer(t)}a(nS,"isBuffer$2");function rS(t){const e=t?.constructor,n=typeof e=="function"?e.prototype:Object.prototype;return t===n}a(rS,"isPrototype");function Al(t){return $v(t)}a(Al,"isTypedArray$1");function iS(t,e){if(t=Rt(t),t<1||!Number.isSafeInteger(t))return[];const n=new Array(t);for(let r=0;r<t;r++)n[r]=typeof e=="function"?e(r):r;return n}a(iS,"times");function Xo(t){if(ge(t))return JJ(t);const e=Object.keys(Object(t));return rS(t)?e.filter(n=>n!=="constructor"):e}a(Xo,"keys$2");function JJ(t){const e=iS(t.length,r=>`${r}`),n=new Set(e);return nS(t)&&(n.add("offset"),n.add("parent")),Al(t)&&(n.add("buffer"),n.add("byteLength"),n.add("byteOffset")),[...e,...Object.keys(t).filter(r=>!n.has(r))]}a(JJ,"arrayLikeKeys");function XJ(t,...e){for(let n=0;n<e.length;n++)ZJ(t,e[n]);return t}a(XJ,"assign$4");function ZJ(t,e){const n=Xo(e);for(let r=0;r<n.length;r++){const i=n[r];(!(i in t)||!mn(t[i],e[i]))&&(t[i]=e[i])}}a(ZJ,"assignImpl");function Zo(t){if(t==null)return[];switch(typeof t){case"object":case"function":return ge(t)?eX(t):rS(t)?QJ(t):sg(t);default:return sg(Object(t))}}a(Zo,"keysIn");function sg(t){const e=[];for(const n in t)e.push(n);return e}a(sg,"keysInImpl");function QJ(t){return sg(t).filter(n=>n!=="constructor")}a(QJ,"prototypeKeysIn");function eX(t){const e=iS(t.length,r=>`${r}`),n=new Set(e);return nS(t)&&(n.add("offset"),n.add("parent")),Al(t)&&(n.add("buffer"),n.add("byteLength"),n.add("byteOffset")),[...e,...sg(t).filter(r=>!n.has(r))]}a(eX,"arrayLikeKeysIn");function fx(t,...e){for(let n=0;n<e.length;n++)tX(t,e[n]);return t}a(fx,"assignIn");function tX(t,e){const n=Zo(e);for(let r=0;r<n.length;r++){const i=n[r];(!(i in t)||!mn(t[i],e[i]))&&(t[i]=e[i])}}a(tX,"assignInImpl");function hx(t,...e){let n=e[e.length-1];typeof n=="function"?e.pop():n=void 0;for(let r=0;r<e.length;r++)nX(t,e[r],n);return t}a(hx,"assignInWith");function nX(t,e,n){const r=Zo(e);for(let i=0;i<r.length;i++){const s=r[i],o=t[s],l=e[s],u=n?.(o,l,s,t,e)??l;(!(s in t)||!mn(o,u))&&(t[s]=u)}}a(nX,"assignInWithImpl");function rX(t,...e){let n=e[e.length-1];typeof n=="function"?e.pop():n=void 0;for(let r=0;r<e.length;r++)iX(t,e[r],n);return t}a(rX,"assignWith");function iX(t,e,n){const r=Xo(e);for(let i=0;i<r.length;i++){const s=r[i],o=t[s],l=e[s],u=n?.(o,l,s,t,e)??l;(!(s in t)||!mn(o,u))&&(t[s]=u)}}a(iX,"assignWithImpl");function Xb(t){if(ud(t))return t;const e=Ka(t);if(!sX(t))return{};if(Po(t)){const r=Array.from(t);return t.length>0&&typeof t[0]=="string"&&Object.hasOwn(t,"index")&&(r.index=t.index,r.input=t.input),r}if(Al(t)){const r=t,i=r.constructor;return new i(r.buffer,r.byteOffset,r.length)}if(e===ey)return new ArrayBuffer(t.byteLength);if(e===ty){const r=t,i=r.buffer,s=r.byteOffset,o=r.byteLength,l=new ArrayBuffer(o),u=new Uint8Array(i,s,o);return new Uint8Array(l).set(u),new DataView(l)}if(e===fd||e===cd||e===Nu){const r=t.constructor,i=new r(t.valueOf());return e===Nu?aX(i,t):R1(i,t),i}if(e===X0)return new Date(Number(t));if(e===Y0){const r=t,i=new RegExp(r.source,r.flags);return i.lastIndex=r.lastIndex,i}if(e===J0)return Object(Symbol.prototype.valueOf.call(t));if(e===Z0){const r=t,i=new Map;return r.forEach((s,o)=>{i.set(o,s)}),i}if(e===Q0){const r=t,i=new Set;return r.forEach(s=>{i.add(s)}),i}if(e===Du){const r=t,i={};return R1(i,r),i.length=r.length,i[Symbol.iterator]=r[Symbol.iterator],i}const n={};return lX(n,t),R1(n,t),oX(n,t),n}a(Xb,"clone$3");function sX(t){switch(Ka(t)){case Du:case Cv:case ey:case ty:case fd:case X0:case Lv:case Fv:case Dv:case Mv:case Pv:case Z0:case cd:case Lf:case Y0:case Q0:case Nu:case J0:case Iv:case Rv:case Ov:case Nv:return!0;default:return!1}}a(sX,"isCloneableObject");function R1(t,e){for(const n in e)Object.hasOwn(e,n)&&(t[n]=e[n])}a(R1,"copyOwnProperties");function oX(t,e){const n=Object.getOwnPropertySymbols(e);for(let r=0;r<n.length;r++){const i=n[r];Object.prototype.propertyIsEnumerable.call(e,i)&&(t[i]=e[i])}}a(oX,"copySymbolProperties");function aX(t,e){const n=e.valueOf().length;for(const r in e)Object.hasOwn(e,r)&&(Number.isNaN(Number(r))||Number(r)>=n)&&(t[r]=e[r])}a(aX,"cloneStringObjectProperties");function lX(t,e){const n=Object.getPrototypeOf(e);n!==null&&typeof e.constructor=="function"&&Object.setPrototypeOf(t,n)}a(lX,"copyPrototype");function uX(t,e){if(!e)return Xb(t);const n=e(t);return n!==void 0?n:Xb(t)}a(uX,"cloneWith");function cX(t,e){const n=si(t)?Object.create(t):{};if(e!=null){const r=Xo(e);for(let i=0;i<r.length;i++){const s=r[i],o=e[s];qv(n,s,o)}}return n}a(cX,"create$7");function og(t,...e){t=Object(t);const n=Object.prototype;let r=e.length;const i=r>2?e[2]:void 0;i&&Ds(e[0],e[1],i)&&(r=1);for(let s=0;s<r;s++){const o=e[s],l=Object.keys(o);for(let u=0;u<l.length;u++){const c=l[u],f=t[c];(f===void 0||!Object.hasOwn(t,c)&&mn(f,n[c]))&&(t[c]=o[c])}}return t}a(og,"defaults$2");function Lo(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}a(Lo,"isPlainObject$1");function fX(t,...e){t=Object(t);for(let n=0;n<e.length;n++){const r=e[n];r!=null&&cy(t,r,new WeakMap)}return t}a(fX,"defaultsDeep");function cy(t,e,n){for(const r in e){const i=e[r],s=t[r];if(s===void 0||!Object.hasOwn(t,r)){t[r]=hX(i,n);continue}n.get(i)!==s&&dX(s,i,n)}}a(cy,"defaultsDeepRecursive");function hX(t,e){if(e.has(t))return e.get(t);if(Lo(t)){const n={};return e.set(t,n),cy(n,t,e),n}return t}a(hX,"handleMissingProperty");function dX(t,e,n){if(Lo(t)&&Lo(e)){n.set(e,t),cy(t,e,n);return}Array.isArray(t)&&Array.isArray(e)&&(n.set(e,t),pX(t,e,n))}a(dX,"handleExistingProperty");function pX(t,e,n){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++)Lo(t[i])&&Lo(e[i])&&cy(t[i],e[i],n);for(let i=r;i<e.length;i++)t.push(e[i])}a(pX,"mergeArrays");function mX(t,e){return Object.keys(t).find(r=>e(t[r],r,t))}a(mX,"findKey$2");function gX(t,e){if(!si(t))return;const n=xe(e??dc);return mX(t,n)}a(gX,"findKey$1");function yX(t,e){if(!si(t))return;const n=xe(e??dc);return Object.keys(t).findLast(i=>n(t[i],i,t))}a(yX,"findLastKey");function _X(t,e=De){if(t==null)return t;for(const n in t)if(e(t[n],n,t)===!1)break;return t}a(_X,"forIn");function bX(t,e=De){if(t==null)return t;const n=[];for(const r in t)n.push(r);for(let r=n.length-1;r>=0;r--){const i=n[r];if(e(t[i],i,t)===!1)break}return t}a(bX,"forInRight");function wX(t,e=De){if(t==null)return t;const n=Object(t),r=Xo(t);for(let i=0;i<r.length;++i){const s=r[i];if(e(n[s],s,n)===!1)break}return t}a(wX,"forOwn");function EX(t,e=De){if(t==null)return t;const n=Object(t),r=Xo(t);for(let i=r.length-1;i>=0;--i){const s=r[i];if(e(n[s],s,n)===!1)break}return t}a(EX,"forOwnRight");function vX(t){if(!ge(t))return{};const e={};for(let n=0;n<t.length;n++){const[r,i]=t[n];e[r]=i}return e}a(vX,"fromPairs");function SX(t){return t==null?[]:Xo(t).filter(e=>typeof t[e]=="function")}a(SX,"functions");function kX(t){if(t==null)return[];const e=[];for(const n in t)kl(t[n])&&e.push(n);return e}a(kX,"functionsIn");function AX(t,e){if(t==null)return!1;let n;if(Array.isArray(e)?n=e:typeof e=="string"&&G0(e)&&t[e]==null?n=Xi(e):n=[e],n.length===0)return!1;let r=t;for(let i=0;i<n.length;i++){const s=n[i];if((r==null||!(s in Object(r)))&&!((Array.isArray(r)||Pu(r))&&Mu(s)&&s<r.length))return!1;r=r[s]}return!0}a(AX,"hasIn");function TX(t){const e={},n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r],s=t[i];e[s]=i}return e}a(TX,"invert$1");function xX(t){return TX(t)}a(xX,"invert");function CX(t,e){const n={};if(Mo(t))return n;e==null&&(e=De);const r=Object.keys(t),i=xe(e);for(let s=0;s<r.length;s++){const o=r[s],l=t[o],u=i(l);Array.isArray(n[u])?n[u].push(o):n[u]=[o]}return n}a(CX,"invertBy");function IX(t,e){const n={},r=Object.keys(t);for(let i=0;i<r.length;i++){const s=r[i],o=t[s];n[e(o,s,t)]=o}return n}a(IX,"mapKeys$1");function RX(t,e=De){return t==null?{}:IX(t,xe(e))}a(RX,"mapKeys");function OX(t,e){const n={},r=Object.keys(t);for(let i=0;i<r.length;i++){const s=r[i],o=t[s];n[s]=e(o,s,t)}return n}a(OX,"mapValues$1");function NX(t,e=De){return t==null?{}:OX(t,xe(e))}a(NX,"mapValues");function DX(t){if(ud(t))return t;if(Array.isArray(t)||$v(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}a(DX,"clone$2");function cM(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=sm(i,o,r,new Map)}return i}a(cM,"mergeWith");function sm(t,e,n,r){if(ud(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return DX(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...ih(e)];for(let s=0;s<i.length;s++){const o=i[s];if(Do(o))continue;let l=e[o],u=t[o];if(Pu(l)&&(l={...l}),Pu(u)&&(u={...u}),typeof Buffer<"u"&&Buffer.isBuffer(l)&&(l=sh(l)),Array.isArray(l))if(typeof u=="object"&&u!=null){const f=[],h=Reflect.ownKeys(u);for(let p=0;p<h.length;p++){const m=h[p];f[m]=u[m]}u=f}else u=[];const c=n(u,l,o,t,e,r);c!==void 0?t[o]=c:Array.isArray(l)||Ya(u)&&Ya(l)?t[o]=sm(u,l,n,r):u==null&&Lo(l)?t[o]=sm({},l,n,r):u==null&&Al(l)?t[o]=sh(l):(u===void 0||l!==void 0)&&(t[o]=l)}return t}a(sm,"mergeWithDeep");function MX(t,...e){return cM(t,...e,uM)}a(MX,"merge$1");function PX(t,...e){if(t==null)return{};const n=Bv(t);for(let r=0;r<e.length;r++){let i=e[r];switch(typeof i){case"object":{Array.isArray(i)||(i=Array.from(i));for(let s=0;s<i.length;s++){const o=i[s];rg(n,o)}break}case"string":case"symbol":case"number":{rg(n,i);break}}}return n}a(PX,"omit");function fM(t){const e=[];for(;t;)e.push(...ih(t)),t=Object.getPrototypeOf(t);return e}a(fM,"getSymbolsIn");function LX(t,e){if(t==null)return{};const n={},r=xe(e??dc),i=ge(t)?Sl(0,t.length):[...Zo(t),...fM(t)];for(let s=0;s<i.length;s++){const o=Ja(i[s])?i[s]:i[s].toString(),l=t[o];r(l,o,t)||(n[o]=l)}return n}a(LX,"omitBy");function FX(t,...e){if(ly(t))return{};const n={};for(let r=0;r<e.length;r++){let i=e[r];switch(typeof i){case"object":{Array.isArray(i)||(ge(i)?i=Array.from(i):i=[i]);break}case"string":case"symbol":case"number":{i=[i];break}}for(const s of i){const o=ir(t,s);o===void 0&&!Uv(t,s)||(typeof s=="string"&&Object.hasOwn(t,s)?n[s]=o:Gv(n,s,o))}}return n}a(FX,"pick");function $X(t,e){if(t==null)return{};const n=xe(e??dc),r={},i=ge(t)?Sl(0,t.length):[...Zo(t),...fM(t)];for(let s=0;s<i.length;s++){const o=Ja(i[s])?i[s]:i[s].toString(),l=t[o];n(l,o,t)&&(r[o]=l)}return r}a($X,"pickBy");function BX(t){return function(e){return ir(t,e)}}a(BX,"propertyOf");function UX(t,e,n){ay(e,t)?e=[e]:Array.isArray(e)||(e=Xi(He(e)));const r=Math.max(e.length,1);for(let i=0;i<r;i++){const s=t?.[El(e[i])];if(s===void 0)return typeof n=="function"?n.call(t):n;t=typeof s=="function"?s.call(t):s}return t}a(UX,"result");function zX(t,e,n,r){let i;return typeof r=="function"?i=r:i=a(()=>{},"customizerFn"),uy(t,e,()=>n,i)}a(zX,"setWith");function jX(t,...e){const n=sh(t);return og(n,...e)}a(jX,"toDefaulted");function hM(t){const e=new Array(t.size),n=t.keys(),r=t.values();for(let i=0;i<e.length;i++)e[i]=[n.next().value,r.next().value];return e}a(hM,"mapToEntries");function dM(t){const e=new Array(t.size),n=t.values();for(let r=0;r<e.length;r++){const i=n.next().value;e[r]=[i,i]}return e}a(dM,"setToEntries");function VX(t){if(t==null)return[];if(t instanceof Set)return dM(t);if(t instanceof Map)return hM(t);const e=Xo(t),n=new Array(e.length);for(let r=0;r<e.length;r++){const i=e[r],s=t[i];n[r]=[i,s]}return n}a(VX,"toPairs");function WX(t){if(t==null)return[];if(t instanceof Set)return dM(t);if(t instanceof Map)return hM(t);const e=Zo(t),n=new Array(e.length);for(let r=0;r<e.length;r++){const i=e[r],s=t[i];n[r]=[i,s]}return n}a(WX,"toPairsIn");function pM(t){return nS(t)}a(pM,"isBuffer$1");function HX(t,e=De,n){const r=Array.isArray(t)||pM(t)||Al(t);return e=xe(e),n==null&&(r?n=[]:si(t)&&kl(t.constructor)?n=Object.create(Object.getPrototypeOf(t)):n={}),t==null||Hb(t,(i,s,o)=>e(n,i,s,o)),n}a(HX,"transform");function qX(t,e,n){return uy(t,e,n,()=>{})}a(qX,"update");function GX(t){const e=Zo(t),n=new Array(e.length);for(let r=0;r<e.length;r++){const i=e[r];n[r]=t[i]}return n}a(GX,"valuesIn");function KX(t){return typeof t=="function"}a(KX,"isFunction$2");function YX(t){return Number.isSafeInteger(t)&&t>=0}a(YX,"isLength$1");const mM=Function.prototype.toString,JX=/[\\^$.*+?()[\]{}|]/g,XX=RegExp(`^${mM.call(Object.prototype.hasOwnProperty).replace(JX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")}$`);function ZX(t){if(typeof t!="function")return!1;if(globalThis?.["__core-js_shared__"]!=null)throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return XX.test(mM.call(t))}a(ZX,"isNative");function QX(t){return t===null}a(QX,"isNull");function eZ(t){return qb(t)}a(eZ,"isUndefined$1");function gM(t,e){if(e==null)return!0;if(t==null)return Object.keys(e).length===0;const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r],s=e[i],o=t[i];if(o===void 0&&!(i in t)||typeof s=="function"&&!s(o))return!1}return!0}a(gM,"conformsTo");function tZ(t){return t=Bv(t),function(e){return gM(e,t)}}a(tZ,"conforms");function nZ(t){return t instanceof ArrayBuffer}a(nZ,"isArrayBuffer$2");function rZ(t){return nZ(t)}a(rZ,"isArrayBuffer$1");function iZ(t){return typeof t=="boolean"||t instanceof Boolean}a(iZ,"isBoolean$2");function sZ(t){return t instanceof Date}a(sZ,"isDate$2");function oZ(t){return sZ(t)}a(oZ,"isDate$1");function aZ(t){return Ya(t)&&t.nodeType===1&&!Lo(t)}a(aZ,"isElement");function lZ(t){if(t==null)return!0;if(ge(t))return typeof t.splice!="function"&&typeof t!="string"&&(typeof Buffer>"u"||!Buffer.isBuffer(t))&&!Al(t)&&!Pu(t)?!1:t.length===0;if(typeof t=="object"){if(t instanceof Map||t instanceof Set)return t.size===0;const e=Object.keys(t);return rS(t)?e.filter(n=>n!=="constructor").length===0:e.length===0}return!0}a(lZ,"isEmpty$2");function dx(t,e){if(!Number.isInteger(t)||t<0)throw new Error("n must be a non-negative integer.");let n=0;return(...r)=>{if(++n>=t)return e(...r)}}a(dx,"after");function Zb(t,e,n){return typeof n!="function"&&(n=a(()=>{},"areValuesEqual")),lM(t,e,(...r)=>{const i=n(...r);if(i!==void 0)return!!i;if(t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set)return Zb(Array.from(t),Array.from(e),dx(2,n))})}a(Zb,"isEqualWith");function uZ(t){return Ka(t)==="[object Error]"}a(uZ,"isError");function cZ(t){return Number.isFinite(t)}a(cZ,"isFinite$1");function fZ(t){return Number.isInteger(t)}a(fZ,"isInteger$2");function hZ(t){return t instanceof RegExp}a(hZ,"isRegExp$3");function dZ(t){return hZ(t)}a(dZ,"isRegExp$2");function pZ(t){return Number.isSafeInteger(t)}a(pZ,"isSafeInteger");function mZ(t){return t instanceof Set}a(mZ,"isSet$1");function gZ(t){return mZ(t)}a(gZ,"isSet");function yZ(t){return t instanceof WeakMap}a(yZ,"isWeakMap$1");function _Z(t){return yZ(t)}a(_Z,"isWeakMap");function bZ(t){return t instanceof WeakSet}a(bZ,"isWeakSet$1");function wZ(t){return bZ(t)}a(wZ,"isWeakSet");function yM(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}a(yM,"capitalize$1");function EZ(t){return yM(He(t))}a(EZ,"capitalize");function vZ(t,...e){if(t==null||!si(t)||Po(t)&&e.length===0)return t;const n=[];for(let r=0;r<e.length;r++){const i=e[r];Po(i)?n.push(...i):i&&typeof i=="object"&&"length"in i?n.push(...Array.from(i)):n.push(i)}if(n.length===0)return t;for(let r=0;r<n.length;r++){const i=n[r],s=He(i),o=t[s];kl(o)&&(t[s]=o.bind(t))}return t}a(vZ,"bindAll$2");const SZ=/\p{Lu}?\p{Ll}+|[0-9]+|\p{Lu}+(?!\p{Ll})|\p{Emoji_Presentation}|\p{Extended_Pictographic}|\p{L}+/gu;function pc(t){return Array.from(t.match(SZ)??[])}a(pc,"words$1");function kZ(t){const e=pc(t);if(e.length===0)return"";const[n,...r]=e;return`${n.toLowerCase()}${r.map(i=>yM(i)).join("")}`}a(kZ,"camelCase$1");function mc(t){return typeof t!="string"&&(t=He(t)),t.replace(/['\u2019]/g,"")}a(mc,"normalizeForCase");function AZ(t){return kZ(mc(t))}a(AZ,"camelCase");const TZ=new Map(Object.entries({:"Ae",:"D",:"O",:"Th",:"ss",:"ae",:"d",:"o",:"th",:"D",:"d",:"H",:"h",:"i",:"IJ",:"ij",:"k",:"L",:"l",:"L",:"l",:"'n",:"N",:"n",:"Oe",:"oe",:"T",:"t",:"s"}));function xZ(t){t=t.normalize("NFD");let e="";for(let n=0;n<t.length;n++){const r=t[n];r>=""&&r<=""||r>=""&&r<=""||(e+=TZ.get(r)??r)}return e}a(xZ,"deburr$1");function CZ(t){return xZ(He(t))}a(CZ,"deburr");function IZ(t,e,n){return t==null||e==null?!1:(n==null&&(n=t.length),t.endsWith(e,n))}a(IZ,"endsWith$1");const RZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function OZ(t){return t.replace(/[&<>"']/g,e=>RZ[e])}a(OZ,"escape$5");function _M(t){return OZ(He(t))}a(_M,"escape$4");function NZ(t){return t.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}a(NZ,"escapeRegExp$1");function DZ(t){return NZ(He(t))}a(DZ,"escapeRegExp");function MZ(t){return pc(t).map(n=>n.toLowerCase()).join("-")}a(MZ,"kebabCase$1");function PZ(t){return MZ(mc(t))}a(PZ,"kebabCase");function LZ(t){return pc(t).map(n=>n.toLowerCase()).join(" ")}a(LZ,"lowerCase$1");function FZ(t){return LZ(mc(t))}a(FZ,"lowerCase");function $Z(t){return t.substring(0,1).toLowerCase()+t.substring(1)}a($Z,"lowerFirst$1");function BZ(t){return $Z(He(t))}a(BZ,"lowerFirst");function UZ(t,e,n=" "){return t.padStart(Math.floor((e-t.length)/2)+t.length,n).padEnd(e,n)}a(UZ,"pad$1");function zZ(t,e,n){return UZ(He(t),e,n)}a(zZ,"pad");function jZ(t,e=0,n=" "){return He(t).padEnd(e,n)}a(jZ,"padEnd");function VZ(t,e=0,n=" "){return He(t).padStart(e,n)}a(VZ,"padStart");function WZ(t,e,n){return(n?Ds(t,e,n):e===void 0)?e=1:e=Rt(e),He(t).repeat(e)}a(WZ,"repeat");function HZ(t,e,n){return arguments.length<3?He(t):He(t).replace(e,n)}a(HZ,"replace$2");function qZ(t){return pc(t).map(n=>n.toLowerCase()).join("_")}a(qZ,"snakeCase$1");function GZ(t){return qZ(mc(t))}a(GZ,"snakeCase");function KZ(t,e,n){return He(t).split(e,n)}a(KZ,"split$1");function YZ(t){const e=pc(mc(t).trim());let n="";for(let r=0;r<e.length;r++){const i=e[r];n&&(n+=" "),i===i.toUpperCase()?n+=i:n+=i[0].toUpperCase()+i.slice(1).toLowerCase()}return n}a(YZ,"startCase");function JZ(t,e,n){return t==null||e==null?!1:(n==null&&(n=0),t.startsWith(e,n))}a(JZ,"startsWith");const XZ=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ZZ=/['\n\r\u2028\u2029\\]/g,vp=/($^)/,QZ=new Map([["\\","\\"],["'","'"],[`
`,"n"],["\r","r"],["\u2028","u2028"],["\u2029","u2029"]]);function eQ(t){return`\\${QZ.get(t)}`}a(eQ,"escapeString");const om={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,variable:"",imports:{_:{escape:_M,template:bM}}};function bM(t,e,n){t=He(t),n&&(e=om),e=og({...e},om);const r=new RegExp([e.escape?.source??vp.source,e.interpolate?.source??vp.source,e.interpolate?XZ.source:vp.source,e.evaluate?.source??vp.source,"$"].join("|"),"g");let i=0,s=!1,o="__p += ''";for(const m of t.matchAll(r)){const[g,y,_,w,S]=m,{index:T}=m;o+=` + '${t.slice(i,T).replace(ZZ,eQ)}'`,y&&(o+=` + _.escape(${y})`),_?o+=` + ((${_}) == null ? '' : ${_})`:w&&(o+=` + ((${w}) == null ? '' : ${w})`),S&&(o+=`;
${S};
 __p += ''`,s=!0),i=T+g.length}const l=og({...e.imports},om.imports),u=Object.keys(l),c=Object.values(l),f=`//# sourceURL=${e.sourceURL?String(e.sourceURL).replace(/[\r\n]/g," "):`es-toolkit.templateSource[${Date.now()}]`}
`,h=`function(${e.variable||"obj"}) {
    let __p = '';
    ${e.variable?"":"if (obj == null) { obj = {}; }"}
    ${s?"function print() { __p += Array.prototype.join.call(arguments, ''); }":""}
    ${e.variable?o:`with(obj) {
${o}
}`}
    return __p;
  }`,p=tM(()=>new Function(...u,`${f}return ${h}`)(...c));if(p.source=h,p instanceof Error)throw p;return p}a(bM,"template");function tQ(t){return He(t).toLowerCase()}a(tQ,"toLower");function nQ(t){return He(t).toUpperCase()}a(nQ,"toUpper");function wM(t,e){if(e===void 0)return t.trimEnd();let n=t.length;switch(typeof e){case"string":{if(e.length!==1)throw new Error("The 'chars' parameter should be a single character string.");for(;n>0&&t[n-1]===e;)n--;break}case"object":for(;n>0&&e.includes(t[n-1]);)n--}return t.substring(0,n)}a(wM,"trimEnd$1");function EM(t,e){if(e===void 0)return t.trimStart();let n=0;switch(typeof e){case"string":{for(;n<t.length&&t[n]===e;)n++;break}case"object":for(;n<t.length&&e.includes(t[n]);)n++}return t.substring(n)}a(EM,"trimStart$1");function O1(t,e){return e===void 0?t.trim():EM(wM(t,e),e)}a(O1,"trim$2");function rQ(t,e,n){if(t==null)return"";if(n!=null||e==null)return t.toString().trim();switch(typeof e){case"object":return Array.isArray(e)?O1(t,e.flatMap(r=>r.toString().split(""))):O1(t,e.toString().split(""));default:return O1(t,e.toString().split(""))}}a(rQ,"trim$1");function iQ(t,e,n){return t==null?"":n!=null||e==null?t.toString().trimEnd():wM(t,e.toString().split(""))}a(iQ,"trimEnd");function sQ(t,e,n){return t==null?"":n!=null||e==null?t.toString().trimStart():EM(t,e.toString().split(""))}a(sQ,"trimStart");const oQ=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/;function aQ(t,e){t=t!=null?`${t}`:"";let n=30,r="...";si(e)&&(n=lQ(e.length),r="omission"in e?`${e.omission}`:"...");let i=t.length;const s=Array.from(r).length,o=Math.max(n-s,0);let l;if(oQ.test(t)&&(l=Array.from(t),i=l.length),n>=i)return t;if(i<=s)return r;let c=l===void 0?t.slice(0,o):l?.slice(0,o).join("");const f=e?.separator;if(!f)return c+=r,c;const h=f instanceof RegExp?f.source:f,p="u"+(f instanceof RegExp?f.flags.replace("u",""):""),m=new RegExp(`(?<result>.*(?:(?!${h}).))(?:${h})`,p).exec(c);return(m?.groups?m.groups.result:c)+r}a(aQ,"truncate");function lQ(t){return t==null?30:t<=0?0:t}a(lQ,"parseLength");const uQ={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};function cQ(t){return t.replace(/&(?:amp|lt|gt|quot|#(0+)?39);/g,e=>uQ[e]||"'")}a(cQ,"unescape$2");function fQ(t){return cQ(He(t))}a(fQ,"unescape$1");function hQ(t){const e=pc(t);let n="";for(let r=0;r<e.length;r++)n+=e[r].toUpperCase(),r<e.length-1&&(n+=" ");return n}a(hQ,"upperCase$1");function dQ(t){return hQ(mc(t))}a(dQ,"upperCase");function pQ(t){return t.substring(0,1).toUpperCase()+t.substring(1)}a(pQ,"upperFirst$1");function mQ(t){return pQ(He(t))}a(mQ,"upperFirst");const gQ="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\xd7\\xf7",Gl="\\p{Lu}",vM="\\p{Ll}",SM="(?:[\\p{Lm}\\p{Lo}]\\p{M}*)",Jc="\\d",px="(?:['](?:d|ll|m|re|s|t|ve))?",mx="(?:['](?:D|LL|M|RE|S|T|VE))?",gx=`[\\p{Z}\\p{P}${gQ}]`,yQ=`(?:${Gl}|${SM})`,yx=`(?:${vM}|${SM})`,_x=RegExp([`${Gl}?${vM}+${px}(?=${gx}|${Gl}|$)`,`${yQ}+${mx}(?=${gx}|${Gl}${yx}|$)`,`${Gl}?${yx}+${px}`,`${Gl}+${mx}`,`${Jc}*(?:1ST|2ND|3RD|(?![123])${Jc}TH)(?=\\b|[a-z_])`,`${Jc}*(?:1st|2nd|3rd|(?![123])${Jc}th)(?=\\b|[A-Z_])`,`${Jc}+`,"\\p{Emoji_Presentation}","\\p{Extended_Pictographic}"].join("|"),"gu");function _Q(t,e=_x,n){const r=He(t);return n&&(e=_x),typeof e=="number"&&(e=e.toString()),Array.from(r.match(e)??[]).filter(s=>s!=="")}a(_Q,"words");function bQ(t){const e=t.length,n=t.map(r=>{const i=r[0],s=r[1];if(!kl(s))throw new TypeError("Expected a function");return[xe(i),s]});return function(...r){for(let i=0;i<e;i++){const s=n[i],o=s[0],l=s[1];if(o.apply(this,r))return l.apply(this,r)}}}a(bQ,"cond");function wQ(t){return()=>t}a(wQ,"constant");function EQ(t,e){return t==null||Number.isNaN(t)?e:t}a(EQ,"defaultTo");function vQ(t,e){return typeof t=="string"&&typeof e=="string"?t>e:It(t)>It(e)}a(vQ,"gt$5");function SQ(t,e){return typeof t=="string"&&typeof e=="string"?t>=e:It(t)>=It(e)}a(SQ,"gte$4");function sS(t,e,...n){if(n=n.flat(1),t!=null)switch(typeof e){case"string":return typeof t=="object"&&Object.hasOwn(t,e)?Xc(t,[e],n):Xc(t,Xi(e),n);case"number":case"symbol":return Xc(t,[e],n);default:return Array.isArray(e)?Xc(t,e,n):Xc(t,[e],n)}}a(sS,"invoke");function Xc(t,e,n){const r=ir(t,e.slice(0,-1),t);if(r==null)return;let i=vl(e);const s=i?.valueOf();return typeof s=="number"?i=El(s):i=String(i),ir(r,i)?.apply(r,n)}a(Xc,"invokeImpl");function kQ(t,e){return typeof t=="string"&&typeof e=="string"?t<e:It(t)<It(e)}a(kQ,"lt$4");function AQ(t,e){return typeof t=="string"&&typeof e=="string"?t<=e:It(t)<=It(e)}a(AQ,"lte$4");function TQ(t,...e){return function(n){return sS(n,t,e)}}a(TQ,"method");function xQ(t,...e){return function(n){return sS(t,n,e)}}a(xQ,"methodOf");function CQ(){return Date.now()}a(CQ,"now");function IQ(...t){t.length===1&&Array.isArray(t[0])&&(t=t[0]);const e=t.map(n=>xe(n));return function(...n){return e.map(r=>r.apply(this,n))}}a(IQ,"over");function RQ(...t){return function(...e){for(let n=0;n<t.length;++n){const r=t[n];if(!Array.isArray(r)){if(!xe(r).apply(this,e))return!1;continue}for(let i=0;i<r.length;++i)if(!xe(r[i]).apply(this,e))return!1}return!0}}a(RQ,"overEvery");function OQ(...t){return function(...e){for(let n=0;n<t.length;++n){const r=t[n];if(!Array.isArray(r)){if(xe(r).apply(this,e))return!0;continue}for(let i=0;i<r.length;++i)if(xe(r[i]).apply(this,e))return!0}return!1}}a(OQ,"overSome");function NQ(){return[]}a(NQ,"stubArray");function DQ(){return!1}a(DQ,"stubFalse");function MQ(){return{}}a(MQ,"stubObject");function PQ(){return""}a(PQ,"stubString");function LQ(){return!0}a(LQ,"stubTrue");const FQ=4294967295;function $Q(t){if(t==null)return 0;const e=Math.floor(Number(t));return Lu(e,0,FQ)}a($Q,"toLength");function BQ(t){const e={},n=Zo(t);for(let r=0;r<n.length;r++){const i=n[r],s=t[i];i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,value:s,writable:!0}):e[i]=s}return e}a(BQ,"toPlainObject");const bx=Number.MAX_SAFE_INTEGER;function UQ(t){return t==null?0:Lu(Rt(t),-bx,bx)}a(UQ,"toSafeInteger");let zQ=0;function jQ(t=""){const e=++zQ;return`${t}${e}`}a(jQ,"uniqueId");const VQ=Object.freeze(Object.defineProperty({__proto__:null,add:kJ,after:XY,ary:eM,assign:XJ,assignIn:fx,assignInWith:hx,assignWith:rX,at:U3,attempt:tM,before:QY,bind:Kv,bindAll:vZ,bindKey:Yv,camelCase:AZ,capitalize:EZ,castArray:KG,ceil:AJ,chunk:XG,clamp:Lu,clone:Xb,cloneDeep:sh,cloneDeepWith:R3,cloneWith:uX,compact:QG,concat:eK,cond:bQ,conforms:tZ,conformsTo:gM,constant:wQ,countBy:hK,create:cX,curry:dd,curryRight:Fu,debounce:iM,deburr:CZ,defaultTo:EQ,defaults:og,defaultsDeep:fX,defer:sJ,delay:oJ,difference:dK,differenceBy:O3,differenceWith:N3,divide:TJ,drop:yK,dropRight:bK,dropRightWhile:wK,dropWhile:vK,each:Hb,eachRight:sx,endsWith:IZ,eq:mn,escape:_M,escapeRegExp:DZ,every:kK,extend:fx,extendWith:hx,fill:TK,filter:D3,find:xK,findIndex:CK,findKey:gX,findLast:IK,findLastIndex:RK,findLastKey:yX,first:ox,flatMap:NK,flatMapDeep:DK,flatMapDepth:M3,flatten:oy,flattenDeep:MK,flattenDepth:hd,flip:aJ,floor:xJ,flow:lJ,flowRight:cJ,forEach:Hb,forEachRight:sx,forIn:_X,forInRight:bX,forOwn:wX,forOwnRight:EX,fromPairs:vX,functions:SX,functionsIn:kX,get:ir,groupBy:LK,gt:vQ,gte:SQ,has:Uv,hasIn:AX,head:ox,identity:dc,inRange:IJ,includes:FK,indexOf:$K,initial:UK,intersection:jK,intersectionBy:P3,intersectionWith:L3,invert:xX,invertBy:CX,invoke:sS,invokeMap:HK,isArguments:Pu,isArray:Po,isArrayBuffer:rZ,isArrayLike:ge,isArrayLikeObject:Xe,isBoolean:iZ,isBuffer:pM,isDate:oZ,isElement:aZ,isEmpty:lZ,isEqual:KJ,isEqualWith:Zb,isError:uZ,isFinite:cZ,isFunction:KX,isInteger:fZ,isLength:YX,isMap:V3,isMatch:K0,isMatchWith:C3,isNaN:Gb,isNative:ZX,isNil:ly,isNull:QX,isNumber:Hv,isObject:si,isObjectLike:Ya,isPlainObject:Lo,isRegExp:dZ,isSafeInteger:pZ,isSet:gZ,isString:sy,isSymbol:Ja,isTypedArray:Al,isUndefined:eZ,isWeakMap:_Z,isWeakSet:wZ,iteratee:xe,join:qK,kebabCase:PZ,keyBy:GK,keys:Xo,keysIn:Zo,last:vl,lastIndexOf:KK,lowerCase:FZ,lowerFirst:BZ,lt:kQ,lte:AQ,map:ng,mapKeys:RX,mapValues:NX,matches:Yo,matchesProperty:Jo,max:RJ,maxBy:NJ,mean:DJ,meanBy:FJ,memoize:Zv,merge:MX,mergeWith:cM,method:TQ,methodOf:xQ,min:$J,minBy:UJ,multiply:zJ,negate:jv,noop:YJ,now:CQ,nth:YK,nthArg:fJ,omit:PX,omitBy:LX,once:dJ,orderBy:$3,over:IQ,overArgs:pJ,overEvery:RQ,overSome:OQ,pad:zZ,padEnd:jZ,padStart:VZ,parseInt:jJ,partial:Qv,partialRight:eS,partition:QK,pick:FX,pickBy:$X,property:Us,propertyOf:BX,pull:eY,pullAll:tY,pullAllBy:nY,pullAllWith:iY,pullAt:sY,random:VJ,range:WJ,rangeRight:HJ,rearg:yJ,reduce:F3,reduceRight:oY,reject:aY,remove:uY,repeat:WZ,replace:HZ,rest:bJ,result:UX,reverse:cY,round:qJ,sample:fY,sampleSize:mY,set:Gv,setWith:zX,shuffle:gY,size:yY,slice:_Y,snakeCase:GZ,some:bY,sortBy:wY,sortedIndex:q3,sortedIndexBy:Wv,sortedIndexOf:AY,sortedLastIndex:K3,sortedLastIndexBy:G3,sortedLastIndexOf:CY,split:KZ,spread:wJ,startCase:YZ,startsWith:JZ,stubArray:NQ,stubFalse:DQ,stubObject:MQ,stubString:PQ,stubTrue:LQ,subtract:GJ,sum:aM,sumBy:oM,tail:RY,take:NY,takeRight:MY,takeRightWhile:LY,takeWhile:FY,template:bM,templateSettings:om,throttle:EJ,times:iS,toArray:Vv,toDefaulted:jX,toFinite:Ao,toInteger:Rt,toLength:$Q,toLower:tQ,toNumber:It,toPairs:VX,toPairsIn:WX,toPath:Xi,toPlainObject:BQ,toSafeInteger:UQ,toString:He,toUpper:nQ,transform:HX,trim:rQ,trimEnd:iQ,trimStart:sQ,truncate:aQ,unary:vJ,unescape:fQ,union:$Y,unionBy:Kb,unionWith:Yb,uniq:zv,uniqBy:BY,uniqWith:UY,uniqueId:jQ,unset:rg,unzip:X3,unzipWith:zY,update:qX,updateWith:uy,upperCase:dQ,upperFirst:mQ,values:W3,valuesIn:GX,without:VY,words:_Q,wrap:SJ,xor:WY,xorBy:HY,xorWith:qY,zip:GY,zipObject:KY,zipObjectDeep:YY,zipWith:JY},Symbol.toStringTag,{value:"Module"})),oh=a(t=>t,"toolkit");Object.assign(oh,VQ);oh.partial.placeholder=oh;oh.partialRight.placeholder=oh;var Qb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}a(oS,"getDefaultExportFromCjs");var ew={exports:{}};const WQ="2.0.0",kM=256,HQ=Number.MAX_SAFE_INTEGER||9007199254740991,qQ=16,GQ=kM-6,KQ=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var fy={MAX_LENGTH:kM,MAX_SAFE_COMPONENT_LENGTH:qQ,MAX_SAFE_BUILD_LENGTH:GQ,MAX_SAFE_INTEGER:HQ,RELEASE_TYPES:KQ,SEMVER_SPEC_VERSION:WQ,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},N1={};const YQ=typeof process=="object"&&N1&&N1.NODE_DEBUG&&/\bsemver\b/i.test(N1.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var hy=YQ;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=fy,s=hy;e=t.exports={};const o=e.re=[],l=e.safeRe=[],u=e.src=[],c=e.safeSrc=[],f=e.t={};let h=0;const p="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",i],[p,r]],g=a(_=>{for(const[w,S]of m)_=_.split(`${w}*`).join(`${w}{0,${S}}`).split(`${w}+`).join(`${w}{1,${S}}`);return _},"makeSafeRegex"),y=a((_,w,S)=>{const T=g(w),N=h++;s(_,N,w),f[_]=N,u[N]=w,c[N]=T,o[N]=new RegExp(w,S?"g":void 0),l[N]=new RegExp(T,S?"g":void 0)},"createToken");y("NUMERICIDENTIFIER","0|[1-9]\\d*"),y("NUMERICIDENTIFIERLOOSE","\\d+"),y("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),y("MAINVERSION",`(${u[f.NUMERICIDENTIFIER]})\\.(${u[f.NUMERICIDENTIFIER]})\\.(${u[f.NUMERICIDENTIFIER]})`),y("MAINVERSIONLOOSE",`(${u[f.NUMERICIDENTIFIERLOOSE]})\\.(${u[f.NUMERICIDENTIFIERLOOSE]})\\.(${u[f.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASEIDENTIFIER",`(?:${u[f.NONNUMERICIDENTIFIER]}|${u[f.NUMERICIDENTIFIER]})`),y("PRERELEASEIDENTIFIERLOOSE",`(?:${u[f.NONNUMERICIDENTIFIER]}|${u[f.NUMERICIDENTIFIERLOOSE]})`),y("PRERELEASE",`(?:-(${u[f.PRERELEASEIDENTIFIER]}(?:\\.${u[f.PRERELEASEIDENTIFIER]})*))`),y("PRERELEASELOOSE",`(?:-?(${u[f.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[f.PRERELEASEIDENTIFIERLOOSE]})*))`),y("BUILDIDENTIFIER",`${p}+`),y("BUILD",`(?:\\+(${u[f.BUILDIDENTIFIER]}(?:\\.${u[f.BUILDIDENTIFIER]})*))`),y("FULLPLAIN",`v?${u[f.MAINVERSION]}${u[f.PRERELEASE]}?${u[f.BUILD]}?`),y("FULL",`^${u[f.FULLPLAIN]}$`),y("LOOSEPLAIN",`[v=\\s]*${u[f.MAINVERSIONLOOSE]}${u[f.PRERELEASELOOSE]}?${u[f.BUILD]}?`),y("LOOSE",`^${u[f.LOOSEPLAIN]}$`),y("GTLT","((?:<|>)?=?)"),y("XRANGEIDENTIFIERLOOSE",`${u[f.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),y("XRANGEIDENTIFIER",`${u[f.NUMERICIDENTIFIER]}|x|X|\\*`),y("XRANGEPLAIN",`[v=\\s]*(${u[f.XRANGEIDENTIFIER]})(?:\\.(${u[f.XRANGEIDENTIFIER]})(?:\\.(${u[f.XRANGEIDENTIFIER]})(?:${u[f.PRERELEASE]})?${u[f.BUILD]}?)?)?`),y("XRANGEPLAINLOOSE",`[v=\\s]*(${u[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[f.XRANGEIDENTIFIERLOOSE]})(?:${u[f.PRERELEASELOOSE]})?${u[f.BUILD]}?)?)?`),y("XRANGE",`^${u[f.GTLT]}\\s*${u[f.XRANGEPLAIN]}$`),y("XRANGELOOSE",`^${u[f.GTLT]}\\s*${u[f.XRANGEPLAINLOOSE]}$`),y("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),y("COERCE",`${u[f.COERCEPLAIN]}(?:$|[^\\d])`),y("COERCEFULL",u[f.COERCEPLAIN]+`(?:${u[f.PRERELEASE]})?(?:${u[f.BUILD]})?(?:$|[^\\d])`),y("COERCERTL",u[f.COERCE],!0),y("COERCERTLFULL",u[f.COERCEFULL],!0),y("LONETILDE","(?:~>?)"),y("TILDETRIM",`(\\s*)${u[f.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",y("TILDE",`^${u[f.LONETILDE]}${u[f.XRANGEPLAIN]}$`),y("TILDELOOSE",`^${u[f.LONETILDE]}${u[f.XRANGEPLAINLOOSE]}$`),y("LONECARET","(?:\\^)"),y("CARETTRIM",`(\\s*)${u[f.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",y("CARET",`^${u[f.LONECARET]}${u[f.XRANGEPLAIN]}$`),y("CARETLOOSE",`^${u[f.LONECARET]}${u[f.XRANGEPLAINLOOSE]}$`),y("COMPARATORLOOSE",`^${u[f.GTLT]}\\s*(${u[f.LOOSEPLAIN]})$|^$`),y("COMPARATOR",`^${u[f.GTLT]}\\s*(${u[f.FULLPLAIN]})$|^$`),y("COMPARATORTRIM",`(\\s*)${u[f.GTLT]}\\s*(${u[f.LOOSEPLAIN]}|${u[f.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",y("HYPHENRANGE",`^\\s*(${u[f.XRANGEPLAIN]})\\s+-\\s+(${u[f.XRANGEPLAIN]})\\s*$`),y("HYPHENRANGELOOSE",`^\\s*(${u[f.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[f.XRANGEPLAINLOOSE]})\\s*$`),y("STAR","(<|>)?=?\\s*\\*"),y("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),y("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ew,ew.exports);var pd=ew.exports;const JQ=Object.freeze({loose:!0}),XQ=Object.freeze({}),ZQ=a(t=>t?typeof t!="object"?JQ:t:XQ,"parseOptions$1");var aS=ZQ;const wx=/^[0-9]+$/,AM=a((t,e)=>{const n=wx.test(t),r=wx.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},"compareIdentifiers$1"),QQ=a((t,e)=>AM(e,t),"rcompareIdentifiers");var TM={compareIdentifiers:AM,rcompareIdentifiers:QQ};const Sp=hy,{MAX_LENGTH:Ex,MAX_SAFE_INTEGER:kp}=fy,{safeRe:Ap,t:Tp}=pd,eee=aS,{compareIdentifiers:Vl}=TM;let tee=class wi{static{a(this,"SemVer")}constructor(e,n){if(n=eee(n),e instanceof wi){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Ex)throw new TypeError(`version is longer than ${Ex} characters`);Sp("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=e.trim().match(n.loose?Ap[Tp.LOOSE]:Ap[Tp.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>kp||this.major<0)throw new TypeError("Invalid major version");if(this.minor>kp||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>kp||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<kp)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Sp("SemVer.compare",this.version,this.options,e),!(e instanceof wi)){if(typeof e=="string"&&e===this.version)return 0;e=new wi(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof wi||(e=new wi(e,this.options)),Vl(this.major,e.major)||Vl(this.minor,e.minor)||Vl(this.patch,e.patch)}comparePre(e){if(e instanceof wi||(e=new wi(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=e.prerelease[n];if(Sp("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Vl(r,i)}while(++n)}compareBuild(e){e instanceof wi||(e=new wi(e,this.options));let n=0;do{const r=this.build[n],i=e.build[n];if(Sp("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Vl(r,i)}while(++n)}inc(e,n,r){if(e.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){const i=`-${n}`.match(this.options.loose?Ap[Tp.PRERELEASELOOSE]:Ap[Tp.PRERELEASE]);if(!i||i[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let s=[n,i];r===!1&&(s=[n]),Vl(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Mn=tee;const vx=Mn,nee=a((t,e,n=!1)=>{if(t instanceof vx)return t;try{return new vx(t,e)}catch(r){if(!n)return null;throw r}},"parse$7");var gc=nee;const ree=gc,iee=a((t,e)=>{const n=ree(t,e);return n?n.version:null},"valid$2");var see=iee;const oee=gc,aee=a((t,e)=>{const n=oee(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null},"clean$1");var lee=aee;const Sx=Mn,uee=a((t,e,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new Sx(t instanceof Sx?t.version:t,n).inc(e,r,i).version}catch{return null}},"inc$1");var cee=uee;const kx=gc,fee=a((t,e)=>{const n=kx(t,null,!0),r=kx(e,null,!0),i=n.compare(r);if(i===0)return null;const s=i>0,o=s?n:r,l=s?r:n,u=!!o.prerelease.length;if(!!l.prerelease.length&&!u){if(!l.patch&&!l.minor)return"major";if(l.compareMain(o)===0)return l.minor&&!l.patch?"minor":"patch"}const f=u?"pre":"";return n.major!==r.major?f+"major":n.minor!==r.minor?f+"minor":n.patch!==r.patch?f+"patch":"prerelease"},"diff$2");var hee=fee;const dee=Mn,pee=a((t,e)=>new dee(t,e).major,"major$1");var mee=pee;const gee=Mn,yee=a((t,e)=>new gee(t,e).minor,"minor$1");var _ee=yee;const bee=Mn,wee=a((t,e)=>new bee(t,e).patch,"patch$2");var Eee=wee;const vee=gc,See=a((t,e)=>{const n=vee(t,e);return n&&n.prerelease.length?n.prerelease:null},"prerelease$1");var kee=See;const Ax=Mn,Aee=a((t,e,n)=>new Ax(t,n).compare(new Ax(e,n)),"compare$c");var ui=Aee;const Tee=ui,xee=a((t,e,n)=>Tee(e,t,n),"rcompare$1");var Cee=xee;const Iee=ui,Ree=a((t,e)=>Iee(t,e,!0),"compareLoose$1");var Oee=Ree;const Tx=Mn,Nee=a((t,e,n)=>{const r=new Tx(t,n),i=new Tx(e,n);return r.compare(i)||r.compareBuild(i)},"compareBuild$3");var lS=Nee;const Dee=lS,Mee=a((t,e)=>t.sort((n,r)=>Dee(n,r,e)),"sort$1");var Pee=Mee;const Lee=lS,Fee=a((t,e)=>t.sort((n,r)=>Lee(r,n,e)),"rsort$1");var $ee=Fee;const Bee=ui,Uee=a((t,e,n)=>Bee(t,e,n)>0,"gt$4");var dy=Uee;const zee=ui,jee=a((t,e,n)=>zee(t,e,n)<0,"lt$3");var uS=jee;const Vee=ui,Wee=a((t,e,n)=>Vee(t,e,n)===0,"eq$2");var xM=Wee;const Hee=ui,qee=a((t,e,n)=>Hee(t,e,n)!==0,"neq$2");var CM=qee;const Gee=ui,Kee=a((t,e,n)=>Gee(t,e,n)>=0,"gte$3");var cS=Kee;const Yee=ui,Jee=a((t,e,n)=>Yee(t,e,n)<=0,"lte$3");var fS=Jee;const Xee=xM,Zee=CM,Qee=dy,ete=cS,tte=uS,nte=fS,rte=a((t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return Xee(t,n,r);case"!=":return Zee(t,n,r);case">":return Qee(t,n,r);case">=":return ete(t,n,r);case"<":return tte(t,n,r);case"<=":return nte(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}},"cmp$2");var IM=rte;const ite=Mn,ste=gc,{safeRe:xp,t:Cp}=pd,ote=a((t,e)=>{if(t instanceof ite)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?xp[Cp.COERCEFULL]:xp[Cp.COERCE]);else{const u=e.includePrerelease?xp[Cp.COERCERTLFULL]:xp[Cp.COERCERTL];let c;for(;(c=u.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||c.index+c[0].length!==n.index+n[0].length)&&(n=c),u.lastIndex=c.index+c[1].length+c[2].length;u.lastIndex=-1}if(n===null)return null;const r=n[2],i=n[3]||"0",s=n[4]||"0",o=e.includePrerelease&&n[5]?`-${n[5]}`:"",l=e.includePrerelease&&n[6]?`+${n[6]}`:"";return ste(`${r}.${i}.${s}${o}${l}`,e)},"coerce$2");var ate=ote;class lte{static{a(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(e){const n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}}var ute=lte,D1,xx;function ci(){if(xx)return D1;xx=1;const t=/\s+/g;class e{static{a(this,"Range")}constructor(F,B){if(B=i(B),F instanceof e)return F.loose===!!B.loose&&F.includePrerelease===!!B.includePrerelease?F:new e(F.raw,B);if(F instanceof s)return this.raw=F.value,this.set=[[F]],this.formatted=void 0,this;if(this.options=B,this.loose=!!B.loose,this.includePrerelease=!!B.includePrerelease,this.raw=F.trim().replace(t," "),this.set=this.raw.split("||").map(j=>this.parseRange(j.trim())).filter(j=>j.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const j=this.set[0];if(this.set=this.set.filter(Y=>!y(Y[0])),this.set.length===0)this.set=[j];else if(this.set.length>1){for(const Y of this.set)if(Y.length===1&&_(Y[0])){this.set=[Y];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let F=0;F<this.set.length;F++){F>0&&(this.formatted+="||");const B=this.set[F];for(let j=0;j<B.length;j++)j>0&&(this.formatted+=" "),this.formatted+=B[j].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(F){const j=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+F,Y=r.get(j);if(Y)return Y;const V=this.options.loose,K=V?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE];F=F.replace(K,I(this.options.includePrerelease)),o("hyphen replace",F),F=F.replace(u[c.COMPARATORTRIM],f),o("comparator trim",F),F=F.replace(u[c.TILDETRIM],h),o("tilde trim",F),F=F.replace(u[c.CARETTRIM],p),o("caret trim",F);let J=F.split(" ").map(fe=>S(fe,this.options)).join(" ").split(/\s+/).map(fe=>x(fe,this.options));V&&(J=J.filter(fe=>(o("loose invalid filter",fe,this.options),!!fe.match(u[c.COMPARATORLOOSE])))),o("range list",J);const ne=new Map,ie=J.map(fe=>new s(fe,this.options));for(const fe of ie){if(y(fe))return[fe];ne.set(fe.value,fe)}ne.size>1&&ne.has("")&&ne.delete("");const ot=[...ne.values()];return r.set(j,ot),ot}intersects(F,B){if(!(F instanceof e))throw new TypeError("a Range is required");return this.set.some(j=>w(j,B)&&F.set.some(Y=>w(Y,B)&&j.every(V=>Y.every(K=>V.intersects(K,B)))))}test(F){if(!F)return!1;if(typeof F=="string")try{F=new l(F,this.options)}catch{return!1}for(let B=0;B<this.set.length;B++)if(D(this.set[B],F,this.options))return!0;return!1}}D1=e;const n=ute,r=new n,i=aS,s=py(),o=hy,l=Mn,{safeRe:u,t:c,comparatorTrimReplace:f,tildeTrimReplace:h,caretTrimReplace:p}=pd,{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=fy,y=a($=>$.value==="<0.0.0-0","isNullSet"),_=a($=>$.value==="","isAny"),w=a(($,F)=>{let B=!0;const j=$.slice();let Y=j.pop();for(;B&&j.length;)B=j.every(V=>Y.intersects(V,F)),Y=j.pop();return B},"isSatisfiable"),S=a(($,F)=>(o("comp",$,F),$=M($,F),o("caret",$),$=N($,F),o("tildes",$),$=v($,F),o("xrange",$),$=C($,F),o("stars",$),$),"parseComparator"),T=a($=>!$||$.toLowerCase()==="x"||$==="*","isX"),N=a(($,F)=>$.trim().split(/\s+/).map(B=>O(B,F)).join(" "),"replaceTildes"),O=a(($,F)=>{const B=F.loose?u[c.TILDELOOSE]:u[c.TILDE];return $.replace(B,(j,Y,V,K,J)=>{o("tilde",$,j,Y,V,K,J);let ne;return T(Y)?ne="":T(V)?ne=`>=${Y}.0.0 <${+Y+1}.0.0-0`:T(K)?ne=`>=${Y}.${V}.0 <${Y}.${+V+1}.0-0`:J?(o("replaceTilde pr",J),ne=`>=${Y}.${V}.${K}-${J} <${Y}.${+V+1}.0-0`):ne=`>=${Y}.${V}.${K} <${Y}.${+V+1}.0-0`,o("tilde return",ne),ne})},"replaceTilde"),M=a(($,F)=>$.trim().split(/\s+/).map(B=>k(B,F)).join(" "),"replaceCarets"),k=a(($,F)=>{o("caret",$,F);const B=F.loose?u[c.CARETLOOSE]:u[c.CARET],j=F.includePrerelease?"-0":"";return $.replace(B,(Y,V,K,J,ne)=>{o("caret",$,Y,V,K,J,ne);let ie;return T(V)?ie="":T(K)?ie=`>=${V}.0.0${j} <${+V+1}.0.0-0`:T(J)?V==="0"?ie=`>=${V}.${K}.0${j} <${V}.${+K+1}.0-0`:ie=`>=${V}.${K}.0${j} <${+V+1}.0.0-0`:ne?(o("replaceCaret pr",ne),V==="0"?K==="0"?ie=`>=${V}.${K}.${J}-${ne} <${V}.${K}.${+J+1}-0`:ie=`>=${V}.${K}.${J}-${ne} <${V}.${+K+1}.0-0`:ie=`>=${V}.${K}.${J}-${ne} <${+V+1}.0.0-0`):(o("no pr"),V==="0"?K==="0"?ie=`>=${V}.${K}.${J}${j} <${V}.${K}.${+J+1}-0`:ie=`>=${V}.${K}.${J}${j} <${V}.${+K+1}.0-0`:ie=`>=${V}.${K}.${J} <${+V+1}.0.0-0`),o("caret return",ie),ie})},"replaceCaret"),v=a(($,F)=>(o("replaceXRanges",$,F),$.split(/\s+/).map(B=>A(B,F)).join(" ")),"replaceXRanges"),A=a(($,F)=>{$=$.trim();const B=F.loose?u[c.XRANGELOOSE]:u[c.XRANGE];return $.replace(B,(j,Y,V,K,J,ne)=>{o("xRange",$,j,Y,V,K,J,ne);const ie=T(V),ot=ie||T(K),fe=ot||T(J),Me=fe;return Y==="="&&Me&&(Y=""),ne=F.includePrerelease?"-0":"",ie?Y===">"||Y==="<"?j="<0.0.0-0":j="*":Y&&Me?(ot&&(K=0),J=0,Y===">"?(Y=">=",ot?(V=+V+1,K=0,J=0):(K=+K+1,J=0)):Y==="<="&&(Y="<",ot?V=+V+1:K=+K+1),Y==="<"&&(ne="-0"),j=`${Y+V}.${K}.${J}${ne}`):ot?j=`>=${V}.0.0${ne} <${+V+1}.0.0-0`:fe&&(j=`>=${V}.${K}.0${ne} <${V}.${+K+1}.0-0`),o("xRange return",j),j})},"replaceXRange"),C=a(($,F)=>(o("replaceStars",$,F),$.trim().replace(u[c.STAR],"")),"replaceStars"),x=a(($,F)=>(o("replaceGTE0",$,F),$.trim().replace(u[F.includePrerelease?c.GTE0PRE:c.GTE0],"")),"replaceGTE0"),I=a($=>(F,B,j,Y,V,K,J,ne,ie,ot,fe,Me)=>(T(j)?B="":T(Y)?B=`>=${j}.0.0${$?"-0":""}`:T(V)?B=`>=${j}.${Y}.0${$?"-0":""}`:K?B=`>=${B}`:B=`>=${B}${$?"-0":""}`,T(ie)?ne="":T(ot)?ne=`<${+ie+1}.0.0-0`:T(fe)?ne=`<${ie}.${+ot+1}.0-0`:Me?ne=`<=${ie}.${ot}.${fe}-${Me}`:$?ne=`<${ie}.${ot}.${+fe+1}-0`:ne=`<=${ne}`,`${B} ${ne}`.trim()),"hyphenReplace"),D=a(($,F,B)=>{for(let j=0;j<$.length;j++)if(!$[j].test(F))return!1;if(F.prerelease.length&&!B.includePrerelease){for(let j=0;j<$.length;j++)if(o($[j].semver),$[j].semver!==s.ANY&&$[j].semver.prerelease.length>0){const Y=$[j].semver;if(Y.major===F.major&&Y.minor===F.minor&&Y.patch===F.patch)return!0}return!1}return!0},"testSet");return D1}a(ci,"requireRange");var M1,Cx;function py(){if(Cx)return M1;Cx=1;const t=Symbol("SemVer ANY");class e{static{a(this,"Comparator")}static get ANY(){return t}constructor(f,h){if(h=n(h),f instanceof e){if(f.loose===!!h.loose)return f;f=f.value}f=f.trim().split(/\s+/).join(" "),o("comparator",f,h),this.options=h,this.loose=!!h.loose,this.parse(f),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(f){const h=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],p=f.match(h);if(!p)throw new TypeError(`Invalid comparator: ${f}`);this.operator=p[1]!==void 0?p[1]:"",this.operator==="="&&(this.operator=""),p[2]?this.semver=new l(p[2],this.options.loose):this.semver=t}toString(){return this.value}test(f){if(o("Comparator.test",f,this.options.loose),this.semver===t||f===t)return!0;if(typeof f=="string")try{f=new l(f,this.options)}catch{return!1}return s(f,this.operator,this.semver,this.options)}intersects(f,h){if(!(f instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(f.value,h).test(this.value):f.operator===""?f.value===""?!0:new u(this.value,h).test(f.semver):(h=n(h),h.includePrerelease&&(this.value==="<0.0.0-0"||f.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||f.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&f.operator.startsWith(">")||this.operator.startsWith("<")&&f.operator.startsWith("<")||this.semver.version===f.semver.version&&this.operator.includes("=")&&f.operator.includes("=")||s(this.semver,"<",f.semver,h)&&this.operator.startsWith(">")&&f.operator.startsWith("<")||s(this.semver,">",f.semver,h)&&this.operator.startsWith("<")&&f.operator.startsWith(">")))}}M1=e;const n=aS,{safeRe:r,t:i}=pd,s=IM,o=hy,l=Mn,u=ci();return M1}a(py,"requireComparator");const cte=ci(),fte=a((t,e,n)=>{try{e=new cte(e,n)}catch{return!1}return e.test(t)},"satisfies$4");var my=fte;const hte=ci(),dte=a((t,e)=>new hte(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" ")),"toComparators$1");var pte=dte;const mte=Mn,gte=ci(),yte=a((t,e,n)=>{let r=null,i=null,s=null;try{s=new gte(e,n)}catch{return null}return t.forEach(o=>{s.test(o)&&(!r||i.compare(o)===-1)&&(r=o,i=new mte(r,n))}),r},"maxSatisfying$1");var _te=yte;const bte=Mn,wte=ci(),Ete=a((t,e,n)=>{let r=null,i=null,s=null;try{s=new wte(e,n)}catch{return null}return t.forEach(o=>{s.test(o)&&(!r||i.compare(o)===1)&&(r=o,i=new bte(r,n))}),r},"minSatisfying$1");var vte=Ete;const P1=Mn,Ste=ci(),Ix=dy,kte=a((t,e)=>{t=new Ste(t,e);let n=new P1("0.0.0");if(t.test(n)||(n=new P1("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){const i=t.set[r];let s=null;i.forEach(o=>{const l=new P1(o.semver.version);switch(o.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!s||Ix(l,s))&&(s=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!n||Ix(n,s))&&(n=s)}return n&&t.test(n)?n:null},"minVersion$1");var Ate=kte;const Tte=ci(),xte=a((t,e)=>{try{return new Tte(t,e).range||"*"}catch{return null}},"validRange$1");var Cte=xte;const Ite=Mn,RM=py(),{ANY:Rte}=RM,Ote=ci(),Nte=my,Rx=dy,Ox=uS,Dte=fS,Mte=cS,Pte=a((t,e,n,r)=>{t=new Ite(t,r),e=new Ote(e,r);let i,s,o,l,u;switch(n){case">":i=Rx,s=Dte,o=Ox,l=">",u=">=";break;case"<":i=Ox,s=Mte,o=Rx,l="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Nte(t,e,r))return!1;for(let c=0;c<e.set.length;++c){const f=e.set[c];let h=null,p=null;if(f.forEach(m=>{m.semver===Rte&&(m=new RM(">=0.0.0")),h=h||m,p=p||m,i(m.semver,h.semver,r)?h=m:o(m.semver,p.semver,r)&&(p=m)}),h.operator===l||h.operator===u||(!p.operator||p.operator===l)&&s(t,p.semver))return!1;if(p.operator===u&&o(t,p.semver))return!1}return!0},"outside$3");var hS=Pte;const Lte=hS,Fte=a((t,e,n)=>Lte(t,e,">",n),"gtr$1");var $te=Fte;const Bte=hS,Ute=a((t,e,n)=>Bte(t,e,"<",n),"ltr$1");var zte=Ute;const Nx=ci(),jte=a((t,e,n)=>(t=new Nx(t,n),e=new Nx(e,n),t.intersects(e,n)),"intersects$1");var Vte=jte;const Wte=my,Hte=ui;var qte=a((t,e,n)=>{const r=[];let i=null,s=null;const o=t.sort((f,h)=>Hte(f,h,n));for(const f of o)Wte(f,e,n)?(s=f,i||(i=f)):(s&&r.push([i,s]),s=null,i=null);i&&r.push([i,null]);const l=[];for(const[f,h]of r)f===h?l.push(f):!h&&f===o[0]?l.push("*"):h?f===o[0]?l.push(`<=${h}`):l.push(`${f} - ${h}`):l.push(`>=${f}`);const u=l.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return u.length<c.length?u:e},"simplify");const Dx=ci(),dS=py(),{ANY:L1}=dS,Zc=my,pS=ui,Gte=a((t,e,n={})=>{if(t===e)return!0;t=new Dx(t,n),e=new Dx(e,n);let r=!1;e:for(const i of t.set){for(const s of e.set){const o=Yte(i,s,n);if(r=r||o!==null,o)continue e}if(r)return!1}return!0},"subset$1"),Kte=[new dS(">=0.0.0-0")],Mx=[new dS(">=0.0.0")],Yte=a((t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===L1){if(e.length===1&&e[0].semver===L1)return!0;n.includePrerelease?t=Kte:t=Mx}if(e.length===1&&e[0].semver===L1){if(n.includePrerelease)return!0;e=Mx}const r=new Set;let i,s;for(const m of t)m.operator===">"||m.operator===">="?i=Px(i,m,n):m.operator==="<"||m.operator==="<="?s=Lx(s,m,n):r.add(m.semver);if(r.size>1)return null;let o;if(i&&s){if(o=pS(i.semver,s.semver,n),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const m of r){if(i&&!Zc(m,String(i),n)||s&&!Zc(m,String(s),n))return null;for(const g of e)if(!Zc(m,String(g),n))return!1;return!0}let l,u,c,f,h=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1,p=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;h&&h.prerelease.length===1&&s.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(const m of e){if(f=f||m.operator===">"||m.operator===">=",c=c||m.operator==="<"||m.operator==="<=",i){if(p&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===p.major&&m.semver.minor===p.minor&&m.semver.patch===p.patch&&(p=!1),m.operator===">"||m.operator===">="){if(l=Px(i,m,n),l===m&&l!==i)return!1}else if(i.operator===">="&&!Zc(i.semver,String(m),n))return!1}if(s){if(h&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===h.major&&m.semver.minor===h.minor&&m.semver.patch===h.patch&&(h=!1),m.operator==="<"||m.operator==="<="){if(u=Lx(s,m,n),u===m&&u!==s)return!1}else if(s.operator==="<="&&!Zc(s.semver,String(m),n))return!1}if(!m.operator&&(s||i)&&o!==0)return!1}return!(i&&c&&!s&&o!==0||s&&f&&!i&&o!==0||p||h)},"simpleSubset"),Px=a((t,e,n)=>{if(!t)return e;const r=pS(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},"higherGT"),Lx=a((t,e,n)=>{if(!t)return e;const r=pS(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t},"lowerLT");var Jte=Gte;const F1=pd,Fx=fy,Xte=Mn,$x=TM,Zte=gc,Qte=see,ene=lee,tne=cee,nne=hee,rne=mee,ine=_ee,sne=Eee,one=kee,ane=ui,lne=Cee,une=Oee,cne=lS,fne=Pee,hne=$ee,dne=dy,pne=uS,mne=xM,gne=CM,yne=cS,_ne=fS,bne=IM,wne=ate,Ene=py(),vne=ci(),Sne=my,kne=pte,Ane=_te,Tne=vte,xne=Ate,Cne=Cte,Ine=hS,Rne=$te,One=zte,Nne=Vte,Dne=qte,Mne=Jte;var Gve={parse:Zte,valid:Qte,clean:ene,inc:tne,diff:nne,major:rne,minor:ine,patch:sne,prerelease:one,compare:ane,rcompare:lne,compareLoose:une,compareBuild:cne,sort:fne,rsort:hne,gt:dne,lt:pne,eq:mne,neq:gne,gte:yne,lte:_ne,cmp:bne,coerce:wne,Comparator:Ene,Range:vne,satisfies:Sne,toComparators:kne,maxSatisfying:Ane,minSatisfying:Tne,minVersion:xne,validRange:Cne,outside:Ine,gtr:Rne,ltr:One,intersects:Nne,simplifyRange:Dne,subset:Mne,SemVer:Xte,re:F1.re,src:F1.src,tokens:F1.t,SEMVER_SPEC_VERSION:Fx.SEMVER_SPEC_VERSION,RELEASE_TYPES:Fx.RELEASE_TYPES,compareIdentifiers:$x.compareIdentifiers,rcompareIdentifiers:$x.rcompareIdentifiers};function OM(t,e){return a(function(){return t.apply(e,arguments)},"wrap")}a(OM,"bind$3");const{toString:Pne}=Object.prototype,{getPrototypeOf:mS}=Object,{iterator:gy,toStringTag:NM}=Symbol,yy=(t=>e=>{const n=Pne.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),fi=a(t=>(t=t.toLowerCase(),e=>yy(e)===t),"kindOfTest"),_y=a(t=>e=>typeof e===t,"typeOfTest"),{isArray:yc}=Array,ah=_y("undefined");function md(t){return t!==null&&!ah(t)&&t.constructor!==null&&!ah(t.constructor)&&Bn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}a(md,"isBuffer");const DM=fi("ArrayBuffer");function Lne(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&DM(t.buffer),e}a(Lne,"isArrayBufferView");const Fne=_y("string"),Bn=_y("function"),MM=_y("number"),gd=a(t=>t!==null&&typeof t=="object","isObject$2"),$ne=a(t=>t===!0||t===!1,"isBoolean$1"),am=a(t=>{if(yy(t)!=="object")return!1;const e=mS(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(NM in t)&&!(gy in t)},"isPlainObject"),Bne=a(t=>{if(!gd(t)||md(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},"isEmptyObject"),Une=fi("Date"),zne=fi("File"),jne=fi("Blob"),Vne=fi("FileList"),Wne=a(t=>gd(t)&&Bn(t.pipe),"isStream"),Hne=a(t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Bn(t.append)&&((e=yy(t))==="formdata"||e==="object"&&Bn(t.toString)&&t.toString()==="[object FormData]"))},"isFormData"),qne=fi("URLSearchParams"),[Gne,Kne,Yne,Jne]=["ReadableStream","Request","Response","Headers"].map(fi),Xne=a(t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),"trim");function yd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),yc(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(md(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}a(yd,"forEach$1");function PM(t,e){if(md(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}a(PM,"findKey");const ba=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,LM=a(t=>!ah(t)&&t!==ba,"isContextDefined");function tw(){const{caseless:t}=LM(this)&&this||{},e={},n=a((r,i)=>{const s=t&&PM(e,i)||i;am(e[s])&&am(r)?e[s]=tw(e[s],r):am(r)?e[s]=tw({},r):yc(r)?e[s]=r.slice():e[s]=r},"assignValue");for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&yd(arguments[r],n);return e}a(tw,"merge");const Zne=a((t,e,n,{allOwnKeys:r}={})=>(yd(e,(i,s)=>{n&&Bn(i)?t[s]=OM(i,n):t[s]=i},{allOwnKeys:r}),t),"extend"),Qne=a(t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),"stripBOM"),ere=a((t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},"inherits"),tre=a((t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&mS(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},"toFlatObject"),nre=a((t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},"endsWith"),rre=a(t=>{if(!t)return null;if(yc(t))return t;let e=t.length;if(!MM(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},"toArray"),ire=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&mS(Uint8Array)),sre=a((t,e)=>{const r=(t&&t[gy]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},"forEachEntry"),ore=a((t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},"matchAll"),are=fi("HTMLFormElement"),lre=a(t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,a(function(n,r,i){return r.toUpperCase()+i},"replacer")),"toCamelCase"),Bx=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ure=fi("RegExp"),FM=a((t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};yd(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},"reduceDescriptors"),cre=a(t=>{FM(t,(e,n)=>{if(Bn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Bn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},"freezeMethods"),fre=a((t,e)=>{const n={},r=a(i=>{i.forEach(s=>{n[s]=!0})},"define");return yc(t)?r(t):r(String(t).split(e)),n},"toObjectSet"),hre=a(()=>{},"noop$2"),dre=a((t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,"toFiniteNumber");function pre(t){return!!(t&&Bn(t.append)&&t[NM]==="FormData"&&t[gy])}a(pre,"isSpecCompliantForm");const mre=a(t=>{const e=new Array(10),n=a((r,i)=>{if(gd(r)){if(e.indexOf(r)>=0)return;if(md(r))return r;if(!("toJSON"in r)){e[i]=r;const s=yc(r)?[]:{};return yd(r,(o,l)=>{const u=n(o,i+1);!ah(u)&&(s[l]=u)}),e[i]=void 0,s}}return r},"visit");return n(t,0)},"toJSONObject"),gre=fi("AsyncFunction"),yre=a(t=>t&&(gd(t)||Bn(t))&&Bn(t.then)&&Bn(t.catch),"isThenable"),$M=((t,e)=>t?setImmediate:e?((n,r)=>(ba.addEventListener("message",({source:i,data:s})=>{i===ba&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),ba.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Bn(ba.postMessage)),_re=typeof queueMicrotask<"u"?queueMicrotask.bind(ba):typeof process<"u"&&process.nextTick||$M,bre=a(t=>t!=null&&Bn(t[gy]),"isIterable"),U={isArray:yc,isArrayBuffer:DM,isBuffer:md,isFormData:Hne,isArrayBufferView:Lne,isString:Fne,isNumber:MM,isBoolean:$ne,isObject:gd,isPlainObject:am,isEmptyObject:Bne,isReadableStream:Gne,isRequest:Kne,isResponse:Yne,isHeaders:Jne,isUndefined:ah,isDate:Une,isFile:zne,isBlob:jne,isRegExp:ure,isFunction:Bn,isStream:Wne,isURLSearchParams:qne,isTypedArray:ire,isFileList:Vne,forEach:yd,merge:tw,extend:Zne,trim:Xne,stripBOM:Qne,inherits:ere,toFlatObject:tre,kindOf:yy,kindOfTest:fi,endsWith:nre,toArray:rre,forEachEntry:sre,matchAll:ore,isHTMLForm:are,hasOwnProperty:Bx,hasOwnProp:Bx,reduceDescriptors:FM,freezeMethods:cre,toObjectSet:fre,toCamelCase:lre,noop:hre,toFiniteNumber:dre,findKey:PM,global:ba,isContextDefined:LM,isSpecCompliantForm:pre,toJSONObject:mre,isAsyncFn:gre,isThenable:yre,setImmediate:$M,asap:_re,isIterable:bre};function ve(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}a(ve,"AxiosError");U.inherits(ve,Error,{toJSON:a(function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}},"toJSON")});const BM=ve.prototype,UM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{UM[t]={value:t}});Object.defineProperties(ve,UM);Object.defineProperty(BM,"isAxiosError",{value:!0});ve.from=(t,e,n,r,i,s)=>{const o=Object.create(BM);return U.toFlatObject(t,o,a(function(u){return u!==Error.prototype},"filter"),l=>l!=="isAxiosError"),ve.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const wre=null;function nw(t){return U.isPlainObject(t)||U.isArray(t)}a(nw,"isVisitable");function zM(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}a(zM,"removeBrackets");function Ux(t,e,n){return t?t.concat(e).map(a(function(i,s){return i=zM(i),!n&&s?"["+i+"]":i},"each")).join(n?".":""):e}a(Ux,"renderKey");function Ere(t){return U.isArray(t)&&!t.some(nw)}a(Ere,"isFlatArray");const vre=U.toFlatObject(U,{},null,a(function(e){return/^is[A-Z]/.test(e)},"filter"));function by(t,e,n){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=U.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,a(function(y,_){return!U.isUndefined(_[y])},"defined"));const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(U.isDate(g))return g.toISOString();if(U.isBoolean(g))return g.toString();if(!u&&U.isBlob(g))throw new ve("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(g)||U.isTypedArray(g)?u&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}a(c,"convertValue");function f(g,y,_){let w=g;if(g&&!_&&typeof g=="object"){if(U.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(U.isArray(g)&&Ere(g)||(U.isFileList(g)||U.endsWith(y,"[]"))&&(w=U.toArray(g)))return y=zM(y),w.forEach(a(function(T,N){!(U.isUndefined(T)||T===null)&&e.append(o===!0?Ux([y],N,s):o===null?y:y+"[]",c(T))},"each")),!1}return nw(g)?!0:(e.append(Ux(_,y,s),c(g)),!1)}a(f,"defaultVisitor");const h=[],p=Object.assign(vre,{defaultVisitor:f,convertValue:c,isVisitable:nw});function m(g,y){if(!U.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(g),U.forEach(g,a(function(w,S){(!(U.isUndefined(w)||w===null)&&i.call(e,w,U.isString(S)?S.trim():S,y,p))===!0&&m(w,y?y.concat(S):[S])},"each")),h.pop()}}if(a(m,"build"),!U.isObject(t))throw new TypeError("data must be an object");return m(t),e}a(by,"toFormData");function zx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,a(function(r){return e[r]},"replacer"))}a(zx,"encode$4");function gS(t,e){this._pairs=[],t&&by(t,this,e)}a(gS,"AxiosURLSearchParams");const jM=gS.prototype;jM.append=a(function(e,n){this._pairs.push([e,n])},"append");jM.toString=a(function(e){const n=e?function(r){return e.call(this,r,zx)}:zx;return this._pairs.map(a(function(i){return n(i[0])+"="+n(i[1])},"each"),"").join("&")},"toString");function Sre(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}a(Sre,"encode$3");function VM(t,e,n){if(!e)return t;const r=n&&n.encode||Sre;U.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=U.isURLSearchParams(e)?e.toString():new gS(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}a(VM,"buildURL");class jx{static{a(this,"InterceptorManager")}constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,a(function(r){r!==null&&e(r)},"forEachHandler"))}}const WM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kre=typeof URLSearchParams<"u"?URLSearchParams:gS,Are=typeof FormData<"u"?FormData:null,Tre=typeof Blob<"u"?Blob:null,xre={isBrowser:!0,classes:{URLSearchParams:kre,FormData:Are,Blob:Tre},protocols:["http","https","file","blob","url","data"]},yS=typeof window<"u"&&typeof document<"u",rw=typeof navigator=="object"&&navigator||void 0,Cre=yS&&(!rw||["ReactNative","NativeScript","NS"].indexOf(rw.product)<0),Ire=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rre=yS&&window.location.href||"http://localhost",Ore=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yS,hasStandardBrowserEnv:Cre,hasStandardBrowserWebWorkerEnv:Ire,navigator:rw,origin:Rre},Symbol.toStringTag,{value:"Module"})),ln={...Ore,...xre};function Nre(t,e){return by(t,new ln.classes.URLSearchParams,{visitor:a(function(n,r,i,s){return ln.isNode&&U.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},"visitor"),...e})}a(Nre,"toURLEncodedForm");function Dre(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}a(Dre,"parsePropPath");function Mre(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}a(Mre,"arrayToObject");function HM(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=s>=n.length;return o=!o&&U.isArray(i)?i.length:o,u?(U.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!U.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&U.isArray(i[o])&&(i[o]=Mre(i[o])),!l)}if(a(e,"buildPath"),U.isFormData(t)&&U.isFunction(t.entries)){const n={};return U.forEachEntry(t,(r,i)=>{e(Dre(r),i,n,0)}),n}return null}a(HM,"formDataToJSON");function Pre(t,e,n){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}a(Pre,"stringifySafely");const _d={transitional:WM,adapter:["xhr","http","fetch"],transformRequest:[a(function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=U.isObject(e);if(s&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return i?JSON.stringify(HM(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e)||U.isReadableStream(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Nre(e,this.formSerializer).toString();if((l=U.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return by(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),Pre(e)):e},"transformRequest")],transformResponse:[a(function(e){const n=this.transitional||_d.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(U.isResponse(e)||U.isReadableStream(e))return e;if(e&&U.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?ve.from(l,ve.ERR_BAD_RESPONSE,this,null,this.response):l}}return e},"transformResponse")],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ln.classes.FormData,Blob:ln.classes.Blob},validateStatus:a(function(e){return e>=200&&e<300},"validateStatus"),headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],t=>{_d.headers[t]={}});const Lre=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Fre=a(t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(a(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&Lre[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)},"parser")),e},"parseHeaders"),Vx=Symbol("internals");function Qc(t){return t&&String(t).trim().toLowerCase()}a(Qc,"normalizeHeader");function lm(t){return t===!1||t==null?t:U.isArray(t)?t.map(lm):String(t)}a(lm,"normalizeValue");function $re(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}a($re,"parseTokens");const Bre=a(t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()),"isValidHeaderName");function $1(t,e,n,r,i){if(U.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!U.isString(e)){if(U.isString(r))return e.indexOf(r)!==-1;if(U.isRegExp(r))return r.test(e)}}a($1,"matchHeaderValue");function Ure(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}a(Ure,"formatHeader");function zre(t,e){const n=U.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:a(function(i,s,o){return this[r].call(this,e,i,s,o)},"value"),configurable:!0})})}a(zre,"buildAccessors");class Un{static{a(this,"AxiosHeaders")}constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,u,c){const f=Qc(u);if(!f)throw new Error("header name must be a non-empty string");const h=U.findKey(i,f);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||u]=lm(l))}a(s,"setHeader");const o=a((l,u)=>U.forEach(l,(c,f)=>s(c,f,u)),"setHeaders");if(U.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(U.isString(e)&&(e=e.trim())&&!Bre(e))o(Fre(e),n);else if(U.isObject(e)&&U.isIterable(e)){let l={},u,c;for(const f of e){if(!U.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[c=f[0]]=(u=l[c])?U.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(l,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=Qc(e),e){const r=U.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return $re(i);if(U.isFunction(n))return n.call(this,i,r);if(U.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Qc(e),e){const r=U.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||$1(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Qc(o),o){const l=U.findKey(r,o);l&&(!n||$1(r,r[l],l,n))&&(delete r[l],i=!0)}}return a(s,"deleteHeader"),U.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||$1(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return U.forEach(this,(i,s)=>{const o=U.findKey(r,s);if(o){n[o]=lm(i),delete n[s];return}const l=e?Ure(s):String(s).trim();l!==s&&delete n[s],n[l]=lm(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return U.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&U.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Vx]=this[Vx]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=Qc(o);r[l]||(zre(i,o),r[l]=!0)}return a(s,"defineAccessor"),U.isArray(e)?e.forEach(s):s(e),this}}Un.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(Un.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:a(()=>t,"get"),set(r){this[n]=r}}});U.freezeMethods(Un);function B1(t,e){const n=this||_d,r=e||n,i=Un.from(r.headers);let s=r.data;return U.forEach(t,a(function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)},"transform")),i.normalize(),s}a(B1,"transformData");function qM(t){return!!(t&&t.__CANCEL__)}a(qM,"isCancel");function _c(t,e,n){ve.call(this,t??"canceled",ve.ERR_CANCELED,e,n),this.name="CanceledError"}a(_c,"CanceledError");U.inherits(_c,ve,{__CANCEL__:!0});function GM(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ve("Request failed with status code "+n.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}a(GM,"settle");function jre(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}a(jre,"parseProtocol");function Vre(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,a(function(u){const c=Date.now(),f=r[s];o||(o=c),n[i]=u,r[i]=c;let h=s,p=0;for(;h!==i;)p+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const m=f&&c-f;return m?Math.round(p*1e3/m):void 0},"push")}a(Vre,"speedometer");function Wre(t,e){let n=0,r=1e3/e,i,s;const o=a((c,f=Date.now())=>{n=f,i=null,s&&(clearTimeout(s),s=null),t(...c)},"invoke");return[a((...c)=>{const f=Date.now(),h=f-n;h>=r?o(c,f):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},"throttled"),a(()=>i&&o(i),"flush")]}a(Wre,"throttle");const ag=a((t,e,n=3)=>{let r=0;const i=Vre(50,250);return Wre(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,u=o-r,c=i(u),f=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:c||void 0,estimated:c&&l&&f?(l-o)/c:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},n)},"progressEventReducer"),Wx=a((t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},"progressEventDecorator"),Hx=a(t=>(...e)=>U.asap(()=>t(...e)),"asyncDecorator"),Hre=ln.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ln.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ln.origin),ln.navigator&&/(msie|trident)/i.test(ln.navigator.userAgent)):()=>!0,qre=ln.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];U.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),U.isString(r)&&o.push("path="+r),U.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Gre(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}a(Gre,"isAbsoluteURL");function Kre(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}a(Kre,"combineURLs");function KM(t,e,n){let r=!Gre(e);return t&&(r||n==!1)?Kre(t,e):e}a(KM,"buildFullPath");const qx=a(t=>t instanceof Un?{...t}:t,"headersToObject");function Xa(t,e){e=e||{};const n={};function r(c,f,h,p){return U.isPlainObject(c)&&U.isPlainObject(f)?U.merge.call({caseless:p},c,f):U.isPlainObject(f)?U.merge({},f):U.isArray(f)?f.slice():f}a(r,"getMergedValue");function i(c,f,h,p){if(U.isUndefined(f)){if(!U.isUndefined(c))return r(void 0,c,h,p)}else return r(c,f,h,p)}a(i,"mergeDeepProperties");function s(c,f){if(!U.isUndefined(f))return r(void 0,f)}a(s,"valueFromConfig2");function o(c,f){if(U.isUndefined(f)){if(!U.isUndefined(c))return r(void 0,c)}else return r(void 0,f)}a(o,"defaultToConfig2");function l(c,f,h){if(h in e)return r(c,f);if(h in t)return r(void 0,c)}a(l,"mergeDirectKeys");const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:a((c,f,h)=>i(qx(c),qx(f),h,!0),"headers")};return U.forEach(Object.keys({...t,...e}),a(function(f){const h=u[f]||i,p=h(t[f],e[f],f);U.isUndefined(p)&&h!==l||(n[f]=p)},"computeConfigValue")),n}a(Xa,"mergeConfig");const YM=a(t=>{const e=Xa({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=Un.from(o),e.url=VM(KM(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(U.isFormData(n)){if(ln.hasStandardBrowserEnv||ln.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[c,...f]=u?u.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...f].join("; "))}}if(ln.hasStandardBrowserEnv&&(r&&U.isFunction(r)&&(r=r(e)),r||r!==!1&&Hre(e.url))){const c=i&&s&&qre.read(s);c&&o.set(i,c)}return e},"resolveConfig"),Yre=typeof XMLHttpRequest<"u",Jre=Yre&&function(t){return new Promise(a(function(n,r){const i=YM(t);let s=i.data;const o=Un.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:c}=i,f,h,p,m,g;function y(){m&&m(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}a(y,"done");let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function w(){if(!_)return;const T=Un.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),O={data:!l||l==="text"||l==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:T,config:t,request:_};GM(a(function(k){n(k),y()},"_resolve"),a(function(k){r(k),y()},"_reject"),O),_=null}a(w,"onloadend"),"onloadend"in _?_.onloadend=w:_.onreadystatechange=a(function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(w)},"handleLoad"),_.onabort=a(function(){_&&(r(new ve("Request aborted",ve.ECONNABORTED,t,_)),_=null)},"handleAbort"),_.onerror=a(function(){r(new ve("Network Error",ve.ERR_NETWORK,t,_)),_=null},"handleError"),_.ontimeout=a(function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const O=i.transitional||WM;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),r(new ve(N,O.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,t,_)),_=null},"handleTimeout"),s===void 0&&o.setContentType(null),"setRequestHeader"in _&&U.forEach(o.toJSON(),a(function(N,O){_.setRequestHeader(O,N)},"setRequestHeader")),U.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),l&&l!=="json"&&(_.responseType=i.responseType),c&&([p,g]=ag(c,!0),_.addEventListener("progress",p)),u&&_.upload&&([h,m]=ag(u),_.upload.addEventListener("progress",h),_.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(f=a(T=>{_&&(r(!T||T.type?new _c(null,t,_):T),_.abort(),_=null)},"onCanceled"),i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const S=jre(i.url);if(S&&ln.protocols.indexOf(S)===-1){r(new ve("Unsupported protocol "+S+":",ve.ERR_BAD_REQUEST,t));return}_.send(s||null)},"dispatchXhrRequest"))},Xre=a((t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=a(function(c){if(!i){i=!0,l();const f=c instanceof Error?c:this.reason;r.abort(f instanceof ve?f:new _c(f instanceof Error?f.message:f))}},"onabort");let o=e&&setTimeout(()=>{o=null,s(new ve(`timeout ${e} of ms exceeded`,ve.ETIMEDOUT))},e);const l=a(()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)},"unsubscribe");t.forEach(c=>c.addEventListener("abort",s));const{signal:u}=r;return u.unsubscribe=()=>U.asap(l),u}},"composeSignals"),Zre=a(function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},"streamChunk"),Qre=a(async function*(t,e){for await(const n of eie(t))yield*Zre(n,e)},"readBytes"),eie=a(async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},"readStream"),Gx=a((t,e,n,r)=>{const i=Qre(t,e);let s=0,o,l=a(u=>{o||(o=!0,r&&r(u))},"_onFinish");return new ReadableStream({async pull(u){try{const{done:c,value:f}=await i.next();if(c){l(),u.close();return}let h=f.byteLength;if(n){let p=s+=h;n(p)}u.enqueue(new Uint8Array(f))}catch(c){throw l(c),c}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},"trackStream"),wy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",JM=wy&&typeof ReadableStream=="function",tie=wy&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),XM=a((t,...e)=>{try{return!!t(...e)}catch{return!1}},"test"),nie=JM&&XM(()=>{let t=!1;const e=new Request(ln.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Kx=64*1024,iw=JM&&XM(()=>U.isReadableStream(new Response("").body)),lg={stream:iw&&(t=>t.body)};wy&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!lg[e]&&(lg[e]=U.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ve(`Response type '${e}' is not supported`,ve.ERR_NOT_SUPPORT,r)})})})(new Response);const rie=a(async t=>{if(t==null)return 0;if(U.isBlob(t))return t.size;if(U.isSpecCompliantForm(t))return(await new Request(ln.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(U.isArrayBufferView(t)||U.isArrayBuffer(t))return t.byteLength;if(U.isURLSearchParams(t)&&(t=t+""),U.isString(t))return(await tie(t)).byteLength},"getBodyLength"),iie=a(async(t,e)=>{const n=U.toFiniteNumber(t.getContentLength());return n??rie(e)},"resolveBodyLength"),sie=wy&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:u,responseType:c,headers:f,withCredentials:h="same-origin",fetchOptions:p}=YM(t);c=c?(c+"").toLowerCase():"text";let m=Xre([i,s&&s.toAbortSignal()],o),g;const y=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let _;try{if(u&&nie&&n!=="get"&&n!=="head"&&(_=await iie(f,r))!==0){let O=new Request(e,{method:"POST",body:r,duplex:"half"}),M;if(U.isFormData(r)&&(M=O.headers.get("content-type"))&&f.setContentType(M),O.body){const[k,v]=Wx(_,ag(Hx(u)));r=Gx(O.body,Kx,k,v)}}U.isString(h)||(h=h?"include":"omit");const w="credentials"in Request.prototype;g=new Request(e,{...p,signal:m,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:w?h:void 0});let S=await fetch(g,p);const T=iw&&(c==="stream"||c==="response");if(iw&&(l||T&&y)){const O={};["status","statusText","headers"].forEach(A=>{O[A]=S[A]});const M=U.toFiniteNumber(S.headers.get("content-length")),[k,v]=l&&Wx(M,ag(Hx(l),!0))||[];S=new Response(Gx(S.body,Kx,k,()=>{v&&v(),y&&y()}),O)}c=c||"text";let N=await lg[U.findKey(lg,c)||"text"](S,t);return!T&&y&&y(),await new Promise((O,M)=>{GM(O,M,{data:N,headers:Un.from(S.headers),status:S.status,statusText:S.statusText,config:t,request:g})})}catch(w){throw y&&y(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new ve("Network Error",ve.ERR_NETWORK,t,g),{cause:w.cause||w}):ve.from(w,w&&w.code,t,g)}}),sw={http:wre,xhr:Jre,fetch:sie};U.forEach(sw,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Yx=a(t=>`- ${t}`,"renderReason"),oie=a(t=>U.isFunction(t)||t===null||t===!1,"isResolvedHandle"),ZM={getAdapter:a(t=>{t=U.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!oie(n)&&(r=sw[(o=String(n)).toLowerCase()],r===void 0))throw new ve(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Yx).join(`
`):" "+Yx(s[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},"getAdapter"),adapters:sw};function U1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new _c(null,t)}a(U1,"throwIfCancellationRequested");function Jx(t){return U1(t),t.headers=Un.from(t.headers),t.data=B1.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ZM.getAdapter(t.adapter||_d.adapter)(t).then(a(function(r){return U1(t),r.data=B1.call(t,t.transformResponse,r),r.headers=Un.from(r.headers),r},"onAdapterResolution"),a(function(r){return qM(r)||(U1(t),r&&r.response&&(r.response.data=B1.call(t,t.transformResponse,r.response),r.response.headers=Un.from(r.response.headers))),Promise.reject(r)},"onAdapterRejection"))}a(Jx,"dispatchRequest");const QM="1.11.0",Ey={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ey[t]=a(function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t},"validator")});const Xx={};Ey.transitional=a(function(e,n,r){function i(s,o){return"[Axios v"+QM+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return a(i,"formatMessage"),(s,o,l)=>{if(e===!1)throw new ve(i(o," has been removed"+(n?" in "+n:"")),ve.ERR_DEPRECATED);return n&&!Xx[o]&&(Xx[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}},"transitional");Ey.spelling=a(function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)},"spelling");function aie(t,e,n){if(typeof t!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],u=l===void 0||o(l,s,t);if(u!==!0)throw new ve("option "+s+" must be "+u,ve.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ve("Unknown option "+s,ve.ERR_BAD_OPTION)}}a(aie,"assertOptions");const um={assertOptions:aie,validators:Ey},_i=um.validators;class xa{static{a(this,"Axios")}constructor(e){this.defaults=e||{},this.interceptors={request:new jx,response:new jx}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Xa(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&um.assertOptions(r,{silentJSONParsing:_i.transitional(_i.boolean),forcedJSONParsing:_i.transitional(_i.boolean),clarifyTimeoutError:_i.transitional(_i.boolean)},!1),i!=null&&(U.isFunction(i)?n.paramsSerializer={serialize:i}:um.assertOptions(i,{encode:_i.function,serialize:_i.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),um.assertOptions(n,{baseUrl:_i.spelling("baseURL"),withXsrfToken:_i.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&U.merge(s.common,s[n.method]);s&&U.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=Un.concat(o,s);const l=[];let u=!0;this.interceptors.request.forEach(a(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(u=u&&y.synchronous,l.unshift(y.fulfilled,y.rejected))},"unshiftRequestInterceptors"));const c=[];this.interceptors.response.forEach(a(function(y){c.push(y.fulfilled,y.rejected)},"pushResponseInterceptors"));let f,h=0,p;if(!u){const g=[Jx.bind(this),void 0];for(g.unshift(...l),g.push(...c),p=g.length,f=Promise.resolve(n);h<p;)f=f.then(g[h++],g[h++]);return f}p=l.length;let m=n;for(h=0;h<p;){const g=l[h++],y=l[h++];try{m=g(m)}catch(_){y.call(this,_);break}}try{f=Jx.call(this,m)}catch(g){return Promise.reject(g)}for(h=0,p=c.length;h<p;)f=f.then(c[h++],c[h++]);return f}getUri(e){e=Xa(this.defaults,e);const n=KM(e.baseURL,e.url,e.allowAbsoluteUrls);return VM(n,e.params,e.paramsSerializer)}}U.forEach(["delete","get","head","options"],a(function(e){xa.prototype[e]=function(n,r){return this.request(Xa(r||{},{method:e,url:n,data:(r||{}).data}))}},"forEachMethodNoData"));U.forEach(["post","put","patch"],a(function(e){function n(r){return a(function(s,o,l){return this.request(Xa(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))},"httpMethod")}a(n,"generateHTTPMethod"),xa.prototype[e]=n(),xa.prototype[e+"Form"]=n(!0)},"forEachMethodWithData"));class _S{static{a(this,"CancelToken")}constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(a(function(s){n=s},"promiseExecutor"));const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=a(function(){r.unsubscribe(s)},"reject"),o},e(a(function(s,o,l){r.reason||(r.reason=new _c(s,o,l),n(r.reason))},"cancel"))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=a(r=>{e.abort(r)},"abort");return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new _S(a(function(i){e=i},"executor")),cancel:e}}}function lie(t){return a(function(n){return t.apply(null,n)},"wrap")}a(lie,"spread");function uie(t){return U.isObject(t)&&t.isAxiosError===!0}a(uie,"isAxiosError");const ow={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ow).forEach(([t,e])=>{ow[e]=t});function eP(t){const e=new xa(t),n=OM(xa.prototype.request,e);return U.extend(n,xa.prototype,e,{allOwnKeys:!0}),U.extend(n,e,null,{allOwnKeys:!0}),n.create=a(function(i){return eP(Xa(t,i))},"create"),n}a(eP,"createInstance");const Ot=eP(_d);Ot.Axios=xa;Ot.CanceledError=_c;Ot.CancelToken=_S;Ot.isCancel=qM;Ot.VERSION=QM;Ot.toFormData=by;Ot.AxiosError=ve;Ot.Cancel=Ot.CanceledError;Ot.all=a(function(e){return Promise.all(e)},"all");Ot.spread=lie;Ot.isAxiosError=uie;Ot.mergeConfig=Xa;Ot.AxiosHeaders=Un;Ot.formToJSON=t=>HM(U.isHTMLForm(t)?new FormData(t):t);Ot.getAdapter=ZM.getAdapter;Ot.HttpStatusCode=ow;Ot.default=Ot;var tP={exports:{}};(function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(Qb,function(){var e=a(function(){},"noop"),n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],s={},o=null;function l(y,_){var w=y[_];if(typeof w.bind=="function")return w.bind(y);try{return Function.prototype.bind.call(w,y)}catch{return function(){return Function.prototype.apply.apply(w,[y,arguments])}}}a(l,"bindMethod");function u(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments]))}a(u,"traceForIE");function c(y){return y==="debug"&&(y="log"),typeof console===n?!1:y==="trace"&&r?u:console[y]!==void 0?l(console,y):console.log!==void 0?l(console,"log"):e}a(c,"realMethod");function f(){for(var y=this.getLevel(),_=0;_<i.length;_++){var w=i[_];this[w]=_<y?e:this.methodFactory(w,y,this.name)}if(this.log=this.debug,typeof console===n&&y<this.levels.SILENT)return"No console available for logging"}a(f,"replaceLoggingMethods");function h(y){return function(){typeof console!==n&&(f.call(this),this[y].apply(this,arguments))}}a(h,"enableLoggingWhenConsoleArrives");function p(y,_,w){return c(y)||h.apply(this,arguments)}a(p,"defaultMethodFactory");function m(y,_){var w=this,S,T,N,O="loglevel";typeof y=="string"?O+=":"+y:typeof y=="symbol"&&(O=void 0);function M(x){var I=(i[x]||"silent").toUpperCase();if(!(typeof window===n||!O)){try{window.localStorage[O]=I;return}catch{}try{window.document.cookie=encodeURIComponent(O)+"="+I+";"}catch{}}}a(M,"persistLevelIfPossible");function k(){var x;if(!(typeof window===n||!O)){try{x=window.localStorage[O]}catch{}if(typeof x===n)try{var I=window.document.cookie,D=encodeURIComponent(O),$=I.indexOf(D+"=");$!==-1&&(x=/^([^;]+)/.exec(I.slice($+D.length+1))[1])}catch{}return w.levels[x]===void 0&&(x=void 0),x}}a(k,"getPersistedLevel");function v(){if(!(typeof window===n||!O)){try{window.localStorage.removeItem(O)}catch{}try{window.document.cookie=encodeURIComponent(O)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}a(v,"clearPersistedLevel");function A(x){var I=x;if(typeof I=="string"&&w.levels[I.toUpperCase()]!==void 0&&(I=w.levels[I.toUpperCase()]),typeof I=="number"&&I>=0&&I<=w.levels.SILENT)return I;throw new TypeError("log.setLevel() called with invalid level: "+x)}a(A,"normalizeLevel"),w.name=y,w.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},w.methodFactory=_||p,w.getLevel=function(){return N??T??S},w.setLevel=function(x,I){return N=A(x),I!==!1&&M(N),f.call(w)},w.setDefaultLevel=function(x){T=A(x),k()||w.setLevel(x,!1)},w.resetLevel=function(){N=null,v(),f.call(w)},w.enableAll=function(x){w.setLevel(w.levels.TRACE,x)},w.disableAll=function(x){w.setLevel(w.levels.SILENT,x)},w.rebuild=function(){if(o!==w&&(S=A(o.getLevel())),f.call(w),o===w)for(var x in s)s[x].rebuild()},S=A(o?o.getLevel():"WARN");var C=k();C!=null&&(N=A(C)),f.call(w)}a(m,"Logger"),o=new m,o.getLogger=a(function(_){if(typeof _!="symbol"&&typeof _!="string"||_==="")throw new TypeError("You must supply a name when creating a logger.");var w=s[_];return w||(w=s[_]=new m(_,o.methodFactory)),w},"getLogger");var g=typeof window!==n?window.log:void 0;return o.noConflict=function(){return typeof window!==n&&window.log===o&&(window.log=g),o},o.getLoggers=a(function(){return s},"getLoggers"),o.default=o,o})})(tP);var cie=tP.exports;const Kve=oS(cie),Jr=a(()=>new Map,"create$6"),aw=a(t=>{const e=Jr();return t.forEach((n,r)=>{e.set(r,n)}),e},"copy$1"),Qo=a((t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},"setIfUndefined"),fie=a((t,e)=>{const n=[];for(const[r,i]of t)n.push(e(i,r));return n},"map$1"),hie=a((t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1},"any"),$u=a(()=>new Set,"create$5"),z1=a(t=>t[t.length-1],"last"),die=a((t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},"appendTo"),Za=Array.from,pie=Array.isArray;class mie{static{a(this,"ObservableV2")}constructor(){this._observers=Jr()}on(e,n){return Qo(this._observers,e,$u).add(n),n}once(e,n){const r=a((...i)=>{this.off(e,r),n(...i)},"_f");this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return Za((this._observers.get(e)||Jr()).values()).forEach(r=>r(...n))}destroy(){this._observers=Jr()}}const Fo=Math.floor,cm=Math.abs,nP=a((t,e)=>t<e?t:e,"min"),Tl=a((t,e)=>t>e?t:e,"max"),rP=a(t=>t!==0?t<0:1/t<0,"isNegativeZero"),Zx=1,Qx=2,j1=4,V1=8,lh=32,Is=64,sr=128,vy=31,lw=63,Ca=127,gie=2147483647,iP=Number.MAX_SAFE_INTEGER,yie=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&Fo(t)===t),_ie=a(t=>t.toLowerCase(),"toLowerCase"),bie=/^\s*/g,wie=a(t=>t.replace(bie,""),"trimLeft"),Eie=/([A-Z])/g,eC=a((t,e)=>wie(t.replace(Eie,n=>`${e}${_ie(n)}`)),"fromCamelCase"),vie=a(t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.codePointAt(i);return r},"_encodeUtf8Polyfill"),uh=typeof TextEncoder<"u"?new TextEncoder:null,Sie=a(t=>uh.encode(t),"_encodeUtf8Native"),kie=uh?Sie:vie;let $f=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});$f&&$f.decode(new Uint8Array).length===1&&($f=null);class bd{static{a(this,"Encoder")}constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Sy=a(()=>new bd,"createEncoder"),Aie=a(t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},"length"),Ci=a(t=>{const e=new Uint8Array(Aie(t));let n=0;for(let r=0;r<t.bufs.length;r++){const i=t.bufs[r];e.set(i,n),n+=i.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},"toUint8Array"),Tie=a((t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Tl(n,e)*2),t.cpos=0)},"verifyLen"),$t=a((t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},"write"),uw=$t,ze=a((t,e)=>{for(;e>Ca;)$t(t,sr|Ca&e),e=Fo(e/128);$t(t,Ca&e)},"writeVarUint"),bS=a((t,e)=>{const n=rP(e);for(n&&(e=-e),$t(t,(e>lw?sr:0)|(n?Is:0)|lw&e),e=Fo(e/64);e>0;)$t(t,(e>Ca?sr:0)|Ca&e),e=Fo(e/128)},"writeVarInt"),cw=new Uint8Array(3e4),xie=cw.length/3,Cie=a((t,e)=>{if(e.length<xie){const n=uh.encodeInto(e,cw).written||0;ze(t,n);for(let r=0;r<n;r++)$t(t,cw[r])}else Yn(t,kie(e))},"_writeVarStringNative"),Iie=a((t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;ze(t,r);for(let i=0;i<r;i++)$t(t,n.codePointAt(i))},"_writeVarStringPolyfill"),fu=uh&&uh.encodeInto?Cie:Iie,ky=a((t,e)=>{const n=t.cbuf.length,r=t.cpos,i=nP(n-r,e.length),s=e.length-i;t.cbuf.set(e.subarray(0,i),r),t.cpos+=i,s>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Tl(n*2,s)),t.cbuf.set(e.subarray(i)),t.cpos=s)},"writeUint8Array"),Yn=a((t,e)=>{ze(t,e.byteLength),ky(t,e)},"writeVarUint8Array"),wS=a((t,e)=>{Tie(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},"writeOnDataView"),Rie=a((t,e)=>wS(t,4).setFloat32(0,e,!1),"writeFloat32"),Oie=a((t,e)=>wS(t,8).setFloat64(0,e,!1),"writeFloat64"),Nie=a((t,e)=>wS(t,8).setBigInt64(0,e,!1),"writeBigInt64"),tC=new DataView(new ArrayBuffer(4)),Die=a(t=>(tC.setFloat32(0,t),tC.getFloat32(0)===t),"isFloat32"),ch=a((t,e)=>{switch(typeof e){case"string":$t(t,119),fu(t,e);break;case"number":yie(e)&&cm(e)<=gie?($t(t,125),bS(t,e)):Die(e)?($t(t,124),Rie(t,e)):($t(t,123),Oie(t,e));break;case"bigint":$t(t,122),Nie(t,e);break;case"object":if(e===null)$t(t,126);else if(pie(e)){$t(t,117),ze(t,e.length);for(let n=0;n<e.length;n++)ch(t,e[n])}else if(e instanceof Uint8Array)$t(t,116),Yn(t,e);else{$t(t,118);const n=Object.keys(e);ze(t,n.length);for(let r=0;r<n.length;r++){const i=n[r];fu(t,i),ch(t,e[i])}}break;case"boolean":$t(t,e?120:121);break;default:$t(t,127)}},"writeAny");class nC extends bd{static{a(this,"RleEncoder")}constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&ze(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const rC=a(t=>{t.count>0&&(bS(t.encoder,t.count===1?t.s:-t.s),t.count>1&&ze(t.encoder,t.count-2))},"flushUintOptRleEncoder");class fm{static{a(this,"UintOptRleEncoder")}constructor(){this.encoder=new bd,this.s=0,this.count=0}write(e){this.s===e?this.count++:(rC(this),this.count=1,this.s=e)}toUint8Array(){return rC(this),Ci(this.encoder)}}const iC=a(t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);bS(t.encoder,e),t.count>1&&ze(t.encoder,t.count-2)}},"flushIntDiffOptRleEncoder");class W1{static{a(this,"IntDiffOptRleEncoder")}constructor(){this.encoder=new bd,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(iC(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return iC(this),Ci(this.encoder)}}class Mie{static{a(this,"StringEncoder")}constructor(){this.sarr=[],this.s="",this.lensE=new fm}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new bd;return this.sarr.push(this.s),this.s="",fu(e,this.sarr.join("")),ky(e,this.lensE.toUint8Array()),Ci(e)}}const $o=a(t=>new Error(t),"create$4"),Mi=a(()=>{throw $o("Method unimplemented")},"methodUnimplemented"),Ui=a(()=>{throw $o("Unexpected case")},"unexpectedCase"),sP=$o("Unexpected end of array"),oP=$o("Integer out of Range");class Ay{static{a(this,"Decoder")}constructor(e){this.arr=e,this.pos=0}}const bc=a(t=>new Ay(t),"createDecoder"),Pie=a(t=>t.pos!==t.arr.length,"hasContent"),Lie=a((t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},"readUint8Array"),Jn=a(t=>Lie(t,Ie(t)),"readVarUint8Array"),Bu=a(t=>t.arr[t.pos++],"readUint8"),Ie=a(t=>{let e=0,n=1;const r=t.arr.length;for(;t.pos<r;){const i=t.arr[t.pos++];if(e=e+(i&Ca)*n,n*=128,i<sr)return e;if(e>iP)throw oP}throw sP},"readVarUint"),ES=a(t=>{let e=t.arr[t.pos++],n=e&lw,r=64;const i=(e&Is)>0?-1:1;if(!(e&sr))return i*n;const s=t.arr.length;for(;t.pos<s;){if(e=t.arr[t.pos++],n=n+(e&Ca)*r,r*=128,e<sr)return i*n;if(n>iP)throw oP}throw sP},"readVarInt"),Fie=a(t=>{let e=Ie(t);if(e===0)return"";{let n=String.fromCodePoint(Bu(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(Bu(t));else for(;e>0;){const r=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,n+=String.fromCodePoint.apply(null,i),e-=r}return decodeURIComponent(escape(n))}},"_readVarStringPolyfill"),$ie=a(t=>$f.decode(Jn(t)),"_readVarStringNative"),hu=$f?$ie:Fie,vS=a((t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},"readFromDataView"),Bie=a(t=>vS(t,4).getFloat32(0,!1),"readFloat32"),Uie=a(t=>vS(t,8).getFloat64(0,!1),"readFloat64"),zie=a(t=>vS(t,8).getBigInt64(0,!1),"readBigInt64"),jie=[t=>{},t=>null,ES,Bie,Uie,zie,t=>!1,t=>!0,hu,t=>{const e=Ie(t),n={};for(let r=0;r<e;r++){const i=hu(t);n[i]=fh(t)}return n},t=>{const e=Ie(t),n=[];for(let r=0;r<e;r++)n.push(fh(t));return n},Jn],fh=a(t=>jie[127-Bu(t)](t),"readAny");class sC extends Ay{static{a(this,"RleDecoder")}constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),Pie(this)?this.count=Ie(this)+1:this.count=-1),this.count--,this.s}}class hm extends Ay{static{a(this,"UintOptRleDecoder")}constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=ES(this);const e=rP(this.s);this.count=1,e&&(this.s=-this.s,this.count=Ie(this)+2)}return this.count--,this.s}}class H1 extends Ay{static{a(this,"IntDiffOptRleDecoder")}constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=ES(this),n=e&1;this.diff=Fo(e/2),this.count=1,n&&(this.count=Ie(this)+2)}return this.s+=this.diff,this.count--,this.s}}class Vie{static{a(this,"StringDecoder")}constructor(e){this.decoder=new hm(e),this.str=hu(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const Wie=crypto.getRandomValues.bind(crypto),aP=a(()=>Wie(new Uint32Array(1))[0],"uint32"),Hie="10000000-1000-4000-8000"+-1e11,qie=a(()=>Hie.replace(/[018]/g,t=>(t^aP()&15>>t/4).toString(16)),"uuidv4"),oC=a(t=>new Promise(t),"create$3");Promise.all.bind(Promise);const aC=a(t=>t===void 0?null:t,"undefinedToNull");class Gie{static{a(this,"VarStoragePolyfill")}constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let lP=new Gie,Kie=!0;try{typeof localStorage<"u"&&localStorage&&(lP=localStorage,Kie=!1)}catch{}const Yie=lP,Jie=Object.assign,Xie=Object.keys,Zie=a((t,e)=>{for(const n in t)e(t[n],n)},"forEach"),lC=a(t=>Xie(t).length,"size"),Qie=a(t=>{for(const e in t)return!1;return!0},"isEmpty$1"),ese=a((t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},"every"),tse=a((t,e)=>Object.prototype.hasOwnProperty.call(t,e),"hasProperty"),nse=a((t,e)=>t===e||lC(t)===lC(e)&&ese(t,(n,r)=>(n!==void 0||tse(e,r))&&e[r]===n),"equalFlat"),rse=Object.freeze,uP=a(t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&uP(t[e])}return rse(t)},"deepFreeze"),SS=a((t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&SS(t,e,n+1)}},"callAll"),ise=a(t=>t,"id"),sse=a((t,e)=>e.includes(t),"isOneOf");var cP={};const hh=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]";let bi;const ose=a(()=>{if(bi===void 0)if(hh){bi=Jr();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&bi.set(e,""),e=r):e!==null&&(bi.set(e,r),e=null)}e!==null&&bi.set(e,"")}else typeof location=="object"?(bi=Jr(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");bi.set(`--${eC(e,"-")}`,n),bi.set(`-${eC(e,"-")}`,n)}})):bi=Jr();return bi},"computeParams"),fw=a(t=>ose().has(t),"hasParam"),ug=a(t=>aC(hh?cP[t.toUpperCase().replaceAll("-","_")]:Yie.getItem(t)),"getVariable"),fP=a(t=>fw("--"+t)||ug(t)!==null,"hasConf");fP("production");const ase=hh&&sse(cP.FORCE_COLOR,["true","1","2"]),lse=ase||!fw("--no-colors")&&!fP("no-color")&&(!hh||process.stdout.isTTY)&&(!hh||fw("--color")||ug("COLORTERM")!==null||(ug("TERM")||"").includes("color")),use=a(t=>new Uint8Array(t),"createUint8ArrayFromLen"),cse=a(t=>{const e=use(t.byteLength);return e.set(t),e},"copyUint8Array");class fse{static{a(this,"Pair")}constructor(e,n){this.left=e,this.right=n}}const us=a((t,e)=>new fse(t,e),"create$2");typeof DOMParser<"u"&&new DOMParser;const hse=a(t=>fie(t,(e,n)=>`${n}:${e};`).join(""),"mapToStyleString"),zs=Symbol,hP=zs(),dP=zs(),dse=zs(),pse=zs(),mse=zs(),pP=zs(),gse=zs(),kS=zs(),yse=zs(),_se=a(t=>{t.length===1&&t[0]?.constructor===Function&&(t=t[0]());const e=[],n=[];let r=0;for(;r<t.length;r++){const i=t[r];if(i===void 0)break;if(i.constructor===String||i.constructor===Number)e.push(i);else if(i.constructor===Object)break}for(r>0&&n.push(e.join(""));r<t.length;r++){const i=t[r];i instanceof Symbol||n.push(i)}return n},"computeNoColorLoggingArgs"),bse={[hP]:us("font-weight","bold"),[dP]:us("font-weight","normal"),[dse]:us("color","blue"),[mse]:us("color","green"),[pse]:us("color","grey"),[pP]:us("color","red"),[gse]:us("color","purple"),[kS]:us("color","orange"),[yse]:us("color","black")},wse=a(t=>{t.length===1&&t[0]?.constructor===Function&&(t=t[0]());const e=[],n=[],r=Jr();let i=[],s=0;for(;s<t.length;s++){const o=t[s],l=bse[o];if(l!==void 0)r.set(l.left,l.right);else{if(o===void 0)break;if(o.constructor===String||o.constructor===Number){const u=hse(r);s>0||u.length>0?(e.push("%c"+o),n.push(u)):e.push(o)}else break}}for(s>0&&(i=n,i.unshift(e.join("")));s<t.length;s++){const o=t[s];o instanceof Symbol||i.push(o)}return i},"computeBrowserLoggingArgs"),mP=lse?wse:_se,Ese=a((...t)=>{[...mP(t)],gP.forEach(e=>e.print(t))},"print"),vse=a((...t)=>{console.warn(...mP(t)),t.unshift(kS),gP.forEach(e=>e.print(t))},"warn$1"),gP=$u(),yP=a(t=>({[Symbol.iterator](){return this},next:t}),"createIterator"),Sse=a((t,e)=>yP(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),"iteratorFilter"),q1=a((t,e)=>yP(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}}),"iteratorMap");class AS{static{a(this,"DeleteItem")}constructor(e,n){this.clock=e,this.len=n}}class wd{static{a(this,"DeleteSet")}constructor(){this.clients=new Map}}const _P=a((t,e,n)=>e.clients.forEach((r,i)=>{const s=t.doc.store.clients.get(i);if(s!=null){const o=s[s.length-1],l=o.id.clock+o.length;for(let u=0,c=r[u];u<r.length&&c.clock<l;c=r[++u])CP(t,s,c.clock,c.len,n)}}),"iterateDeletedStructs"),kse=a((t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const i=Fo((n+r)/2),s=t[i],o=s.clock;if(o<=e){if(e<o+s.len)return i;n=i+1}else r=i-1}return null},"findIndexDS"),bP=a((t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&kse(n,e.clock)!==null},"isDeleted"),TS=a(t=>{t.clients.forEach(e=>{e.sort((i,s)=>i.clock-s.clock);let n,r;for(n=1,r=1;n<e.length;n++){const i=e[r-1],s=e[n];i.clock+i.len>=s.clock?i.len=Tl(i.len,s.clock+s.len-i.clock):(r<n&&(e[r]=s),r++)}e.length=r})},"sortAndMergeDeleteSet"),Ase=a(t=>{const e=new wd;for(let n=0;n<t.length;n++)t[n].clients.forEach((r,i)=>{if(!e.clients.has(i)){const s=r.slice();for(let o=n+1;o<t.length;o++)die(s,t[o].clients.get(i)||[]);e.clients.set(i,s)}});return TS(e),e},"mergeDeleteSets"),cg=a((t,e,n,r)=>{Qo(t.clients,e,()=>[]).push(new AS(n,r))},"addToDeleteSet"),Tse=a(()=>new wd,"createDeleteSet"),xse=a(t=>{const e=Tse();return t.clients.forEach((n,r)=>{const i=[];for(let s=0;s<n.length;s++){const o=n[s];if(o.deleted){const l=o.id.clock;let u=o.length;if(s+1<n.length)for(let c=n[s+1];s+1<n.length&&c.deleted;c=n[++s+1])u+=c.length;i.push(new AS(l,u))}}i.length>0&&e.clients.set(r,i)}),e},"createDeleteSetFromStructStore"),wc=a((t,e)=>{ze(t.restEncoder,e.clients.size),Za(e.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{t.resetDsCurVal(),ze(t.restEncoder,n);const i=r.length;ze(t.restEncoder,i);for(let s=0;s<i;s++){const o=r[s];t.writeDsClock(o.clock),t.writeDsLen(o.len)}})},"writeDeleteSet"),xS=a(t=>{const e=new wd,n=Ie(t.restDecoder);for(let r=0;r<n;r++){t.resetDsCurVal();const i=Ie(t.restDecoder),s=Ie(t.restDecoder);if(s>0){const o=Qo(e.clients,i,()=>[]);for(let l=0;l<s;l++)o.push(new AS(t.readDsClock(),t.readDsLen()))}}return e},"readDeleteSet"),uC=a((t,e,n)=>{const r=new wd,i=Ie(t.restDecoder);for(let s=0;s<i;s++){t.resetDsCurVal();const o=Ie(t.restDecoder),l=Ie(t.restDecoder),u=n.clients.get(o)||[],c=Vt(n,o);for(let f=0;f<l;f++){const h=t.readDsClock(),p=h+t.readDsLen();if(h<c){c<p&&cg(r,o,c,p-c);let m=zi(u,h),g=u[m];for(!g.deleted&&g.id.clock<h&&(u.splice(m+1,0,yg(e,g,h-g.id.clock)),m++);m<u.length&&(g=u[m++],g.id.clock<p);)g.deleted||(p<g.id.clock+g.length&&u.splice(m,0,yg(e,g,p-g.id.clock)),g.delete(e))}else cg(r,o,h,p-h)}}if(r.clients.size>0){const s=new Qa;return ze(s.restEncoder,0),wc(s,r),s.toUint8Array()}return null},"readAndApplyDeleteSet"),wP=aP;class Ed extends mie{static{a(this,"Doc")}constructor({guid:e=qie(),collectionid:n=null,gc:r=!0,gcFilter:i=a(()=>!0,"gcFilter"),meta:s=null,autoLoad:o=!1,shouldLoad:l=!0}={}){super(),this.gc=r,this.gcFilter=i,this.clientID=wP(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new TP,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=l,this.autoLoad=o,this.meta=s,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=oC(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});const u=a(()=>oC(c=>{const f=a(h=>{(h===void 0||h===!0)&&(this.off("sync",f),c())},"eventHandler");this.on("sync",f)}),"provideSyncedPromise");this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=u()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=u()}load(){const e=this._item;e!==null&&!this.shouldLoad&&it(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Za(this.subdocs).map(e=>e.guid))}transact(e,n=null){return it(this,e,n)}get(e,n=Qt){const r=Qo(this.share,e,()=>{const s=new n;return s._integrate(this,null),s}),i=r.constructor;if(n!==Qt&&i!==n)if(i===Qt){const s=new n;s._map=r._map,r._map.forEach(o=>{for(;o!==null;o=o.left)o.parent=s}),s._start=r._start;for(let o=s._start;o!==null;o=o.right)o.parent=s;return s._length=r._length,this.share.set(e,s),s._integrate(this,null),s}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return r}getArray(e=""){return this.get(e,pu)}getText(e=""){return this.get(e,ju)}getMap(e=""){return this.get(e,zu)}getXmlElement(e=""){return this.get(e,Vu)}getXmlFragment(e=""){return this.get(e,el)}toJSON(){const e={};return this.share.forEach((n,r)=>{e[r]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,Za(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new Ed({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,it(e.parent.doc,r=>{const i=n.doc;e.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class EP{static{a(this,"DSDecoderV1")}constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return Ie(this.restDecoder)}readDsLen(){return Ie(this.restDecoder)}}class vP extends EP{static{a(this,"UpdateDecoderV1")}readLeftID(){return Le(Ie(this.restDecoder),Ie(this.restDecoder))}readRightID(){return Le(Ie(this.restDecoder),Ie(this.restDecoder))}readClient(){return Ie(this.restDecoder)}readInfo(){return Bu(this.restDecoder)}readString(){return hu(this.restDecoder)}readParentInfo(){return Ie(this.restDecoder)===1}readTypeRef(){return Ie(this.restDecoder)}readLen(){return Ie(this.restDecoder)}readAny(){return fh(this.restDecoder)}readBuf(){return cse(Jn(this.restDecoder))}readJSON(){return JSON.parse(hu(this.restDecoder))}readKey(){return hu(this.restDecoder)}}class Cse{static{a(this,"DSDecoderV2")}constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Ie(this.restDecoder),this.dsCurrVal}readDsLen(){const e=Ie(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class Uu extends Cse{static{a(this,"UpdateDecoderV2")}constructor(e){super(e),this.keys=[],Ie(e),this.keyClockDecoder=new H1(Jn(e)),this.clientDecoder=new hm(Jn(e)),this.leftClockDecoder=new H1(Jn(e)),this.rightClockDecoder=new H1(Jn(e)),this.infoDecoder=new sC(Jn(e),Bu),this.stringDecoder=new Vie(Jn(e)),this.parentInfoDecoder=new sC(Jn(e),Bu),this.typeRefDecoder=new hm(Jn(e)),this.lenDecoder=new hm(Jn(e))}readLeftID(){return new du(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new du(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return fh(this.restDecoder)}readBuf(){return Jn(this.restDecoder)}readJSON(){return fh(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class Ise{static{a(this,"DSEncoderV1")}constructor(){this.restEncoder=Sy()}toUint8Array(){return Ci(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){ze(this.restEncoder,e)}writeDsLen(e){ze(this.restEncoder,e)}}class vd extends Ise{static{a(this,"UpdateEncoderV1")}writeLeftID(e){ze(this.restEncoder,e.client),ze(this.restEncoder,e.clock)}writeRightID(e){ze(this.restEncoder,e.client),ze(this.restEncoder,e.clock)}writeClient(e){ze(this.restEncoder,e)}writeInfo(e){uw(this.restEncoder,e)}writeString(e){fu(this.restEncoder,e)}writeParentInfo(e){ze(this.restEncoder,e?1:0)}writeTypeRef(e){ze(this.restEncoder,e)}writeLen(e){ze(this.restEncoder,e)}writeAny(e){ch(this.restEncoder,e)}writeBuf(e){Yn(this.restEncoder,e)}writeJSON(e){fu(this.restEncoder,JSON.stringify(e))}writeKey(e){fu(this.restEncoder,e)}}class Rse{static{a(this,"DSEncoderV2")}constructor(){this.restEncoder=Sy(),this.dsCurrVal=0}toUint8Array(){return Ci(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,ze(this.restEncoder,n)}writeDsLen(e){e===0&&Ui(),ze(this.restEncoder,e-1),this.dsCurrVal+=e}}class Qa extends Rse{static{a(this,"UpdateEncoderV2")}constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new W1,this.clientEncoder=new fm,this.leftClockEncoder=new W1,this.rightClockEncoder=new W1,this.infoEncoder=new nC(uw),this.stringEncoder=new Mie,this.parentInfoEncoder=new nC(uw),this.typeRefEncoder=new fm,this.lenEncoder=new fm}toUint8Array(){const e=Sy();return ze(e,0),Yn(e,this.keyClockEncoder.toUint8Array()),Yn(e,this.clientEncoder.toUint8Array()),Yn(e,this.leftClockEncoder.toUint8Array()),Yn(e,this.rightClockEncoder.toUint8Array()),Yn(e,Ci(this.infoEncoder)),Yn(e,this.stringEncoder.toUint8Array()),Yn(e,Ci(this.parentInfoEncoder)),Yn(e,this.typeRefEncoder.toUint8Array()),Yn(e,this.lenEncoder.toUint8Array()),ky(e,Ci(this.restEncoder)),Ci(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){ch(this.restEncoder,e)}writeBuf(e){Yn(this.restEncoder,e)}writeJSON(e){ch(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const Ose=a((t,e,n,r)=>{r=Tl(r,e[0].id.clock);const i=zi(e,r);ze(t.restEncoder,e.length-i),t.writeClient(n),ze(t.restEncoder,r);const s=e[i];s.write(t,r-s.id.clock);for(let o=i+1;o<e.length;o++)e[o].write(t,0)},"writeStructs"),CS=a((t,e,n)=>{const r=new Map;n.forEach((i,s)=>{Vt(e,s)>i&&r.set(s,i)}),IS(e).forEach((i,s)=>{n.has(s)||r.set(s,0)}),ze(t.restEncoder,r.size),Za(r.entries()).sort((i,s)=>s[0]-i[0]).forEach(([i,s])=>{Ose(t,e.clients.get(i),i,s)})},"writeClientsStructs"),Nse=a((t,e)=>{const n=Jr(),r=Ie(t.restDecoder);for(let i=0;i<r;i++){const s=Ie(t.restDecoder),o=new Array(s),l=t.readClient();let u=Ie(t.restDecoder);n.set(l,{i:0,refs:o});for(let c=0;c<s;c++){const f=t.readInfo();switch(vy&f){case 0:{const h=t.readLen();o[c]=new gr(Le(l,u),h),u+=h;break}case 10:{const h=Ie(t.restDecoder);o[c]=new yr(Le(l,u),h),u+=h;break}default:{const h=(f&(Is|sr))===0,p=new fn(Le(l,u),null,(f&sr)===sr?t.readLeftID():null,null,(f&Is)===Is?t.readRightID():null,h?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,h&&(f&lh)===lh?t.readString():null,GP(t,f));o[c]=p,u+=p.length}}}}return n},"readClientsStructRefs"),Dse=a((t,e,n)=>{const r=[];let i=Za(n.keys()).sort((m,g)=>m-g);if(i.length===0)return null;const s=a(()=>{if(i.length===0)return null;let m=n.get(i[i.length-1]);for(;m.refs.length===m.i;)if(i.pop(),i.length>0)m=n.get(i[i.length-1]);else return null;return m},"getNextStructTarget");let o=s();if(o===null)return null;const l=new TP,u=new Map,c=a((m,g)=>{const y=u.get(m);(y==null||y>g)&&u.set(m,g)},"updateMissingSv");let f=o.refs[o.i++];const h=new Map,p=a(()=>{for(const m of r){const g=m.id.client,y=n.get(g);y?(y.i--,l.clients.set(g,y.refs.slice(y.i)),n.delete(g),y.i=0,y.refs=[]):l.clients.set(g,[m]),i=i.filter(_=>_!==g)}r.length=0},"addStackToRestSS");for(;;){if(f.constructor!==yr){const g=Qo(h,f.id.client,()=>Vt(e,f.id.client))-f.id.clock;if(g<0)r.push(f),c(f.id.client,f.id.clock-1),p();else{const y=f.getMissing(t,e);if(y!==null){r.push(f);const _=n.get(y)||{refs:[],i:0};if(_.refs.length===_.i)c(y,Vt(e,y)),p();else{f=_.refs[_.i++];continue}}else(g===0||g<f.length)&&(f.integrate(t,g),h.set(f.id.client,f.id.clock+f.length))}}if(r.length>0)f=r.pop();else if(o!==null&&o.i<o.refs.length)f=o.refs[o.i++];else{if(o=s(),o===null)break;f=o.refs[o.i++]}}if(l.clients.size>0){const m=new Qa;return CS(m,l,new Map),ze(m.restEncoder,0),{missing:u,update:m.toUint8Array()}}return null},"integrateStructs"),Mse=a((t,e)=>CS(t,e.doc.store,e.beforeState),"writeStructsFromTransaction"),Pse=a((t,e,n,r=new Uu(t))=>it(e,i=>{i.local=!1;let s=!1;const o=i.doc,l=o.store,u=Nse(r,o),c=Dse(i,l,u),f=l.pendingStructs;if(f){for(const[p,m]of f.missing)if(m<Vt(l,p)){s=!0;break}if(c){for(const[p,m]of c.missing){const g=f.missing.get(p);(g==null||g>m)&&f.missing.set(p,m)}f.update=fg([f.update,c.update])}}else l.pendingStructs=c;const h=uC(r,i,l);if(l.pendingDs){const p=new Uu(bc(l.pendingDs));Ie(p.restDecoder);const m=uC(p,i,l);h&&m?l.pendingDs=fg([h,m]):l.pendingDs=h||m}else l.pendingDs=h;if(s){const p=l.pendingStructs.update;l.pendingStructs=null,SP(i.doc,p)}},n,!1),"readUpdateV2"),SP=a((t,e,n,r=Uu)=>{const i=bc(e);Pse(i,t,n,new r(i))},"applyUpdateV2"),Yve=a((t,e,n)=>SP(t,e,n,vP),"applyUpdate"),Lse=a((t,e,n=new Map)=>{CS(t,e.store,n),wc(t,xse(e.store))},"writeStateAsUpdate"),Fse=a((t,e=new Uint8Array([0]),n=new Qa)=>{const r=kP(e);Lse(n,t,r);const i=[n.toUint8Array()];if(t.store.pendingDs&&i.push(t.store.pendingDs),t.store.pendingStructs&&i.push(Yse(t.store.pendingStructs.update,e)),i.length>1){if(n.constructor===vd)return Gse(i.map((s,o)=>o===0?s:Xse(s)));if(n.constructor===Qa)return fg(i)}return i[0]},"encodeStateAsUpdateV2"),Jve=a((t,e)=>Fse(t,e,new vd),"encodeStateAsUpdate"),$se=a(t=>{const e=new Map,n=Ie(t.restDecoder);for(let r=0;r<n;r++){const i=Ie(t.restDecoder),s=Ie(t.restDecoder);e.set(i,s)}return e},"readStateVector"),kP=a(t=>$se(new EP(bc(t))),"decodeStateVector");class Bse{static{a(this,"EventHandler")}constructor(){this.l=[]}}const cC=a(()=>new Bse,"createEventHandler"),fC=a((t,e)=>t.l.push(e),"addEventHandlerListener"),hC=a((t,e)=>{const n=t.l,r=n.length;t.l=n.filter(i=>e!==i),r===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},"removeEventHandlerListener"),AP=a((t,e,n)=>SS(t.l,[e,n]),"callEventHandlerListeners");class du{static{a(this,"ID")}constructor(e,n){this.client=e,this.clock=n}}const Ip=a((t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,"compareIDs"),Le=a((t,e)=>new du(t,e),"createID"),Use=a(t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw Ui()},"findRootTypeKey"),Kl=a((t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!bP(e.ds,t.id),"isVisible"),hw=a((t,e)=>{const n=Qo(t.meta,hw,$u),r=t.doc.store;n.has(e)||(e.sv.forEach((i,s)=>{i<Vt(r,s)&&Bo(t,Le(s,i))}),_P(t,e.ds,i=>{}),n.add(e))},"splitSnapshotAffectedStructs");class TP{static{a(this,"StructStore")}constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const IS=a(t=>{const e=new Map;return t.clients.forEach((n,r)=>{const i=n[n.length-1];e.set(r,i.id.clock+i.length)}),e},"getStateVector"),Vt=a((t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},"getState"),xP=a((t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==e.id.clock)throw Ui()}n.push(e)},"addStruct"),zi=a((t,e)=>{let n=0,r=t.length-1,i=t[r],s=i.id.clock;if(s===e)return r;let o=Fo(e/(s+i.length-1)*r);for(;n<=r;){if(i=t[o],s=i.id.clock,s<=e){if(e<s+i.length)return o;n=o+1}else r=o-1;o=Fo((n+r)/2)}throw Ui()},"findIndexSS"),zse=a((t,e)=>{const n=t.clients.get(e.client);return n[zi(n,e.clock)]},"find$1"),G1=zse,dw=a((t,e,n)=>{const r=zi(e,n),i=e[r];return i.id.clock<n&&i instanceof fn?(e.splice(r+1,0,yg(t,i,n-i.id.clock)),r+1):r},"findIndexCleanStart"),Bo=a((t,e)=>{const n=t.doc.store.clients.get(e.client);return n[dw(t,n,e.clock)]},"getItemCleanStart"),dC=a((t,e,n)=>{const r=e.clients.get(n.client),i=zi(r,n.clock),s=r[i];return n.clock!==s.id.clock+s.length-1&&s.constructor!==gr&&r.splice(i+1,0,yg(t,s,n.clock-s.id.clock+1)),s},"getItemCleanEnd"),jse=a((t,e,n)=>{const r=t.clients.get(e.id.client);r[zi(r,e.id.clock)]=n},"replaceStruct"),CP=a((t,e,n,r,i)=>{if(r===0)return;const s=n+r;let o=dw(t,e,n),l;do l=e[o++],s<l.id.clock+l.length&&dw(t,e,s),i(l);while(o<e.length&&e[o].id.clock<s)},"iterateStructs");let Vse=class{static{a(this,"Transaction")}constructor(e,n,r){this.doc=e,this.deleteSet=new wd,this.beforeState=IS(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}};const pC=a((t,e)=>e.deleteSet.clients.size===0&&!hie(e.afterState,(n,r)=>e.beforeState.get(r)!==n)?!1:(TS(e.deleteSet),Mse(t,e),wc(t,e.deleteSet),!0),"writeUpdateMessageFromTransaction"),mC=a((t,e,n)=>{const r=e._item;(r===null||r.id.clock<(t.beforeState.get(r.id.client)||0)&&!r.deleted)&&Qo(t.changed,e,$u).add(n)},"addChangedTypeToTransaction"),dm=a((t,e)=>{let n=t[e],r=t[e-1],i=e;for(;i>0;n=r,r=t[--i-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof fn&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const s=e-i;return s&&t.splice(e+1-s,s),s},"tryToMergeWithLefts"),Wse=a((t,e,n)=>{for(const[r,i]of t.clients.entries()){const s=e.clients.get(r);for(let o=i.length-1;o>=0;o--){const l=i[o],u=l.clock+l.len;for(let c=zi(s,l.clock),f=s[c];c<s.length&&f.id.clock<u;f=s[++c]){const h=s[c];if(l.clock+l.len<=h.id.clock)break;h instanceof fn&&h.deleted&&!h.keep&&n(h)&&h.gc(e,!1)}}}},"tryGcDeleteSet"),Hse=a((t,e)=>{t.clients.forEach((n,r)=>{const i=e.clients.get(r);for(let s=n.length-1;s>=0;s--){const o=n[s],l=nP(i.length-1,1+zi(i,o.clock+o.len-1));for(let u=l,c=i[u];u>0&&c.id.clock>=o.clock;c=i[u])u-=1+dm(i,u)}})},"tryMergeDeleteSet"),IP=a((t,e)=>{if(e<t.length){const n=t[e],r=n.doc,i=r.store,s=n.deleteSet,o=n._mergeStructs;try{TS(s),n.afterState=IS(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const l=[];n.changed.forEach((u,c)=>l.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(n,u)})),l.push(()=>{n.changedParentTypes.forEach((u,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(u=u.filter(f=>f.target._item===null||!f.target._item.deleted),u.forEach(f=>{f.currentTarget=c,f._path=null}),u.sort((f,h)=>f.path.length-h.path.length),AP(c._dEH,u,n))})}),l.push(()=>r.emit("afterTransaction",[n,r])),SS(l,[]),n._needFormattingCleanup&&foe(n)}finally{r.gc&&Wse(s,i,r.gcFilter),Hse(s,i),n.afterState.forEach((f,h)=>{const p=n.beforeState.get(h)||0;if(p!==f){const m=i.clients.get(h),g=Tl(zi(m,p),1);for(let y=m.length-1;y>=g;)y-=1+dm(m,y)}});for(let f=o.length-1;f>=0;f--){const{client:h,clock:p}=o[f].id,m=i.clients.get(h),g=zi(m,p);g+1<m.length&&dm(m,g+1)>1||g>0&&dm(m,g)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(Ese(kS,hP,"[yjs] ",dP,pP,"Changed the client-id because another client seems to be using it."),r.clientID=wP()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const f=new vd;pC(f,n)&&r.emit("update",[f.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const f=new Qa;pC(f,n)&&r.emit("updateV2",[f.toUint8Array(),n.origin,r,n])}const{subdocsAdded:l,subdocsLoaded:u,subdocsRemoved:c}=n;(l.size>0||c.size>0||u.size>0)&&(l.forEach(f=>{f.clientID=r.clientID,f.collectionid==null&&(f.collectionid=r.collectionid),r.subdocs.add(f)}),c.forEach(f=>r.subdocs.delete(f)),r.emit("subdocs",[{loaded:u,added:l,removed:c},r,n]),c.forEach(f=>f.destroy())),t.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,t])):IP(t,e+1)}}},"cleanupTransactions"),it=a((t,e,n=null,r=!0)=>{const i=t._transactionCleanups;let s=!1,o=null;t._transaction===null&&(s=!0,t._transaction=new Vse(t,n,r),i.push(t._transaction),i.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{o=e(t._transaction)}finally{if(s){const l=t._transaction===i[0];t._transaction=null,l&&IP(i,0)}}return o},"transact");function*qse(t){const e=Ie(t.restDecoder);for(let n=0;n<e;n++){const r=Ie(t.restDecoder),i=t.readClient();let s=Ie(t.restDecoder);for(let o=0;o<r;o++){const l=t.readInfo();if(l===10){const u=Ie(t.restDecoder);yield new yr(Le(i,s),u),s+=u}else if(vy&l){const u=(l&(Is|sr))===0,c=new fn(Le(i,s),null,(l&sr)===sr?t.readLeftID():null,null,(l&Is)===Is?t.readRightID():null,u?t.readParentInfo()?t.readString():t.readLeftID():null,u&&(l&lh)===lh?t.readString():null,GP(t,l));yield c,s+=c.length}else{const u=t.readLen();yield new gr(Le(i,s),u),s+=u}}}}a(qse,"lazyStructReaderGenerator");class RS{static{a(this,"LazyStructReader")}constructor(e,n){this.gen=qse(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===yr);return this.curr}}class OS{static{a(this,"LazyStructWriter")}constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const Gse=a(t=>fg(t,vP,vd),"mergeUpdates"),Kse=a((t,e)=>{if(t.constructor===gr){const{client:n,clock:r}=t.id;return new gr(Le(n,r+e),t.length-e)}else if(t.constructor===yr){const{client:n,clock:r}=t.id;return new yr(Le(n,r+e),t.length-e)}else{const n=t,{client:r,clock:i}=n.id;return new fn(Le(r,i+e),null,Le(r,i+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},"sliceStruct"),fg=a((t,e=Uu,n=Qa)=>{if(t.length===1)return t[0];const r=t.map(f=>new e(bc(f)));let i=r.map(f=>new RS(f,!0)),s=null;const o=new n,l=new OS(o);for(;i=i.filter(p=>p.curr!==null),i.sort((p,m)=>{if(p.curr.id.client===m.curr.id.client){const g=p.curr.id.clock-m.curr.id.clock;return g===0?p.curr.constructor===m.curr.constructor?0:p.curr.constructor===yr?1:-1:g}else return m.curr.id.client-p.curr.id.client}),i.length!==0;){const f=i[0],h=f.curr.id.client;if(s!==null){let p=f.curr,m=!1;for(;p!==null&&p.id.clock+p.length<=s.struct.id.clock+s.struct.length&&p.id.client>=s.struct.id.client;)p=f.next(),m=!0;if(p===null||p.id.client!==h||m&&p.id.clock>s.struct.id.clock+s.struct.length)continue;if(h!==s.struct.id.client)co(l,s.struct,s.offset),s={struct:p,offset:0},f.next();else if(s.struct.id.clock+s.struct.length<p.id.clock)if(s.struct.constructor===yr)s.struct.length=p.id.clock+p.length-s.struct.id.clock;else{co(l,s.struct,s.offset);const g=p.id.clock-s.struct.id.clock-s.struct.length;s={struct:new yr(Le(h,s.struct.id.clock+s.struct.length),g),offset:0}}else{const g=s.struct.id.clock+s.struct.length-p.id.clock;g>0&&(s.struct.constructor===yr?s.struct.length-=g:p=Kse(p,g)),s.struct.mergeWith(p)||(co(l,s.struct,s.offset),s={struct:p,offset:0},f.next())}}else s={struct:f.curr,offset:0},f.next();for(let p=f.curr;p!==null&&p.id.client===h&&p.id.clock===s.struct.id.clock+s.struct.length&&p.constructor!==yr;p=f.next())co(l,s.struct,s.offset),s={struct:p,offset:0}}s!==null&&(co(l,s.struct,s.offset),s=null),NS(l);const u=r.map(f=>xS(f)),c=Ase(u);return wc(o,c),o.toUint8Array()},"mergeUpdatesV2"),Yse=a((t,e,n=Uu,r=Qa)=>{const i=kP(e),s=new r,o=new OS(s),l=new n(bc(t)),u=new RS(l,!1);for(;u.curr;){const f=u.curr,h=f.id.client,p=i.get(h)||0;if(u.curr.constructor===yr){u.next();continue}if(f.id.clock+f.length>p)for(co(o,f,Tl(p-f.id.clock,0)),u.next();u.curr&&u.curr.id.client===h;)co(o,u.curr,0),u.next();else for(;u.curr&&u.curr.id.client===h&&u.curr.id.clock+u.curr.length<=p;)u.next()}NS(o);const c=xS(l);return wc(s,c),s.toUint8Array()},"diffUpdateV2"),RP=a(t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:Ci(t.encoder.restEncoder)}),t.encoder.restEncoder=Sy(),t.written=0)},"flushLazyStructWriter"),co=a((t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&RP(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),ze(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},"writeStructToLazyStructWriter"),NS=a(t=>{RP(t);const e=t.encoder.restEncoder;ze(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const r=t.clientStructs[n];ze(e,r.written),ky(e,r.restEncoder)}},"finishLazyStructWriting"),Jse=a((t,e,n,r)=>{const i=new n(bc(t)),s=new RS(i,!1),o=new r,l=new OS(o);for(let c=s.curr;c!==null;c=s.next())co(l,e(c),0);NS(l);const u=xS(i);return wc(o,u),o.toUint8Array()},"convertUpdateFormat"),Xse=a(t=>Jse(t,ise,Uu,vd),"convertUpdateFormatV2ToV1"),gC="You must not compute changes after the event-handler fired.";class Ty{static{a(this,"YEvent")}constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=Zse(this.currentTarget,this.target))}deletes(e){return bP(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw $o(gC);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(i=>{if(i!==null){const s=n._map.get(i);let o,l;if(this.adds(s)){let u=s.left;for(;u!==null&&this.adds(u);)u=u.left;if(this.deletes(s))if(u!==null&&this.deletes(u))o="delete",l=z1(u.content.getContent());else return;else u!==null&&this.deletes(u)?(o="update",l=z1(u.content.getContent())):(o="add",l=void 0)}else if(this.deletes(s))o="delete",l=z1(s.content.getContent());else return;e.set(i,{action:o,oldValue:l})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw $o(gC);const n=this.target,r=$u(),i=$u(),s=[];if(e={added:r,deleted:i,delta:s,keys:this.keys},this.transaction.changed.get(n).has(null)){let l=null;const u=a(()=>{l&&s.push(l)},"packOp");for(let c=n._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((l===null||l.delete===void 0)&&(u(),l={delete:0}),l.delete+=c.length,i.add(c)):this.adds(c)?((l===null||l.insert===void 0)&&(u(),l={insert:[]}),l.insert=l.insert.concat(c.content.getContent()),r.add(c)):((l===null||l.retain===void 0)&&(u(),l={retain:0}),l.retain+=c.length);l!==null&&l.retain===void 0&&u()}this._changes=e}return e}}const Zse=a((t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let r=0,i=e._item.parent._start;for(;i!==e._item&&i!==null;)!i.deleted&&i.countable&&(r+=i.length),i=i.right;n.unshift(r)}e=e._item.parent}return n},"getPathTo"),dn=a(()=>{vse("Invalid access: Add Yjs type to a document before reading data.")},"warnPrematureAccess"),OP=80;let DS=0;class Qse{static{a(this,"ArraySearchMarker")}constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=DS++}}const eoe=a(t=>{t.timestamp=DS++},"refreshMarkerTimestamp"),NP=a((t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=DS++},"overwriteMarker"),toe=a((t,e,n)=>{if(t.length>=OP){const r=t.reduce((i,s)=>i.timestamp<s.timestamp?i:s);return NP(r,e,n),r}else{const r=new Qse(e,n);return t.push(r),r}},"markPosition"),xy=a((t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((s,o)=>cm(e-s.index)<cm(e-o.index)?s:o);let r=t._start,i=0;for(n!==null&&(r=n.p,i=n.index,eoe(n));r.right!==null&&i<e;){if(!r.deleted&&r.countable){if(e<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>e;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return n!==null&&cm(n.index-i)<r.parent.length/OP?(NP(n,r,i),n):toe(t._searchMarker,r,i)},"findMarker"),dh=a((t,e,n)=>{for(let r=t.length-1;r>=0;r--){const i=t[r];if(n>0){let s=i.p;for(s.marker=!1;s&&(s.deleted||!s.countable);)s=s.left,s&&!s.deleted&&s.countable&&(i.index-=s.length);if(s===null||s.marker===!0){t.splice(r,1);continue}i.p=s,s.marker=!0}(e<i.index||n>0&&e===i.index)&&(i.index=Tl(e,i.index+n))}},"updateMarkerChanges"),Cy=a((t,e,n)=>{const r=t,i=e.changedParentTypes;for(;Qo(i,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;AP(r._eH,n,e)},"callTypeObservers");class Qt{static{a(this,"AbstractType")}constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=cC(),this._dEH=cC(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw Mi()}clone(){throw Mi()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){fC(this._eH,e)}observeDeep(e){fC(this._dEH,e)}unobserve(e){hC(this._eH,e)}unobserveDeep(e){hC(this._dEH,e)}toJSON(){}}const DP=a((t,e,n)=>{t.doc??dn(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let r=n-e;const i=[];let s=t._start;for(;s!==null&&r>0;){if(s.countable&&!s.deleted){const o=s.content.getContent();if(o.length<=e)e-=o.length;else{for(let l=e;l<o.length&&r>0;l++)i.push(o[l]),r--;e=0}}s=s.right}return i},"typeListSlice"),MP=a(t=>{t.doc??dn();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let i=0;i<r.length;i++)e.push(r[i])}n=n.right}return e},"typeListToArray"),ph=a((t,e)=>{let n=0,r=t._start;for(t.doc??dn();r!==null;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let s=0;s<i.length;s++)e(i[s],n++,t)}r=r.right}},"typeListForEach"),PP=a((t,e)=>{const n=[];return ph(t,(r,i)=>{n.push(e(r,i,t))}),n},"typeListMap"),noe=a(t=>{let e=t._start,n=null,r=0;return{[Symbol.iterator](){return this},next:a(()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),r=0,e=e.right}const i=n[r++];return n.length<=r&&(n=null),{done:!1,value:i}},"next")}},"typeListCreateIterator"),LP=a((t,e)=>{t.doc??dn();const n=xy(t,e);let r=t._start;for(n!==null&&(r=n.p,e-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},"typeListGet"),hg=a((t,e,n,r)=>{let i=n;const s=t.doc,o=s.clientID,l=s.store,u=n===null?e._start:n.right;let c=[];const f=a(()=>{c.length>0&&(i=new fn(Le(o,Vt(l,o)),i,i&&i.lastId,u,u&&u.id,e,null,new tl(c)),i.integrate(t,0),c=[])},"packJsonContent");r.forEach(h=>{if(h===null)c.push(h);else switch(h.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(h);break;default:switch(f(),h.constructor){case Uint8Array:case ArrayBuffer:i=new fn(Le(o,Vt(l,o)),i,i&&i.lastId,u,u&&u.id,e,null,new Sd(new Uint8Array(h))),i.integrate(t,0);break;case Ed:i=new fn(Le(o,Vt(l,o)),i,i&&i.lastId,u,u&&u.id,e,null,new kd(h)),i.integrate(t,0);break;default:if(h instanceof Qt)i=new fn(Le(o,Vt(l,o)),i,i&&i.lastId,u,u&&u.id,e,null,new js(h)),i.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),f()},"typeListInsertGenericsAfter"),FP=a(()=>$o("Length exceeded!"),"lengthExceeded"),$P=a((t,e,n,r)=>{if(n>e._length)throw FP();if(n===0)return e._searchMarker&&dh(e._searchMarker,n,r.length),hg(t,e,null,r);const i=n,s=xy(e,n);let o=e._start;for(s!==null&&(o=s.p,n-=s.index,n===0&&(o=o.prev,n+=o&&o.countable&&!o.deleted?o.length:0));o!==null;o=o.right)if(!o.deleted&&o.countable){if(n<=o.length){n<o.length&&Bo(t,Le(o.id.client,o.id.clock+n));break}n-=o.length}return e._searchMarker&&dh(e._searchMarker,i,r.length),hg(t,e,o,r)},"typeListInsertGenerics"),roe=a((t,e,n)=>{let i=(e._searchMarker||[]).reduce((s,o)=>o.index>s.index?o:s,{index:0,p:e._start}).p;if(i)for(;i.right;)i=i.right;return hg(t,e,i,n)},"typeListPushGenerics"),BP=a((t,e,n,r)=>{if(r===0)return;const i=n,s=r,o=xy(e,n);let l=e._start;for(o!==null&&(l=o.p,n-=o.index);l!==null&&n>0;l=l.right)!l.deleted&&l.countable&&(n<l.length&&Bo(t,Le(l.id.client,l.id.clock+n)),n-=l.length);for(;r>0&&l!==null;)l.deleted||(r<l.length&&Bo(t,Le(l.id.client,l.id.clock+r)),l.delete(t),r-=l.length),l=l.right;if(r>0)throw FP();e._searchMarker&&dh(e._searchMarker,i,-s+r)},"typeListDelete"),dg=a((t,e,n)=>{const r=e._map.get(n);r!==void 0&&r.delete(t)},"typeMapDelete"),MS=a((t,e,n,r)=>{const i=e._map.get(n)||null,s=t.doc,o=s.clientID;let l;if(r==null)l=new tl([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:l=new tl([r]);break;case Uint8Array:l=new Sd(r);break;case Ed:l=new kd(r);break;default:if(r instanceof Qt)l=new js(r);else throw new Error("Unexpected content type")}new fn(Le(o,Vt(s.store,o)),i,i&&i.lastId,null,null,e,n,l).integrate(t,0)},"typeMapSet"),PS=a((t,e)=>{t.doc??dn();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},"typeMapGet"),UP=a(t=>{const e={};return t.doc??dn(),t._map.forEach((n,r)=>{n.deleted||(e[r]=n.content.getContent()[n.length-1])}),e},"typeMapGetAll"),zP=a((t,e)=>{t.doc??dn();const n=t._map.get(e);return n!==void 0&&!n.deleted},"typeMapHas"),ioe=a((t,e)=>{const n={};return t._map.forEach((r,i)=>{let s=r;for(;s!==null&&(!e.sv.has(s.id.client)||s.id.clock>=(e.sv.get(s.id.client)||0));)s=s.left;s!==null&&Kl(s,e)&&(n[i]=s.content.getContent()[s.length-1])}),n},"typeMapGetAllSnapshot"),Rp=a(t=>(t.doc??dn(),Sse(t._map.entries(),e=>!e[1].deleted)),"createMapIterator");class soe extends Ty{static{a(this,"YArrayEvent")}}class pu extends Qt{static{a(this,"YArray")}constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new pu;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new pu}clone(){const e=new pu;return e.insert(0,this.toArray().map(n=>n instanceof Qt?n.clone():n)),e}get length(){return this.doc??dn(),this._length}_callObserver(e,n){super._callObserver(e,n),Cy(this,e,new soe(this,e))}insert(e,n){this.doc!==null?it(this.doc,r=>{$P(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?it(this.doc,n=>{roe(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?it(this.doc,r=>{BP(r,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return LP(this,e)}toArray(){return MP(this)}slice(e=0,n=this.length){return DP(this,e,n)}toJSON(){return this.map(e=>e instanceof Qt?e.toJSON():e)}map(e){return PP(this,e)}forEach(e){ph(this,e)}[Symbol.iterator](){return noe(this)}_write(e){e.writeTypeRef(Roe)}}const ooe=a(t=>new pu,"readYArray");class aoe extends Ty{static{a(this,"YMapEvent")}constructor(e,n,r){super(e,n),this.keysChanged=r}}class zu extends Qt{static{a(this,"YMap")}constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((r,i)=>{this.set(i,r)}),this._prelimContent=null}_copy(){return new zu}clone(){const e=new zu;return this.forEach((n,r)=>{e.set(r,n instanceof Qt?n.clone():n)}),e}_callObserver(e,n){Cy(this,e,new aoe(this,e,n))}toJSON(){this.doc??dn();const e={};return this._map.forEach((n,r)=>{if(!n.deleted){const i=n.content.getContent()[n.length-1];e[r]=i instanceof Qt?i.toJSON():i}}),e}get size(){return[...Rp(this)].length}keys(){return q1(Rp(this),e=>e[0])}values(){return q1(Rp(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return q1(Rp(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??dn(),this._map.forEach((n,r)=>{n.deleted||e(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?it(this.doc,n=>{dg(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?it(this.doc,r=>{MS(r,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return PS(this,e)}has(e){return zP(this,e)}clear(){this.doc!==null?it(this.doc,e=>{this.forEach(function(n,r,i){dg(e,i,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(Ooe)}}const loe=a(t=>new zu,"readYMap"),go=a((t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&nse(t,e),"equalAttrs");class pw{static{a(this,"ItemTextListPosition")}constructor(e,n,r,i){this.left=e,this.right=n,this.index=r,this.currentAttributes=i}forward(){switch(this.right===null&&Ui(),this.right.content.constructor){case Nt:this.right.deleted||Ec(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const yC=a((t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case Nt:e.right.deleted||Ec(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&Bo(t,Le(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},"findNextPosition"),Op=a((t,e,n,r)=>{const i=new Map,s=r?xy(e,n):null;if(s){const o=new pw(s.p.left,s.p,s.index,i);return yC(t,o,n-s.index)}else{const o=new pw(null,e._start,0,i);return yC(t,o,n)}},"findPosition"),jP=a((t,e,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===Nt&&go(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const i=t.doc,s=i.clientID;r.forEach((o,l)=>{const u=n.left,c=n.right,f=new fn(Le(s,Vt(i.store,s)),u,u&&u.lastId,c,c&&c.id,e,null,new Nt(l,o));f.integrate(t,0),n.right=f,n.forward()})},"insertNegatedAttributes"),Ec=a((t,e)=>{const{key:n,value:r}=e;r===null?t.delete(n):t.set(n,r)},"updateCurrentAttributes"),VP=a((t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===Nt&&go(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},"minimizeAttributeChanges"),WP=a((t,e,n,r)=>{const i=t.doc,s=i.clientID,o=new Map;for(const l in r){const u=r[l],c=n.currentAttributes.get(l)??null;if(!go(c,u)){o.set(l,c);const{left:f,right:h}=n;n.right=new fn(Le(s,Vt(i.store,s)),f,f&&f.lastId,h,h&&h.id,e,null,new Nt(l,u)),n.right.integrate(t,0),n.forward()}}return o},"insertAttributes"),K1=a((t,e,n,r,i)=>{n.currentAttributes.forEach((p,m)=>{i[m]===void 0&&(i[m]=null)});const s=t.doc,o=s.clientID;VP(n,i);const l=WP(t,e,n,i),u=r.constructor===String?new ji(r):r instanceof Qt?new js(r):new xl(r);let{left:c,right:f,index:h}=n;e._searchMarker&&dh(e._searchMarker,n.index,u.getLength()),f=new fn(Le(o,Vt(s.store,o)),c,c&&c.lastId,f,f&&f.id,e,null,u),f.integrate(t,0),n.right=f,n.index=h,n.forward(),jP(t,e,n,l)},"insertText"),_C=a((t,e,n,r,i)=>{const s=t.doc,o=s.clientID;VP(n,i);const l=WP(t,e,n,i);e:for(;n.right!==null&&(r>0||l.size>0&&(n.right.deleted||n.right.content.constructor===Nt));){if(!n.right.deleted)switch(n.right.content.constructor){case Nt:{const{key:u,value:c}=n.right.content,f=i[u];if(f!==void 0){if(go(f,c))l.delete(u);else{if(r===0)break e;l.set(u,c)}n.right.delete(t)}else n.currentAttributes.set(u,c);break}default:r<n.right.length&&Bo(t,Le(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let u="";for(;r>0;r--)u+=`
`;n.right=new fn(Le(o,Vt(s.store,o)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new ji(u)),n.right.integrate(t,0),n.forward()}jP(t,e,n,l)},"formatText"),HP=a((t,e,n,r,i)=>{let s=e;const o=Jr();for(;s&&(!s.countable||s.deleted);){if(!s.deleted&&s.content.constructor===Nt){const c=s.content;o.set(c.key,c)}s=s.right}let l=0,u=!1;for(;e!==s;){if(n===e&&(u=!0),!e.deleted){const c=e.content;switch(c.constructor){case Nt:{const{key:f,value:h}=c,p=r.get(f)??null;(o.get(f)!==c||p===h)&&(e.delete(t),l++,!u&&(i.get(f)??null)===h&&p!==h&&(p===null?i.delete(f):i.set(f,p))),!u&&!e.deleted&&Ec(i,c);break}}}e=e.right}return l},"cleanupFormattingGap"),uoe=a((t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===Nt){const r=e.content.key;n.has(r)?e.delete(t):n.add(r)}e=e.left}},"cleanupContextlessFormattingGap"),coe=a(t=>{let e=0;return it(t.doc,n=>{let r=t._start,i=t._start,s=Jr();const o=aw(s);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case Nt:Ec(o,i.content);break;default:e+=HP(n,r,i,s,o),s=aw(o),r=i;break}i=i.right}}),e},"cleanupYTextFormatting"),foe=a(t=>{const e=new Set,n=t.doc;for(const[r,i]of t.afterState.entries()){const s=t.beforeState.get(r)||0;i!==s&&CP(t,n.store.clients.get(r),s,i,o=>{!o.deleted&&o.content.constructor===Nt&&o.constructor!==gr&&e.add(o.parent)})}it(n,r=>{_P(t,t.deleteSet,i=>{if(i instanceof gr||!i.parent._hasFormatting||e.has(i.parent))return;const s=i.parent;i.content.constructor===Nt?e.add(s):uoe(r,i)});for(const i of e)coe(i)})},"cleanupYTextAfterTransaction"),bC=a((t,e,n)=>{const r=n,i=aw(e.currentAttributes),s=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case js:case xl:case ji:n<e.right.length&&Bo(t,Le(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}s&&HP(t,s,e.right,i,e.currentAttributes);const o=(e.left||e.right).parent;return o._searchMarker&&dh(o._searchMarker,e.index,-r+n),e},"deleteText");class hoe extends Ty{static{a(this,"YTextEvent")}constructor(e,n,r){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];it(e,r=>{const i=new Map,s=new Map;let o=this.target._start,l=null;const u={};let c="",f=0,h=0;const p=a(()=>{if(l!==null){let m=null;switch(l){case"delete":h>0&&(m={delete:h}),h=0;break;case"insert":(typeof c=="object"||c.length>0)&&(m={insert:c},i.size>0&&(m.attributes={},i.forEach((g,y)=>{g!==null&&(m.attributes[y]=g)}))),c="";break;case"retain":f>0&&(m={retain:f},Qie(u)||(m.attributes=Jie({},u))),f=0;break}m&&n.push(m),l=null}},"addOp");for(;o!==null;){switch(o.content.constructor){case js:case xl:this.adds(o)?this.deletes(o)||(p(),l="insert",c=o.content.getContent()[0],p()):this.deletes(o)?(l!=="delete"&&(p(),l="delete"),h+=1):o.deleted||(l!=="retain"&&(p(),l="retain"),f+=1);break;case ji:this.adds(o)?this.deletes(o)||(l!=="insert"&&(p(),l="insert"),c+=o.content.str):this.deletes(o)?(l!=="delete"&&(p(),l="delete"),h+=o.length):o.deleted||(l!=="retain"&&(p(),l="retain"),f+=o.length);break;case Nt:{const{key:m,value:g}=o.content;if(this.adds(o)){if(!this.deletes(o)){const y=i.get(m)??null;go(y,g)?g!==null&&o.delete(r):(l==="retain"&&p(),go(g,s.get(m)??null)?delete u[m]:u[m]=g)}}else if(this.deletes(o)){s.set(m,g);const y=i.get(m)??null;go(y,g)||(l==="retain"&&p(),u[m]=y)}else if(!o.deleted){s.set(m,g);const y=u[m];y!==void 0&&(go(y,g)?y!==null&&o.delete(r):(l==="retain"&&p(),g===null?delete u[m]:u[m]=g))}o.deleted||(l==="insert"&&p(),Ec(i,o.content));break}}o=o.right}for(p();n.length>0;){const m=n[n.length-1];if(m.retain!==void 0&&m.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class ju extends Qt{static{a(this,"YText")}constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??dn(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new ju}clone(){const e=new ju;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const r=new hoe(this,e,n);Cy(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??dn();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===ji&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?it(this.doc,r=>{const i=new pw(null,this._start,0,new Map);for(let s=0;s<e.length;s++){const o=e[s];if(o.insert!==void 0){const l=!n&&typeof o.insert=="string"&&s===e.length-1&&i.right===null&&o.insert.slice(-1)===`
`?o.insert.slice(0,-1):o.insert;(typeof l!="string"||l.length>0)&&K1(r,this,i,l,o.attributes||{})}else o.retain!==void 0?_C(r,this,i,o.retain,o.attributes||{}):o.delete!==void 0&&bC(r,i,o.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,r){this.doc??dn();const i=[],s=new Map,o=this.doc;let l="",u=this._start;function c(){if(l.length>0){const h={};let p=!1;s.forEach((g,y)=>{p=!0,h[y]=g});const m={insert:l};p&&(m.attributes=h),i.push(m),l=""}}a(c,"packStr");const f=a(()=>{for(;u!==null;){if(Kl(u,e)||n!==void 0&&Kl(u,n))switch(u.content.constructor){case ji:{const h=s.get("ychange");e!==void 0&&!Kl(u,e)?(h===void 0||h.user!==u.id.client||h.type!=="removed")&&(c(),s.set("ychange",r?r("removed",u.id):{type:"removed"})):n!==void 0&&!Kl(u,n)?(h===void 0||h.user!==u.id.client||h.type!=="added")&&(c(),s.set("ychange",r?r("added",u.id):{type:"added"})):h!==void 0&&(c(),s.delete("ychange")),l+=u.content.str;break}case js:case xl:{c();const h={insert:u.content.getContent()[0]};if(s.size>0){const p={};h.attributes=p,s.forEach((m,g)=>{p[g]=m})}i.push(h);break}case Nt:Kl(u,e)&&(c(),Ec(s,u.content));break}u=u.right}c()},"computeDelta");return e||n?it(o,h=>{e&&hw(h,e),n&&hw(h,n),f()},"cleanup"):f(),i}insert(e,n,r){if(n.length<=0)return;const i=this.doc;i!==null?it(i,s=>{const o=Op(s,this,e,!r);r||(r={},o.currentAttributes.forEach((l,u)=>{r[u]=l})),K1(s,this,o,n,r)}):this._pending.push(()=>this.insert(e,n,r))}insertEmbed(e,n,r){const i=this.doc;i!==null?it(i,s=>{const o=Op(s,this,e,!r);K1(s,this,o,n,r||{})}):this._pending.push(()=>this.insertEmbed(e,n,r||{}))}delete(e,n){if(n===0)return;const r=this.doc;r!==null?it(r,i=>{bC(i,Op(i,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,r){if(n===0)return;const i=this.doc;i!==null?it(i,s=>{const o=Op(s,this,e,!1);o.right!==null&&_C(s,this,o,n,r)}):this._pending.push(()=>this.format(e,n,r))}removeAttribute(e){this.doc!==null?it(this.doc,n=>{dg(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?it(this.doc,r=>{MS(r,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return PS(this,e)}getAttributes(){return UP(this)}_write(e){e.writeTypeRef(Noe)}}const doe=a(t=>new ju,"readYText");class Y1{static{a(this,"YXmlTreeWalker")}constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??dn()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===Vu||n.constructor===el)&&n._start!==null)e=n._start;else for(;e!==null;){const r=e.next;if(r!==null){e=r;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class el extends Qt{static{a(this,"YXmlFragment")}constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new el}clone(){const e=new el;return e.insert(0,this.toArray().map(n=>n instanceof Qt?n.clone():n)),e}get length(){return this.doc??dn(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new Y1(this,e)}querySelector(e){e=e.toUpperCase();const r=new Y1(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e).next();return r.done?null:r.value}querySelectorAll(e){return e=e.toUpperCase(),Za(new Y1(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){Cy(this,e,new goe(this,n,e))}toString(){return PP(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},r){const i=e.createDocumentFragment();return r!==void 0&&r._createAssociation(i,this),ph(this,s=>{i.insertBefore(s.toDOM(e,n,r),null)}),i}insert(e,n){this.doc!==null?it(this.doc,r=>{$P(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)it(this.doc,r=>{const i=e&&e instanceof Qt?e._item:e;hg(r,this,i,n)});else{const r=this._prelimContent,i=e===null?0:r.findIndex(s=>s===e)+1;if(i===0&&e!==null)throw $o("Reference item not found");r.splice(i,0,...n)}}delete(e,n=1){this.doc!==null?it(this.doc,r=>{BP(r,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return MP(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return LP(this,e)}slice(e=0,n=this.length){return DP(this,e,n)}forEach(e){ph(this,e)}_write(e){e.writeTypeRef(Moe)}}const poe=a(t=>new el,"readYXmlFragment");class Vu extends el{static{a(this,"YXmlElement")}constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((r,i)=>{this.setAttribute(i,r)}),this._prelimAttrs=null}_copy(){return new Vu(this.nodeName)}clone(){const e=new Vu(this.nodeName),n=this.getAttributes();return Zie(n,(r,i)=>{typeof r=="string"&&e.setAttribute(i,r)}),e.insert(0,this.toArray().map(r=>r instanceof Qt?r.clone():r)),e}toString(){const e=this.getAttributes(),n=[],r=[];for(const l in e)r.push(l);r.sort();const i=r.length;for(let l=0;l<i;l++){const u=r[l];n.push(u+'="'+e[u]+'"')}const s=this.nodeName.toLocaleLowerCase(),o=n.length>0?" "+n.join(" "):"";return`<${s}${o}>${super.toString()}</${s}>`}removeAttribute(e){this.doc!==null?it(this.doc,n=>{dg(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?it(this.doc,r=>{MS(r,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return PS(this,e)}hasAttribute(e){return zP(this,e)}getAttributes(e){return e?ioe(this,e):UP(this)}toDOM(e=document,n={},r){const i=e.createElement(this.nodeName),s=this.getAttributes();for(const o in s){const l=s[o];typeof l=="string"&&i.setAttribute(o,l)}return ph(this,o=>{i.appendChild(o.toDOM(e,n,r))}),r!==void 0&&r._createAssociation(i,this),i}_write(e){e.writeTypeRef(Doe),e.writeKey(this.nodeName)}}const moe=a(t=>new Vu(t.readKey()),"readYXmlElement");class goe extends Ty{static{a(this,"YXmlEvent")}constructor(e,n,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class pg extends zu{static{a(this,"YXmlHook")}constructor(e){super(),this.hookName=e}_copy(){return new pg(this.hookName)}clone(){const e=new pg(this.hookName);return this.forEach((n,r)=>{e.set(r,n)}),e}toDOM(e=document,n={},r){const i=n[this.hookName];let s;return i!==void 0?s=i.createDom(this):s=document.createElement(this.hookName),s.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(s,this),s}_write(e){e.writeTypeRef(Poe),e.writeKey(this.hookName)}}const yoe=a(t=>new pg(t.readKey()),"readYXmlHook");class mg extends ju{static{a(this,"YXmlText")}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new mg}clone(){const e=new mg;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,r){const i=e.createTextNode(this.toString());return r!==void 0&&r._createAssociation(i,this),i}toString(){return this.toDelta().map(e=>{const n=[];for(const i in e.attributes){const s=[];for(const o in e.attributes[i])s.push({key:o,value:e.attributes[i][o]});s.sort((o,l)=>o.key<l.key?-1:1),n.push({nodeName:i,attrs:s})}n.sort((i,s)=>i.nodeName<s.nodeName?-1:1);let r="";for(let i=0;i<n.length;i++){const s=n[i];r+=`<${s.nodeName}`;for(let o=0;o<s.attrs.length;o++){const l=s.attrs[o];r+=` ${l.key}="${l.value}"`}r+=">"}r+=e.insert;for(let i=n.length-1;i>=0;i--)r+=`</${n[i].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(Loe)}}const _oe=a(t=>new mg,"readYXmlText");class LS{static{a(this,"AbstractStruct")}constructor(e,n){this.id=e,this.length=n}get deleted(){throw Mi()}mergeWith(e){return!1}write(e,n,r){throw Mi()}integrate(e,n){throw Mi()}}const boe=0;class gr extends LS{static{a(this,"GC")}get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),xP(e.doc.store,this)}write(e,n){e.writeInfo(boe),e.writeLen(this.length-n)}getMissing(e,n){return null}}class Sd{static{a(this,"ContentBinary")}constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Sd(this.content)}splice(e){throw Mi()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const woe=a(t=>new Sd(t.readBuf()),"readContentBinary");class mh{static{a(this,"ContentDeleted")}constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new mh(this.len)}splice(e){const n=new mh(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){cg(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const Eoe=a(t=>new mh(t.readLen()),"readContentDeleted"),qP=a((t,e)=>new Ed({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1}),"createDocFromOpts");class kd{static{a(this,"ContentDoc")}constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new kd(qP(this.doc.guid,this.opts))}splice(e){throw Mi()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const voe=a(t=>new kd(qP(t.readString(),t.readAny())),"readContentDoc");class xl{static{a(this,"ContentEmbed")}constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new xl(this.embed)}splice(e){throw Mi()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const Soe=a(t=>new xl(t.readJSON()),"readContentEmbed");class Nt{static{a(this,"ContentFormat")}constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Nt(this.key,this.value)}splice(e){throw Mi()}mergeWith(e){return!1}integrate(e,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const koe=a(t=>new Nt(t.readKey(),t.readJSON()),"readContentFormat");class gg{static{a(this,"ContentJSON")}constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new gg(this.arr)}splice(e){const n=new gg(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const s=this.arr[i];e.writeString(s===void 0?"undefined":JSON.stringify(s))}}getRef(){return 2}}const Aoe=a(t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++){const i=t.readString();i==="undefined"?n.push(void 0):n.push(JSON.parse(i))}return new gg(n)},"readContentJSON"),Toe=ug("node_env")==="development";class tl{static{a(this,"ContentAny")}constructor(e){this.arr=e,Toe&&uP(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new tl(this.arr)}splice(e){const n=new tl(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const s=this.arr[i];e.writeAny(s)}}getRef(){return 8}}const xoe=a(t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++)n.push(t.readAny());return new tl(n)},"readContentAny");class ji{static{a(this,"ContentString")}constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new ji(this.str)}splice(e){const n=new ji(this.str.slice(e));this.str=this.str.slice(0,e);const r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"",n.str=""+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const Coe=a(t=>new ji(t.readString()),"readContentString"),Ioe=[ooe,loe,doe,moe,poe,yoe,_oe],Roe=0,Ooe=1,Noe=2,Doe=3,Moe=4,Poe=5,Loe=6;class js{static{a(this,"ContentType")}constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new js(this.type._copy())}splice(e){throw Mi()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(e,!0),r=r.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const Foe=a(t=>new js(Ioe[t.readTypeRef()](t)),"readContentType"),yg=a((t,e,n)=>{const{client:r,clock:i}=e.id,s=new fn(Le(r,i+n),e,Le(r,i+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&s.markDeleted(),e.keep&&(s.keep=!0),e.redone!==null&&(s.redone=Le(e.redone.client,e.redone.clock+n)),e.right=s,s.right!==null&&(s.right.left=s),t._mergeStructs.push(s),s.parentSub!==null&&s.right===null&&s.parent._map.set(s.parentSub,s),e.length=n,s},"splitItem");let fn=class mw extends LS{static{a(this,"Item")}constructor(e,n,r,i,s,o,l,u){super(e,u.getLength()),this.origin=r,this.left=n,this.right=i,this.rightOrigin=s,this.parent=o,this.parentSub=l,this.redone=null,this.content=u,this.info=this.content.isCountable()?Qx:0}set marker(e){(this.info&V1)>0!==e&&(this.info^=V1)}get marker(){return(this.info&V1)>0}get keep(){return(this.info&Zx)>0}set keep(e){this.keep!==e&&(this.info^=Zx)}get countable(){return(this.info&Qx)>0}get deleted(){return(this.info&j1)>0}set deleted(e){this.deleted!==e&&(this.info^=j1)}markDeleted(){this.info|=j1}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Vt(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Vt(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===du&&this.id.client!==this.parent.client&&this.parent.clock>=Vt(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=dC(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Bo(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===gr||this.right&&this.right.constructor===gr)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===mw?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===mw&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===du){const r=G1(n,this.parent);r.constructor===gr?this.parent=null:this.parent=r.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=dC(e,e.doc.store,Le(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,i;if(r!==null)i=r.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const s=new Set,o=new Set;for(;i!==null&&i!==this.right;){if(o.add(i),s.add(i),Ip(this.origin,i.origin)){if(i.id.client<this.id.client)r=i,s.clear();else if(Ip(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&o.has(G1(e.doc.store,i.origin)))s.has(G1(e.doc.store,i.origin))||(r=i,s.clear());else break;i=i.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),xP(e.doc.store,this),this.content.integrate(e,this),mC(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new gr(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:Le(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&Ip(e.origin,this.lastId)&&this.right===e&&Ip(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===e&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),cg(e.deleteSet,this.id.client,this.id.clock,this.length),mC(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw Ui();this.content.gc(e),n?jse(e,this,new gr(this.id,this.length)):this.content=new mh(this.length)}write(e,n){const r=n>0?Le(this.id.client,this.id.clock+n-1):this.origin,i=this.rightOrigin,s=this.parentSub,o=this.content.getRef()&vy|(r===null?0:sr)|(i===null?0:Is)|(s===null?0:lh);if(e.writeInfo(o),r!==null&&e.writeLeftID(r),i!==null&&e.writeRightID(i),r===null&&i===null){const l=this.parent;if(l._item!==void 0){const u=l._item;if(u===null){const c=Use(l);e.writeParentInfo(!0),e.writeString(c)}else e.writeParentInfo(!1),e.writeLeftID(u.id)}else l.constructor===String?(e.writeParentInfo(!0),e.writeString(l)):l.constructor===du?(e.writeParentInfo(!1),e.writeLeftID(l)):Ui();s!==null&&e.writeString(s)}this.content.write(e,n)}};const GP=a((t,e)=>$oe[e&vy](t),"readItemContent"),$oe=[()=>{Ui()},Eoe,Aoe,woe,Coe,Soe,koe,Foe,xoe,voe,()=>{Ui()}],Boe=10;class yr extends LS{static{a(this,"Skip")}get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){Ui()}write(e,n){e.writeInfo(Boe),ze(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const KP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},YP="__ $YJS$ __";KP[YP]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");KP[YP]=!0;var Ue;(function(t){t.assertEqual=i=>i;function e(i){}a(e,"assertIs"),t.assertIs=e;function n(i){throw new Error}a(n,"assertNever"),t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}a(r,"joinValues"),t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Ue||(Ue={}));var gw;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(gw||(gw={}));const re=Ue.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Es=a(t=>{switch(typeof t){case"undefined":return re.undefined;case"string":return re.string;case"number":return isNaN(t)?re.nan:re.number;case"boolean":return re.boolean;case"function":return re.function;case"bigint":return re.bigint;case"symbol":return re.symbol;case"object":return Array.isArray(t)?re.array:t===null?re.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?re.promise:typeof Map<"u"&&t instanceof Map?re.map:typeof Set<"u"&&t instanceof Set?re.set:typeof Date<"u"&&t instanceof Date?re.date:re.object;default:return re.unknown}},"getParsedType"),H=Ue.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Uoe=a(t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),"quotelessJson");class or extends Error{static{a(this,"ZodError")}get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=a(s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,u=0;for(;u<o.path.length;){const c=o.path[u];u===o.path.length-1?(l[c]=l[c]||{_errors:[]},l[c]._errors.push(n(o))):l[c]=l[c]||{_errors:[]},l=l[c],u++}}},"processError");return i(this),r}static assert(e){if(!(e instanceof or))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ue.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}or.create=t=>new or(t);const Wu=a((t,e)=>{let n;switch(t.code){case H.invalid_type:t.received===re.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case H.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ue.jsonStringifyReplacer)}`;break;case H.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ue.joinValues(t.keys,", ")}`;break;case H.invalid_union:n="Invalid input";break;case H.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ue.joinValues(t.options)}`;break;case H.invalid_enum_value:n=`Invalid enum value. Expected ${Ue.joinValues(t.options)}, received '${t.received}'`;break;case H.invalid_arguments:n="Invalid function arguments";break;case H.invalid_return_type:n="Invalid function return type";break;case H.invalid_date:n="Invalid date";break;case H.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ue.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case H.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case H.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case H.custom:n="Invalid input";break;case H.invalid_intersection_types:n="Intersection results could not be merged";break;case H.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case H.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ue.assertNever(t)}return{message:n}},"errorMap");let JP=Wu;function zoe(t){JP=t}a(zoe,"setErrorMap");function _g(){return JP}a(_g,"getErrorMap");const bg=a(t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const u=r.filter(c=>!!c).slice().reverse();for(const c of u)l=c(o,{data:e,defaultError:l}).message;return{...i,path:s,message:l}},"makeIssue"),joe=[];function ee(t,e){const n=_g(),r=bg({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Wu?void 0:Wu].filter(i=>!!i)});t.common.issues.push(r)}a(ee,"addIssueToContext");class gn{static{a(this,"ParseStatus")}constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return me;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return gn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return me;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const me=Object.freeze({status:"aborted"}),tu=a(t=>({status:"dirty",value:t}),"DIRTY"),Cn=a(t=>({status:"valid",value:t}),"OK"),yw=a(t=>t.status==="aborted","isAborted"),_w=a(t=>t.status==="dirty","isDirty"),nl=a(t=>t.status==="valid","isValid"),gh=a(t=>typeof Promise<"u"&&t instanceof Promise,"isAsync");function wg(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}a(wg,"__classPrivateFieldGet");function XP(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}a(XP,"__classPrivateFieldSet");var ae;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(ae||(ae={}));var bf,wf;class Vi{static{a(this,"ParseInputLazyPath")}constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const wC=a((t,e)=>{if(nl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new or(t.common.issues);return this._error=n,this._error}}},"handleResult");function Se(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:a((o,l)=>{var u,c;const{message:f}=t;return o.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(u=f??r)!==null&&u!==void 0?u:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(c=f??n)!==null&&c!==void 0?c:l.defaultError}},"customMap"),description:i}}a(Se,"processCreateParams");class Te{static{a(this,"ZodType")}get description(){return this._def.description}_getType(e){return Es(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Es(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gn,ctx:{common:e.parent.common,data:e.data,parsedType:Es(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(gh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Es(e)},s=this._parseSync({data:e,path:i.path,parent:i});return wC(i,s)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Es(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return nl(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((r=(n=s?.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>nl(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Es(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(gh(i)?i:Promise.resolve(i));return wC(r,s)}refine(e,n){const r=a(i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n,"getIssueProperties");return this._refinement((i,s)=>{const o=e(i),l=a(()=>s.addIssue({code:H.custom,...r(i)}),"setError");return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new oi({schema:this,typeName:de.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a(n=>this["~validate"](n),"validate")}}optional(){return Pi.create(this,this._def)}nullable(){return Vo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xr.create(this)}promise(){return qu.create(this,this._def)}or(e){return wh.create([this,e],this._def)}and(e){return Eh.create(this,e,this._def)}transform(e){return new oi({...Se(this._def),schema:this,typeName:de.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Th({...Se(this._def),innerType:this,defaultValue:n,typeName:de.ZodDefault})}brand(){return new FS({typeName:de.ZodBranded,type:this,...Se(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new xh({...Se(this._def),innerType:this,catchValue:n,typeName:de.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Ad.create(this,e)}readonly(){return Ch.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Voe=/^c[^\s-]{8,}$/i,Woe=/^[0-9a-z]+$/,Hoe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,qoe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Goe=/^[a-z0-9_-]{21}$/i,Koe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Yoe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Joe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Xoe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let J1;const Zoe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Qoe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,eae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,tae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nae=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rae=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ZP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",iae=new RegExp(`^${ZP}$`);function QP(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}a(QP,"timeRegexSource");function sae(t){return new RegExp(`^${QP(t)}$`)}a(sae,"timeRegex");function e6(t){let e=`${ZP}T${QP(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}a(e6,"datetimeRegex");function oae(t,e){return!!((e==="v4"||!e)&&Zoe.test(t)||(e==="v6"||!e)&&eae.test(t))}a(oae,"isValidIP");function aae(t,e){if(!Koe.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}a(aae,"isValidJWT");function lae(t,e){return!!((e==="v4"||!e)&&Qoe.test(t)||(e==="v6"||!e)&&tae.test(t))}a(lae,"isValidCidr");class Hr extends Te{static{a(this,"ZodString")}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==re.string){const s=this._getOrReturnCtx(e);return ee(s,{code:H.invalid_type,expected:re.string,received:s.parsedType}),me}const r=new gn;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),ee(i,{code:H.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),ee(i,{code:H.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?ee(i,{code:H.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&ee(i,{code:H.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Joe.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"email",code:H.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")J1||(J1=new RegExp(Xoe,"u")),J1.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"emoji",code:H.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")qoe.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"uuid",code:H.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")Goe.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"nanoid",code:H.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Voe.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"cuid",code:H.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Woe.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"cuid2",code:H.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Hoe.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"ulid",code:H.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ee(i,{validation:"url",code:H.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"regex",code:H.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),ee(i,{code:H.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),ee(i,{code:H.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),ee(i,{code:H.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?e6(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{code:H.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?iae.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{code:H.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?sae(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{code:H.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?Yoe.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"duration",code:H.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?oae(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"ip",code:H.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?aae(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"jwt",code:H.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?lae(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"cidr",code:H.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?nae.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"base64",code:H.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?rae.test(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{validation:"base64url",code:H.invalid_string,message:s.message}),r.dirty()):Ue.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:H.invalid_string,...ae.errToObj(r)})}_addCheck(e){return new Hr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ae.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ae.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ae.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ae.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ae.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ae.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ae.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ae.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ae.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ae.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ae.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ae.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ae.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...ae.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...ae.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...ae.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ae.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...ae.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ae.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ae.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ae.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ae.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ae.errToObj(n)})}nonempty(e){return this.min(1,ae.errToObj(e))}trim(){return new Hr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Hr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Hr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Hr.create=t=>{var e;return new Hr({checks:[],typeName:de.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Se(t)})};function uae(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}a(uae,"floatSafeRemainder");class Uo extends Te{static{a(this,"ZodNumber")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==re.number){const s=this._getOrReturnCtx(e);return ee(s,{code:H.invalid_type,expected:re.number,received:s.parsedType}),me}let r;const i=new gn;for(const s of this._def.checks)s.kind==="int"?Ue.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ee(r,{code:H.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ee(r,{code:H.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ee(r,{code:H.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?uae(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),ee(r,{code:H.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ee(r,{code:H.not_finite,message:s.message}),i.dirty()):Ue.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ae.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ae.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ae.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ae.toString(n))}setLimit(e,n,r,i){return new Uo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ae.toString(i)}]})}_addCheck(e){return new Uo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ae.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ae.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ae.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ae.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ae.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ae.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ue.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Uo.create=t=>new Uo({checks:[],typeName:de.ZodNumber,coerce:t?.coerce||!1,...Se(t)});class zo extends Te{static{a(this,"ZodBigInt")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==re.bigint)return this._getInvalidInput(e);let r;const i=new gn;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ee(r,{code:H.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ee(r,{code:H.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ee(r,{code:H.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Ue.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ee(n,{code:H.invalid_type,expected:re.bigint,received:n.parsedType}),me}gte(e,n){return this.setLimit("min",e,!0,ae.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ae.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ae.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ae.toString(n))}setLimit(e,n,r,i){return new zo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ae.toString(i)}]})}_addCheck(e){return new zo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ae.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ae.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}zo.create=t=>{var e;return new zo({checks:[],typeName:de.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Se(t)})};class yh extends Te{static{a(this,"ZodBoolean")}_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==re.boolean){const r=this._getOrReturnCtx(e);return ee(r,{code:H.invalid_type,expected:re.boolean,received:r.parsedType}),me}return Cn(e.data)}}yh.create=t=>new yh({typeName:de.ZodBoolean,coerce:t?.coerce||!1,...Se(t)});class rl extends Te{static{a(this,"ZodDate")}_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==re.date){const s=this._getOrReturnCtx(e);return ee(s,{code:H.invalid_type,expected:re.date,received:s.parsedType}),me}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ee(s,{code:H.invalid_date}),me}const r=new gn;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),ee(i,{code:H.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),ee(i,{code:H.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Ue.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new rl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ae.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ae.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}rl.create=t=>new rl({checks:[],coerce:t?.coerce||!1,typeName:de.ZodDate,...Se(t)});class Eg extends Te{static{a(this,"ZodSymbol")}_parse(e){if(this._getType(e)!==re.symbol){const r=this._getOrReturnCtx(e);return ee(r,{code:H.invalid_type,expected:re.symbol,received:r.parsedType}),me}return Cn(e.data)}}Eg.create=t=>new Eg({typeName:de.ZodSymbol,...Se(t)});class _h extends Te{static{a(this,"ZodUndefined")}_parse(e){if(this._getType(e)!==re.undefined){const r=this._getOrReturnCtx(e);return ee(r,{code:H.invalid_type,expected:re.undefined,received:r.parsedType}),me}return Cn(e.data)}}_h.create=t=>new _h({typeName:de.ZodUndefined,...Se(t)});class bh extends Te{static{a(this,"ZodNull")}_parse(e){if(this._getType(e)!==re.null){const r=this._getOrReturnCtx(e);return ee(r,{code:H.invalid_type,expected:re.null,received:r.parsedType}),me}return Cn(e.data)}}bh.create=t=>new bh({typeName:de.ZodNull,...Se(t)});class Hu extends Te{static{a(this,"ZodAny")}constructor(){super(...arguments),this._any=!0}_parse(e){return Cn(e.data)}}Hu.create=t=>new Hu({typeName:de.ZodAny,...Se(t)});class Ia extends Te{static{a(this,"ZodUnknown")}constructor(){super(...arguments),this._unknown=!0}_parse(e){return Cn(e.data)}}Ia.create=t=>new Ia({typeName:de.ZodUnknown,...Se(t)});class Ms extends Te{static{a(this,"ZodNever")}_parse(e){const n=this._getOrReturnCtx(e);return ee(n,{code:H.invalid_type,expected:re.never,received:n.parsedType}),me}}Ms.create=t=>new Ms({typeName:de.ZodNever,...Se(t)});class vg extends Te{static{a(this,"ZodVoid")}_parse(e){if(this._getType(e)!==re.undefined){const r=this._getOrReturnCtx(e);return ee(r,{code:H.invalid_type,expected:re.void,received:r.parsedType}),me}return Cn(e.data)}}vg.create=t=>new vg({typeName:de.ZodVoid,...Se(t)});class Xr extends Te{static{a(this,"ZodArray")}_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==re.array)return ee(n,{code:H.invalid_type,expected:re.array,received:n.parsedType}),me;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(ee(n,{code:o?H.too_big:H.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ee(n,{code:H.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ee(n,{code:H.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new Vi(n,o,n.path,l)))).then(o=>gn.mergeArray(r,o));const s=[...n.data].map((o,l)=>i.type._parseSync(new Vi(n,o,n.path,l)));return gn.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Xr({...this._def,minLength:{value:e,message:ae.toString(n)}})}max(e,n){return new Xr({...this._def,maxLength:{value:e,message:ae.toString(n)}})}length(e,n){return new Xr({...this._def,exactLength:{value:e,message:ae.toString(n)}})}nonempty(e){return this.min(1,e)}}Xr.create=(t,e)=>new Xr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:de.ZodArray,...Se(e)});function Yl(t){if(t instanceof gt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Pi.create(Yl(r))}return new gt({...t._def,shape:a(()=>e,"shape")})}else return t instanceof Xr?new Xr({...t._def,type:Yl(t.element)}):t instanceof Pi?Pi.create(Yl(t.unwrap())):t instanceof Vo?Vo.create(Yl(t.unwrap())):t instanceof Wi?Wi.create(t.items.map(e=>Yl(e))):t}a(Yl,"deepPartialify");class gt extends Te{static{a(this,"ZodObject")}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ue.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==re.object){const c=this._getOrReturnCtx(e);return ee(c,{code:H.invalid_type,expected:re.object,received:c.parsedType}),me}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ms&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||l.push(c);const u=[];for(const c of o){const f=s[c],h=i.data[c];u.push({key:{status:"valid",value:c},value:f._parse(new Vi(i,h,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Ms){const c=this._def.unknownKeys;if(c==="passthrough")for(const f of l)u.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(c==="strict")l.length>0&&(ee(i,{code:H.unrecognized_keys,keys:l}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const f of l){const h=i.data[f];u.push({key:{status:"valid",value:f},value:c._parse(new Vi(i,h,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const f of u){const h=await f.key,p=await f.value;c.push({key:h,value:p,alwaysSet:f.alwaysSet})}return c}).then(c=>gn.mergeObjectSync(r,c)):gn.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return ae.errToObj,new gt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:a((n,r)=>{var i,s,o,l;const u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=ae.errToObj(e).message)!==null&&l!==void 0?l:u}:{message:u}},"errorMap")}:{}})}strip(){return new gt({...this._def,unknownKeys:"strip"})}passthrough(){return new gt({...this._def,unknownKeys:"passthrough"})}extend(e){return new gt({...this._def,shape:a(()=>({...this._def.shape(),...e}),"shape")})}merge(e){return new gt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:a(()=>({...this._def.shape(),...e._def.shape()}),"shape"),typeName:de.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new gt({...this._def,catchall:e})}pick(e){const n={};return Ue.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new gt({...this._def,shape:a(()=>n,"shape")})}omit(e){const n={};return Ue.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new gt({...this._def,shape:a(()=>n,"shape")})}deepPartial(){return Yl(this)}partial(e){const n={};return Ue.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new gt({...this._def,shape:a(()=>n,"shape")})}required(e){const n={};return Ue.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Pi;)s=s._def.innerType;n[r]=s}}),new gt({...this._def,shape:a(()=>n,"shape")})}keyof(){return t6(Ue.objectKeys(this.shape))}}gt.create=(t,e)=>new gt({shape:a(()=>t,"shape"),unknownKeys:"strip",catchall:Ms.create(),typeName:de.ZodObject,...Se(e)});gt.strictCreate=(t,e)=>new gt({shape:a(()=>t,"shape"),unknownKeys:"strict",catchall:Ms.create(),typeName:de.ZodObject,...Se(e)});gt.lazycreate=(t,e)=>new gt({shape:t,unknownKeys:"strip",catchall:Ms.create(),typeName:de.ZodObject,...Se(e)});class wh extends Te{static{a(this,"ZodUnion")}_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new or(l.ctx.common.issues));return ee(n,{code:H.invalid_union,unionErrors:o}),me}if(a(i,"handleResults"),n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const u of r){const c={...n,common:{...n.common,issues:[]},parent:null},f=u._parseSync({data:n.data,path:n.path,parent:c});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(u=>new or(u));return ee(n,{code:H.invalid_union,unionErrors:l}),me}}get options(){return this._def.options}}wh.create=(t,e)=>new wh({options:t,typeName:de.ZodUnion,...Se(e)});const ps=a(t=>t instanceof Sh?ps(t.schema):t instanceof oi?ps(t.innerType()):t instanceof kh?[t.value]:t instanceof jo?t.options:t instanceof Ah?Ue.objectValues(t.enum):t instanceof Th?ps(t._def.innerType):t instanceof _h?[void 0]:t instanceof bh?[null]:t instanceof Pi?[void 0,...ps(t.unwrap())]:t instanceof Vo?[null,...ps(t.unwrap())]:t instanceof FS||t instanceof Ch?ps(t.unwrap()):t instanceof xh?ps(t._def.innerType):[],"getDiscriminator");class Iy extends Te{static{a(this,"ZodDiscriminatedUnion")}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==re.object)return ee(n,{code:H.invalid_type,expected:re.object,received:n.parsedType}),me;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(ee(n,{code:H.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),me)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=ps(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,s)}}return new Iy({typeName:de.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Se(r)})}}function bw(t,e){const n=Es(t),r=Es(e);if(t===e)return{valid:!0,data:t};if(n===re.object&&r===re.object){const i=Ue.objectKeys(e),s=Ue.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of s){const u=bw(t[l],e[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}else if(n===re.array&&r===re.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],u=bw(o,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===re.date&&r===re.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}a(bw,"mergeValues");class Eh extends Te{static{a(this,"ZodIntersection")}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=a((s,o)=>{if(yw(s)||yw(o))return me;const l=bw(s.value,o.value);return l.valid?((_w(s)||_w(o))&&n.dirty(),{status:n.value,value:l.data}):(ee(r,{code:H.invalid_intersection_types}),me)},"handleParsed");return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Eh.create=(t,e,n)=>new Eh({left:t,right:e,typeName:de.ZodIntersection,...Se(n)});class Wi extends Te{static{a(this,"ZodTuple")}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.array)return ee(r,{code:H.invalid_type,expected:re.array,received:r.parsedType}),me;if(r.data.length<this._def.items.length)return ee(r,{code:H.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),me;!this._def.rest&&r.data.length>this._def.items.length&&(ee(r,{code:H.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Vi(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>gn.mergeArray(n,o)):gn.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Wi({...this._def,rest:e})}}Wi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wi({items:t,typeName:de.ZodTuple,rest:null,...Se(e)})};class vh extends Te{static{a(this,"ZodRecord")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.object)return ee(r,{code:H.invalid_type,expected:re.object,received:r.parsedType}),me;const i=[],s=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:s._parse(new Vi(r,l,r.path,l)),value:o._parse(new Vi(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?gn.mergeObjectAsync(n,i):gn.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Te?new vh({keyType:e,valueType:n,typeName:de.ZodRecord,...Se(r)}):new vh({keyType:Hr.create(),valueType:e,typeName:de.ZodRecord,...Se(n)})}}class Sg extends Te{static{a(this,"ZodMap")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.map)return ee(r,{code:H.invalid_type,expected:re.map,received:r.parsedType}),me;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([l,u],c)=>({key:i._parse(new Vi(r,l,r.path,[c,"key"])),value:s._parse(new Vi(r,u,r.path,[c,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of o){const c=await u.key,f=await u.value;if(c.status==="aborted"||f.status==="aborted")return me;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(c.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const u of o){const c=u.key,f=u.value;if(c.status==="aborted"||f.status==="aborted")return me;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(c.value,f.value)}return{status:n.value,value:l}}}}Sg.create=(t,e,n)=>new Sg({valueType:e,keyType:t,typeName:de.ZodMap,...Se(n)});class il extends Te{static{a(this,"ZodSet")}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==re.set)return ee(r,{code:H.invalid_type,expected:re.set,received:r.parsedType}),me;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ee(r,{code:H.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ee(r,{code:H.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(u){const c=new Set;for(const f of u){if(f.status==="aborted")return me;f.status==="dirty"&&n.dirty(),c.add(f.value)}return{status:n.value,value:c}}a(o,"finalizeSet");const l=[...r.data.values()].map((u,c)=>s._parse(new Vi(r,u,r.path,c)));return r.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(e,n){return new il({...this._def,minSize:{value:e,message:ae.toString(n)}})}max(e,n){return new il({...this._def,maxSize:{value:e,message:ae.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}il.create=(t,e)=>new il({valueType:t,minSize:null,maxSize:null,typeName:de.ZodSet,...Se(e)});class mu extends Te{static{a(this,"ZodFunction")}constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==re.function)return ee(n,{code:H.invalid_type,expected:re.function,received:n.parsedType}),me;function r(l,u){return bg({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,_g(),Wu].filter(c=>!!c),issueData:{code:H.invalid_arguments,argumentsError:u}})}a(r,"makeArgsIssue");function i(l,u){return bg({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,_g(),Wu].filter(c=>!!c),issueData:{code:H.invalid_return_type,returnTypeError:u}})}a(i,"makeReturnsIssue");const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof qu){const l=this;return Cn(async function(...u){const c=new or([]),f=await l._def.args.parseAsync(u,s).catch(m=>{throw c.addIssue(r(u,m)),c}),h=await Reflect.apply(o,this,f);return await l._def.returns._def.type.parseAsync(h,s).catch(m=>{throw c.addIssue(i(h,m)),c})})}else{const l=this;return Cn(function(...u){const c=l._def.args.safeParse(u,s);if(!c.success)throw new or([r(u,c.error)]);const f=Reflect.apply(o,this,c.data),h=l._def.returns.safeParse(f,s);if(!h.success)throw new or([i(f,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new mu({...this._def,args:Wi.create(e).rest(Ia.create())})}returns(e){return new mu({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new mu({args:e||Wi.create([]).rest(Ia.create()),returns:n||Ia.create(),typeName:de.ZodFunction,...Se(r)})}}class Sh extends Te{static{a(this,"ZodLazy")}get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Sh.create=(t,e)=>new Sh({getter:t,typeName:de.ZodLazy,...Se(e)});class kh extends Te{static{a(this,"ZodLiteral")}_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ee(n,{received:n.data,code:H.invalid_literal,expected:this._def.value}),me}return{status:"valid",value:e.data}}get value(){return this._def.value}}kh.create=(t,e)=>new kh({value:t,typeName:de.ZodLiteral,...Se(e)});function t6(t,e){return new jo({values:t,typeName:de.ZodEnum,...Se(e)})}a(t6,"createZodEnum");class jo extends Te{static{a(this,"ZodEnum")}constructor(){super(...arguments),bf.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ee(n,{expected:Ue.joinValues(r),received:n.parsedType,code:H.invalid_type}),me}if(wg(this,bf)||XP(this,bf,new Set(this._def.values)),!wg(this,bf).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ee(n,{received:n.data,code:H.invalid_enum_value,options:r}),me}return Cn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return jo.create(e,{...this._def,...n})}exclude(e,n=this._def){return jo.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}bf=new WeakMap;jo.create=t6;class Ah extends Te{static{a(this,"ZodNativeEnum")}constructor(){super(...arguments),wf.set(this,void 0)}_parse(e){const n=Ue.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==re.string&&r.parsedType!==re.number){const i=Ue.objectValues(n);return ee(r,{expected:Ue.joinValues(i),received:r.parsedType,code:H.invalid_type}),me}if(wg(this,wf)||XP(this,wf,new Set(Ue.getValidEnumValues(this._def.values))),!wg(this,wf).has(e.data)){const i=Ue.objectValues(n);return ee(r,{received:r.data,code:H.invalid_enum_value,options:i}),me}return Cn(e.data)}get enum(){return this._def.values}}wf=new WeakMap;Ah.create=(t,e)=>new Ah({values:t,typeName:de.ZodNativeEnum,...Se(e)});class qu extends Te{static{a(this,"ZodPromise")}unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==re.promise&&n.common.async===!1)return ee(n,{code:H.invalid_type,expected:re.promise,received:n.parsedType}),me;const r=n.parsedType===re.promise?n.data:Promise.resolve(n.data);return Cn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}qu.create=(t,e)=>new qu({type:t,typeName:de.ZodPromise,...Se(e)});class oi extends Te{static{a(this,"ZodEffects")}innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===de.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a(o=>{ee(r,o),o.fatal?n.abort():n.dirty()},"addIssue"),get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return me;const u=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return u.status==="aborted"?me:u.status==="dirty"||n.value==="dirty"?tu(u.value):u});{if(n.value==="aborted")return me;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?me:l.status==="dirty"||n.value==="dirty"?tu(l.value):l}}if(i.type==="refinement"){const o=a(l=>{const u=i.refinement(l,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l},"executeRefinement");if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?me:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?me:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!nl(o))return o;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>nl(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:n.value,value:l})):o);Ue.assertNever(i)}}oi.create=(t,e,n)=>new oi({schema:t,typeName:de.ZodEffects,effect:e,...Se(n)});oi.createWithPreprocess=(t,e,n)=>new oi({schema:e,effect:{type:"preprocess",transform:t},typeName:de.ZodEffects,...Se(n)});class Pi extends Te{static{a(this,"ZodOptional")}_parse(e){return this._getType(e)===re.undefined?Cn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Pi.create=(t,e)=>new Pi({innerType:t,typeName:de.ZodOptional,...Se(e)});class Vo extends Te{static{a(this,"ZodNullable")}_parse(e){return this._getType(e)===re.null?Cn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Vo.create=(t,e)=>new Vo({innerType:t,typeName:de.ZodNullable,...Se(e)});class Th extends Te{static{a(this,"ZodDefault")}_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===re.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Th.create=(t,e)=>new Th({innerType:t,typeName:de.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Se(e)});class xh extends Te{static{a(this,"ZodCatch")}_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return gh(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new or(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new or(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}xh.create=(t,e)=>new xh({innerType:t,typeName:de.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Se(e)});class kg extends Te{static{a(this,"ZodNaN")}_parse(e){if(this._getType(e)!==re.nan){const r=this._getOrReturnCtx(e);return ee(r,{code:H.invalid_type,expected:re.nan,received:r.parsedType}),me}return{status:"valid",value:e.data}}}kg.create=t=>new kg({typeName:de.ZodNaN,...Se(t)});const cae=Symbol("zod_brand");class FS extends Te{static{a(this,"ZodBranded")}_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ad extends Te{static{a(this,"ZodPipeline")}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return a(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?me:s.status==="dirty"?(n.dirty(),tu(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})},"handleAsync")();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?me:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Ad({in:e,out:n,typeName:de.ZodPipeline})}}class Ch extends Te{static{a(this,"ZodReadonly")}_parse(e){const n=this._def.innerType._parse(e),r=a(i=>(nl(i)&&(i.value=Object.freeze(i.value)),i),"freeze");return gh(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Ch.create=(t,e)=>new Ch({innerType:t,typeName:de.ZodReadonly,...Se(e)});function n6(t,e={},n){return t?Hu.create().superRefine((r,i)=>{var s,o;if(!t(r)){const l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(o=(s=l.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,c=typeof l=="string"?{message:l}:l;i.addIssue({code:"custom",...c,fatal:u})}}):Hu.create()}a(n6,"custom");const fae={object:gt.lazycreate};var de;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(de||(de={}));const hae=a((t,e={message:`Input not instance of ${t.name}`})=>n6(n=>n instanceof t,e),"instanceOfType"),r6=Hr.create,i6=Uo.create,dae=kg.create,pae=zo.create,s6=yh.create,mae=rl.create,gae=Eg.create,yae=_h.create,_ae=bh.create,bae=Hu.create,wae=Ia.create,Eae=Ms.create,vae=vg.create,Sae=Xr.create,kae=gt.create,Aae=gt.strictCreate,Tae=wh.create,xae=Iy.create,Cae=Eh.create,Iae=Wi.create,Rae=vh.create,Oae=Sg.create,Nae=il.create,Dae=mu.create,Mae=Sh.create,Pae=kh.create,Lae=jo.create,Fae=Ah.create,$ae=qu.create,EC=oi.create,Bae=Pi.create,Uae=Vo.create,zae=oi.createWithPreprocess,jae=Ad.create,Vae=a(()=>r6().optional(),"ostring"),Wae=a(()=>i6().optional(),"onumber"),Hae=a(()=>s6().optional(),"oboolean"),qae={string:a(t=>Hr.create({...t,coerce:!0}),"string"),number:a(t=>Uo.create({...t,coerce:!0}),"number"),boolean:a(t=>yh.create({...t,coerce:!0}),"boolean"),bigint:a(t=>zo.create({...t,coerce:!0}),"bigint"),date:a(t=>rl.create({...t,coerce:!0}),"date")},Gae=me;var Zve=Object.freeze({__proto__:null,defaultErrorMap:Wu,setErrorMap:zoe,getErrorMap:_g,makeIssue:bg,EMPTY_PATH:joe,addIssueToContext:ee,ParseStatus:gn,INVALID:me,DIRTY:tu,OK:Cn,isAborted:yw,isDirty:_w,isValid:nl,isAsync:gh,get util(){return Ue},get objectUtil(){return gw},ZodParsedType:re,getParsedType:Es,ZodType:Te,datetimeRegex:e6,ZodString:Hr,ZodNumber:Uo,ZodBigInt:zo,ZodBoolean:yh,ZodDate:rl,ZodSymbol:Eg,ZodUndefined:_h,ZodNull:bh,ZodAny:Hu,ZodUnknown:Ia,ZodNever:Ms,ZodVoid:vg,ZodArray:Xr,ZodObject:gt,ZodUnion:wh,ZodDiscriminatedUnion:Iy,ZodIntersection:Eh,ZodTuple:Wi,ZodRecord:vh,ZodMap:Sg,ZodSet:il,ZodFunction:mu,ZodLazy:Sh,ZodLiteral:kh,ZodEnum:jo,ZodNativeEnum:Ah,ZodPromise:qu,ZodEffects:oi,ZodTransformer:oi,ZodOptional:Pi,ZodNullable:Vo,ZodDefault:Th,ZodCatch:xh,ZodNaN:kg,BRAND:cae,ZodBranded:FS,ZodPipeline:Ad,ZodReadonly:Ch,custom:n6,Schema:Te,ZodSchema:Te,late:fae,get ZodFirstPartyTypeKind(){return de},coerce:qae,any:bae,array:Sae,bigint:pae,boolean:s6,date:mae,discriminatedUnion:xae,effect:EC,enum:Lae,function:Dae,instanceof:hae,intersection:Cae,lazy:Mae,literal:Pae,map:Oae,nan:dae,nativeEnum:Fae,never:Eae,null:_ae,nullable:Uae,number:i6,object:kae,oboolean:Hae,onumber:Wae,optional:Bae,ostring:Vae,pipeline:jae,preprocess:zae,promise:$ae,record:Rae,set:Nae,strictObject:Aae,string:r6,symbol:gae,transformer:EC,tuple:Iae,undefined:yae,union:Tae,unknown:wae,void:vae,NEVER:Gae,ZodIssueCode:H,quotelessJson:Uoe,ZodError:or});function $S(t){return t instanceof Error&&t.name==="ZodError"&&"issues"in t&&Array.isArray(t.issues)}a($S,"isZodErrorLike");var ww=class extends Error{static{a(this,"ValidationError")}name;details;constructor(t,e){super(t,e),this.name="ZodValidationError",this.details=Kae(e)}toString(){return this.message}};function Kae(t){if(t){const e=t.cause;if($S(e))return e.issues}return[]}a(Kae,"getIssuesFromErrorOptions");var Yae="; ",Jae=99,o6="Validation error",Xae=": ",Zae=", or ";function Qae(t,e,n){return e!==null?t.length>0?[e,t].join(n):e:t.length>0?t:o6}a(Qae,"prefixMessage");var ele=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;function tle(t){return t.length===1?t[0].toString():t.reduce((e,n)=>{if(typeof n=="number")return e+"["+n.toString()+"]";if(n.includes('"'))return e+'["'+nle(n)+'"]';if(!ele.test(n))return e+'["'+n+'"]';const r=e.length===0?"":".";return e+r+n},"")}a(tle,"joinPath");function nle(t){return t.replace(/"/g,'\\"')}a(nle,"escapeQuotes");function rle(t){return t.length!==0}a(rle,"isNonEmptyArray");function pm(t){const{issue:e,issueSeparator:n,unionSeparator:r,includePath:i}=t;if(e.code==="invalid_union")return e.unionErrors.reduce((s,o)=>{const l=o.issues.map(u=>pm({issue:u,issueSeparator:n,unionSeparator:r,includePath:i})).join(n);return s.includes(l)||s.push(l),s},[]).join(r);if(e.code==="invalid_arguments")return[e.message,...e.argumentsError.issues.map(s=>pm({issue:s,issueSeparator:n,unionSeparator:r,includePath:i}))].join(n);if(e.code==="invalid_return_type")return[e.message,...e.returnTypeError.issues.map(s=>pm({issue:s,issueSeparator:n,unionSeparator:r,includePath:i}))].join(n);if(i&&rle(e.path)){if(e.path.length===1){const s=e.path[0];if(typeof s=="number")return`${e.message} at index ${s}`}return`${e.message} at "${tle(e.path)}"`}return e.message}a(pm,"getMessageFromZodIssue");function Qve(t,e={}){if(!$S(t))throw new TypeError(`Invalid zodError param; expected instance of ZodError. Did you mean to use the "${sle.name}" method instead?`);return a6(t,e)}a(Qve,"fromZodError");function a6(t,e={}){const{maxIssuesInMessage:n=Jae,issueSeparator:r=Yae,unionSeparator:i=Zae,prefixSeparator:s=Xae,prefix:o=o6,includePath:l=!0}=e,u=t.errors,c=u.length===0?t.message:u.slice(0,n).map(h=>pm({issue:h,issueSeparator:r,unionSeparator:i,includePath:l})).join(r),f=Qae(c,o,s);return new ww(f,{cause:t})}a(a6,"fromZodErrorWithoutRuntimeCheck");var ile=a((t={})=>e=>$S(e)?a6(e,t):e instanceof Error?new ww(e.message,{cause:e}):new ww("Unknown error"),"toValidationError");function sle(t,e={}){return ile(e)(t)}a(sle,"fromError");class ole{static{a(this,"Processor")}constructor(e){this.selfOptions=e||{},this.pipes={}}options(e){return e&&(this.selfOptions=e),this.selfOptions}pipe(e,n){let r=n;if(typeof e=="string"){if(typeof r>"u")return this.pipes[e];this.pipes[e]=r}if(e&&e.name){if(r=e,r.processor===this)return r;this.pipes[r.name]=r}return r.processor=this,r}process(e,n){let r=e;r.options=this.options();let i=n||e.pipe||"default",s;for(;i;)typeof r.nextAfterChildren<"u"&&(r.next=r.nextAfterChildren,r.nextAfterChildren=null),typeof i=="string"&&(i=this.pipe(i)),i.process(r),s=i,i=null,r&&r.next&&(r=r.next,i=r.pipe||s);return r.hasResult?r.result:void 0}}class X1{static{a(this,"Pipe")}constructor(e){this.name=e,this.filters=[]}process(e){if(!this.processor)throw new Error("add this pipe to a processor before using it");const n=this.debug,r=this.filters.length,i=e;for(let s=0;s<r;s++){const o=this.filters[s];if(n&&this.log(`filter: ${o.filterName}`),o(i),typeof i=="object"&&i.exiting){i.exiting=!1;break}}!i.next&&this.resultCheck&&this.resultCheck(i)}log(e){`${this.name}${e}`}append(...e){return this.filters.push(...e),this}prepend(...e){return this.filters.unshift(...e),this}indexOf(e){if(!e)throw new Error("a filter name is required");for(let n=0;n<this.filters.length;n++)if(this.filters[n].filterName===e)return n;throw new Error(`filter not found: ${e}`)}list(){return this.filters.map(e=>e.filterName)}after(e,...n){const r=this.indexOf(e);return this.filters.splice(r+1,0,...n),this}before(e,...n){const r=this.indexOf(e);return this.filters.splice(r,0,...n),this}replace(e,...n){const r=this.indexOf(e);return this.filters.splice(r,1,...n),this}remove(e){const n=this.indexOf(e);return this.filters.splice(n,1),this}clear(){return this.filters.length=0,this}shouldHaveResult(e){if(e===!1){this.resultCheck=null;return}if(!this.resultCheck)return this.resultCheck=n=>{if(!n.hasResult){const r=new Error(`${this.name} failed`);throw r.noResult=!0,r}},this}}class BS{static{a(this,"Context")}setResult(e){return this.result=e,this.hasResult=!0,this}exit(){return this.exiting=!0,this}push(e,n){return e.parent=this,typeof n<"u"&&(e.childName=n),e.root=this.root||this,e.options=e.options||this.options,this.children?(this.children[this.children.length-1].next=e,this.children.push(e)):(this.children=[e],this.nextAfterChildren=this.next||null,this.next=e),e.next=this,this}}function ale(t){const e=/^\/(.*)\/([gimyu]*)$/.exec(t.toString());return new RegExp(e[1],e[2])}a(ale,"cloneRegExp");function Ag(t){if(typeof t!="object")return t;if(t===null)return null;if(Array.isArray(t))return t.map(Ag);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return ale(t);const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Ag(t[n]));return e}a(Ag,"clone$1");class wa extends BS{static{a(this,"DiffContext")}constructor(e,n){super(),this.left=e,this.right=n,this.pipe="diff"}setResult(e){if(this.options.cloneDiffValues&&typeof e=="object"){const n=typeof this.options.cloneDiffValues=="function"?this.options.cloneDiffValues:Ag;typeof e[0]=="object"&&(e[0]=n(e[0])),typeof e[1]=="object"&&(e[1]=n(e[1]))}return super.setResult(e)}}class US extends BS{static{a(this,"PatchContext")}constructor(e,n){super(),this.left=e,this.delta=n,this.pipe="patch"}}class zS extends BS{static{a(this,"ReverseContext")}constructor(e){super(),this.delta=e,this.pipe="reverse"}}const l6=a(function(e){if(e.left===e.right){e.setResult(void 0).exit();return}if(typeof e.left>"u"){if(typeof e.right=="function")throw new Error("functions are not supported");e.setResult([e.right]).exit();return}if(typeof e.right>"u"){e.setResult([e.left,0,0]).exit();return}if(typeof e.left=="function"||typeof e.right=="function")throw new Error("functions are not supported");if(e.leftType=e.left===null?"null":typeof e.left,e.rightType=e.right===null?"null":typeof e.right,e.leftType!==e.rightType){e.setResult([e.left,e.right]).exit();return}if(e.leftType==="boolean"||e.leftType==="number"){e.setResult([e.left,e.right]).exit();return}if(e.leftType==="object"&&(e.leftIsArray=Array.isArray(e.left)),e.rightType==="object"&&(e.rightIsArray=Array.isArray(e.right)),e.leftIsArray!==e.rightIsArray){e.setResult([e.left,e.right]).exit();return}e.left instanceof RegExp&&(e.right instanceof RegExp?e.setResult([e.left.toString(),e.right.toString()]).exit():e.setResult([e.left,e.right]).exit())},"trivialMatchesDiffFilter");l6.filterName="trivial";const u6=a(function(e){if(typeof e.delta>"u"){e.setResult(e.left).exit();return}if(e.nested=!Array.isArray(e.delta),e.nested)return;const n=e.delta;if(n.length===1){e.setResult(n[0]).exit();return}if(n.length===2){if(e.left instanceof RegExp){const r=/^\/(.*)\/([gimyu]+)$/.exec(n[1]);if(r){e.setResult(new RegExp(r[1],r[2])).exit();return}}e.setResult(n[1]).exit();return}n.length===3&&n[2]===0&&e.setResult(void 0).exit()},"trivialMatchesPatchFilter");u6.filterName="trivial";const c6=a(function(e){if(typeof e.delta>"u"){e.setResult(e.delta).exit();return}if(e.nested=!Array.isArray(e.delta),e.nested)return;const n=e.delta;if(n.length===1){e.setResult([n[0],0,0]).exit();return}if(n.length===2){e.setResult([n[1],n[0]]).exit();return}n.length===3&&n[2]===0&&e.setResult([n[0]]).exit()},"trivialReferseFilter");c6.filterName="trivial";const f6=a(t=>{if(!t||!t.children)return;const e=t.children.length;let n,r=t.result;for(let i=0;i<e;i++)n=t.children[i],!(typeof n.result>"u")&&(r=r||{},r[n.childName]=n.result);r&&t.leftIsArray&&(r._t="a"),t.setResult(r).exit()},"collectChildrenDiffFilter");f6.filterName="collectChildren";const h6=a(t=>{if(t.leftIsArray||t.leftType!=="object")return;const e=t.left,n=t.right;let r,i;const s=t.options.propertyFilter;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s&&!s(r,t)||(i=new wa(e[r],n[r]),t.push(i,r)));for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s&&!s(r,t)||typeof e[r]>"u"&&(i=new wa(void 0,n[r]),t.push(i,r)));if(!t.children||t.children.length===0){t.setResult(void 0).exit();return}t.exit()},"objectsDiffFilter");h6.filterName="objects";const d6=a(function(e){if(!e.nested)return;const n=e.delta;if(n._t)return;const r=n;let i,s;for(i in r)s=new US(e.left[i],r[i]),e.push(s,i);e.exit()},"nestedPatchFilter");d6.filterName="objects";const p6=a(function(e){if(!e||!e.children||e.delta._t)return;const r=e.left,i=e.children.length;let s;for(let o=0;o<i;o++){s=e.children[o];const l=s.childName;Object.prototype.hasOwnProperty.call(e.left,l)&&s.result===void 0?delete r[l]:r[l]!==s.result&&(r[l]=s.result)}e.setResult(r).exit()},"collectChildrenPatchFilter");p6.filterName="collectChildren";const m6=a(function(e){if(!e.nested||e.delta._t)return;const r=e.delta;let i,s;for(i in r)s=new zS(r[i]),e.push(s,i);e.exit()},"nestedReverseFilter");m6.filterName="objects";const g6=a(t=>{if(!t||!t.children||t.delta._t)return;const n=t.children.length;let r;const i={};for(let s=0;s<n;s++){r=t.children[s];const o=r.childName;i[o]!==r.result&&(i[o]=r.result)}t.setResult(i).exit()},"collectChildrenReverseFilter$1");g6.filterName="collectChildren";const lle=a(function(t,e,n,r){return t[n]===e[r]},"defaultMatch"),ule=a(function(t,e,n,r){const i=t.length,s=e.length;let o,l;const u=new Array(i+1);for(o=0;o<i+1;o++)for(u[o]=new Array(s+1),l=0;l<s+1;l++)u[o][l]=0;for(u.match=n,o=1;o<i+1;o++)for(l=1;l<s+1;l++)n(t,e,o-1,l-1,r)?u[o][l]=u[o-1][l-1]+1:u[o][l]=Math.max(u[o-1][l],u[o][l-1]);return u},"lengthMatrix"),cle=a(function(t,e,n,r){let i=e.length,s=n.length;const o={sequence:[],indices1:[],indices2:[]};for(;i!==0&&s!==0;)if(t.match(e,n,i-1,s-1,r))o.sequence.unshift(e[i-1]),o.indices1.unshift(i-1),o.indices2.unshift(s-1),--i,--s;else{const u=t[i][s-1],c=t[i-1][s];u>c?--s:--i}return o},"backtrack"),fle=a(function(t,e,n,r){const i=r||{},s=ule(t,e,n||lle,i);return cle(s,t,e,i)},"get$1"),hle={get:fle},Gu=3;function dle(t,e,n,r){for(let i=0;i<n;i++){const s=t[i];for(let o=0;o<r;o++){const l=e[o];if(i!==o&&s===l)return!0}}}a(dle,"arraysHaveMatchByRef");function Np(t,e,n,r,i){const s=t[n],o=e[r];if(s===o)return!0;if(typeof s!="object"||typeof o!="object")return!1;const l=i.objectHash;if(!l)return i.matchByPosition&&n===r;i.hashCache1=i.hashCache1||[];let u=i.hashCache1[n];if(typeof u>"u"&&(i.hashCache1[n]=u=l(s,n)),typeof u>"u")return!1;i.hashCache2=i.hashCache2||[];let c=i.hashCache2[r];return typeof c>"u"&&(i.hashCache2[r]=c=l(o,r)),typeof c>"u"?!1:u===c}a(Np,"matchItems");const y6=a(function(e){if(!e.leftIsArray)return;const n={objectHash:e.options&&e.options.objectHash,matchByPosition:e.options&&e.options.matchByPosition};let r=0,i=0,s,o,l;const u=e.left,c=e.right,f=u.length,h=c.length;let p;for(f>0&&h>0&&!n.objectHash&&typeof n.matchByPosition!="boolean"&&(n.matchByPosition=!dle(u,c,f,h));r<f&&r<h&&Np(u,c,r,r,n);)s=r,p=new wa(u[s],c[s]),e.push(p,s),r++;for(;i+r<f&&i+r<h&&Np(u,c,f-1-i,h-1-i,n);)o=f-1-i,l=h-1-i,p=new wa(u[o],c[l]),e.push(p,l),i++;let m;if(r+i===f){if(f===h){e.setResult(void 0).exit();return}for(m=m||{_t:"a"},s=r;s<h-i;s++)m[s]=[c[s]];e.setResult(m).exit();return}if(r+i===h){for(m=m||{_t:"a"},s=r;s<f-i;s++)m[`_${s}`]=[u[s],0,0];e.setResult(m).exit();return}delete n.hashCache1,delete n.hashCache2;const g=u.slice(r,f-i),y=c.slice(r,h-i),_=hle.get(g,y,Np,n),w=[];for(m=m||{_t:"a"},s=r;s<f-i;s++)_.indices1.indexOf(s-r)<0&&(m[`_${s}`]=[u[s],0,0],w.push(s));let S=!0;e.options&&e.options.arrays&&e.options.arrays.detectMove===!1&&(S=!1);let T=!1;e.options&&e.options.arrays&&e.options.arrays.includeValueOnMove&&(T=!0);const N=w.length;for(s=r;s<h-i;s++){const O=_.indices2.indexOf(s-r);if(O<0){let M=!1;if(S&&N>0){for(let k=0;k<N;k++)if(o=w[k],Np(g,y,o-r,s-r,n)){m[`_${o}`].splice(1,2,s,Gu),T||(m[`_${o}`][0]=""),l=s,p=new wa(u[o],c[l]),e.push(p,l),w.splice(k,1),M=!0;break}}M||(m[s]=[c[s]])}else o=_.indices1[O]+r,l=_.indices2[O]+r,p=new wa(u[o],c[l]),e.push(p,l)}e.setResult(m).exit()},"arraysDiffFilter");y6.filterName="arrays";const vC={numerically(t,e){return t-e},numericallyBy(t){return(e,n)=>e[t]-n[t]}},_6=a(function(e){if(!e.nested)return;const n=e.delta;if(n._t!=="a")return;let r,i;const s=n,o=e.left;let l=[],u=[];const c=[];for(r in s)if(r!=="_t")if(r[0]==="_"){const m=r;if(s[m][2]===0||s[m][2]===Gu)l.push(parseInt(r.slice(1),10));else throw new Error(`only removal or move can be applied at original array indices, invalid diff type: ${s[m][2]}`)}else{const m=r;s[m].length===1?u.push({index:parseInt(m,10),value:s[m][0]}):c.push({index:parseInt(m,10),delta:s[m]})}for(l=l.sort(vC.numerically),r=l.length-1;r>=0;r--){i=l[r];const m=s[`_${i}`],g=o.splice(i,1)[0];m[2]===Gu&&u.push({index:m[1],value:g})}u=u.sort(vC.numericallyBy("index"));const f=u.length;for(r=0;r<f;r++){const m=u[r];o.splice(m.index,0,m.value)}const h=c.length;let p;if(h>0)for(r=0;r<h;r++){const m=c[r];p=new US(o[m.index],m.delta),e.push(p,m.index)}if(!e.children){e.setResult(o).exit();return}e.exit()},"nestedPatchFilter");_6.filterName="arrays";const b6=a(function(e){if(!e||!e.children||e.delta._t!=="a")return;const r=e.left,i=e.children.length;let s;for(let o=0;o<i;o++){s=e.children[o];const l=s.childName;r[l]=s.result}e.setResult(r).exit()},"collectChildrenPatchFilter");b6.filterName="arraysCollectChildren";const w6=a(function(e){if(!e.nested){const o=e.delta;if(o[2]===Gu){const l=o;e.newName=`_${l[1]}`,e.setResult([l[0],parseInt(e.childName.substring(1),10),Gu]).exit()}return}const n=e.delta;if(n._t!=="a")return;const r=n;let i,s;for(i in r)i!=="_t"&&(s=new zS(r[i]),e.push(s,i));e.exit()},"arraysReverseFilter");w6.filterName="arrays";const ple=a((t,e,n)=>{if(typeof e=="string"&&e[0]==="_")return parseInt(e.substring(1),10);if(Array.isArray(n)&&n[2]===0)return`_${e}`;let r=+e;for(const i in t){const s=t[i];if(Array.isArray(s))if(s[2]===Gu){const o=parseInt(i.substring(1),10),l=s[1];if(l===+e)return o;o<=r&&l>r?r++:o>=r&&l<r&&r--}else s[2]===0?parseInt(i.substring(1),10)<=r&&r++:s.length===1&&parseInt(i,10)<=r&&r--}return r},"reverseArrayDeltaIndex"),E6=a(t=>{if(!t||!t.children)return;const e=t.delta;if(e._t!=="a")return;const n=e,r=t.children.length;let i;const s={_t:"a"};for(let o=0;o<r;o++){i=t.children[o];let l=i.newName;typeof l>"u"&&(l=ple(n,i.childName,i.result)),s[l]!==i.result&&(s[l]=i.result)}t.setResult(s).exit()},"collectChildrenReverseFilter");E6.filterName="arraysCollectChildren";const v6=a(function(e){e.left instanceof Date?(e.right instanceof Date?e.left.getTime()!==e.right.getTime()?e.setResult([e.left,e.right]):e.setResult(void 0):e.setResult([e.left,e.right]),e.exit()):e.right instanceof Date&&e.setResult([e.left,e.right]).exit()},"datesDiffFilter");v6.filterName="dates";const Tg=2,mle=60;let Z1=null;function S6(t,e){var n;if(!Z1){let r;if(!((n=t?.textDiff)===null||n===void 0)&&n.diffMatchPatch)r=new t.textDiff.diffMatchPatch;else{if(!e)return null;const i=new Error("The diff-match-patch library was not provided. Pass the library in through the options or use the `jsondiffpatch/with-text-diffs` entry-point.");throw i.diff_match_patch_not_found=!0,i}Z1={diff:a(function(i,s){return r.patch_toText(r.patch_make(i,s))},"diff"),patch:a(function(i,s){const o=r.patch_apply(r.patch_fromText(s),i);for(let l=0;l<o[1].length;l++)if(!o[1][l]){const u=new Error("text patch failed");u.textPatchFailed=!0}return o[0]},"patch")}}return Z1}a(S6,"getDiffMatchPatch");const k6=a(function(e){if(e.leftType!=="string")return;const n=e.left,r=e.right,i=e.options&&e.options.textDiff&&e.options.textDiff.minLength||mle;if(n.length<i||r.length<i){e.setResult([n,r]).exit();return}const s=S6(e.options);if(!s){e.setResult([n,r]).exit();return}const o=s.diff;e.setResult([o(n,r),0,Tg]).exit()},"textsDiffFilter");k6.filterName="texts";const A6=a(function(e){if(e.nested)return;const n=e.delta;if(n[2]!==Tg)return;const r=n,i=S6(e.options,!0).patch;e.setResult(i(e.left,r[0])).exit()},"textsPatchFilter");A6.filterName="texts";const gle=a(function(t){let e,n,r,i,s=null;const o=/^@@ +-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;let l;const u=t.split(`
`);for(e=0,n=u.length;e<n;e++){r=u[e];const c=r.slice(0,1);c==="@"?(s=o.exec(r),l=e,u[l]="@@ -"+s[3]+","+s[4]+" +"+s[1]+","+s[2]+" @@"):c==="+"?(u[e]="-"+u[e].slice(1),u[e-1].slice(0,1)==="+"&&(i=u[e],u[e]=u[e-1],u[e-1]=i)):c==="-"&&(u[e]="+"+u[e].slice(1))}return u.join(`
`)},"textDeltaReverse"),T6=a(function(e){if(e.nested)return;const n=e.delta;if(n[2]!==Tg)return;const r=n;e.setResult([gle(r[0]),0,Tg]).exit()},"textsReverseFilter");T6.filterName="texts";class yle{static{a(this,"DiffPatcher")}constructor(e){this.processor=new ole(e),this.processor.pipe(new X1("diff").append(f6,l6,v6,k6,h6,y6).shouldHaveResult()),this.processor.pipe(new X1("patch").append(p6,b6,u6,A6,d6,_6).shouldHaveResult()),this.processor.pipe(new X1("reverse").append(g6,E6,c6,T6,m6,w6).shouldHaveResult())}options(e){return this.processor.options(e)}diff(e,n){return this.processor.process(new wa(e,n))}patch(e,n){return this.processor.process(new US(e,n))}reverse(e){return this.processor.process(new zS(e))}unpatch(e,n){return this.patch(e,this.reverse(n))}clone(e){return Ag(e)}}let Q1;function eSe(t,e){return Q1||(Q1=new yle),Q1.diff(t,e)}a(eSe,"diff");class _le{static{a(this,"QuickLRU")}constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof e.maxAge=="number"&&e.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||1/0,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if(typeof this.onEviction=="function")for(const[n,r]of e)this.onEviction(n,r.value)}_deleteIfExpired(e,n){return typeof n.expiry=="number"&&n.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(e,n.value),this.delete(e)):!1}_getOrDeleteIfExpired(e,n){if(this._deleteIfExpired(e,n)===!1)return n.value}_getItemValue(e,n){return n.expiry?this._getOrDeleteIfExpired(e,n):n.value}_peek(e,n){const r=n.get(e);return this._getItemValue(e,r)}_set(e,n){this.cache.set(e,n),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,n){this.oldCache.delete(e),this._set(e,n)}*_entriesAscending(){for(const e of this.oldCache){const[n,r]=e;this.cache.has(n)||this._deleteIfExpired(n,r)===!1&&(yield e)}for(const e of this.cache){const[n,r]=e;this._deleteIfExpired(n,r)===!1&&(yield e)}}get(e){if(this.cache.has(e)){const n=this.cache.get(e);return this._getItemValue(e,n)}if(this.oldCache.has(e)){const n=this.oldCache.get(e);if(this._deleteIfExpired(e,n)===!1)return this._moveToRecent(e,n),n.value}}set(e,n,{maxAge:r=this.maxAge===1/0?void 0:Date.now()+this.maxAge}={}){this.cache.has(e)?this.cache.set(e,{value:n,maxAge:r}):this._set(e,{value:n,expiry:r})}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):this.oldCache.has(e)?!this._deleteIfExpired(e,this.oldCache.get(e)):!1}peek(e){if(this.cache.has(e))return this._peek(e,this.cache);if(this.oldCache.has(e))return this._peek(e,this.oldCache)}delete(e){const n=this.cache.delete(e);return n&&this._size--,this.oldCache.delete(e)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const n=[...this._entriesAscending()],r=n.length-e;r<0?(this.cache=new Map(n),this.oldCache=new Map,this._size=n.length):(r>0&&this._emitEvictions(n.slice(0,r)),this.oldCache=new Map(n.slice(r)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[n,r]=e;this._deleteIfExpired(n,r)===!1&&(yield[n,r.value])}for(const e of this.oldCache){const[n,r]=e;this.cache.has(n)||this._deleteIfExpired(n,r)===!1&&(yield[n,r.value])}}*entriesDescending(){let e=[...this.cache];for(let n=e.length-1;n>=0;--n){const r=e[n],[i,s]=r;this._deleteIfExpired(i,s)===!1&&(yield[i,s.value])}e=[...this.oldCache];for(let n=e.length-1;n>=0;--n){const r=e[n],[i,s]=r;this.cache.has(i)||this._deleteIfExpired(i,s)===!1&&(yield[i,s.value])}}*entriesAscending(){for(const[e,n]of this._entriesAscending())yield[e,n.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const n of this.oldCache.keys())this.cache.has(n)||e++;return Math.min(this._size+e,this.maxSize)}}var ble=_le;const tSe=oS(ble);function Ps(t){return Array.isArray?Array.isArray(t):I6(t)==="[object Array]"}a(Ps,"isArray");const wle=1/0;function Ele(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-wle?"-0":e}a(Ele,"baseToString");function vle(t){return t==null?"":Ele(t)}a(vle,"toString");function Ii(t){return typeof t=="string"}a(Ii,"isString$2");function x6(t){return typeof t=="number"}a(x6,"isNumber$2");function Sle(t){return t===!0||t===!1||kle(t)&&I6(t)=="[object Boolean]"}a(Sle,"isBoolean");function C6(t){return typeof t=="object"}a(C6,"isObject$1");function kle(t){return C6(t)&&t!==null}a(kle,"isObjectLike");function Zn(t){return t!=null}a(Zn,"isDefined");function e_(t){return!t.trim().length}a(e_,"isBlank");function I6(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}a(I6,"getTag");const Ale="Incorrect 'index' type",Tle=a(t=>`Invalid value for key ${t}`,"LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY"),xle=a(t=>`Pattern length exceeds max of ${t}.`,"PATTERN_LENGTH_TOO_LARGE"),Cle=a(t=>`Missing ${t} property in key`,"MISSING_KEY_PROPERTY"),Ile=a(t=>`Property 'weight' in key '${t}' must be a positive integer`,"INVALID_KEY_WEIGHT_VALUE"),SC=Object.prototype.hasOwnProperty;class Rle{static{a(this,"KeyStore")}constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let i=R6(r);this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function R6(t){let e=null,n=null,r=null,i=1,s=null;if(Ii(t)||Ps(t))r=t,e=kC(t),n=Ew(t);else{if(!SC.call(t,"name"))throw new Error(Cle("name"));const o=t.name;if(r=o,SC.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(Ile(o));e=kC(o),n=Ew(o),s=t.getFn}return{path:e,id:n,weight:i,src:r,getFn:s}}a(R6,"createKey$1");function kC(t){return Ps(t)?t:t.split(".")}a(kC,"createKeyPath");function Ew(t){return Ps(t)?t.join("."):t}a(Ew,"createKeyId");function Ole(t,e){let n=[],r=!1;const i=a((s,o,l)=>{if(Zn(s))if(!o[l])n.push(s);else{let u=o[l];const c=s[u];if(!Zn(c))return;if(l===o.length-1&&(Ii(c)||x6(c)||Sle(c)))n.push(vle(c));else if(Ps(c)){r=!0;for(let f=0,h=c.length;f<h;f+=1)i(c[f],o,l+1)}else o.length&&i(c,o,l+1)}},"deepGet");return i(t,Ii(e)?e.split("."):e,0),r?n:n[0]}a(Ole,"get");const Nle={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Dle={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:a((t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,"sortFn")},Mle={location:0,threshold:.6,distance:100},Ple={useExtendedSearch:!1,getFn:Ole,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var _e={...Dle,...Nle,...Mle,...Ple};const Lle=/[^ ]+/g;function Fle(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(i){const s=i.match(Lle).length;if(n.has(s))return n.get(s);const o=1/Math.pow(s,.5*t),l=parseFloat(Math.round(o*r)/r);return n.set(s,l),l},clear(){n.clear()}}}a(Fle,"norm");class jS{static{a(this,"FuseIndex")}constructor({getFn:e=_e.getFn,fieldNormWeight:n=_e.fieldNormWeight}={}){this.norm=Fle(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ii(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();Ii(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!Zn(e)||e_(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((i,s)=>{let o=i.getFn?i.getFn(e):this.getFn(e,i.path);if(Zn(o)){if(Ps(o)){let l=[];const u=[{nestedArrIndex:-1,value:o}];for(;u.length;){const{nestedArrIndex:c,value:f}=u.pop();if(Zn(f))if(Ii(f)&&!e_(f)){let h={v:f,i:c,n:this.norm.get(f)};l.push(h)}else Ps(f)&&f.forEach((h,p)=>{u.push({nestedArrIndex:p,value:h})})}r.$[s]=l}else if(Ii(o)&&!e_(o)){let l={v:o,n:this.norm.get(o)};r.$[s]=l}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function O6(t,e,{getFn:n=_e.getFn,fieldNormWeight:r=_e.fieldNormWeight}={}){const i=new jS({getFn:n,fieldNormWeight:r});return i.setKeys(t.map(R6)),i.setSources(e),i.create(),i}a(O6,"createIndex");function $le(t,{getFn:e=_e.getFn,fieldNormWeight:n=_e.fieldNormWeight}={}){const{keys:r,records:i}=t,s=new jS({getFn:e,fieldNormWeight:n});return s.setKeys(r),s.setIndexRecords(i),s}a($le,"parseIndex");function Dp(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:i=_e.distance,ignoreLocation:s=_e.ignoreLocation}={}){const o=e/t.length;if(s)return o;const l=Math.abs(r-n);return i?o+l/i:l?1:o}a(Dp,"computeScore$1");function Ble(t=[],e=_e.minMatchCharLength){let n=[],r=-1,i=-1,s=0;for(let o=t.length;s<o;s+=1){let l=t[s];l&&r===-1?r=s:!l&&r!==-1&&(i=s-1,i-r+1>=e&&n.push([r,i]),r=-1)}return t[s-1]&&s-r>=e&&n.push([r,s-1]),n}a(Ble,"convertMaskToIndices");const pa=32;function Ule(t,e,n,{location:r=_e.location,distance:i=_e.distance,threshold:s=_e.threshold,findAllMatches:o=_e.findAllMatches,minMatchCharLength:l=_e.minMatchCharLength,includeMatches:u=_e.includeMatches,ignoreLocation:c=_e.ignoreLocation}={}){if(e.length>pa)throw new Error(xle(pa));const f=e.length,h=t.length,p=Math.max(0,Math.min(r,h));let m=s,g=p;const y=l>1||u,_=y?Array(h):[];let w;for(;(w=t.indexOf(e,g))>-1;){let k=Dp(e,{currentLocation:w,expectedLocation:p,distance:i,ignoreLocation:c});if(m=Math.min(k,m),g=w+f,y){let v=0;for(;v<f;)_[w+v]=1,v+=1}}g=-1;let S=[],T=1,N=f+h;const O=1<<f-1;for(let k=0;k<f;k+=1){let v=0,A=N;for(;v<A;)Dp(e,{errors:k,currentLocation:p+A,expectedLocation:p,distance:i,ignoreLocation:c})<=m?v=A:N=A,A=Math.floor((N-v)/2+v);N=A;let C=Math.max(1,p-A+1),x=o?h:Math.min(p+A,h)+f,I=Array(x+2);I[x+1]=(1<<k)-1;for(let $=x;$>=C;$-=1){let F=$-1,B=n[t.charAt(F)];if(y&&(_[F]=+!!B),I[$]=(I[$+1]<<1|1)&B,k&&(I[$]|=(S[$+1]|S[$])<<1|1|S[$+1]),I[$]&O&&(T=Dp(e,{errors:k,currentLocation:F,expectedLocation:p,distance:i,ignoreLocation:c}),T<=m)){if(m=T,g=F,g<=p)break;C=Math.max(1,2*p-g)}}if(Dp(e,{errors:k+1,currentLocation:p,expectedLocation:p,distance:i,ignoreLocation:c})>m)break;S=I}const M={isMatch:g>=0,score:Math.max(.001,T)};if(y){const k=Ble(_,l);k.length?u&&(M.indices=k):M.isMatch=!1}return M}a(Ule,"search");function zle(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<r-n-1}return e}a(zle,"createPatternAlphabet");class N6{static{a(this,"BitapSearch")}constructor(e,{location:n=_e.location,threshold:r=_e.threshold,distance:i=_e.distance,includeMatches:s=_e.includeMatches,findAllMatches:o=_e.findAllMatches,minMatchCharLength:l=_e.minMatchCharLength,isCaseSensitive:u=_e.isCaseSensitive,ignoreLocation:c=_e.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:s,findAllMatches:o,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:c},this.pattern=u?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const f=a((p,m)=>{this.chunks.push({pattern:p,alphabet:zle(p),startIndex:m})},"addChunk"),h=this.pattern.length;if(h>pa){let p=0;const m=h%pa,g=h-m;for(;p<g;)f(this.pattern.substr(p,pa),p),p+=pa;if(m){const y=h-pa;f(this.pattern.substr(y),y)}}else f(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(e=e.toLowerCase()),this.pattern===e){let g={isMatch:!0,score:0};return r&&(g.indices=[[0,e.length-1]]),g}const{location:i,distance:s,threshold:o,findAllMatches:l,minMatchCharLength:u,ignoreLocation:c}=this.options;let f=[],h=0,p=!1;this.chunks.forEach(({pattern:g,alphabet:y,startIndex:_})=>{const{isMatch:w,score:S,indices:T}=Ule(e,g,y,{location:i+_,distance:s,threshold:o,findAllMatches:l,minMatchCharLength:u,includeMatches:r,ignoreLocation:c});w&&(p=!0),h+=S,w&&T&&(f=[...f,...T])});let m={isMatch:p,score:p?h/this.chunks.length:1};return p&&r&&(m.indices=f),m}}class ea{static{a(this,"BaseMatch")}constructor(e){this.pattern=e}static isMultiMatch(e){return AC(e,this.multiRegex)}static isSingleMatch(e){return AC(e,this.singleRegex)}search(){}}function AC(t,e){const n=t.match(e);return n?n[1]:null}a(AC,"getMatch");class jle extends ea{static{a(this,"ExactMatch")}constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Vle extends ea{static{a(this,"InverseExactMatch")}constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class Wle extends ea{static{a(this,"PrefixExactMatch")}constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Hle extends ea{static{a(this,"InversePrefixExactMatch")}constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class qle extends ea{static{a(this,"SuffixExactMatch")}constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class Gle extends ea{static{a(this,"InverseSuffixExactMatch")}constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class D6 extends ea{static{a(this,"FuzzyMatch")}constructor(e,{location:n=_e.location,threshold:r=_e.threshold,distance:i=_e.distance,includeMatches:s=_e.includeMatches,findAllMatches:o=_e.findAllMatches,minMatchCharLength:l=_e.minMatchCharLength,isCaseSensitive:u=_e.isCaseSensitive,ignoreLocation:c=_e.ignoreLocation}={}){super(e),this._bitapSearch=new N6(e,{location:n,threshold:r,distance:i,includeMatches:s,findAllMatches:o,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class M6 extends ea{static{a(this,"IncludeMatch")}constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const i=[],s=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+s,i.push([r,n-1]);const o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}}const vw=[jle,M6,Wle,Hle,Gle,qle,Vle,D6],TC=vw.length,Kle=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Yle="|";function Jle(t,e={}){return t.split(Yle).map(n=>{let r=n.trim().split(Kle).filter(s=>s&&!!s.trim()),i=[];for(let s=0,o=r.length;s<o;s+=1){const l=r[s];let u=!1,c=-1;for(;!u&&++c<TC;){const f=vw[c];let h=f.isMultiMatch(l);h&&(i.push(new f(h,e)),u=!0)}if(!u)for(c=-1;++c<TC;){const f=vw[c];let h=f.isSingleMatch(l);if(h){i.push(new f(h,e));break}}}return i})}a(Jle,"parseQuery");const Xle=new Set([D6.type,M6.type]);class Zle{static{a(this,"ExtendedSearch")}constructor(e,{isCaseSensitive:n=_e.isCaseSensitive,includeMatches:r=_e.includeMatches,minMatchCharLength:i=_e.minMatchCharLength,ignoreLocation:s=_e.ignoreLocation,findAllMatches:o=_e.findAllMatches,location:l=_e.location,threshold:u=_e.threshold,distance:c=_e.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:i,findAllMatches:o,ignoreLocation:s,location:l,threshold:u,distance:c},this.pattern=n?e:e.toLowerCase(),this.query=Jle(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let s=0,o=[],l=0;for(let u=0,c=n.length;u<c;u+=1){const f=n[u];o.length=0,s=0;for(let h=0,p=f.length;h<p;h+=1){const m=f[h],{isMatch:g,indices:y,score:_}=m.search(e);if(g){if(s+=1,l+=_,r){const w=m.constructor.type;Xle.has(w)?o=[...o,...y]:o.push(y)}}else{l=0,s=0,o.length=0;break}}if(s){let h={isMatch:!0,score:l/s};return r&&(h.indices=o),h}}return{isMatch:!1,score:1}}}const Sw=[];function Qle(...t){Sw.push(...t)}a(Qle,"register$3");function kw(t,e){for(let n=0,r=Sw.length;n<r;n+=1){let i=Sw[n];if(i.condition(t,e))return new i(t,e)}return new N6(t,e)}a(kw,"createSearcher");const xg={AND:"$and",OR:"$or"},Aw={PATH:"$path",PATTERN:"$val"},Tw=a(t=>!!(t[xg.AND]||t[xg.OR]),"isExpression"),eue=a(t=>!!t[Aw.PATH],"isPath"),tue=a(t=>!Ps(t)&&C6(t)&&!Tw(t),"isLeaf"),xC=a(t=>({[xg.AND]:Object.keys(t).map(e=>({[e]:t[e]}))}),"convertToExplicit");function P6(t,e,{auto:n=!0}={}){const r=a(i=>{let s=Object.keys(i);const o=eue(i);if(!o&&s.length>1&&!Tw(i))return r(xC(i));if(tue(i)){const u=o?i[Aw.PATH]:s[0],c=o?i[Aw.PATTERN]:i[u];if(!Ii(c))throw new Error(Tle(u));const f={keyId:Ew(u),pattern:c};return n&&(f.searcher=kw(c,e)),f}let l={children:[],operator:s[0]};return s.forEach(u=>{const c=i[u];Ps(c)&&c.forEach(f=>{l.children.push(r(f))})}),l},"next");return Tw(t)||(t=xC(t)),r(t)}a(P6,"parse");function nue(t,{ignoreFieldNorm:e=_e.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:s,score:o})=>{const l=i?i.weight:null;r*=Math.pow(o===0&&l?Number.EPSILON:o,(l||1)*(e?1:s))}),n.score=r})}a(nue,"computeScore");function rue(t,e){const n=t.matches;e.matches=[],Zn(n)&&n.forEach(r=>{if(!Zn(r.indices)||!r.indices.length)return;const{indices:i,value:s}=r;let o={indices:i,value:s};r.key&&(o.key=r.key.src),r.idx>-1&&(o.refIndex=r.idx),e.matches.push(o)})}a(rue,"transformMatches");function iue(t,e){e.score=t.score}a(iue,"transformScore");function sue(t,e,{includeMatches:n=_e.includeMatches,includeScore:r=_e.includeScore}={}){const i=[];return n&&i.push(rue),r&&i.push(iue),t.map(s=>{const{idx:o}=s,l={item:e[o],refIndex:o};return i.length&&i.forEach(u=>{u(s,l)}),l})}a(sue,"format$1");class vc{static{a(this,"Fuse")}constructor(e,n={},r){this.options={..._e,...n},this.options.useExtendedSearch,this._keyStore=new Rle(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof jS))throw new Error(Ale);this._myIndex=n||O6(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Zn(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,i=this._docs.length;r<i;r+=1){const s=this._docs[r];e(s,r)&&(this.removeAt(r),r-=1,i-=1,n.push(s))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:s,sortFn:o,ignoreFieldNorm:l}=this.options;let u=Ii(e)?Ii(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return nue(u,{ignoreFieldNorm:l}),s&&u.sort(o),x6(n)&&n>-1&&(u=u.slice(0,n)),sue(u,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(e){const n=kw(e,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:s,i:o,n:l})=>{if(!Zn(s))return;const{isMatch:u,score:c,indices:f}=n.searchIn(s);u&&i.push({item:s,idx:o,matches:[{score:c,value:s,norm:l,indices:f}]})}),i}_searchLogical(e){const n=P6(e,this.options),r=a((l,u,c)=>{if(!l.children){const{keyId:h,searcher:p}=l,m=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(u,h),searcher:p});return m&&m.length?[{idx:c,item:u,matches:m}]:[]}const f=[];for(let h=0,p=l.children.length;h<p;h+=1){const m=l.children[h],g=r(m,u,c);if(g.length)f.push(...g);else if(l.operator===xg.AND)return[]}return f},"evaluate"),i=this._myIndex.records,s={},o=[];return i.forEach(({$:l,i:u})=>{if(Zn(l)){let c=r(n,l,u);c.length&&(s[u]||(s[u]={idx:u,item:l,matches:[]},o.push(s[u])),c.forEach(({matches:f})=>{s[u].matches.push(...f)}))}}),o}_searchObjectList(e){const n=kw(e,this.options),{keys:r,records:i}=this._myIndex,s=[];return i.forEach(({$:o,i:l})=>{if(!Zn(o))return;let u=[];r.forEach((c,f)=>{u.push(...this._findMatches({key:c,value:o[f],searcher:n}))}),u.length&&s.push({idx:l,item:o,matches:u})}),s}_findMatches({key:e,value:n,searcher:r}){if(!Zn(n))return[];let i=[];if(Ps(n))n.forEach(({v:s,i:o,n:l})=>{if(!Zn(s))return;const{isMatch:u,score:c,indices:f}=r.searchIn(s);u&&i.push({score:c,key:e,value:s,idx:o,norm:l,indices:f})});else{const{v:s,n:o}=n,{isMatch:l,score:u,indices:c}=r.searchIn(s);l&&i.push({score:u,key:e,value:s,norm:o,indices:c})}return i}}vc.version="7.0.0";vc.createIndex=O6;vc.parseIndex=$le;vc.config=_e;vc.parseQuery=P6;Qle(Zle);function L6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=L6(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}a(L6,"r");function nSe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=L6(t))&&(r&&(r+=" "),r+=e);return r}a(nSe,"clsx");const VS="-",oue=a(t=>{const e=lue(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a(o=>{const l=o.split(VS);return l[0]===""&&l.length!==1&&l.shift(),F6(l,e)||aue(o)},"getClassGroupId"),getConflictingClassGroupIds:a((o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u},"getConflictingClassGroupIds")}},"createClassGroupUtils"),F6=a((t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?F6(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(VS);return e.validators.find(({validator:o})=>o(s))?.classGroupId},"getGroupRecursive"),CC=/^\[(.+)\]$/,aue=a(t=>{if(CC.test(t)){const e=CC.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},"getGroupIdForArbitraryProperty"),lue=a(t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return cue(Object.entries(t.classGroups),n).forEach(([s,o])=>{xw(o,r,s,e)}),r},"createClassMap"),xw=a((t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:IC(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(uue(i)){xw(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{xw(o,IC(e,s),n,r)})})},"processClassesRecursively"),IC=a((t,e)=>{let n=t;return e.split(VS).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},"getPart"),uue=a(t=>t.isThemeGetter,"isThemeGetter"),cue=a((t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,"getPrefixedClassGroupEntries"),fue=a(t=>{if(t<1)return{get:a(()=>{},"get"),set:a(()=>{},"set")};let e=0,n=new Map,r=new Map;const i=a((s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)},"update");return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},"createLruCache"),$6="!",hue=a(t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a(l=>{const u=[];let c=0,f=0,h;for(let _=0;_<l.length;_++){let w=l[_];if(c===0){if(w===i&&(r||l.slice(_,_+s)===e)){u.push(l.slice(f,_)),f=_+s;continue}if(w==="/"){h=_;continue}}w==="["?c++:w==="]"&&c--}const p=u.length===0?l:l.substring(f),m=p.startsWith($6),g=m?p.substring(1):p,y=h&&h>f?h-f:void 0;return{modifiers:u,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:y}},"parseClassName");return n?l=>n({className:l,parseClassName:o}):o},"createParseClassName"),due=a(t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},"sortModifiers"),pue=a(t=>({cache:fue(t.cacheSize),parseClassName:hue(t),...oue(t)}),"createConfigUtils"),mue=/\s+/,gue=a((t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(mue);let l="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:f,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let g=!!m,y=r(g?p.substring(0,m):p);if(!y){if(!g){l=c+(l.length>0?" "+l:l);continue}if(y=r(p),!y){l=c+(l.length>0?" "+l:l);continue}g=!1}const _=due(f).join(":"),w=h?_+$6:_,S=w+y;if(s.includes(S))continue;s.push(S);const T=i(y,g);for(let N=0;N<T.length;++N){const O=T[N];s.push(w+O)}l=c+(l.length>0?" "+l:l)}return l},"mergeClassList");function yue(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=B6(e))&&(r&&(r+=" "),r+=n);return r}a(yue,"twJoin");const B6=a(t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=B6(t[r]))&&(n&&(n+=" "),n+=e);return n},"toValue$1");function _ue(t,...e){let n,r,i,s=o;function o(u){const c=e.reduce((f,h)=>h(f),t());return n=pue(c),r=n.cache.get,i=n.cache.set,s=l,l(u)}a(o,"initTailwindMerge");function l(u){const c=r(u);if(c)return c;const f=gue(u,n);return i(u,f),f}return a(l,"tailwindMerge"),a(function(){return s(yue.apply(null,arguments))},"callTailwindMerge")}a(_ue,"createTailwindMerge");const ut=a(t=>{const e=a(n=>n[t]||[],"themeGetter");return e.isThemeGetter=!0,e},"fromTheme"),U6=/^\[(?:([a-z-]+):)?(.+)\]$/i,bue=/^\d+\/\d+$/,wue=new Set(["px","full","screen"]),Eue=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vue=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Sue=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,kue=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Aue=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cs=a(t=>gu(t)||wue.has(t)||bue.test(t),"isLength"),Ks=a(t=>Sc(t,"length",Due),"isArbitraryLength"),gu=a(t=>!!t&&!Number.isNaN(Number(t)),"isNumber$1"),t_=a(t=>Sc(t,"number",gu),"isArbitraryNumber"),ef=a(t=>!!t&&Number.isInteger(Number(t)),"isInteger"),Tue=a(t=>t.endsWith("%")&&gu(t.slice(0,-1)),"isPercent"),ke=a(t=>U6.test(t),"isArbitraryValue"),Ys=a(t=>Eue.test(t),"isTshirtSize"),xue=new Set(["length","size","percentage"]),Cue=a(t=>Sc(t,xue,z6),"isArbitrarySize"),Iue=a(t=>Sc(t,"position",z6),"isArbitraryPosition"),Rue=new Set(["image","url"]),Oue=a(t=>Sc(t,Rue,Pue),"isArbitraryImage"),Nue=a(t=>Sc(t,"",Mue),"isArbitraryShadow"),tf=a(()=>!0,"isAny"),Sc=a((t,e,n)=>{const r=U6.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},"getIsArbitraryValue"),Due=a(t=>vue.test(t)&&!Sue.test(t),"isLengthOnly"),z6=a(()=>!1,"isNever"),Mue=a(t=>kue.test(t),"isShadow"),Pue=a(t=>Aue.test(t),"isImage"),Lue=a(()=>{const t=ut("colors"),e=ut("spacing"),n=ut("blur"),r=ut("brightness"),i=ut("borderColor"),s=ut("borderRadius"),o=ut("borderSpacing"),l=ut("borderWidth"),u=ut("contrast"),c=ut("grayscale"),f=ut("hueRotate"),h=ut("invert"),p=ut("gap"),m=ut("gradientColorStops"),g=ut("gradientColorStopPositions"),y=ut("inset"),_=ut("margin"),w=ut("opacity"),S=ut("padding"),T=ut("saturate"),N=ut("scale"),O=ut("sepia"),M=ut("skew"),k=ut("space"),v=ut("translate"),A=a(()=>["auto","contain","none"],"getOverscroll"),C=a(()=>["auto","hidden","clip","visible","scroll"],"getOverflow"),x=a(()=>["auto",ke,e],"getSpacingWithAutoAndArbitrary"),I=a(()=>[ke,e],"getSpacingWithArbitrary"),D=a(()=>["",cs,Ks],"getLengthWithEmptyAndArbitrary"),$=a(()=>["auto",gu,ke],"getNumberWithAutoAndArbitrary"),F=a(()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],"getPositions"),B=a(()=>["solid","dashed","dotted","double","none"],"getLineStyles"),j=a(()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],"getBlendModes"),Y=a(()=>["start","end","center","between","around","evenly","stretch"],"getAlign"),V=a(()=>["","0",ke],"getZeroAndEmpty"),K=a(()=>["auto","avoid","all","avoid-page","page","left","right","column"],"getBreaks"),J=a(()=>[gu,ke],"getNumberAndArbitrary");return{cacheSize:500,separator:":",theme:{colors:[tf],spacing:[cs,Ks],blur:["none","",Ys,ke],brightness:J(),borderColor:[t],borderRadius:["none","","full",Ys,ke],borderSpacing:I(),borderWidth:D(),contrast:J(),grayscale:V(),hueRotate:J(),invert:V(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[Tue,Ks],inset:x(),margin:x(),opacity:J(),padding:I(),saturate:J(),scale:J(),sepia:V(),skew:J(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",ke]}],container:["container"],columns:[{columns:[Ys]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),ke]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ef,ke]}],basis:[{basis:x()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ke]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",ef,ke]}],"grid-cols":[{"grid-cols":[tf]}],"col-start-end":[{col:["auto",{span:["full",ef,ke]},ke]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[tf]}],"row-start-end":[{row:["auto",{span:[ef,ke]},ke]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ke]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ke,e]}],"min-w":[{"min-w":[ke,e,"min","max","fit"]}],"max-w":[{"max-w":[ke,e,"none","full","min","max","fit","prose",{screen:[Ys]},Ys]}],h:[{h:[ke,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ke,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ke,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ke,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ys,Ks]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",t_]}],"font-family":[{font:[tf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ke]}],"line-clamp":[{"line-clamp":["none",gu,t_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",cs,ke]}],"list-image":[{"list-image":["none",ke]}],"list-style-type":[{list:["none","disc","decimal",ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",cs,Ks]}],"underline-offset":[{"underline-offset":["auto",cs,ke]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),Iue]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Cue]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Oue]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:B()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[cs,ke]}],"outline-w":[{outline:[cs,Ks]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[cs,Ks]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ys,Nue]}],"shadow-color":[{shadow:[tf]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...j(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Ys,ke]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[T]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ke]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",ke]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[ef,ke]}],"translate-x":[{"translate-x":[v]}],"translate-y":[{"translate-y":[v]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ke]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[cs,Ks,t_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},"getDefaultConfig"),rSe=_ue(Lue);function iSe(t,e,n){const r=a(()=>{var o,l;return new vc((o=vi(e))!=null?o:[],(l=vi(n))==null?void 0:l.fuseOptions)},"createFuse"),i=le(r());St(()=>{var o;return(o=vi(n))==null?void 0:o.fuseOptions},()=>{i.value=r()},{deep:!0}),St(()=>vi(e),o=>{i.value.setCollection(o)},{deep:!0});const s=be(()=>{const o=vi(n);if(o?.matchAllWhenSearchEmpty&&!vi(t))return vi(e).map((u,c)=>({item:u,refIndex:c}));const l=o?.resultLimit;return i.value.search(vi(t),l?{limit:l}:void 0)});return{fuse:i,results:s}}a(iSe,"useFuse");function Fue(t,e,n){return t<e?n==="asc"?-1:1:t>e?n==="asc"?1:-1:0}a(Fue,"compareValues");function $ue(t,e,n){return t.slice().sort((r,i)=>{const s=n.length;for(let o=0;o<e.length;o++){const l=s>o?n[o]:n[s-1],u=e[o],c=typeof u=="function",f=c?u(r):r[u],h=c?u(i):i[u],p=Fue(f,h,l);if(p!==0)return p}return 0})}a($ue,"orderBy");function sSe(t,e){return $ue(t,e,["asc"])}a(sSe,"sortBy");function Kt(t){this.content=t}a(Kt,"OrderedMap");Kt.prototype={constructor:Kt,find:a(function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},"find"),get:a(function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},"get"),update:a(function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new Kt(s)},"update"),remove:a(function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Kt(n)},"remove"),addToStart:a(function(t,e){return new Kt([t,e].concat(this.remove(t).content))},"addToStart"),addToEnd:a(function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Kt(n)},"addToEnd"),addBefore:a(function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new Kt(i)},"addBefore"),forEach:a(function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},"forEach"),prepend:a(function(t){return t=Kt.from(t),t.size?new Kt(t.content.concat(this.subtract(t).content)):this},"prepend"),append:a(function(t){return t=Kt.from(t),t.size?new Kt(this.subtract(t).content.concat(t.content)):this},"append"),subtract:a(function(t){var e=this;t=Kt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},"subtract"),toObject:a(function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},"toObject"),get size(){return this.content.length>>1}};Kt.from=function(t){if(t instanceof Kt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Kt(e)};function j6(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=j6(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}a(j6,"findDiffStart");function V6(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),l=e.child(--s),u=o.nodeSize;if(o==l){n-=u,r-=u;continue}if(!o.sameMarkup(l))return{a:n,b:r};if(o.isText&&o.text!=l.text){let c=0,f=Math.min(o.text.length,l.text.length);for(;c<f&&o.text[o.text.length-c-1]==l.text[l.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||l.content.size){let c=V6(o.content,l.content,n-1,r-1);if(c)return c}n-=u,r-=u}}a(V6,"findDiffEnd");class W{static{a(this,"Fragment")}constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,l=0;l<n;o++){let u=this.content[o],c=l+u.nodeSize;if(c>e&&r(u,i+l,s||null,o)!==!1&&u.content.size){let f=l+1;u.nodesBetween(Math.max(0,e-f),Math.min(u.content.size,n-f),r,i+f)}l=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(l,u)=>{let c=l.isText?l.text.slice(Math.max(e,u)-u,n-u):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&c||l.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new W(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let l=this.content[s],u=o+l.nodeSize;u>e&&((o<e||u>n)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,n-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,n-o-1))),r.push(l),i+=l.nodeSize),o=u}return new W(r,i)}cutByIndex(e,n){return e==n?W.empty:e==0&&n==this.content.length?this:new W(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new W(i,s)}addToStart(e){return new W([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new W(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return j6(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return V6(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Mp(0,e);if(e==this.size)return Mp(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||n>0?Mp(r+1,o):Mp(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return W.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new W(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return W.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new W(n||e,r)}static from(e){if(!e)return W.empty;if(e instanceof W)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new W([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}W.empty=new W([],0);const n_={index:0,offset:0};function Mp(t,e){return n_.index=t,n_.offset=e,n_}a(Mp,"retIndex");function Cg(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Cg(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Cg(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}a(Cg,"compareDeep");class je{static{a(this,"Mark")}constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Cg(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return je.none;if(e instanceof je)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}je.none=[];class Ig extends Error{static{a(this,"ReplaceError")}}class Z{static{a(this,"Slice")}constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=H6(this.content,e+this.openStart,n);return r&&new Z(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Z(W6(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Z.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Z(W.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new Z(e,r,i)}}Z.empty=new Z(W.empty,0,0);function W6(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:l}=t.findIndex(n);if(i==e||s.isText){if(l!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(W6(s.content,e-i-1,n-i-1)))}a(W6,"removeRange");function H6(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let l=H6(o.content,e-s-1,n);return l&&t.replaceChild(i,o.copy(l))}a(H6,"insertInto");function Bue(t,e,n){if(n.openStart>t.depth)throw new Ig("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Ig("Inconsistent open depths");return q6(t,e,n,0)}a(Bue,"replace$1");function q6(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=q6(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,l=o.content;return Oa(o,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=Uue(n,t);return Oa(s,K6(t,o,l,e,r))}else return Oa(s,Rg(t,e,r))}a(q6,"replaceOuter");function G6(t,e){if(!e.type.compatibleContent(t.type))throw new Ig("Cannot join "+e.type.name+" onto "+t.type.name)}a(G6,"checkJoin");function Cw(t,e,n){let r=t.node(n);return G6(r,e.node(n)),r}a(Cw,"joinable$1");function Ra(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}a(Ra,"addNode");function Bf(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Ra(t.nodeAfter,r),s++));for(let l=s;l<o;l++)Ra(i.child(l),r);e&&e.depth==n&&e.textOffset&&Ra(e.nodeBefore,r)}a(Bf,"addRange");function Oa(t,e){return t.type.checkContent(e),t.copy(e)}a(Oa,"close");function K6(t,e,n,r,i){let s=t.depth>i&&Cw(t,e,i+1),o=r.depth>i&&Cw(n,r,i+1),l=[];return Bf(null,t,i,l),s&&o&&e.index(i)==n.index(i)?(G6(s,o),Ra(Oa(s,K6(t,e,n,r,i+1)),l)):(s&&Ra(Oa(s,Rg(t,e,i+1)),l),Bf(e,n,i,l),o&&Ra(Oa(o,Rg(n,r,i+1)),l)),Bf(r,null,i,l),new W(l)}a(K6,"replaceThreeWay");function Rg(t,e,n){let r=[];if(Bf(null,t,n,r),t.depth>n){let i=Cw(t,e,n+1);Ra(Oa(i,Rg(t,e,n+1)),r)}return Bf(e,null,n,r),new W(r)}a(Rg,"replaceTwoWay");function Uue(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(W.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}a(Uue,"prepareSliceForReplace");class Ih{static{a(this,"ResolvedPos")}constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return je.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Og(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:l,offset:u}=o.content.findIndex(s),c=s-u;if(r.push(o,l,i+u),!c||(o=o.child(l),o.isText))break;s=c-1,i+=u+1}return new Ih(n,r,s)}static resolveCached(e,n){let r=RC.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else RC.set(e,r=new zue);let i=r.elts[r.i]=Ih.resolve(e,n);return r.i=(r.i+1)%jue,i}}class zue{static{a(this,"ResolveCache")}constructor(){this.elts=[],this.i=0}}const jue=12,RC=new WeakMap;class Og{static{a(this,"NodeRange")}constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Vue=Object.create(null);let Na=class Iw{static{a(this,"Node")}constructor(e,n,r,i=je.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||W.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Cg(this.attrs,n||e.defaultAttrs||Vue)&&je.sameSet(this.marks,r||je.none)}copy(e=null){return e==this.content?this:new Iw(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Iw(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Z.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),l=i.start(o),c=i.node(o).content.cut(i.pos-l,s.pos-l);return new Z(c,i.depth-o,s.depth-o)}replace(e,n,r){return Bue(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Ih.resolveCached(this,e)}resolveNoCache(e){return Ih.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Y6(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=W.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),l=o&&o.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let u=i;u<s;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=je.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!je.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=W.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Na.prototype.text=void 0;class Ng extends Na{static{a(this,"TextNode")}constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Y6(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ng(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ng(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Y6(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}a(Y6,"wrapMarks");class sl{static{a(this,"ContentMatch")}constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Wue(e,n);if(r.next==null)return sl.empty;let i=J6(r);r.next&&r.err("Unexpected trailing text");let s=Xue(Jue(i));return Zue(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,l){let u=o.matchFragment(e,r);if(u&&(!n||u.validEnd))return W.from(l.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:f,next:h}=o.next[c];if(!(f.isText||f.hasRequiredAttrs())&&i.indexOf(h)==-1){i.push(h);let p=s(h,l.concat(f));if(p)return p}}return null}return a(s,"search"),s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let l=i;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:l,next:u}=s.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||u.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return a(n,"scan"),n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}sl.empty=new sl(!0);class Wue{static{a(this,"TokenStream")}constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function J6(t){let e=[];do e.push(Hue(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}a(J6,"parseExpr");function Hue(t){let e=[];do e.push(que(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}a(Hue,"parseExprSeq");function que(t){let e=Yue(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Gue(t,e);else break;return e}a(que,"parseExprSubscript");function OC(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}a(OC,"parseNum");function Gue(t,e){let n=OC(t),r=n;return t.eat(",")&&(t.next!="}"?r=OC(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}a(Gue,"parseExprRange");function Kue(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}a(Kue,"resolveName");function Yue(t){if(t.eat("(")){let e=J6(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Kue(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}a(Yue,"parseExprAtom");function Jue(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}a(n,"node");function r(o,l,u){let c={term:u,to:l};return e[o].push(c),c}a(r,"edge");function i(o,l){o.forEach(u=>u.to=l)}a(i,"connect");function s(o,l){if(o.type=="choice")return o.exprs.reduce((u,c)=>u.concat(s(c,l)),[]);if(o.type=="seq")for(let u=0;;u++){let c=s(o.exprs[u],l);if(u==o.exprs.length-1)return c;i(c,l=n())}else if(o.type=="star"){let u=n();return r(l,u),i(s(o.expr,u),u),[r(u)]}else if(o.type=="plus"){let u=n();return i(s(o.expr,l),u),i(s(o.expr,u),u),[r(u)]}else{if(o.type=="opt")return[r(l)].concat(s(o.expr,l));if(o.type=="range"){let u=l;for(let c=0;c<o.min;c++){let f=n();i(s(o.expr,u),f),u=f}if(o.max==-1)i(s(o.expr,u),u);else for(let c=o.min;c<o.max;c++){let f=n();r(u,f),i(s(o.expr,u),f),u=f}return[r(u)]}else{if(o.type=="name")return[r(l,void 0,o.value)];throw new Error("Unknown expr type")}}}a(s,"compile")}a(Jue,"nfa");function X6(t,e){return e-t}a(X6,"cmp");function NC(t,e){let n=[];return r(e),n.sort(X6);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:l,to:u}=s[o];!l&&n.indexOf(u)==-1&&r(u)}}a(r,"scan")}a(NC,"nullFrom");function Xue(t){let e=Object.create(null);return n(NC(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:l,to:u})=>{if(!l)return;let c;for(let f=0;f<i.length;f++)i[f][0]==l&&(c=i[f][1]);NC(t,u).forEach(f=>{c||i.push([l,c=[]]),c.indexOf(f)==-1&&c.push(f)})})});let s=e[r.join(",")]=new sl(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let l=i[o][1].sort(X6);s.next.push({type:i[o][0],next:e[l.join(",")]||n(l)})}return s}}a(Xue,"dfa");function Zue(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let l=0;l<i.next.length;l++){let{type:u,next:c}=i.next[l];o.push(u.name),s&&!(u.isText||u.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}a(Zue,"checkForDeadEnds");function Z6(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}a(Z6,"defaultAttrs");function Q6(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}a(Q6,"computeAttrs");function e4(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}a(e4,"checkAttrs");function t4(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new ece(t,r,e[r]);return n}a(t4,"initAttrs");let DC=class n4{static{a(this,"NodeType")}constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=t4(e,r.attrs),this.defaultAttrs=Z6(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==sl.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Q6(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Na(this,this.computeAttrs(e),W.from(n),je.setFrom(r))}createChecked(e=null,n,r){return n=W.from(n),this.checkContent(n),new Na(this,this.computeAttrs(e),n,je.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=W.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(W.empty,!0);return s?new Na(this,e,n.append(s),je.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){e4(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:je.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new n4(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Que(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}a(Que,"validateType");class ece{static{a(this,"Attribute")}constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Que(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Ry{static{a(this,"MarkType")}constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=t4(e,i.attrs),this.excluded=null;let s=Z6(this.attrs);this.instance=s?new je(this,s):null}create(e=null){return!e&&this.instance?this.instance:new je(this,Q6(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new Ry(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){e4(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class tce{static{a(this,"Schema")}constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Kt.from(e.nodes),n.marks=Kt.from(e.marks||{}),this.nodes=DC.compile(this.spec.nodes,this),this.marks=Ry.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=sl.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?MC(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:MC(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof DC){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Ng(r,r.defaultAttrs,e,je.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Na.fromJSON(this,e)}markFromJSON(e){return je.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function MC(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let l in t.marks){let u=t.marks[l];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=u)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}a(MC,"gatherMarks");function nce(t){return t.tag!=null}a(nce,"isTagRule");function rce(t){return t.style!=null}a(rce,"isStyleRule");let r4=class Rw{static{a(this,"DOMParser")}constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(nce(i))this.tags.push(i);else if(rce(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new LC(this,n,!1);return r.addAll(e,je.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new LC(this,n,!0);return r.addAll(e,je.none,n.from,n.to),Z.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(oce(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(o.getAttrs){let u=o.getAttrs(n);if(u===!1)continue;o.attrs=u||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let l=n[o];if((l.priority==null?50:l.priority)<s)break}n.splice(o,0,i)}a(r,"insert");for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=FC(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=FC(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Rw(e,Rw.schemaRules(e)))}};const i4={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ice={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},s4={ol:!0,ul:!0},Rh=1,Ow=2,Uf=4;function PC(t,e,n){return e!=null?(e?Rh:0)|(e==="full"?Ow:0):t&&t.whitespace=="pre"?Rh|Ow:n&~Uf}a(PC,"wsOptionsFor");class Pp{static{a(this,"NodeContext")}constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=je.none,this.match=s||(o&Uf?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(W.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Rh)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=W.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(W.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!i4.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class LC{static{a(this,"ParseContext")}constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,s,o=PC(null,n.preserveWhitespace,0)|(r?Uf:0);i?s=new Pp(i.type,i.attrs,je.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new Pp(null,null,je.none,!0,null,o):s=new Pp(e.schema.topNodeType,null,je.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,s=i.options&Ow?"full":this.localPreserveWS||(i.options&Rh)>0;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],l=e.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),l;s4.hasOwnProperty(o)&&this.parser.normalizeLists&&sce(e);let u=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,r));e:if(u?u.ignore:ice.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(e=u.skip);let c,f=this.needsBlock;if(i4.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let h=u&&u.skip?n:this.readStyles(e,n);h&&this.addAll(e,h),c&&this.sync(s),this.needsBlock=f}else{let c=this.readStyles(e,n);c&&this.addElementByRule(e,u,c,u.consuming===!1?l:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let l=void 0;;){let u=this.parser.matchStyle(s,o,this,l);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(c=>!u.clearMark(c)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)l=u;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r)||this.leafFallback(e,r);else{let u=this.enter(o,n.attrs||null,r,n.preserveWhitespace);u&&(s=!0,r=u)}else{let u=this.parser.schema.marks[n.mark];r=r.concat(u.create(n.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u,r));else{let u=e;typeof n.contentElement=="string"?u=e.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u,r),this.findAround(e,u,!1)}s&&this.sync(l)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];o!=l;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n){let r,i;for(let s=this.open;s>=0;s--){let o=this.nodes[s],l=o.findWrapping(e);if(l&&(!r||r.length>l.length)&&(r=l,i=o,!l.length)||o.solid)break}if(!r)return null;this.sync(i);for(let s=0;s<r.length;s++)n=this.enterInner(r[s],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=je.none;for(let o of r.concat(e.marks))(i.type?i.type.allowsMarkType(o.type):$C(o.type,e.type))&&(s=o.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=PC(e,s,o.options);o.options&Uf&&o.content.length==0&&(l|=Uf);let u=je.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):$C(c.type,e))?(u=c.addToSet(u),!1):!0),this.nodes.push(new Pp(e,n,u,i,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Rh)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=a((l,u)=>{for(;l>=0;l--){let c=n[l];if(c==""){if(l==n.length-1||l==0)continue;for(;u>=s;u--)if(o(l-1,u))return!0;return!1}else{let f=u>0||u==0&&i?this.nodes[u].type:r&&u>=s?r.node(u-s).type:null;if(!f||f.name!=c&&!f.isInGroup(c))return!1;u--}}return!0},"match");return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function sce(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&s4.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}a(sce,"normalizeList");function oce(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}a(oce,"matches");function FC(t){let e={};for(let n in t)e[n]=t[n];return e}a(FC,"copy");function $C(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a(l=>{s.push(l);for(let u=0;u<l.edgeCount;u++){let{type:c,next:f}=l.edge(u);if(c==e||s.indexOf(f)<0&&o(f))return!0}},"scan");if(o(i.contentMatch))return!0}}a($C,"markMayApply");class kc{static{a(this,"DOMSerializer")}constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=r_(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let l=0,u=0;for(;l<s.length&&u<o.marks.length;){let c=o.marks[u];if(!this.marks[c.type.name]){u++;continue}if(!c.eq(s[l][0])||c.type.spec.spanning===!1)break;l++,u++}for(;l<s.length;)i=s.pop()[1];for(;u<o.marks.length;){let c=o.marks[u++],f=this.serializeMark(c,o.isInline,n);f&&(s.push([c,i]),i.appendChild(f.dom),i=f.contentDOM||f.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=mm(r_(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&mm(r_(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return mm(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new kc(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=BC(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return BC(e.marks)}}function BC(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}a(BC,"gatherToDOM");function r_(t){return t.document||window.document}a(r_,"doc$1");const UC=new WeakMap;function ace(t){let e=UC.get(t);return e===void 0&&UC.set(t,e=lce(t)),e}a(ace,"suspiciousAttributes");function lce(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return a(n,"scan"),n(t),e}a(lce,"suspiciousAttributesInner");function mm(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=ace(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let l,u=n?t.createElementNS(n,i):t.createElement(i),c=e[1],f=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){f=2;for(let h in c)if(c[h]!=null){let p=h.indexOf(" ");p>0?u.setAttributeNS(h.slice(0,p),h.slice(p+1),c[h]):u.setAttribute(h,c[h])}}for(let h=f;h<e.length;h++){let p=e[h];if(p===0){if(h<e.length-1||h>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:m,contentDOM:g}=mm(t,p,n,r);if(u.appendChild(m),g){if(l)throw new RangeError("Multiple content holes");l=g}}}return{dom:u,contentDOM:l}}a(mm,"renderSpec");const o4=65535,a4=Math.pow(2,16);function uce(t,e){return t+e*a4}a(uce,"makeRecover");function zC(t){return t&o4}a(zC,"recoverIndex");function cce(t){return(t-(t&o4))/a4}a(cce,"recoverOffset");const l4=1,u4=2,gm=4,c4=8;class Nw{static{a(this,"MapResult")}constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&c4)>0}get deletedBefore(){return(this.delInfo&(l4|gm))>0}get deletedAfter(){return(this.delInfo&(u4|gm))>0}get deletedAcross(){return(this.delInfo&gm)>0}}class Qn{static{a(this,"StepMap")}constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Qn.empty)return Qn.empty}recover(e){let n=0,r=zC(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+cce(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?i:0);if(u>e)break;let c=this.ranges[l+s],f=this.ranges[l+o],h=u+c;if(e<=h){let p=c?e==u?-1:e==h?1:n:n,m=u+i+(p<0?0:f);if(r)return m;let g=e==(n<0?u:h)?null:uce(l/3,e-u),y=e==u?u4:e==h?l4:gm;return(n<0?e!=u:e!=h)&&(y|=c4),new Nw(m,y,g)}i+=f-c}return r?e+i:new Nw(e+i,0,null)}touches(e,n){let r=0,i=zC(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?r:0);if(u>e)break;let c=this.ranges[l+s],f=u+c;if(e<=f&&l==i*3)return!0;r+=this.ranges[l+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],l=o-(this.inverted?s:0),u=o+(this.inverted?0:s),c=this.ranges[i+n],f=this.ranges[i+r];e(l,l+c,u,u+f),s+=f-c}}invert(){return new Qn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Qn.empty:new Qn(e<0?[0,-e,0]:[0,0,e])}}Qn.empty=new Qn([]);class yu{static{a(this,"Mapping")}constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new yu(this.maps,this.mirror,e,n)}copy(){return new yu(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new yu;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],l=o.mapResult(e,n);if(l.recover!=null){let u=this.getMirror(s);if(u!=null&&u>s&&u<this.to){s=u,e=this.maps[u].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new Nw(e,i,null)}}const i_=Object.create(null);class _n{static{a(this,"Step")}getMap(){return Qn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=i_[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in i_)throw new RangeError("Duplicate use of step JSON ID "+e);return i_[e]=n,n.prototype.jsonID=e,n}}class xt{static{a(this,"StepResult")}constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new xt(e,null)}static fail(e){return new xt(null,e)}static fromReplace(e,n,r,i){try{return xt.ok(e.replace(n,r,i))}catch(s){if(s instanceof Ig)return xt.fail(s.message);throw s}}}function WS(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(WS(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return W.fromArray(r)}a(WS,"mapFragment");class yo extends _n{static{a(this,"AddMarkStep")}constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Z(WS(n.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return xt.fromReplace(e,this.from,this.to,s)}invert(){return new Ri(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new yo(n.pos,r.pos,this.mark)}merge(e){return e instanceof yo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new yo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new yo(n.from,n.to,e.markFromJSON(n.mark))}}_n.jsonID("addMark",yo);class Ri extends _n{static{a(this,"RemoveMarkStep")}constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Z(WS(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return xt.fromReplace(e,this.from,this.to,r)}invert(){return new yo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ri(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ri&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ri(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ri(n.from,n.to,e.markFromJSON(n.mark))}}_n.jsonID("removeMark",Ri);class _o extends _n{static{a(this,"AddNodeMarkStep")}constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return xt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return xt.fromReplace(e,this.pos,this.pos+1,new Z(W.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new _o(this.pos,n.marks[i]);return new _o(this.pos,this.mark)}}return new Ku(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new _o(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new _o(n.pos,e.markFromJSON(n.mark))}}_n.jsonID("addNodeMark",_o);class Ku extends _n{static{a(this,"RemoveNodeMarkStep")}constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return xt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return xt.fromReplace(e,this.pos,this.pos+1,new Z(W.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new _o(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ku(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ku(n.pos,e.markFromJSON(n.mark))}}_n.jsonID("removeNodeMark",Ku);class Yt extends _n{static{a(this,"ReplaceStep")}constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Dw(e,this.from,this.to)?xt.fail("Structure replace would overwrite content"):xt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Qn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Yt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Yt(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Yt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Z.empty:new Z(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Yt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Z.empty:new Z(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Yt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Yt(n.from,n.to,Z.fromJSON(e,n.slice),!!n.structure)}}_n.jsonID("replace",Yt);class en extends _n{static{a(this,"ReplaceAroundStep")}constructor(e,n,r,i,s,o,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=l}apply(e){if(this.structure&&(Dw(e,this.from,this.gapFrom)||Dw(e,this.gapTo,this.to)))return xt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return xt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?xt.fromReplace(e,this.from,this.to,r):xt.fail("Content does not fit in gap")}getMap(){return new Qn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new en(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new en(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new en(n.from,n.to,n.gapFrom,n.gapTo,Z.fromJSON(e,n.slice),n.insert,!!n.structure)}}_n.jsonID("replaceAround",en);function Dw(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}a(Dw,"contentBetween");function fce(t,e,n,r){let i=[],s=[],o,l;t.doc.nodesBetween(e,n,(u,c,f)=>{if(!u.isInline)return;let h=u.marks;if(!r.isInSet(h)&&f.type.allowsMarkType(r.type)){let p=Math.max(c,e),m=Math.min(c+u.nodeSize,n),g=r.addToSet(h);for(let y=0;y<h.length;y++)h[y].isInSet(g)||(o&&o.to==p&&o.mark.eq(h[y])?o.to=m:i.push(o=new Ri(p,m,h[y])));l&&l.to==p?l.to=m:s.push(l=new yo(p,m,r))}}),i.forEach(u=>t.step(u)),s.forEach(u=>t.step(u))}a(fce,"addMark");function hce(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,l)=>{if(!o.isInline)return;s++;let u=null;if(r instanceof Ry){let c=o.marks,f;for(;f=r.isInSet(c);)(u||(u=[])).push(f),c=f.removeFromSet(c)}else r?r.isInSet(o.marks)&&(u=[r]):u=o.marks;if(u&&u.length){let c=Math.min(l+o.nodeSize,n);for(let f=0;f<u.length;f++){let h=u[f],p;for(let m=0;m<i.length;m++){let g=i[m];g.step==s-1&&h.eq(i[m].style)&&(p=g)}p?(p.to=c,p.step=s):i.push({style:h,from:Math.max(l,e),to:c,step:s})}}}),i.forEach(o=>t.step(new Ri(o.from,o.to,o.style)))}a(hce,"removeMark");function HS(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],l=e+1;for(let u=0;u<s.childCount;u++){let c=s.child(u),f=l+c.nodeSize,h=r.matchType(c.type);if(!h)o.push(new Yt(l,f,Z.empty));else{r=h;for(let p=0;p<c.marks.length;p++)n.allowsMarkType(c.marks[p].type)||t.step(new Ri(l,f,c.marks[p]));if(i&&c.isText&&n.whitespace!="pre"){let p,m=/\r?\n|\r/g,g;for(;p=m.exec(c.text);)g||(g=new Z(W.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new Yt(l+p.index,l+p.index+p[0].length,g))}}l=f}if(!r.validEnd){let u=r.fillBefore(W.empty,!0);t.replace(l,l,new Z(u,0,0))}for(let u=o.length-1;u>=0;u--)t.step(o[u])}a(HS,"clearIncompatible");function dce(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}a(dce,"canCut");function Td(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!dce(i,s,o))break}return null}a(Td,"liftTarget");function pce(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),l=i.after(s+1),u=o,c=l,f=W.empty,h=0;for(let g=s,y=!1;g>n;g--)y||r.index(g)>0?(y=!0,f=W.from(r.node(g).copy(f)),h++):u--;let p=W.empty,m=0;for(let g=s,y=!1;g>n;g--)y||i.after(g+1)<i.end(g)?(y=!0,p=W.from(i.node(g).copy(p)),m++):c++;t.step(new en(u,c,o,l,new Z(f.append(p),h,m),f.size-h,!0))}a(pce,"lift$1");function f4(t,e,n=null,r=t){let i=mce(t,e),s=i&&gce(r,e);return s?i.map(jC).concat({type:e,attrs:n}).concat(s.map(jC)):null}a(f4,"findWrapping");function jC(t){return{type:t,attrs:null}}a(jC,"withAttrs");function mce(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}a(mce,"findWrappingOutside");function gce(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let u=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;u&&c<i;c++)u=u.matchType(n.child(c).type);return!u||!u.validEnd?null:o}a(gce,"findWrappingInside");function yce(t,e,n){let r=W.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let l=n[o].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=W.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new en(i,s,i,s,new Z(r,0,0),n.length,!0))}a(yce,"wrap$2");function _ce(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,l)=>{let u=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,u)&&bce(t.doc,t.mapping.slice(s).map(l),r)){let c=null;if(r.schema.linebreakReplacement){let m=r.whitespace=="pre",g=!!r.contentMatch.matchType(r.schema.linebreakReplacement);m&&!g?c=!1:!m&&g&&(c=!0)}c===!1&&d4(t,o,l,s),HS(t,t.mapping.slice(s).map(l,1),r,void 0,c===null);let f=t.mapping.slice(s),h=f.map(l,1),p=f.map(l+o.nodeSize,1);return t.step(new en(h,p,h+1,p-1,new Z(W.from(r.create(u,null,o.marks)),0,0),1,!0)),c===!0&&h4(t,o,l,s),!1}})}a(_ce,"setBlockType$1");function h4(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(i.text);){let u=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(u,u+1,e.type.schema.linebreakReplacement.create())}}})}a(h4,"replaceNewlines");function d4(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}a(d4,"replaceLinebreaks");function bce(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}a(bce,"canChangeType");function wce(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new en(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Z(W.from(o),0,0),1,!0))}a(wce,"setNodeMarkup");function p4(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,f=n-2;c>s;c--,f--){let h=i.node(c),p=i.index(c);if(h.type.spec.isolating)return!1;let m=h.content.cutByIndex(p,h.childCount),g=r&&r[f+1];g&&(m=m.replaceChild(0,g.type.create(g.attrs)));let y=r&&r[f]||h;if(!h.canReplace(p+1,h.childCount)||!y.type.validContent(m))return!1}let l=i.indexAfter(s),u=r&&r[0];return i.node(s).canReplaceWith(l,l,u?u.type:i.node(s+1).type)}a(p4,"canSplit");function Ece(t,e,n=1,r){let i=t.doc.resolve(e),s=W.empty,o=W.empty;for(let l=i.depth,u=i.depth-n,c=n-1;l>u;l--,c--){s=W.from(i.node(l).copy(s));let f=r&&r[c];o=W.from(f?f.type.create(f.attrs,o):i.node(l).copy(o))}t.step(new Yt(e,e,new Z(s.append(o),n,n),!0))}a(Ece,"split");function xd(t,e){let n=t.resolve(e),r=n.index();return m4(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}a(xd,"canJoin");function vce(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}a(vce,"canAppendWithSubstitutedLinebreaks");function m4(t,e){return!!(t&&e&&!t.isLeaf&&vce(t,e))}a(m4,"joinable");function g4(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,l=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),l++,o=r.node(i).maybeChild(l)):(s=r.node(i).maybeChild(l-1),o=r.node(i+1)),s&&!s.isTextblock&&m4(s,o)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}a(g4,"joinPoint");function Sce(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(i&&o.inlineContent){let f=o.whitespace=="pre",h=!!o.contentMatch.matchType(i);f&&!h?r=!1:!f&&h&&(r=!0)}let l=t.steps.length;if(r===!1){let f=t.doc.resolve(e+n);d4(t,f.node(),f.before(),l)}o.inlineContent&&HS(t,e+n-1,o,s.node().contentMatchAt(s.index()),r==null);let u=t.mapping.slice(l),c=u.map(e-n);if(t.step(new Yt(c,u.map(e+n,-1),Z.empty,!0)),r===!0){let f=t.doc.resolve(c);h4(t,f.node(),f.before(),t.steps.length)}return t}a(Sce,"join");function kce(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}a(kce,"insertPoint");function y4(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let l=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,u=r.index(o)+(l>0?1:0),c=r.node(o),f=!1;if(s==1)f=c.canReplace(u,u,i);else{let h=c.contentMatchAt(u).findWrapping(i.firstChild.type);f=h&&c.canReplaceWith(u,u,h[0])}if(f)return l==0?r.pos:l<0?r.before(o+1):r.after(o+1)}return null}a(y4,"dropPoint");function Oy(t,e,n=e,r=Z.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return _4(i,s,r)?new Yt(e,n,r):new Ace(i,s,r).fit()}a(Oy,"replaceStep");function _4(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}a(_4,"fitsTrivially");class Ace{static{a(this,"Fitter")}constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=W.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=W.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,l=i.depth;for(;o&&l&&s.childCount==1;)s=s.firstChild.content,o--,l--;let u=new Z(s,o,l);return e>-1?new en(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new Yt(r.pos,i.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=s_(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:u,match:c}=this.frontier[l],f,h=null;if(n==1&&(o?c.matchType(o.type)||(h=c.fillBefore(W.from(o),!1)):s&&u.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:l,parent:s,inject:h};if(n==2&&o&&(f=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:l,parent:s,wrap:f};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=s_(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Z(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=s_(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new Z(Ef(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Z(Ef(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let y=0;y<s.length;y++)this.openFrontierNode(s[y]);let o=this.unplaced,l=r?r.content:o.content,u=o.openStart-e,c=0,f=[],{match:h,type:p}=this.frontier[n];if(i){for(let y=0;y<i.childCount;y++)f.push(i.child(y));h=h.matchFragment(i)}let m=l.size+e-(o.content.size-o.openEnd);for(;c<l.childCount;){let y=l.child(c),_=h.matchType(y.type);if(!_)break;c++,(c>1||u==0||y.content.size)&&(h=_,f.push(b4(y.mark(p.allowedMarks(y.marks)),c==1?u:0,c==l.childCount?m:-1)))}let g=c==l.childCount;g||(m=-1),this.placed=vf(this.placed,n,W.from(f)),this.frontier[n].match=h,g&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,_=l;y<m;y++){let w=_.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),_=w.content}this.unplaced=g?e==0?Z.empty:new Z(Ef(o.content,e-1,1),e-1,m<0?o.openEnd:e-1):new Z(Ef(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!o_(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=o_(e,n,i,r,s);if(o){for(let l=n-1;l>=0;l--){let{match:u,type:c}=this.frontier[l],f=o_(e,l,c,u,!0);if(!f||f.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=vf(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=vf(this.placed,this.depth,W.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(W.empty,!0);n.childCount&&(this.placed=vf(this.placed,this.frontier.length,n))}}function Ef(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Ef(t.firstChild.content,e-1,n)))}a(Ef,"dropFromFragment");function vf(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(vf(t.lastChild.content,e-1,n)))}a(vf,"addToFragment");function s_(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}a(s_,"contentAt");function b4(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,b4(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(W.empty,!0)))),t.copy(r)}a(b4,"closeNodeStart");function o_(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let l=r.fillBefore(s.content,!0,o);return l&&!Tce(n,s.content,o)?l:null}a(o_,"contentAfterFits");function Tce(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}a(Tce,"invalidMarks");function xce(t){return t.spec.defining||t.spec.definingForContent}a(xce,"definesContent");function Cce(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(_4(i,s,r))return t.step(new Yt(e,n,r));let o=E4(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let l=-(i.depth+1);o.unshift(l);for(let p=i.depth,m=i.pos-1;p>0;p--,m--){let g=i.node(p).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;o.indexOf(p)>-1?l=p:i.before(p)==m&&o.splice(1,0,-p)}let u=o.indexOf(l),c=[],f=r.openStart;for(let p=r.content,m=0;;m++){let g=p.firstChild;if(c.push(g),m==r.openStart)break;p=g.content}for(let p=f-1;p>=0;p--){let m=c[p],g=xce(m.type);if(g&&!m.sameMarkup(i.node(Math.abs(l)-1)))f=p;else if(g||!m.type.isTextblock)break}for(let p=r.openStart;p>=0;p--){let m=(p+f+1)%(r.openStart+1),g=c[m];if(g)for(let y=0;y<o.length;y++){let _=o[(y+u)%o.length],w=!0;_<0&&(w=!1,_=-_);let S=i.node(_-1),T=i.index(_-1);if(S.canReplaceWith(T,T,g.type,g.marks))return t.replace(i.before(_),w?s.after(_):n,new Z(w4(r.content,0,r.openStart,m),m,r.openEnd))}}let h=t.steps.length;for(let p=o.length-1;p>=0&&(t.replace(e,n,r),!(t.steps.length>h));p--){let m=o[p];m<0||(e=i.before(m),n=s.after(m))}}a(Cce,"replaceRange");function w4(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(w4(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(W.empty,!0))}return t}a(w4,"closeFragment");function Ice(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=kce(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Z(W.from(r),0,0))}a(Ice,"replaceRangeWith");function Rce(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=E4(r,i);for(let o=0;o<s.length;o++){let l=s[o],u=o==s.length-1;if(u&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(u||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}a(Rce,"deleteRange");function E4(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}a(E4,"coveredDepths");class _u extends _n{static{a(this,"AttrStep")}constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return xt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return xt.fromReplace(e,this.pos,this.pos+1,new Z(W.from(i),0,n.isLeaf?0:1))}getMap(){return Qn.empty}invert(e){return new _u(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new _u(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new _u(n.pos,n.attr,n.value)}}_n.jsonID("attr",_u);class Oh extends _n{static{a(this,"DocAttrStep")}constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return xt.ok(r)}getMap(){return Qn.empty}invert(e){return new Oh(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Oh(n.attr,n.value)}}_n.jsonID("docAttr",Oh);let Yu=class extends Error{static{a(this,"TransformError")}};Yu=a(function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n},"TransformError");Yu.prototype=Object.create(Error.prototype);Yu.prototype.constructor=Yu;Yu.prototype.name="TransformError";class v4{static{a(this,"Transform")}constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new yu}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Yu(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Z.empty){let i=Oy(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new Z(W.from(r),0,0))}delete(e,n){return this.replace(e,n,Z.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return Cce(this,e,n,r),this}replaceRangeWith(e,n,r){return Ice(this,e,n,r),this}deleteRange(e,n){return Rce(this,e,n),this}lift(e,n){return pce(this,e,n),this}join(e,n=1){return Sce(this,e,n),this}wrap(e,n){return yce(this,e,n),this}setBlockType(e,n=e,r,i=null){return _ce(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return wce(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new _u(e,n,r)),this}setDocAttribute(e,n){return this.step(new Oh(e,n)),this}addNodeMark(e,n){return this.step(new _o(e,n)),this}removeNodeMark(e,n){if(!(n instanceof je)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Ku(e,n)),this}split(e,n=1,r){return Ece(this,e,n,r),this}addMark(e,n,r){return fce(this,e,n,r),this}removeMark(e,n,r){return hce(this,e,n,r),this}clearIncompatible(e,n,r){return HS(this,e,n,r),this}}const a_=Object.create(null);class Ee{static{a(this,"Selection")}constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new S4(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Z.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:u,$to:c}=o[l],f=e.mapping.slice(s);e.replaceRange(f.map(u.pos),f.map(c.pos),l?Z.empty:n),l==0&&HC(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:l}=i[s],u=e.mapping.slice(r),c=u.map(o.pos),f=u.map(l.pos);s?e.deleteRange(c,f):(e.replaceRangeWith(c,f,n),HC(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Ne(e):Jl(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?Jl(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Jl(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Zr(e.node(0))}static atStart(e){return Jl(e,e,0,0,1)||new Zr(e)}static atEnd(e){return Jl(e,e,e.content.size,e.childCount,-1)||new Zr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=a_[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in a_)throw new RangeError("Duplicate use of selection JSON ID "+e);return a_[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ne.between(this.$anchor,this.$head).getBookmark()}}Ee.prototype.visible=!0;class S4{static{a(this,"SelectionRange")}constructor(e,n){this.$from=e,this.$to=n}}let VC=!1;function WC(t){!VC&&!t.parent.inlineContent&&(VC=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}a(WC,"checkTextSelection");class Ne extends Ee{static{a(this,"TextSelection")}constructor(e,n=e){WC(e),WC(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ee.near(r);let i=e.resolve(n.map(this.anchor));return new Ne(i.parent.inlineContent?i:r,r)}replace(e,n=Z.empty){if(super.replace(e,n),n==Z.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ne&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Ny(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ne(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Ee.findFrom(n,r,!0)||Ee.findFrom(n,-r,!0);if(s)n=s.$head;else return Ee.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Ee.findFrom(e,-r,!0)||Ee.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Ne(e,n)}}Ee.jsonID("text",Ne);class Ny{static{a(this,"TextBookmark")}constructor(e,n){this.anchor=e,this.head=n}map(e){return new Ny(e.map(this.anchor),e.map(this.head))}resolve(e){return Ne.between(e.resolve(this.anchor),e.resolve(this.head))}}class pe extends Ee{static{a(this,"NodeSelection")}constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Ee.near(s):new pe(s)}content(){return new Z(W.from(this.node),0,0)}eq(e){return e instanceof pe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new qS(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new pe(e.resolve(n.anchor))}static create(e,n){return new pe(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}pe.prototype.visible=!1;Ee.jsonID("node",pe);class qS{static{a(this,"NodeBookmark")}constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Ny(r,r):new qS(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&pe.isSelectable(r)?new pe(n):Ee.near(n)}}class Zr extends Ee{static{a(this,"AllSelection")}constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Z.empty){if(n==Z.empty){e.delete(0,e.doc.content.size);let r=Ee.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Zr(e)}map(e){return new Zr(e)}eq(e){return e instanceof Zr}getBookmark(){return Oce}}Ee.jsonID("all",Zr);const Oce={map(){return this},resolve(t){return new Zr(t)}};function Jl(t,e,n,r,i,s=!1){if(e.inlineContent)return Ne.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let l=e.child(o);if(l.isAtom){if(!s&&pe.isSelectable(l))return pe.create(t,n-(i<0?l.nodeSize:0))}else{let u=Jl(t,l,n+i,i<0?l.childCount:0,i,s);if(u)return u}n+=l.nodeSize*i}return null}a(Jl,"findSelectionIn");function HC(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Yt||i instanceof en))return;let s=t.mapping.maps[r],o;s.forEach((l,u,c,f)=>{o==null&&(o=f)}),t.setSelection(Ee.near(t.doc.resolve(o),n))}a(HC,"selectionToInsertionEnd");const qC=1,Lp=2,GC=4;class Nce extends v4{static{a(this,"Transaction")}constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|qC)&~Lp,this.storedMarks=null,this}get selectionSet(){return(this.updated&qC)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Lp,this}ensureMarks(e){return je.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Lp)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Lp,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||je.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(Ee.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=GC,this}get scrolledIntoView(){return(this.updated&GC)>0}}function KC(t,e){return!e||!t?t:t.bind(e)}a(KC,"bind$2");class Sf{static{a(this,"FieldDesc")}constructor(e,n,r){this.name=e,this.init=KC(n.init,r),this.apply=KC(n.apply,r)}}const Dce=[new Sf("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Sf("selection",{init(t,e){return t.selection||Ee.atStart(e.doc)},apply(t){return t.selection}}),new Sf("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Sf("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class l_{static{a(this,"Configuration")}constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Dce.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Sf(r.key,r.spec.state,r))})}}class kf{static{a(this,"EditorState")}constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let u=i?i[o].n:0,c=i?i[o].state:this,f=u<n.length&&l.spec.appendTransaction.call(l,u?n.slice(u):n,c,r);if(f&&r.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",e),!i){i=[];for(let h=0;h<this.config.plugins.length;h++)i.push(h<o?{state:r,n:n.length}:{state:this,n:0})}n.push(f),r=r.applyInner(f),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new kf(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new Nce(this)}static create(e){let n=new l_(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new kf(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new l_(this.schema,e.plugins),r=n.fields,i=new kf(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new l_(e.schema,e.plugins),s=new kf(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Na.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=Ee.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let u=r[l],c=u.spec.state;if(u.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){s[o.name]=c.fromJSON.call(u,e,n[l],s);return}}s[o.name]=o.init(e,s)}}),s}}function k4(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=k4(i,e,{})),n[r]=i}return n}a(k4,"bindProps");class Ac{static{a(this,"Plugin")}constructor(e){this.spec=e,this.props={},e.props&&k4(e.props,this,this.props),this.key=e.key?e.key.key:A4("plugin")}getState(e){return e[this.key]}}const u_=Object.create(null);function A4(t){return t in u_?t+"$"+ ++u_[t]:(u_[t]=0,t+"$")}a(A4,"createKey");class Cd{static{a(this,"PluginKey")}constructor(e="key"){this.key=A4(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Jt=a(function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},"domIndex"),Nh=a(function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e},"parentNode");let Mw=null;const bs=a(function(t,e,n){let r=Mw||(Mw=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},"textRange"),Mce=a(function(){Mw=null},"clearReusedRange"),ol=a(function(t,e,n,r){return n&&(YC(t,e,n,r,-1)||YC(t,e,n,r,1))},"isEquivalentPosition"),Pce=/^(img|br|input|textarea|hr)$/i;function YC(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:_r(t))){let s=t.parentNode;if(!s||s.nodeType!=1||Id(t)||Pce.test(t.nodeName)||t.contentEditable=="false")return!1;e=Jt(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?_r(t):0}else return!1}}a(YC,"scanFor");function _r(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}a(_r,"nodeSize");function Lce(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=_r(t)}else if(t.parentNode&&!Id(t))e=Jt(t),t=t.parentNode;else return null}}a(Lce,"textNodeBefore$1");function Fce(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Id(t))e=Jt(t)+1,t=t.parentNode;else return null}}a(Fce,"textNodeAfter$1");function $ce(t,e,n){for(let r=e==0,i=e==_r(t);r||i;){if(t==n)return!0;let s=Jt(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==_r(t)}}a($ce,"isOnEdge");function Id(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}a(Id,"hasBlockDesc");const Dy=a(function(t){return t.focusNode&&ol(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)},"selectionCollapsed");function ma(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}a(ma,"keyEvent");function Bce(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}a(Bce,"deepActiveElement");function Uce(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(_r(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(_r(r.startContainer),r.startOffset)}}}a(Uce,"caretFromPoint");const Hi=typeof navigator<"u"?navigator:null,JC=typeof document<"u"?document:null,ta=Hi&&Hi.userAgent||"",Pw=/Edge\/(\d+)/.exec(ta),T4=/MSIE \d/.exec(ta),Lw=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ta),zn=!!(T4||Lw||Pw),To=T4?document.documentMode:Lw?+Lw[1]:Pw?+Pw[1]:0,ai=!zn&&/gecko\/(\d+)/i.test(ta);ai&&+(/Firefox\/(\d+)/.exec(ta)||[0,0])[1];const Fw=!zn&&/Chrome\/(\d+)/.exec(ta),hn=!!Fw,x4=Fw?+Fw[1]:0,In=!zn&&!!Hi&&/Apple Computer/.test(Hi.vendor),Ju=In&&(/Mobile\/\w+/.test(ta)||!!Hi&&Hi.maxTouchPoints>2),pr=Ju||(Hi?/Mac/.test(Hi.platform):!1),zce=Hi?/Win/.test(Hi.platform):!1,As=/Android \d/.test(ta),Rd=!!JC&&"webkitFontSmoothing"in JC.documentElement.style,jce=Rd?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Vce(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}a(Vce,"windowRect");function fs(t,e){return typeof t=="number"?t:t[e]}a(fs,"getSide");function Wce(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}a(Wce,"clientRect");function XC(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;o=Nh(o)){if(o.nodeType!=1)continue;let l=o,u=l==s.body,c=u?Vce(s):Wce(l),f=0,h=0;if(e.top<c.top+fs(r,"top")?h=-(c.top-e.top+fs(i,"top")):e.bottom>c.bottom-fs(r,"bottom")&&(h=e.bottom-e.top>c.bottom-c.top?e.top+fs(i,"top")-c.top:e.bottom-c.bottom+fs(i,"bottom")),e.left<c.left+fs(r,"left")?f=-(c.left-e.left+fs(i,"left")):e.right>c.right-fs(r,"right")&&(f=e.right-c.right+fs(i,"right")),f||h)if(u)s.defaultView.scrollBy(f,h);else{let p=l.scrollLeft,m=l.scrollTop;h&&(l.scrollTop+=h),f&&(l.scrollLeft+=f);let g=l.scrollLeft-p,y=l.scrollTop-m;e={left:e.left-g,top:e.top-y,right:e.right-g,bottom:e.bottom-y}}if(u||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}a(XC,"scrollRectIntoView");function Hce(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=t.root.elementFromPoint(s,o);if(!l||l==t.dom||!t.dom.contains(l))continue;let u=l.getBoundingClientRect();if(u.top>=n-20){r=l,i=u.top;break}}return{refDOM:r,refTop:i,stack:C4(t.dom)}}a(Hce,"storeScrollPos");function C4(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Nh(r));return e}a(C4,"scrollStack");function qce({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;I4(n,r==0?0:r-e)}a(qce,"resetScrollPos");function I4(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}a(I4,"restoreScrollStack");let Wl=null;function Gce(t){if(t.setActive)return t.setActive();if(Wl)return t.focus(Wl);let e=C4(t);t.focus(Wl==null?{get preventScroll(){return Wl={preventScroll:!0},!0}}:void 0),Wl||(Wl=!1,I4(e,0))}a(Gce,"focusPreventScroll");function R4(t,e){let n,r=2e8,i,s=0,o=e.top,l=e.top,u,c;for(let f=t.firstChild,h=0;f;f=f.nextSibling,h++){let p;if(f.nodeType==1)p=f.getClientRects();else if(f.nodeType==3)p=bs(f).getClientRects();else continue;for(let m=0;m<p.length;m++){let g=p[m];if(g.top<=o&&g.bottom>=l){o=Math.max(g.bottom,o),l=Math.min(g.top,l);let y=g.left>e.left?g.left-e.left:g.right<e.left?e.left-g.right:0;if(y<r){n=f,r=y,i=y&&n.nodeType==3?{left:g.right<e.left?g.right:g.left,top:e.top}:e,f.nodeType==1&&y&&(s=h+(e.left>=(g.left+g.right)/2?1:0));continue}}else g.top>e.top&&!u&&g.left<=e.left&&g.right>=e.left&&(u=f,c={left:Math.max(g.left,Math.min(g.right,e.left)),top:g.top});!n&&(e.left>=g.right&&e.top>=g.top||e.left>=g.left&&e.top>=g.bottom)&&(s=h+1)}}return!n&&u&&(n=u,i=c,r=0),n&&n.nodeType==3?Kce(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:R4(n,i)}a(R4,"findOffsetInNode");function Kce(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Qs(r,1);if(s.top!=s.bottom&&GS(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}a(Kce,"findOffsetInText");function GS(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}a(GS,"inRect");function Yce(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}a(Yce,"targetKludge");function Jce(t,e,n){let{node:r,offset:i}=R4(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}a(Jce,"posFromElement");function Xce(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let l=t.docView.nearestDesc(s,!0),u;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((u=l.dom.getBoundingClientRect()).width||u.height)&&(l.node.isBlock&&l.parent&&(!o&&u.left>r.left||u.top>r.top?i=l.posBefore:(!o&&u.right<r.left||u.bottom<r.top)&&(i=l.posAfter),o=!0),!l.contentDOM&&i<0&&!l.node.isText))return(l.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}a(Xce,"posFromCaret");function O4(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let l=o.getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(GS(e,c))return O4(o,e,c)}}if((s=(s+1)%r)==i)break}return t}a(O4,"elementFromPoint");function Zce(t,e){let n=t.dom.ownerDocument,r,i=0,s=Uce(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!GS(e,c)||(o=O4(t.dom,e,c),!o))return null}if(In)for(let c=o;r&&c;c=Nh(c))c.draggable&&(r=void 0);if(o=Yce(o,e),r){if(ai&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let f=r.childNodes[i],h;f.nodeName=="IMG"&&(h=f.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&i++}let c;Rd&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=Xce(t,r,i,e))}l==null&&(l=Jce(t,o,e));let u=t.docView.nearestDesc(o,!0);return{pos:l,inside:u?u.posAtStart-u.border:-1}}a(Zce,"posAtCoords");function ZC(t){return t.top<t.bottom||t.left<t.right}a(ZC,"nonZero");function Qs(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(ZC(r))return r}return Array.prototype.find.call(n,ZC)||t.getBoundingClientRect()}a(Qs,"singleRect");const Qce=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function N4(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=Rd||ai;if(r.nodeType==3)if(o&&(Qce.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let u=Qs(bs(r,i,i),n);if(ai&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Qs(bs(r,i-1,i-1),-1);if(c.top==u.top){let f=Qs(bs(r,i,i+1),-1);if(f.top!=u.top)return nf(f,f.left<c.left)}}return u}else{let u=i,c=i,f=n<0?1:-1;return n<0&&!i?(c++,f=-1):n>=0&&i==r.nodeValue.length?(u--,f=1):n<0?u--:c++,nf(Qs(bs(r,u,c),f),f<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==_r(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return c_(u.getBoundingClientRect(),!1)}if(s==null&&i<_r(r)){let u=r.childNodes[i];if(u.nodeType==1)return c_(u.getBoundingClientRect(),!0)}return c_(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==_r(r))){let u=r.childNodes[i-1],c=u.nodeType==3?bs(u,_r(u)-(o?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(c)return nf(Qs(c,1),!1)}if(s==null&&i<_r(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let c=u?u.nodeType==3?bs(u,0,o?0:1):u.nodeType==1?u:null:null;if(c)return nf(Qs(c,-1),!0)}return nf(Qs(r.nodeType==3?bs(r):r,-n),n>=0)}a(N4,"coordsAtPos");function nf(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}a(nf,"flattenV");function c_(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}a(c_,"flattenH");function D4(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}a(D4,"withFlushedState");function efe(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return D4(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let o=N4(t,i.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=bs(l,0,l.nodeValue.length).getClientRects();else continue;for(let c=0;c<u.length;c++){let f=u[c];if(f.bottom>f.top+1&&(n=="up"?o.top-f.top>(f.bottom-o.top)*2:f.bottom-o.bottom>(o.bottom-f.top)*2))return!1}}return!0})}a(efe,"endOfTextblockVertical");const tfe=/[\u0590-\u08ac]/;function nfe(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,l=t.domSelection();return l?!tfe.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?s:o:D4(t,e,()=>{let{focusNode:u,focusOffset:c,anchorNode:f,anchorOffset:h}=t.domSelectionRange(),p=l.caretBidiLevel;l.modify("move",n,"character");let m=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:g,focusOffset:y}=t.domSelectionRange(),_=g&&!m.contains(g.nodeType==1?g:g.parentNode)||u==g&&c==y;try{l.collapse(f,h),u&&(u!=f||c!=h)&&l.extend&&l.extend(u,c)}catch{}return p!=null&&(l.caretBidiLevel=p),_}):r.pos==r.start()||r.pos==r.end()}a(nfe,"endOfTextblockHorizontal");let QC=null,eI=null,tI=!1;function rfe(t,e,n){return QC==e&&eI==n?tI:(QC=e,eI=n,tI=n=="up"||n=="down"?efe(t,e,n):nfe(t,e,n))}a(rfe,"endOfTextblock");const kr=0,nI=1,Ea=2,qi=3;class Od{static{a(this,"ViewDesc")}constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=kr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Jt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],l=s+o.size;if(l>e||o instanceof P4){i=e-s;break}s=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof M4&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Jt(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Jt(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,l=0;;l++){let u=this.children[l],c=o+u.size;if(i==-1&&e<=c){let f=o+u.border;if(e>=f&&n<=c-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,f);e=o;for(let h=l;h>0;h--){let p=this.children[h-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){i=Jt(p.dom)+1;break}e-=p.size}i==-1&&(i=0)}if(i>-1&&(c>n||l==this.children.length-1)){n=c;for(let f=l+1;f<this.children.length;f++){let h=this.children[f];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){s=Jt(h.dom);break}n+=h.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let m=0,g=0;m<this.children.length;m++){let y=this.children[m],_=g+y.size;if(s>g&&o<_)return y.setSelection(e-g-y.border,n-g-y.border,r,i);g=_}let l=this.domFromPos(e,e?-1:1),u=n==e?l:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),f=r.domSelectionRange(),h=!1;if((ai||In)&&e==n){let{node:m,offset:g}=l;if(m.nodeType==3){if(h=!!(g&&m.nodeValue[g-1]==`
`),h&&g==m.nodeValue.length)for(let y=m,_;y;y=y.parentNode){if(_=y.nextSibling){_.nodeName=="BR"&&(l=u={node:_.parentNode,offset:Jt(_)+1});break}let w=y.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let y=m.childNodes[g-1];h=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(ai&&f.focusNode&&f.focusNode!=u.node&&f.focusNode.nodeType==1){let m=f.focusNode.childNodes[f.focusOffset];m&&m.contentEditable=="false"&&(i=!0)}if(!(i||h&&In)&&ol(l.node,l.offset,f.anchorNode,f.anchorOffset)&&ol(u.node,u.offset,f.focusNode,f.focusOffset))return;let p=!1;if((c.extend||e==n)&&!h){c.collapse(l.node,l.offset);try{e!=n&&c.extend(u.node,u.offset),p=!0}catch{}}if(!p){if(e>n){let g=l;l=u,u=g}let m=document.createRange();m.setEnd(u.node,u.offset),m.setStart(l.node,l.offset),c.removeAllRanges(),c.addRange(m)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let l=r+s.border,u=o-s.border;if(e>=l&&n<=u){this.dirty=e==r||n==o?Ea:nI,e==l&&n==u&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=qi:s.markDirty(e-l,n-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Ea:qi}r=o}this.dirty=Ea}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Ea:nI;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class M4 extends Od{static{a(this,"WidgetViewDesc")}constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==kr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class ife extends Od{static{a(this,"CompositionViewDesc")}constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class al extends Od{static{a(this,"MarkViewDesc")}constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=kc.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new al(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&qi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=qi&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=kr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=kr}}slice(e,n,r){let i=al.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=Bw(s,n,o,r)),e>0&&(s=Bw(s,0,e,r));for(let l=0;l<s.length;l++)s[l].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class xo extends Od{static{a(this,"NodeViewDesc")}constructor(e,n,r,i,s,o,l,u,c){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,s,o){let l=s.nodeViews[n.type.name],u,c=l&&l(n,s,()=>{if(!u)return o;if(u.parent)return u.parent.posBeforeChild(u)},r,i),f=c&&c.dom,h=c&&c.contentDOM;if(n.isText){if(!f)f=document.createTextNode(n.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:h}=kc.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!h&&!n.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),n.type.spec.draggable&&(f.draggable=!0));let p=f;return f=$4(f,r,n),c?u=new sfe(e,n,r,i,f,h||null,p,c,s,o+1):n.isText?new My(e,n,r,i,f,p,s):new xo(e,n,r,i,f,h||null,p,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>W.empty)}return e}matchesNode(e,n,r){return this.dirty==kr&&e.eq(this.node)&&Dg(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,l=s&&s.pos<0,u=new afe(this,o&&o.node,e);cfe(this.node,this.innerDeco,(c,f,h)=>{c.spec.marks?u.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!h&&u.syncToMarks(f==this.node.childCount?je.none:this.node.child(f).marks,r,e),u.placeWidget(c,e,i)},(c,f,h,p)=>{u.syncToMarks(c.marks,r,e);let m;u.findNodeMatch(c,f,h,p)||l&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(m=u.findIndexWithChild(s.node))>-1&&u.updateNodeAt(c,f,h,m,e)||u.updateNextNode(c,f,h,e,p,i)||u.addNode(c,f,h,e,i),i+=c.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==Ea)&&(o&&this.protectLocalComposition(e,o),L4(this.contentDOM,this.children,e),Ju&&ffe(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ne)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,l=hfe(this.node.content,o,r-n,i-n);return l<0?null:{node:s,pos:l,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new ife(this,s,n,i);e.input.compositionNodes.push(o),this.children=Bw(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==qi||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=kr}updateOuterDeco(e){if(Dg(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=F4(this.dom,this.nodeDOM,$w(this.outerDeco,this.node,n),$w(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function rI(t,e,n,r,i){$4(r,e,t);let s=new xo(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}a(rI,"docViewDesc");class My extends xo{static{a(this,"TextViewDesc")}constructor(e,n,r,i,s,o,l){super(e,n,r,i,s,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==qi||this.dirty!=kr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=kr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=kr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new My(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=qi)}get domAtom(){return!1}isText(e){return this.node.text==e}}class P4 extends Od{static{a(this,"TrailingHackViewDesc")}parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==kr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class sfe extends xo{static{a(this,"CustomNodeViewDesc")}constructor(e,n,r,i,s,o,l,u,c,f){super(e,n,r,i,s,o,l,c,f),this.spec=u}update(e,n,r,i){if(this.dirty==qi)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function L4(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],l=o.dom;if(l.parentNode==t){for(;l!=r;)r=iI(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(o instanceof al){let u=r?r.previousSibling:t.lastChild;L4(o.contentDOM,o.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=iI(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}a(L4,"renderDescs");const zf=a(function(t){t&&(this.nodeName=t)},"OuterDecoLevel");zf.prototype=Object.create(null);const va=[new zf];function $w(t,e,n){if(t.length==0)return va;let r=n?va[0]:new zf,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new zf(o.nodeName));for(let l in o){let u=o[l];u!=null&&(n&&i.length==1&&i.push(r=new zf(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+u:l=="style"?r.style=(r.style?r.style+";":"")+u:l!="nodeName"&&(r[l]=u))}}}return i}a($w,"computeOuterDeco");function F4(t,e,n,r){if(n==va&&r==va)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],l=n[s];if(s){let u;l&&l.nodeName==o.nodeName&&i!=t&&(u=i.parentNode)&&u.nodeName.toLowerCase()==o.nodeName||(u=document.createElement(o.nodeName),u.pmIsDeco=!0,u.appendChild(i),l=va[0]),i=u}ofe(i,l||va[0],o)}return i}a(F4,"patchOuterDeco");function ofe(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}a(ofe,"patchAttributes");function $4(t,e,n){return F4(t,t,va,$w(e,n,t.nodeType!=1))}a($4,"applyOuterDeco");function Dg(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}a(Dg,"sameOuterDeco");function iI(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}a(iI,"rm");class afe{static{a(this,"ViewTreeUpdater")}constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=lfe(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=kr,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let c=this.top.children[u];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){l=u;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let u=al.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let l=this.index,u=Math.min(this.top.children.length,l+5);l<u;l++){let c=this.top.children[l];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==qi&&o.dom==o.contentDOM&&(o.dirty=Ea),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let l=this.index;l<this.top.children.length;l++){let u=this.top.children[l];if(u instanceof xo){let c=this.preMatch.matched.get(u);if(c!=null&&c!=s)return!1;let f=u.dom,h,p=this.isLocked(f)&&!(e.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==e.text&&u.dirty!=qi&&Dg(n,u.outerDeco));if(!p&&u.update(e,n,r,i))return this.destroyBetween(this.index,l),u.dom!=f&&(this.changed=!0),this.index++,!0;if(!p&&(h=this.recreateWrapper(u,e,n,r,i,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=Ea,h.updateChildren(i,o+1),h.dirty=kr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Dg(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=xo.create(this.top,n,r,i,s,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let u of l.children)u.parent=l}return e.destroy(),l}addNode(e,n,r,i,s){let o=xo.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new M4(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof al;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof My)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((In||hn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new P4(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function lfe(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let l;for(;;)if(r){let c=n.children[r-1];if(c instanceof al)n=c,r=c.children.length;else{l=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=l.node;if(u){if(u!=t.child(i-1))break;--i,s.set(l,i),o.push(l)}}return{index:i,matched:s,matches:o.reverse()}}a(lfe,"preMatch");function ufe(t,e){return t.type.side-e.type.side}a(ufe,"compareSide");function cfe(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let f=t.child(c);r(f,i,e.forChild(s,f),c),s+=f.nodeSize}return}let o=0,l=[],u=null;for(let c=0;;){let f,h;for(;o<i.length&&i[o].to==s;){let _=i[o++];_.widget&&(f?(h||(h=[f])).push(_):f=_)}if(f)if(h){h.sort(ufe);for(let _=0;_<h.length;_++)n(h[_],c,!!u)}else n(f,c,!!u);let p,m;if(u)m=-1,p=u,u=null;else if(c<t.childCount)m=c,p=t.child(c++);else break;for(let _=0;_<l.length;_++)l[_].to<=s&&l.splice(_--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)l.push(i[o++]);let g=s+p.nodeSize;if(p.isText){let _=g;o<i.length&&i[o].from<_&&(_=i[o].from);for(let w=0;w<l.length;w++)l[w].to<_&&(_=l[w].to);_<g&&(u=p.cut(_-s),p=p.cut(0,_-s),g=_,m=-1)}else for(;o<i.length&&i[o].to<g;)o++;let y=p.isInline&&!p.isLeaf?l.filter(_=>!_.inline):l.slice();r(p,y,e.forChild(s,p),m),s=g}}a(cfe,"iterDeco");function ffe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}a(ffe,"iosHacks");function hfe(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),l=s;if(s+=o.nodeSize,!o.isText)continue;let u=o.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;u+=c.text}if(s>=n){if(s>=r&&u.slice(r-e.length-l,r-l)==e)return r-e.length;let c=l<r?u.lastIndexOf(e,r-l-1):-1;if(c>=0&&c+e.length+l>=n)return l+c;if(n==r&&u.length>=r+e.length-l&&u.slice(r-l,r-l+e.length)==e)return r}}return-1}a(hfe,"findTextInFragment");function Bw(t,e,n,r,i){let s=[];for(let o=0,l=0;o<t.length;o++){let u=t[o],c=l,f=l+=u.size;c>=n||f<=e?s.push(u):(c<e&&s.push(u.slice(0,e-c,r)),i&&(s.push(i),i=void 0),f>n&&s.push(u.slice(n-c,u.size,r)))}return s}a(Bw,"replaceNodes");function KS(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let l=r.resolve(o),u,c;if(Dy(n)){for(u=o;i&&!i.node;)i=i.parent;let h=i.node;if(i&&h.isAtom&&pe.isSelectable(h)&&i.parent&&!(h.isInline&&$ce(n.focusNode,n.focusOffset,i.dom))){let p=i.posBefore;c=new pe(o==p?l:r.resolve(p))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let h=o,p=o;for(let m=0;m<n.rangeCount;m++){let g=n.getRangeAt(m);h=Math.min(h,t.docView.posFromDOM(g.startContainer,g.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(g.endContainer,g.endOffset,-1))}if(h<0)return null;[u,o]=p==t.state.selection.anchor?[p,h]:[h,p],l=r.resolve(o)}else u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let f=r.resolve(u);if(!c){let h=e=="pointer"||t.state.selection.head<l.pos&&!s?1:-1;c=YS(t,f,l,h)}return c}a(KS,"selectionFromDOM");function B4(t){return t.editable?t.hasFocus():z4(t)&&document.activeElement&&document.activeElement.contains(t.dom)}a(B4,"editorOwnsSelection");function Rs(t,e=!1){let n=t.state.selection;if(U4(t,n),!!B4(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&hn){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&ol(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)pfe(t);else{let{anchor:r,head:i}=n,s,o;sI&&!(n instanceof Ne)&&(n.$from.parent.inlineContent||(s=oI(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=oI(t,n.to))),t.docView.setSelection(r,i,t,e),sI&&(s&&aI(s),o&&aI(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&dfe(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}a(Rs,"selectionToDOM");const sI=In||hn&&x4<63;function oI(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(In&&i&&i.contentEditable=="false")return f_(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return f_(i);if(s)return f_(s)}}a(oI,"temporarilyEditableNear");function f_(t){return t.contentEditable="true",In&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}a(f_,"setEditable");function aI(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}a(aI,"resetEditable");function dfe(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!B4(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}a(dfe,"removeClassOnSelectionChange");function pfe(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,Jt(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&zn&&To<=11&&(r.disabled=!0,r.disabled=!1)}a(pfe,"selectCursorWrapper");function U4(t,e){if(e instanceof pe){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(lI(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else lI(t)}a(U4,"syncNodeSelection");function lI(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}a(lI,"clearNodeSelection");function YS(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Ne.between(e,n,r)}a(YS,"selectionBetween");function uI(t){return t.editable&&!t.hasFocus()?!1:z4(t)}a(uI,"hasFocusAndSelection");function z4(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}a(z4,"hasSelection");function mfe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return ol(e.node,e.offset,n.anchorNode,n.anchorOffset)}a(mfe,"anchorInRightPlace");function Uw(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Ee.findFrom(s,e)}a(Uw,"moveSelectionBlock");function to(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}a(to,"apply$1");function cI(t,e,n){let r=t.state.selection;if(r instanceof Ne)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return to(t,new Ne(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Uw(t.state,e);return i&&i instanceof pe?to(t,i):!1}else if(!(pr&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let l=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(l))&&!o.contentDOM?pe.isSelectable(s)?to(t,new pe(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):Rd?to(t,new Ne(t.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof pe&&r.node.isInline)return to(t,new Ne(e>0?r.$to:r.$from));{let i=Uw(t.state,e);return i?to(t,i):!1}}}a(cI,"selectHorizontally");function Mg(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}a(Mg,"nodeLen");function jf(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}a(jf,"isIgnorable");function Hl(t,e){return e<0?gfe(t):yfe(t)}a(Hl,"skipIgnoredNodes");function gfe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(ai&&n.nodeType==1&&r<Mg(n)&&jf(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(jf(l,-1))i=n,s=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(j4(n))break;{let l=n.previousSibling;for(;l&&jf(l,-1);)i=n.parentNode,s=Jt(l),l=l.previousSibling;if(l)n=l,r=Mg(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?zw(t,n,r):i&&zw(t,i,s)}a(gfe,"skipIgnoredNodesBefore");function yfe(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Mg(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(jf(l,1))s=n,o=++r;else break}else{if(j4(n))break;{let l=n.nextSibling;for(;l&&jf(l,1);)s=l.parentNode,o=Jt(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=Mg(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&zw(t,s,o)}a(yfe,"skipIgnoredNodesAfter");function j4(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}a(j4,"isBlockNode");function _fe(t,e){for(;t&&e==t.childNodes.length&&!Id(t);)e=Jt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}a(_fe,"textNodeAfter");function bfe(t,e){for(;t&&!e&&!Id(t);)e=Jt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}a(bfe,"textNodeBefore");function zw(t,e,n){if(e.nodeType!=3){let s,o;(o=_fe(e,n))?(e=o,n=0):(s=bfe(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Dy(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Rs(t)},50)}a(zw,"setSelFocus");function fI(t,e){let n=t.state.doc.resolve(e);if(!(hn||zce)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}a(fI,"findDirection");function hI(t,e,n){let r=t.state.selection;if(r instanceof Ne&&!r.empty||n.indexOf("s")>-1||pr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=Uw(t.state,e);if(o&&o instanceof pe)return to(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,l=r instanceof Zr?Ee.near(o,e):Ee.findFrom(o,e);return l?to(t,l):!1}return!1}a(hI,"selectVertically");function dI(t,e){if(!(t.state.selection instanceof Ne))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}a(dI,"stopNativeHorizontalDelete");function pI(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}a(pI,"switchEditable");function wfe(t){if(!In||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;pI(t,r,"true"),setTimeout(()=>pI(t,r,"false"),20)}return!1}a(wfe,"safariDownArrowBug");function Efe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}a(Efe,"getMods");function vfe(t,e){let n=e.keyCode,r=Efe(e);if(n==8||pr&&n==72&&r=="c")return dI(t,-1)||Hl(t,-1);if(n==46&&!e.shiftKey||pr&&n==68&&r=="c")return dI(t,1)||Hl(t,1);if(n==13||n==27)return!0;if(n==37||pr&&n==66&&r=="c"){let i=n==37?fI(t,t.state.selection.from)=="ltr"?-1:1:-1;return cI(t,i,r)||Hl(t,i)}else if(n==39||pr&&n==70&&r=="c"){let i=n==39?fI(t,t.state.selection.from)=="ltr"?1:-1:1;return cI(t,i,r)||Hl(t,i)}else{if(n==38||pr&&n==80&&r=="c")return hI(t,-1,r)||Hl(t,-1);if(n==40||pr&&n==78&&r=="c")return wfe(t)||hI(t,1,r)||Hl(t,1);if(r==(pr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}a(vfe,"captureKeyDown");function V4(t,e){t.someProp("transformCopied",m=>{e=m(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let m=r.firstChild;n.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),r=m.content}let o=t.someProp("clipboardSerializer")||kc.fromSchema(t.state.schema),l=Y4(),u=l.createElement("div");u.appendChild(o.serializeFragment(r,{document:l}));let c=u.firstChild,f,h=0;for(;c&&c.nodeType==1&&(f=K4[c.nodeName.toLowerCase()]);){for(let m=f.length-1;m>=0;m--){let g=l.createElement(f[m]);for(;u.firstChild;)g.appendChild(u.firstChild);u.appendChild(g),h++}c=u.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${h?` -${h}`:""} ${JSON.stringify(n)}`);let p=t.someProp("clipboardTextSerializer",m=>m(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:p,slice:e}}a(V4,"serializeForClipboard");function W4(t,e,n,r,i){let s=i.parent.type.spec.code,o,l;if(!n&&!e)return null;let u=e&&(r||s||!n);if(u){if(t.someProp("transformPastedText",p=>{e=p(e,s||r,t)}),s)return e?new Z(W.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Z.empty;let h=t.someProp("clipboardTextParser",p=>p(e,i,r,t));if(h)l=h;else{let p=i.marks(),{schema:m}=t.state,g=kc.fromSchema(m);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let _=o.appendChild(document.createElement("p"));y&&_.appendChild(g.serializeNode(m.text(y,p)))})}}else t.someProp("transformPastedHTML",h=>{n=h(n,t)}),o=Tfe(n),Rd&&xfe(o);let c=o&&o.querySelector("[data-pm-slice]"),f=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let h=+f[3];h>0;h--){let p=o.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;o=p}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||r4.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(u||f),context:i,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!Sfe.test(p.parentNode.nodeName)?{ignore:!0}:null}})),f)l=Cfe(mI(l,+f[1],+f[2]),f[4]);else if(l=Z.maxOpen(kfe(l.content,i),!0),l.openStart||l.openEnd){let h=0,p=0;for(let m=l.content.firstChild;h<l.openStart&&!m.type.spec.isolating;h++,m=m.firstChild);for(let m=l.content.lastChild;p<l.openEnd&&!m.type.spec.isolating;p++,m=m.lastChild);l=mI(l,h,p)}return t.someProp("transformPasted",h=>{l=h(l,t)}),l}a(W4,"parseFromClipboard");const Sfe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function kfe(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(l=>{if(!o)return;let u=i.findWrapping(l.type),c;if(!u)return o=null;if(c=o.length&&s.length&&q4(u,s,l,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=G4(o[o.length-1],s.length));let f=H4(l,u);o.push(f),i=i.matchType(f.type),s=u}}),o)return W.from(o)}return t}a(kfe,"normalizeSiblings");function H4(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,W.from(t));return t}a(H4,"withWrappers");function q4(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=q4(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(W.from(H4(n,t,i+1))))}}a(q4,"addToSibling");function G4(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,G4(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(W.empty,!0);return t.copy(n.append(r))}a(G4,"closeRight");function jw(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,l=o.content;return t.childCount>1&&(s=0),i<r-1&&(l=jw(l,e,n,r,i+1,s)),i>=n&&(l=e<0?o.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(W.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(l))}a(jw,"closeRange");function mI(t,e,n){return e<t.openStart&&(t=new Z(jw(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Z(jw(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}a(mI,"closeSlice");const K4={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let gI=null;function Y4(){return gI||(gI=document.implementation.createHTMLDocument("title"))}a(Y4,"detachedDoc");let h_=null;function Afe(t){let e=window.trustedTypes;return e?(h_||(h_=e.createPolicy("ProseMirrorClipboard",{createHTML:a(n=>n,"createHTML")})),h_.createHTML(t)):t}a(Afe,"maybeWrapTrusted");function Tfe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=Y4().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&K4[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=Afe(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}a(Tfe,"readHTML");function xfe(t){let e=t.querySelectorAll(hn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}a(xfe,"restoreReplacedSpaces");function Cfe(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let l=r.length-2;l>=0;l-=2){let u=n.nodes[r[l]];if(!u||u.hasRequiredAttrs())break;i=W.from(u.create(r[l+1],i)),s++,o++}return new Z(i,s,o)}a(Cfe,"addContext");const Rn={},On={},Ife={touchstart:!0,touchmove:!0};class Rfe{static{a(this,"InputState")}constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Ofe(t){for(let e in Rn){let n=Rn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{Dfe(t,r)&&!JS(t,r)&&(t.editable||!(r.type in On))&&n(t,r)},Ife[e]?{passive:!0}:void 0)}In&&t.dom.addEventListener("input",()=>null),Vw(t)}a(Ofe,"initInput");function bo(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}a(bo,"setSelectionOrigin");function Nfe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}a(Nfe,"destroyInput");function Vw(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>JS(t,r))})}a(Vw,"ensureListeners");function JS(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}a(JS,"runCustomHandler");function Dfe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}a(Dfe,"eventBelongsToView");function Mfe(t,e){!JS(t,e)&&Rn[e.type]&&(t.editable||!(e.type in On))&&Rn[e.type](t,e)}a(Mfe,"dispatchEvent");On.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!X4(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(As&&hn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Ju&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,ma(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||vfe(t,n)?n.preventDefault():bo(t,"key")};On.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};On.keypress=(t,e)=>{let n=e;if(X4(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||pr&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ne)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Py(t){return{left:t.clientX,top:t.clientY}}a(Py,"eventCoords");function Pfe(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}a(Pfe,"isNear");function XS(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,l=>o>s.depth?l(t,n,s.nodeAfter,s.before(o),i,!0):l(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}a(XS,"runHandlerOnContext");function bu(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}a(bu,"updateSelection");function Lfe(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&pe.isSelectable(r)?(bu(t,new pe(n)),!0):!1}a(Lfe,"selectClickedLeaf");function Ffe(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof pe&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let l=o>s.depth?s.nodeAfter:s.node(o);if(pe.isSelectable(l)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(bu(t,pe.create(t.state.doc,i)),!0):!1}a(Ffe,"selectClickedNode");function $fe(t,e,n,r,i){return XS(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?Ffe(t,n):Lfe(t,n))}a($fe,"handleSingleClick");function Bfe(t,e,n,r){return XS(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}a(Bfe,"handleDoubleClick");function Ufe(t,e,n,r){return XS(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||zfe(t,n,r)}a(Ufe,"handleTripleClick$1");function zfe(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(bu(t,Ne.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),l=i.before(s);if(o.inlineContent)bu(t,Ne.create(r,l+1,l+1+o.content.size));else if(pe.isSelectable(o))bu(t,pe.create(r,l));else continue;return!0}}a(zfe,"defaultTripleClick");function ZS(t){return Pg(t)}a(ZS,"forceDOMFlush");const J4=pr?"metaKey":"ctrlKey";Rn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=ZS(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&Pfe(n,t.input.lastClick)&&!n[J4]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=t.posAtCoords(Py(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new jfe(t,o,n,!!r)):(s=="doubleClick"?Bfe:Ufe)(t,o.pos,o.inside,n)?n.preventDefault():bo(t,"pointer"))};class jfe{static{a(this,"MouseDown")}constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[J4],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let f=e.state.doc.resolve(n.pos);s=f.parent,o=f.depth?f.before():0}const l=i?null:r.target,u=l?e.docView.nearestDesc(l,!0):null;this.target=u&&u.dom.nodeType==1?u.dom:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof pe&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ai&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),bo(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Rs(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Py(e))),this.updateAllowDefault(e),this.allowDefault||!n?bo(this.view,"pointer"):$fe(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||In&&this.mightDrag&&!this.mightDrag.node.isAtom||hn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(bu(this.view,Ee.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):bo(this.view,"pointer")}move(e){this.updateAllowDefault(e),bo(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Rn.touchstart=t=>{t.input.lastTouch=Date.now(),ZS(t),bo(t,"pointer")};Rn.touchmove=t=>{t.input.lastTouch=Date.now(),bo(t,"pointer")};Rn.contextmenu=t=>ZS(t);function X4(t,e){return t.composing?!0:In&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}a(X4,"inOrNearComposition");const Vfe=As?5e3:-1;On.compositionstart=On.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ne&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Pg(t,!0),t.markCursor=null;else if(Pg(t,!e.selection.empty),ai&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let l=t.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}Z4(t,Vfe)};On.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Z4(t,20))};function Z4(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Pg(t),e))}a(Z4,"scheduleComposeEnd");function Q4(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Hfe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}a(Q4,"clearComposition");function Wfe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=Lce(e.focusNode,e.focusOffset),r=Fce(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}a(Wfe,"findCompositionNode");function Hfe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}a(Hfe,"timestampFromCustomEvent");function Pg(t,e=!1){if(!(As&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Q4(t),e||t.docView&&t.docView.dirty){let n=KS(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}a(Pg,"endComposition");function qfe(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}a(qfe,"captureCopy");const Dh=zn&&To<15||Ju&&jce<604;Rn.copy=On.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Dh?null:n.clipboardData,o=r.content(),{dom:l,text:u}=V4(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",u)):qfe(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Gfe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}a(Gfe,"sliceSingleNode");function Kfe(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Mh(t,r.value,null,i,e):Mh(t,r.textContent,r.innerHTML,i,e)},50)}a(Kfe,"capturePaste");function Mh(t,e,n,r,i){let s=W4(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",u=>u(t,i,s||Z.empty)))return!0;if(!s)return!1;let o=Gfe(s),l=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}a(Mh,"doPaste");function eL(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}a(eL,"getText");On.paste=(t,e)=>{let n=e;if(t.composing&&!As)return;let r=Dh?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Mh(t,eL(r),r.getData("text/html"),i,n)?n.preventDefault():Kfe(t,n)};class tL{static{a(this,"Dragging")}constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const nL=pr?"altKey":"ctrlKey";Rn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Py(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof pe?i.to-1:i.to))){if(r&&r.mightDrag)o=pe.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let h=t.docView.nearestDesc(n.target,!0);h&&h.node.type.spec.draggable&&h!=t.docView&&(o=pe.create(t.state.doc,h.posBefore))}}let l=(o||t.state.selection).content(),{dom:u,text:c,slice:f}=V4(t,l);(!n.dataTransfer.files.length||!hn||x4>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Dh?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",Dh||n.dataTransfer.setData("text/plain",c),t.dragging=new tL(f,!n[nL],o)};Rn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};On.dragover=On.dragenter=(t,e)=>e.preventDefault();On.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Py(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",g=>{o=g(o,t)}):o=W4(t,eL(n.dataTransfer),Dh?null:n.dataTransfer.getData("text/html"),!1,s);let l=!!(r&&!n[nL]);if(t.someProp("handleDrop",g=>g(t,n,o||Z.empty,l))){n.preventDefault();return}if(!o)return;n.preventDefault();let u=o?y4(t.state.doc,s.pos,o):s.pos;u==null&&(u=s.pos);let c=t.state.tr;if(l){let{node:g}=r;g?g.replace(c):c.deleteSelection()}let f=c.mapping.map(u),h=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,p=c.doc;if(h?c.replaceRangeWith(f,f,o.content.firstChild):c.replaceRange(f,f,o),c.doc.eq(p))return;let m=c.doc.resolve(f);if(h&&pe.isSelectable(o.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new pe(m));else{let g=c.mapping.map(u);c.mapping.maps[c.mapping.maps.length-1].forEach((y,_,w,S)=>g=S),c.setSelection(YS(t,m,c.doc.resolve(g)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};Rn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Rs(t)},20))};Rn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Rn.beforeinput=(t,e)=>{if(hn&&As&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,ma(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in On)Rn[t]=On[t];function Ph(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}a(Ph,"compareObjs");class Lg{static{a(this,"WidgetType")}constructor(e,n){this.toDOM=e,this.spec=n||Da,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new Sn(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Lg&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ph(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Co{static{a(this,"InlineType")}constructor(e,n){this.attrs=e,this.spec=n||Da}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Sn(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Co&&Ph(this.attrs,e.attrs)&&Ph(this.spec,e.spec)}static is(e){return e.type instanceof Co}destroy(){}}class QS{static{a(this,"NodeType")}constructor(e,n){this.attrs=e,this.spec=n||Da}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Sn(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof QS&&Ph(this.attrs,e.attrs)&&Ph(this.spec,e.spec)}destroy(){}}class Sn{static{a(this,"Decoration")}constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Sn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Sn(e,e,new Lg(n,r))}static inline(e,n,r,i){return new Sn(e,n,new Co(r,i))}static node(e,n,r,i){return new Sn(e,n,new QS(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Co}get widget(){return this.type instanceof Lg}}const Xl=[],Da={};class wt{static{a(this,"DecorationSet")}constructor(e,n){this.local=e.length?e:Xl,this.children=n.length?n:Xl}static create(e,n){return n.length?Fg(n,e,0,Da):sn}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=n&&l.to>=e&&(!s||s(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,n-l,r,i+l,s)}}map(e,n,r){return this==sn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Da)}mapInner(e,n,r,i,s){let o;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(e,r,i);u&&u.type.valid(n,u)?(o||(o=[])).push(u):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?Yfe(this.children,o||[],e,n,r,i,s):o?new wt(o.sort(Ma),Xl):sn}add(e,n){return n.length?this==sn?wt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((l,u)=>{let c=u+r,f;if(f=iL(n,l,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<u;)s+=3;i[s]==u?i[s+2]=i[s+2].addInner(l,f,c+1):i.splice(s,0,u,u+l.nodeSize,Fg(f,l,c+1,Da)),s+=3}});let o=rL(s?sL(n):n,-r);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new wt(o.length?this.local.concat(o).sort(Ma):this.local,i||this.children)}remove(e){return e.length==0||this==sn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,l=r[s]+n,u=r[s+1]+n;for(let f=0,h;f<e.length;f++)(h=e[f])&&h.from>l&&h.to<u&&(e[f]=null,(o||(o=[])).push(h));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,l+1);c!=sn?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let l=0;l<i.length;l++)i[l].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new wt(i,r):sn}forChild(e,n){if(this==sn)return this;if(n.isLeaf)return wt.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let s=e+1,o=s+n.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<o&&u.to>s&&u.type instanceof Co){let c=Math.max(s,u.from)-s,f=Math.min(o,u.to)-s;c<f&&(i||(i=[])).push(u.copy(c,f))}}if(i){let l=new wt(i.sort(Ma),Xl);return r?new fo([l,r]):l}return r||sn}eq(e){if(this==e)return!0;if(!(e instanceof wt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return ek(this.localsInner(e))}localsInner(e){if(this==sn)return Xl;if(e.inlineContent||!this.local.some(Co.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Co||n.push(this.local[r]);return n}forEachSet(e){e(this)}}wt.empty=new wt([],[]);wt.removeOverlap=ek;const sn=wt.empty;class fo{static{a(this,"DecorationGroup")}constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Da));return fo.from(r)}forChild(e,n){if(n.isLeaf)return wt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=sn&&(s instanceof fo?r=r.concat(s.members):r.push(s))}return fo.from(r)}eq(e){if(!(e instanceof fo)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?ek(r?n:n.sort(Ma)):Xl}static from(e){switch(e.length){case 0:return sn;case 1:return e[0];default:return new fo(e.every(n=>n instanceof wt)?e:e.reduce((n,r)=>n.concat(r instanceof wt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function Yfe(t,e,n,r,i,s,o){let l=t.slice();for(let c=0,f=s;c<n.maps.length;c++){let h=0;n.maps[c].forEach((p,m,g,y)=>{let _=y-g-(m-p);for(let w=0;w<l.length;w+=3){let S=l[w+1];if(S<0||p>S+f-h)continue;let T=l[w]+f-h;m>=T?l[w+1]=p<=T?-2:-1:p>=f&&_&&(l[w]+=_,l[w+1]+=_)}h+=_}),f=n.maps[c].map(f,-1)}let u=!1;for(let c=0;c<l.length;c+=3)if(l[c+1]<0){if(l[c+1]==-2){u=!0,l[c+1]=-1;continue}let f=n.map(t[c]+s),h=f-i;if(h<0||h>=r.content.size){u=!0;continue}let p=n.map(t[c+1]+s,-1),m=p-i,{index:g,offset:y}=r.content.findIndex(h),_=r.maybeChild(g);if(_&&y==h&&y+_.nodeSize==m){let w=l[c+2].mapInner(n,_,f+1,t[c]+s+1,o);w!=sn?(l[c]=h,l[c+1]=m,l[c+2]=w):(l[c+1]=-2,u=!0)}else u=!0}if(u){let c=Jfe(l,t,e,n,i,s,o),f=Fg(c,r,0,o);e=f.local;for(let h=0;h<l.length;h+=3)l[h+1]<0&&(l.splice(h,3),h-=3);for(let h=0,p=0;h<f.children.length;h+=3){let m=f.children[h];for(;p<l.length&&l[p]<m;)p+=3;l.splice(p,0,f.children[h],f.children[h+1],f.children[h+2])}}return new wt(e.sort(Ma),l)}a(Yfe,"mapChildren");function rL(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Sn(i.from+e,i.to+e,i.type))}return n}a(rL,"moveSpans");function Jfe(t,e,n,r,i,s,o){function l(u,c){for(let f=0;f<u.local.length;f++){let h=u.local[f].map(r,i,c);h?n.push(h):o.onRemove&&o.onRemove(u.local[f].spec)}for(let f=0;f<u.children.length;f+=3)l(u.children[f+2],u.children[f]+c+1)}a(l,"gather");for(let u=0;u<t.length;u+=3)t[u+1]==-1&&l(t[u+2],e[u]+s+1);return n}a(Jfe,"mapAndGatherRemainingDecorations");function iL(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}a(iL,"takeSpansForNode");function sL(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}a(sL,"withoutNulls");function Fg(t,e,n,r){let i=[],s=!1;e.forEach((l,u)=>{let c=iL(t,l,u+n);if(c){s=!0;let f=Fg(c,l,n+u+1,r);f!=sn&&i.push(u,u+l.nodeSize,f)}});let o=rL(s?sL(t):t,-n).sort(Ma);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(r.onRemove&&r.onRemove(o[l].spec),o.splice(l--,1));return o.length||i.length?new wt(o,i):sn}a(Fg,"buildTree");function Ma(t,e){return t.from-e.from||t.to-e.to}a(Ma,"byPos");function ek(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),yI(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),yI(e,i,r.copy(s.from,r.to)));break}}}return e}a(ek,"removeOverlap");function yI(t,e,n){for(;e<t.length&&Ma(n,t[e])>0;)e++;t.splice(e,0,n)}a(yI,"insertAhead");function d_(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=sn&&e.push(r)}),t.cursorWrapper&&e.push(wt.create(t.state.doc,[t.cursorWrapper.deco])),fo.from(e)}a(d_,"viewDecorations");const Xfe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Zfe=zn&&To<=11;class Qfe{static{a(this,"SelectionState")}constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class ehe{static{a(this,"DOMObserver")}constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Qfe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);zn&&To<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Zfe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Xfe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(uI(this.view)){if(this.suppressingSelectionUpdates)return Rs(this.view);if(zn&&To<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ol(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Nh(s))n.add(s);for(let s=e.anchorNode;s;s=Nh(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&uI(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,l=!1,u=[];if(e.editable)for(let f=0;f<n.length;f++){let h=this.registerMutation(n[f],u);h&&(s=s<0?h.from:Math.min(h.from,s),o=o<0?h.to:Math.max(h.to,o),h.typeOver&&(l=!0))}if(ai&&u.length){let f=u.filter(h=>h.nodeName=="BR");if(f.length==2){let[h,p]=f;h.parentNode&&h.parentNode.parentNode==p.parentNode?p.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let p of f){let m=p.parentNode;m&&m.nodeName=="LI"&&(!h||rhe(e,h)!=m)&&p.remove()}}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Dy(r)&&(c=KS(e))&&c.eq(Ee.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Rs(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),the(e)),this.handleDOMChange(s,o,l,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Rs(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let h=e.addedNodes[f];n.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(zn&&To<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:h,nextSibling:p}=e.addedNodes[f];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(i=h),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(s=p)}let o=i&&i.parentNode==e.target?Jt(i)+1:0,l=r.localPosFromDOM(e.target,o,-1),u=s&&s.parentNode==e.target?Jt(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,u,1);return{from:l,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let _I=new WeakMap,bI=!1;function the(t){if(!_I.has(t)&&(_I.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ai,bI)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),bI=!0}}a(the,"checkCSS");function wI(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return ol(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}a(wI,"rangeToSelectionRange");function nhe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return wI(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return a(r,"read"),t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?wI(t,n):null}a(nhe,"safariShadowSelectionRange");function rhe(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}a(rhe,"blockParent");function ihe(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:l}=t.docView.parseRange(e,n),u=t.domSelectionRange(),c,f=u.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(c=[{node:f,offset:u.anchorOffset}],Dy(u)||c.push({node:u.focusNode,offset:u.focusOffset})),hn&&t.input.lastKeyCode===8)for(let _=s;_>i;_--){let w=r.childNodes[_-1],S=w.pmViewDesc;if(w.nodeName=="BR"&&!S){s=_;break}if(!S||S.size)break}let h=t.state.doc,p=t.someProp("domParser")||r4.fromSchema(t.state.schema),m=h.resolve(o),g=null,y=p.parse(r,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:i,to:s,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:she,context:m});if(c&&c[0].pos!=null){let _=c[0].pos,w=c[1]&&c[1].pos;w==null&&(w=_),g={anchor:_+o,head:w+o}}return{doc:y,sel:g,from:o,to:l}}a(ihe,"parseBetween");function she(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(In&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||In&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}a(she,"ruleFromNode");const ohe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function ahe(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let A=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,C=KS(t,A);if(C&&!t.state.selection.eq(C)){if(hn&&As&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",I=>I(t,ma(13,"Enter"))))return;let x=t.state.tr.setSelection(C);A=="pointer"?x.setMeta("pointer",!0):A=="key"&&x.scrollIntoView(),s&&x.setMeta("composition",s),t.dispatch(x)}return}let o=t.state.doc.resolve(e),l=o.sharedDepth(n);e=o.before(l+1),n=t.state.doc.resolve(n).after(l+1);let u=t.state.selection,c=ihe(t,e,n),f=t.state.doc,h=f.slice(c.from,c.to),p,m;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,m="end"):(p=t.state.selection.from,m="start"),t.input.lastKeyCode=null;let g=che(h.content,c.doc.content,c.from,p,m);if(g&&t.input.domChangeCount++,(Ju&&t.input.lastIOSEnter>Date.now()-225||As)&&i.some(A=>A.nodeType==1&&!ohe.test(A.nodeName))&&(!g||g.endA>=g.endB)&&t.someProp("handleKeyDown",A=>A(t,ma(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!g)if(r&&u instanceof Ne&&!u.empty&&u.$head.sameParent(u.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))g={start:u.from,endA:u.to,endB:u.to};else{if(c.sel){let A=EI(t,t.state.doc,c.sel);if(A&&!A.eq(t.state.selection)){let C=t.state.tr.setSelection(A);s&&C.setMeta("composition",s),t.dispatch(C)}}return}t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof Ne&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),zn&&To<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>c.from&&c.doc.textBetween(g.start-c.from-1,g.start-c.from+1)==" "&&(g.start--,g.endA--,g.endB--);let y=c.doc.resolveNoCache(g.start-c.from),_=c.doc.resolveNoCache(g.endB-c.from),w=f.resolve(g.start),S=y.sameParent(_)&&y.parent.inlineContent&&w.end()>=g.endA,T;if((Ju&&t.input.lastIOSEnter>Date.now()-225&&(!S||i.some(A=>A.nodeName=="DIV"||A.nodeName=="P"))||!S&&y.pos<c.doc.content.size&&!y.sameParent(_)&&(T=Ee.findFrom(c.doc.resolve(y.pos+1),1,!0))&&T.head==_.pos)&&t.someProp("handleKeyDown",A=>A(t,ma(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>g.start&&uhe(f,g.start,g.endA,y,_)&&t.someProp("handleKeyDown",A=>A(t,ma(8,"Backspace")))){As&&hn&&t.domObserver.suppressSelectionUpdates();return}hn&&g.endB==g.start&&(t.input.lastChromeDelete=Date.now()),As&&!S&&y.start()!=_.start()&&_.parentOffset==0&&y.depth==_.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==g.endA&&(g.endB-=2,_=c.doc.resolveNoCache(g.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(A){return A(t,ma(13,"Enter"))})},20));let N=g.start,O=g.endA,M,k,v;if(S){if(y.pos==_.pos)zn&&To<=11&&y.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Rs(t),20)),M=t.state.tr.delete(N,O),k=f.resolve(g.start).marksAcross(f.resolve(g.endA));else if(g.endA==g.endB&&(v=lhe(y.parent.content.cut(y.parentOffset,_.parentOffset),w.parent.content.cut(w.parentOffset,g.endA-w.start()))))M=t.state.tr,v.type=="add"?M.addMark(N,O,v.mark):M.removeMark(N,O,v.mark);else if(y.parent.child(y.index()).isText&&y.index()==_.index()-(_.textOffset?0:1)){let A=y.parent.textBetween(y.parentOffset,_.parentOffset);if(t.someProp("handleTextInput",C=>C(t,N,O,A)))return;M=t.state.tr.insertText(A,N,O)}}if(M||(M=t.state.tr.replace(N,O,c.doc.slice(g.start-c.from,g.endB-c.from))),c.sel){let A=EI(t,M.doc,c.sel);A&&!(hn&&t.composing&&A.empty&&(g.start!=g.endB||t.input.lastChromeDelete<Date.now()-100)&&(A.head==N||A.head==M.mapping.map(O)-1)||zn&&A.empty&&A.head==N)&&M.setSelection(A)}k&&M.ensureMarks(k),s&&M.setMeta("composition",s),t.dispatch(M.scrollIntoView())}a(ahe,"readDOMChange");function EI(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:YS(t,e.resolve(n.anchor),e.resolve(n.head))}a(EI,"resolveSelection");function lhe(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,l,u;for(let f=0;f<r.length;f++)i=r[f].removeFromSet(i);for(let f=0;f<n.length;f++)s=n[f].removeFromSet(s);if(i.length==1&&s.length==0)l=i[0],o="add",u=a(f=>f.mark(l.addToSet(f.marks)),"update");else if(i.length==0&&s.length==1)l=s[0],o="remove",u=a(f=>f.mark(l.removeFromSet(f.marks)),"update");else return null;let c=[];for(let f=0;f<e.childCount;f++)c.push(u(e.child(f)));if(W.from(c).eq(t))return{mark:l,type:o}}a(lhe,"isMarkChange");function uhe(t,e,n,r,i){if(n-e<=i.pos-r.pos||p_(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let l=s.nodeAfter;return l!=null&&n==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(p_(s,!0,!0));return!o.parent.isTextblock||o.pos>n||p_(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}a(uhe,"looksLikeBackspace");function p_(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}a(p_,"skipClosingAndOpening");function che(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let u=Math.max(0,s-Math.min(o,l));r-=o+u-s}if(o<s&&t.size<e.size){let u=r<=s&&r>=o?s-r:0;s-=u,s&&s<e.size&&vI(e.textBetween(s-1,s+1))&&(s+=u?1:-1),l=s+(l-o),o=s}else if(l<s){let u=r<=s&&r>=l?s-r:0;s-=u,s&&s<t.size&&vI(t.textBetween(s-1,s+1))&&(s+=u?1:-1),o=s+(o-l),l=s}return{start:s,endA:o,endB:l}}a(che,"findDiff");function vI(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}a(vI,"isSurrogatePair");class oSe{static{a(this,"EditorView")}constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Rfe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(xI),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=AI(this),kI(this),this.nodeViews=TI(this),this.docView=rI(this.state.doc,SI(this),d_(this),this.dom,this),this.domObserver=new ehe(this,(r,i,s,o)=>ahe(this,r,i,s,o)),this.domObserver.start(),Ofe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Vw(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(xI),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(Q4(this),o=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let m=TI(this);hhe(m,this.nodeViews)&&(this.nodeViews=m,s=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&Vw(this),this.editable=AI(this),kI(this);let u=d_(this),c=SI(this),f=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",h=s||!this.docView.matchesNode(e.doc,c,u);(h||!e.selection.eq(i.selection))&&(o=!0);let p=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Hce(this);if(o){this.domObserver.stop();let m=h&&(zn||hn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&fhe(i.selection,e.selection);if(h){let g=hn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Wfe(this)),(s||!this.docView.update(e.doc,c,u,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=rI(e.doc,c,u,this.dom,this)),g&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&mfe(this))?Rs(this,m):(U4(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():p&&qce(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof pe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&XC(this,n.getBoundingClientRect(),e)}else XC(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new tL(e.slice,e.move,i<0?void 0:pe.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(i=n?n(l):l))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let l=s[o].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(zn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Gce(this.dom),Rs(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Zce(this,e)}coordsAtPos(e,n=1){return N4(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return rfe(this,n||this.state,e)}pasteHTML(e,n){return Mh(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Mh(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(Nfe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],d_(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Mce())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Mfe(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?In&&this.root.nodeType===11&&Bce(this.dom.ownerDocument)==this.dom&&nhe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function SI(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Sn.node(0,t.state.doc.content.size,e)]}a(SI,"computeDocDeco");function kI(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Sn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}a(kI,"updateCursorWrapper");function AI(t){return!t.someProp("editable",e=>e(t.state)===!1)}a(AI,"getEditable");function fhe(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}a(fhe,"selectionContextChanged");function TI(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return a(n,"add"),t.someProp("nodeViews",n),t.someProp("markViews",n),e}a(TI,"buildNodeViews");function hhe(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}a(hhe,"changedNodeViews");function xI(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}a(xI,"checkStateComponent");var Wo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},$g={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},dhe=typeof navigator<"u"&&/Mac/.test(navigator.platform),phe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Xt=0;Xt<10;Xt++)Wo[48+Xt]=Wo[96+Xt]=String(Xt);for(var Xt=1;Xt<=24;Xt++)Wo[Xt+111]="F"+Xt;for(var Xt=65;Xt<=90;Xt++)Wo[Xt]=String.fromCharCode(Xt+32),$g[Xt]=String.fromCharCode(Xt);for(var m_ in Wo)$g.hasOwnProperty(m_)||($g[m_]=Wo[m_]);function mhe(t){var e=dhe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||phe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?$g:Wo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}a(mhe,"keyName");const ghe=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function yhe(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let l=0;l<e.length-1;l++){let u=e[l];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))s=!0;else if(/^mod$/i.test(u))ghe?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}a(yhe,"normalizeKeyName");function _he(t){let e=Object.create(null);for(let n in t)e[yhe(n)]=t[n];return e}a(_he,"normalize$1");function g_(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}a(g_,"modifiers");function aSe(t){return new Ac({props:{handleKeyDown:tk(t)}})}a(aSe,"keymap");function tk(t){let e=_he(t);return function(n,r){let i=mhe(r),s,o=e[g_(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[g_(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Wo[r.keyCode])&&s!=i){let l=e[g_(s,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}a(tk,"keydownHandler");const lSe=a((t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0),"deleteSelection");function oL(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}a(oL,"atBlockStart");const uSe=a((t,e,n)=>{let r=oL(t,n);if(!r)return!1;let i=nk(r);if(!i){let o=r.blockRange(),l=o&&Td(o);return l==null?!1:(e&&e(t.tr.lift(o,l).scrollIntoView()),!0)}let s=i.nodeBefore;if(cL(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Xu(s,"end")||pe.isSelectable(s)))for(let o=r.depth;;o--){let l=Oy(t.doc,r.before(o),r.after(o),Z.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(Xu(s,"end")?Ee.findFrom(u.doc.resolve(u.mapping.map(i.pos,-1)),-1):pe.create(u.doc,i.pos-s.nodeSize)),e(u.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},"joinBackward"),cSe=a((t,e,n)=>{let r=oL(t,n);if(!r)return!1;let i=nk(r);return i?aL(t,i,e):!1},"joinTextblockBackward"),fSe=a((t,e,n)=>{let r=lL(t,n);if(!r)return!1;let i=rk(r);return i?aL(t,i,e):!1},"joinTextblockForward");function aL(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let f=i.lastChild;if(!f)return!1;i=f}let o=e.nodeAfter,l=o,u=e.pos+1;for(;!l.isTextblock;u++){if(l.type.spec.isolating)return!1;let f=l.firstChild;if(!f)return!1;l=f}let c=Oy(t.doc,s,u,Z.empty);if(!c||c.from!=s||c instanceof Yt&&c.slice.size>=u-s)return!1;if(n){let f=t.tr.step(c);f.setSelection(Ne.create(f.doc,s)),n(f.scrollIntoView())}return!0}a(aL,"joinTextblocksAround");function Xu(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}a(Xu,"textblockAt");const hSe=a((t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=nk(r)}let o=s&&s.nodeBefore;return!o||!pe.isSelectable(o)?!1:(e&&e(t.tr.setSelection(pe.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)},"selectNodeBackward");function nk(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}a(nk,"findCutBefore");function lL(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}a(lL,"atBlockEnd");const dSe=a((t,e,n)=>{let r=lL(t,n);if(!r)return!1;let i=rk(r);if(!i)return!1;let s=i.nodeAfter;if(cL(t,i,e,1))return!0;if(r.parent.content.size==0&&(Xu(s,"start")||pe.isSelectable(s))){let o=Oy(t.doc,r.before(),r.after(),Z.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(Xu(s,"start")?Ee.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):pe.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},"joinForward"),pSe=a((t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=rk(r)}let o=s&&s.nodeAfter;return!o||!pe.isSelectable(o)?!1:(e&&e(t.tr.setSelection(pe.create(t.doc,s.pos)).scrollIntoView()),!0)},"selectNodeForward");function rk(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}a(rk,"findCutAfter");const mSe=a((t,e)=>{let n=t.selection,r=n instanceof pe,i;if(r){if(n.node.isTextblock||!xd(t.doc,n.from))return!1;i=n.from}else if(i=g4(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(pe.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},"joinUp"),gSe=a((t,e)=>{let n=t.selection,r;if(n instanceof pe){if(n.node.isTextblock||!xd(t.doc,n.to))return!1;r=n.to}else if(r=g4(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},"joinDown"),ySe=a((t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Td(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},"lift"),_Se=a((t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)},"newlineInCode");function uL(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}a(uL,"defaultBlockAt");const bSe=a((t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=uL(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let l=n.after(),u=t.tr.replaceWith(l,l,o.createAndFill());u.setSelection(Ee.near(u.doc.resolve(l),1)),e(u.scrollIntoView())}return!0},"exitCode"),wSe=a((t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Zr||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=uL(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(o,s.createAndFill());l.setSelection(Ne.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},"createParagraphNear"),ESe=a((t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(p4(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Td(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},"liftEmptyBlock"),vSe=a((t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(pe.create(t.doc,i))),!0)},"selectParentNode");function bhe(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||xd(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}a(bhe,"joinMaybeClear");function cL(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,l,u=i.type.spec.isolating||s.type.spec.isolating;if(!u&&bhe(t,e,n))return!0;let c=!u&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(l=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&l.matchType(o[0]||s.type).validEnd){if(n){let m=e.pos+s.nodeSize,g=W.empty;for(let w=o.length-1;w>=0;w--)g=W.from(o[w].create(null,g));g=W.from(i.copy(g));let y=t.tr.step(new en(e.pos-1,m,e.pos,m,new Z(g,1,0),o.length,!0)),_=y.doc.resolve(m+2*o.length);_.nodeAfter&&_.nodeAfter.type==i.type&&xd(y.doc,_.pos)&&y.join(_.pos),n(y.scrollIntoView())}return!0}let f=s.type.spec.isolating||r>0&&u?null:Ee.findFrom(e,1),h=f&&f.$from.blockRange(f.$to),p=h&&Td(h);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(h,p).scrollIntoView()),!0;if(c&&Xu(s,"start",!0)&&Xu(i,"end")){let m=i,g=[];for(;g.push(m),!m.isTextblock;)m=m.lastChild;let y=s,_=1;for(;!y.isTextblock;y=y.firstChild)_++;if(m.canReplace(m.childCount,m.childCount,y.content)){if(n){let w=W.empty;for(let T=g.length-1;T>=0;T--)w=W.from(g[T].copy(w));let S=t.tr.step(new en(e.pos-g.length,e.pos+s.nodeSize,e.pos+_,e.pos+s.nodeSize-_,new Z(w,g.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}a(cL,"deleteBarrier");function fL(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(Ne.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}a(fL,"selectTextblockSide");const SSe=fL(-1),kSe=fL(1);function ASe(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),l=o&&f4(o,t,e);return l?(r&&r(n.tr.wrap(o,l).scrollIntoView()),!0):!1}}a(ASe,"wrapIn");function TSe(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:l}}=n.selection.ranges[s];n.doc.nodesBetween(o,l,(u,c)=>{if(i)return!1;if(!(!u.isTextblock||u.hasMarkup(t,e)))if(u.type==t)i=!0;else{let f=n.doc.resolve(c),h=f.index();i=f.parent.canReplaceWith(h,h+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[o];s.setBlockType(l,u,t,e)}r(s.scrollIntoView())}return!0}}a(TSe,"setBlockType");typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function xSe(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s);if(!o)return!1;let l=r?n.tr:null;return whe(l,o,t,e)?(r&&r(l.scrollIntoView()),!0):!1}}a(xSe,"wrapInList");function whe(t,e,n,r=null){let i=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let u=o.resolve(e.start-2);s=new Og(u,u,e.depth),e.endIndex<e.parent.childCount&&(e=new Og(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let l=f4(s,n,r,e);return l?(t&&Ehe(t,e,l,i,n),!0):!1}a(whe,"wrapRangeInList");function Ehe(t,e,n,r,i){let s=W.empty;for(let f=n.length-1;f>=0;f--)s=W.from(n[f].type.create(n[f].attrs,s));t.step(new en(e.start-(r?2:0),e.end,e.start,e.end,new Z(s,0,0),n.length,!0));let o=0;for(let f=0;f<n.length;f++)n[f].type==i&&(o=f+1);let l=n.length-o,u=e.start+n.length-(r?2:0),c=e.parent;for(let f=e.startIndex,h=e.endIndex,p=!0;f<h;f++,p=!1)!p&&p4(t.doc,u,l)&&(t.split(u,l),u+=2*l),u+=c.child(f).nodeSize;return t}a(Ehe,"doWrapInList");function CSe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?vhe(e,n,t,s):She(e,n,s):!0:!1}}a(CSe,"liftListItem");function vhe(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new en(s-1,o,s,o,new Z(W.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Og(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const l=Td(r);if(l==null)return!1;i.lift(r,l);let u=i.mapping.map(s,-1)-1;return xd(i.doc,u)&&i.join(u),e(i.scrollIntoView()),!0}a(vhe,"liftToOuterList");function She(t,e,n){let r=t.tr,i=n.parent;for(let m=n.end,g=n.endIndex-1,y=n.startIndex;g>y;g--)m-=i.child(g).nodeSize,r.delete(m-1,m+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,u=n.endIndex==i.childCount,c=s.node(-1),f=s.index(-1);if(!c.canReplace(f+(l?0:1),f+1,o.content.append(u?W.empty:W.from(i))))return!1;let h=s.pos,p=h+o.nodeSize;return r.step(new en(h-(l?1:0),p+(u?1:0),h+1,p-1,new Z((l?W.empty:W.from(i.copy(W.empty))).append(u?W.empty:W.from(i.copy(W.empty))),l?0:1,u?0:1),l?0:1)),e(r.scrollIntoView()),!0}a(She,"liftOutOfList");function ISe(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let l=s.parent,u=l.child(o-1);if(u.type!=t)return!1;if(n){let c=u.lastChild&&u.lastChild.type==l.type,f=W.from(c?t.create():null),h=new Z(W.from(t.create(null,W.from(l.type.create(null,f)))),c?3:1,0),p=s.start,m=s.end;n(e.tr.step(new en(p-(c?3:1),m,p,m,h,1,!0)).scrollIntoView())}return!0}}a(ISe,"sinkListItem");const khe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Ahe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Zu=a((t,e)=>{for(const n in e)t[n]=e[n];return t},"assign$2"),Ww="numeric",Hw="ascii",qw="alpha",Vf="asciinumeric",Af="alphanumeric",Gw="domain",hL="emoji",The="scheme",xhe="slashscheme",y_="whitespace";function Che(t,e){return t in e||(e[t]=[]),e[t]}a(Che,"registerGroup");function Sa(t,e,n){e[Ww]&&(e[Vf]=!0,e[Af]=!0),e[Hw]&&(e[Vf]=!0,e[qw]=!0),e[Vf]&&(e[Af]=!0),e[qw]&&(e[Af]=!0),e[Af]&&(e[Gw]=!0),e[hL]&&(e[Gw]=!0);for(const r in e){const i=Che(r,n);i.indexOf(t)<0&&i.push(t)}}a(Sa,"addToGroups");function Ihe(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}a(Ihe,"flagsForToken");function Ln(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}a(Ln,"State");Ln.groups={};Ln.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Ln.groups;let i;return e&&e.j?i=e:(i=new Ln(e),n&&r&&Sa(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(t[o]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||Ln.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let o,l=i.go(t);if(l?(o=new Ln,Zu(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new Ln,s){if(r)if(o.t&&typeof o.t=="string"){const u=Zu(Ihe(o.t,r),n);Sa(s,u,r)}else n&&Sa(s,n,r);o.t=s}return i.j[t]=o,o}};const Ae=a((t,e,n,r,i)=>t.ta(e,n,r,i),"ta"),bt=a((t,e,n,r,i)=>t.tr(e,n,r,i),"tr"),CI=a((t,e,n,r,i)=>t.ts(e,n,r,i),"ts"),G=a((t,e,n,r,i)=>t.tt(e,n,r,i),"tt"),ms="WORD",Kw="UWORD",dL="ASCIINUMERICAL",pL="ALPHANUMERICAL",Lh="LOCALHOST",Yw="TLD",Jw="UTLD",ym="SCHEME",Zl="SLASH_SCHEME",ik="NUM",Xw="WS",sk="NL",Wf="OPENBRACE",Hf="CLOSEBRACE",Bg="OPENBRACKET",Ug="CLOSEBRACKET",zg="OPENPAREN",jg="CLOSEPAREN",Vg="OPENANGLEBRACKET",Wg="CLOSEANGLEBRACKET",Hg="FULLWIDTHLEFTPAREN",qg="FULLWIDTHRIGHTPAREN",Gg="LEFTCORNERBRACKET",Kg="RIGHTCORNERBRACKET",Yg="LEFTWHITECORNERBRACKET",Jg="RIGHTWHITECORNERBRACKET",Xg="FULLWIDTHLESSTHAN",Zg="FULLWIDTHGREATERTHAN",Qg="AMPERSAND",ok="APOSTROPHE",e0="ASTERISK",no="AT",t0="BACKSLASH",n0="BACKTICK",r0="CARET",ho="COLON",ak="COMMA",i0="DOLLAR",Si="DOT",s0="EQUALS",lk="EXCLAMATION",dr="HYPHEN",qf="PERCENT",o0="PIPE",a0="PLUS",l0="POUND",Gf="QUERY",uk="QUOTE",mL="FULLWIDTHMIDDLEDOT",ck="SEMI",ki="SLASH",Kf="TILDE",u0="UNDERSCORE",gL="EMOJI",c0="SYM";var yL=Object.freeze({__proto__:null,WORD:ms,UWORD:Kw,ASCIINUMERICAL:dL,ALPHANUMERICAL:pL,LOCALHOST:Lh,TLD:Yw,UTLD:Jw,SCHEME:ym,SLASH_SCHEME:Zl,NUM:ik,WS:Xw,NL:sk,OPENBRACE:Wf,CLOSEBRACE:Hf,OPENBRACKET:Bg,CLOSEBRACKET:Ug,OPENPAREN:zg,CLOSEPAREN:jg,OPENANGLEBRACKET:Vg,CLOSEANGLEBRACKET:Wg,FULLWIDTHLEFTPAREN:Hg,FULLWIDTHRIGHTPAREN:qg,LEFTCORNERBRACKET:Gg,RIGHTCORNERBRACKET:Kg,LEFTWHITECORNERBRACKET:Yg,RIGHTWHITECORNERBRACKET:Jg,FULLWIDTHLESSTHAN:Xg,FULLWIDTHGREATERTHAN:Zg,AMPERSAND:Qg,APOSTROPHE:ok,ASTERISK:e0,AT:no,BACKSLASH:t0,BACKTICK:n0,CARET:r0,COLON:ho,COMMA:ak,DOLLAR:i0,DOT:Si,EQUALS:s0,EXCLAMATION:lk,HYPHEN:dr,PERCENT:qf,PIPE:o0,PLUS:a0,POUND:l0,QUERY:Gf,QUOTE:uk,FULLWIDTHMIDDLEDOT:mL,SEMI:ck,SLASH:ki,TILDE:Kf,UNDERSCORE:u0,EMOJI:gL,SYM:c0});const hs=/[a-z]/,rf=/\p{L}/u,__=/\p{Emoji}/u,ds=/\d/,b_=/\s/,II="\r",w_=`
`,Rhe="",Ohe="",E_="";let Fp=null,$p=null;function Nhe(t=[]){const e={};Ln.groups=e;const n=new Ln;Fp==null&&(Fp=RI(khe)),$p==null&&($p=RI(Ahe)),G(n,"'",ok),G(n,"{",Wf),G(n,"}",Hf),G(n,"[",Bg),G(n,"]",Ug),G(n,"(",zg),G(n,")",jg),G(n,"<",Vg),G(n,">",Wg),G(n,"",Hg),G(n,"",qg),G(n,"",Gg),G(n,"",Kg),G(n,"",Yg),G(n,"",Jg),G(n,"",Xg),G(n,"",Zg),G(n,"&",Qg),G(n,"*",e0),G(n,"@",no),G(n,"`",n0),G(n,"^",r0),G(n,":",ho),G(n,",",ak),G(n,"$",i0),G(n,".",Si),G(n,"=",s0),G(n,"!",lk),G(n,"-",dr),G(n,"%",qf),G(n,"|",o0),G(n,"+",a0),G(n,"#",l0),G(n,"?",Gf),G(n,'"',uk),G(n,"/",ki),G(n,";",ck),G(n,"~",Kf),G(n,"_",u0),G(n,"\\",t0),G(n,"",mL);const r=bt(n,ds,ik,{[Ww]:!0});bt(r,ds,r);const i=bt(r,hs,dL,{[Vf]:!0}),s=bt(r,rf,pL,{[Af]:!0}),o=bt(n,hs,ms,{[Hw]:!0});bt(o,ds,i),bt(o,hs,o),bt(i,ds,i),bt(i,hs,i);const l=bt(n,rf,Kw,{[qw]:!0});bt(l,hs),bt(l,ds,s),bt(l,rf,l),bt(s,ds,s),bt(s,hs),bt(s,rf,s);const u=G(n,w_,sk,{[y_]:!0}),c=G(n,II,Xw,{[y_]:!0}),f=bt(n,b_,Xw,{[y_]:!0});G(n,E_,f),G(c,w_,u),G(c,E_,f),bt(c,b_,f),G(f,II),G(f,w_),bt(f,b_,f),G(f,E_,f);const h=bt(n,__,gL,{[hL]:!0});G(h,"#"),bt(h,__,h),G(h,Rhe,h);const p=G(h,Ohe);G(p,"#"),bt(p,__,h);const m=[[hs,o],[ds,i]],g=[[hs,null],[rf,l],[ds,s]];for(let y=0;y<Fp.length;y++)Js(n,Fp[y],Yw,ms,m);for(let y=0;y<$p.length;y++)Js(n,$p[y],Jw,Kw,g);Sa(Yw,{tld:!0,ascii:!0},e),Sa(Jw,{utld:!0,alpha:!0},e),Js(n,"file",ym,ms,m),Js(n,"mailto",ym,ms,m),Js(n,"http",Zl,ms,m),Js(n,"https",Zl,ms,m),Js(n,"ftp",Zl,ms,m),Js(n,"ftps",Zl,ms,m),Sa(ym,{scheme:!0,ascii:!0},e),Sa(Zl,{slashscheme:!0,ascii:!0},e),t=t.sort((y,_)=>y[0]>_[0]?1:-1);for(let y=0;y<t.length;y++){const _=t[y][0],S=t[y][1]?{[The]:!0}:{[xhe]:!0};_.indexOf("-")>=0?S[Gw]=!0:hs.test(_)?ds.test(_)?S[Vf]=!0:S[Hw]=!0:S[Ww]=!0,CI(n,_,_,S)}return CI(n,"localhost",Lh,{ascii:!0}),n.jd=new Ln(c0),{start:n,tokens:Zu({groups:e},yL)}}a(Nhe,"init$2");function _L(t,e){const n=Dhe(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,i=[];let s=0,o=0;for(;o<r;){let l=t,u=null,c=0,f=null,h=-1,p=-1;for(;o<r&&(u=l.go(n[o]));)l=u,l.accepts()?(h=0,p=0,f=l):h>=0&&(h+=n[o].length,p++),c+=n[o].length,s+=n[o].length,o++;s-=h,o-=p,c-=h,i.push({t:f.t,v:e.slice(s-c,s),s:s-c,e:s})}return i}a(_L,"run$1");function Dhe(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,o=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}a(Dhe,"stringToArray");function Js(t,e,n,r,i){let s;const o=e.length;for(let l=0;l<o-1;l++){const u=e[l];t.j[u]?s=t.j[u]:(s=new Ln(r),s.jr=i.slice(),t.j[u]=s),t=s}return s=new Ln(n),s.jr=i.slice(),t.j[e[o-1]]=s,s}a(Js,"fastts");function RI(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+s),10);o>0;o--)n.pop();r+=s}else n.push(t[r]),r++}return e}a(RI,"decodeTlds");const Fh={defaultProtocol:"http",events:null,format:OI,formatHref:OI,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function fk(t,e=null){let n=Zu({},Fh);t&&(n=Zu(n,t instanceof fk?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}a(fk,"Options");fk.prototype={o:Fh,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Fh[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function OI(t){return t}a(OI,"noop$1");function bL(t,e){this.t="token",this.v=t,this.tk=e}a(bL,"MultiToken");bL.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Fh.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),o={},l=t.get("className",n,e),u=t.get("target",n,e),c=t.get("rel",n,e),f=t.getObj("attributes",n,e),h=t.getObj("events",n,e);return o.href=r,l&&(o.class=l),u&&(o.target=u),c&&(o.rel=c),f&&Zu(o,f),{tagName:i,attributes:o,content:s,eventListeners:h}}};function Ly(t,e){class n extends bL{static{a(this,"Token")}constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}a(Ly,"createTokenClass");const NI=Ly("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),DI=Ly("text"),Mhe=Ly("nl"),Bp=Ly("url",{isLink:!0,toHref(t=Fh.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Lh&&t[1].t===ho}}),hr=a(t=>new Ln(t),"makeState");function Phe({groups:t}){const e=t.domain.concat([Qg,e0,no,t0,n0,r0,i0,s0,dr,ik,qf,o0,a0,l0,ki,c0,Kf,u0]),n=[ho,ak,Si,lk,qf,Gf,uk,ck,Vg,Wg,Wf,Hf,Ug,Bg,zg,jg,Hg,qg,Gg,Kg,Yg,Jg,Xg,Zg],r=[Qg,ok,e0,t0,n0,r0,i0,s0,dr,Wf,Hf,qf,o0,a0,l0,Gf,ki,c0,Kf,u0],i=hr(),s=G(i,Kf);Ae(s,r,s),Ae(s,t.domain,s);const o=hr(),l=hr(),u=hr();Ae(i,t.domain,o),Ae(i,t.scheme,l),Ae(i,t.slashscheme,u),Ae(o,r,s),Ae(o,t.domain,o);const c=G(o,no);G(s,no,c),G(l,no,c),G(u,no,c);const f=G(s,Si);Ae(f,r,s),Ae(f,t.domain,s);const h=hr();Ae(c,t.domain,h),Ae(h,t.domain,h);const p=G(h,Si);Ae(p,t.domain,h);const m=hr(NI);Ae(p,t.tld,m),Ae(p,t.utld,m),G(c,Lh,m);const g=G(h,dr);G(g,dr,g),Ae(g,t.domain,h),Ae(m,t.domain,h),G(m,Si,p),G(m,dr,g);const y=G(m,ho);Ae(y,t.numeric,NI);const _=G(o,dr),w=G(o,Si);G(_,dr,_),Ae(_,t.domain,o),Ae(w,r,s),Ae(w,t.domain,o);const S=hr(Bp);Ae(w,t.tld,S),Ae(w,t.utld,S),Ae(S,t.domain,o),Ae(S,r,s),G(S,Si,w),G(S,dr,_),G(S,no,c);const T=G(S,ho),N=hr(Bp);Ae(T,t.numeric,N);const O=hr(Bp),M=hr();Ae(O,e,O),Ae(O,n,M),Ae(M,e,O),Ae(M,n,M),G(S,ki,O),G(N,ki,O);const k=G(l,ho),v=G(u,ho),A=G(v,ki),C=G(A,ki);Ae(l,t.domain,o),G(l,Si,w),G(l,dr,_),Ae(u,t.domain,o),G(u,Si,w),G(u,dr,_),Ae(k,t.domain,O),G(k,ki,O),G(k,Gf,O),Ae(C,t.domain,O),Ae(C,e,O),G(C,ki,O);const x=[[Wf,Hf],[Bg,Ug],[zg,jg],[Vg,Wg],[Hg,qg],[Gg,Kg],[Yg,Jg],[Xg,Zg]];for(let I=0;I<x.length;I++){const[D,$]=x[I],F=G(O,D);G(M,D,F),G(F,$,O);const B=hr(Bp);Ae(F,e,B);const j=hr();Ae(F,n),Ae(B,e,B),Ae(B,n,j),Ae(j,e,B),Ae(j,n,j),G(B,$,O),G(j,$,O)}return G(i,Lh,S),G(i,sk,Mhe),{start:i,tokens:yL}}a(Phe,"init$1");function Lhe(t,e,n){let r=n.length,i=0,s=[],o=[];for(;i<r;){let l=t,u=null,c=null,f=0,h=null,p=-1;for(;i<r&&!(u=l.go(n[i].t));)o.push(n[i++]);for(;i<r&&(c=u||l.go(n[i].t));)u=null,l=c,l.accepts()?(p=0,h=l):p>=0&&p++,i++,f++;if(p<0)i-=f,i<r&&(o.push(n[i]),i++);else{o.length>0&&(s.push(v_(DI,e,o)),o=[]),i-=p,f-=p;const m=h.t,g=n.slice(i-f,i);s.push(v_(m,e,g))}}return o.length>0&&s.push(v_(DI,e,o)),s}a(Lhe,"run");function v_(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}a(v_,"initMultiToken");const Fhe=typeof console<"u"&&console&&console.warn||(()=>{}),$he="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ct={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function RSe(){return Ln.groups={},ct.scanner=null,ct.parser=null,ct.tokenQueue=[],ct.pluginQueue=[],ct.customSchemes=[],ct.initialized=!1,ct}a(RSe,"reset");function OSe(t,e=!1){if(ct.initialized&&Fhe(`linkifyjs: already initialized - will not register custom scheme "${t}" ${$he}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ct.customSchemes.push([t,e])}a(OSe,"registerCustomProtocol");function Bhe(){ct.scanner=Nhe(ct.customSchemes);for(let t=0;t<ct.tokenQueue.length;t++)ct.tokenQueue[t][1]({scanner:ct.scanner});ct.parser=Phe(ct.scanner.tokens);for(let t=0;t<ct.pluginQueue.length;t++)ct.pluginQueue[t][1]({scanner:ct.scanner,parser:ct.parser});return ct.initialized=!0,ct}a(Bhe,"init");function wL(t){return ct.initialized||Bhe(),Lhe(ct.parser.start,t,_L(ct.scanner.start,t))}a(wL,"tokenize");wL.scan=_L;function NSe(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new fk(n),i=wL(t),s=[];for(let o=0;o<i.length;o++){const l=i[o];l.isLink&&(!e||l.t===e)&&r.check(l)&&s.push(l.toFormattedObject(r))}return s}a(NSe,"find");var Zw,Qw;if(typeof WeakMap<"u"){let t=new WeakMap;Zw=a(e=>t.get(e),"readFromCache"),Qw=a((e,n)=>(t.set(e,n),n),"addToCache")}else{const t=[];let n=0;Zw=a(r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},"readFromCache"),Qw=a((r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i),"addToCache")}var vt=class{static{a(this,"TableMap")}constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let s=r+1,o=i+1;for(let l=1;s<this.width&&this.map[e+l]==n;l++)s++;for(let l=1;o<this.height&&this.map[e+this.width*l]==n;l++)o++;return{left:r,top:i,right:s,bottom:o}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:s,bottom:o}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[s*this.width+(n<0?r-1:i)]:(n<0?s==0:o==this.height)?null:this.map[r+this.width*(n<0?s-1:o)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:s}=this.findCell(t),{left:o,right:l,top:u,bottom:c}=this.findCell(e);return{left:Math.min(n,o),top:Math.min(i,u),right:Math.max(r,l),bottom:Math.max(s,c)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const s=r*this.width+i,o=this.map[s];n[o]||(n[o]=!0,!(i==t.left&&i&&this.map[s-1]==o||r==t.top&&r&&this.map[s-this.width]==o)&&e.push(o))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const s=i+n.child(r).nodeSize;if(r==t){let o=e+t*this.width;const l=(t+1)*this.width;for(;o<l&&this.map[o]<i;)o++;return o==l?s-1:this.map[o]}i=s}}static get(t){return Zw(t)||Qw(t,Uhe(t))}};function Uhe(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=zhe(t),n=t.childCount,r=[];let i=0,s=null;const o=[];for(let c=0,f=e*n;c<f;c++)r[c]=0;for(let c=0,f=0;c<n;c++){const h=t.child(c);f++;for(let g=0;;g++){for(;i<r.length&&r[i]!=0;)i++;if(g==h.childCount)break;const y=h.child(g),{colspan:_,rowspan:w,colwidth:S}=y.attrs;for(let T=0;T<w;T++){if(T+c>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:f,n:w-T});break}const N=i+T*e;for(let O=0;O<_;O++){r[N+O]==0?r[N+O]=f:(s||(s=[])).push({type:"collision",row:c,pos:f,n:_-O});const M=S&&S[O];if(M){const k=(N+O)%e*2,v=o[k];v==null||v!=M&&o[k+1]==1?(o[k]=M,o[k+1]=1):v==M&&o[k+1]++}}}i+=_,f+=y.nodeSize}const p=(c+1)*e;let m=0;for(;i<p;)r[i++]==0&&m++;m&&(s||(s=[])).push({type:"missing",row:c,n:m}),f++}const l=new vt(e,n,r,s);let u=!1;for(let c=0;!u&&c<o.length;c+=2)o[c]!=null&&o[c+1]<n&&(u=!0);return u&&jhe(l,o,t),l}a(Uhe,"computeMap");function zhe(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let s=0;if(n)for(let o=0;o<r;o++){const l=t.child(o);for(let u=0;u<l.childCount;u++){const c=l.child(u);o+c.attrs.rowspan>r&&(s+=c.attrs.colspan)}}for(let o=0;o<i.childCount;o++){const l=i.child(o);s+=l.attrs.colspan,l.attrs.rowspan>1&&(n=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}a(zhe,"findWidth");function jhe(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const s=t.map[i];if(r[s])continue;r[s]=!0;const o=n.nodeAt(s);if(!o)throw new RangeError(`No cell with offset ${s} found`);let l=null;const u=o.attrs;for(let c=0;c<u.colspan;c++){const f=(i+c)%t.width,h=e[f*2];h!=null&&(!u.colwidth||u.colwidth[c]!=h)&&((l||(l=Vhe(u)))[c]=h)}l&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:l})}}a(jhe,"findBadColWidths");function Vhe(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}a(Vhe,"freshColWidth");function yn(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}a(yn,"tableNodeTypes");var po=new Cd("selectingCells");function Tc(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}a(Tc,"cellAround");function Whe(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}a(Whe,"cellWrapping");function hi(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}a(hi,"isInTable");function Fy(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=Tc(e.$head)||Hhe(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}a(Fy,"selectionCell");function Hhe(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}a(Hhe,"cellNear");function eE(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}a(eE,"pointsAtCell");function qhe(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}a(qhe,"moveCellForward");function hk(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}a(hk,"inSameTable");function EL(t,e,n){const r=t.node(-1),i=vt.get(r),s=t.start(-1),o=i.nextCell(t.pos-s,e,n);return o==null?null:t.node(0).resolve(s+o)}a(EL,"nextCell");function ll(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}a(ll,"removeColSpan");function vL(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}a(vL,"addColSpan");function Ghe(t,e,n){const r=yn(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}a(Ghe,"columnIsHeader");var pt=class gs extends Ee{static{a(this,"_CellSelection")}constructor(e,n=e){const r=e.node(-1),i=vt.get(r),s=e.start(-1),o=i.rectBetween(e.pos-s,n.pos-s),l=e.node(0),u=i.cellsInRect(o).filter(f=>f!=n.pos-s);u.unshift(n.pos-s);const c=u.map(f=>{const h=r.nodeAt(f);if(!h)throw RangeError(`No cell with offset ${f} found`);const p=s+f+1;return new S4(l.resolve(p),l.resolve(p+h.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(eE(r)&&eE(i)&&hk(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?gs.rowSelection(r,i):s&&this.isColSelection()?gs.colSelection(r,i):new gs(r,i)}return Ne.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=vt.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},o=[];for(let u=i.top;u<i.bottom;u++){const c=[];for(let f=u*n.width+i.left,h=i.left;h<i.right;h++,f++){const p=n.map[f];if(s[p])continue;s[p]=!0;const m=n.findCell(p);let g=e.nodeAt(p);if(!g)throw RangeError(`No cell with offset ${p} found`);const y=i.left-m.left,_=m.right-i.right;if(y>0||_>0){let w=g.attrs;if(y>0&&(w=ll(w,0,y)),_>0&&(w=ll(w,w.colspan-_,_)),m.left<i.left){if(g=g.type.createAndFill(w),!g)throw RangeError(`Could not create cell with attrs ${JSON.stringify(w)}`)}else g=g.type.create(w,g.content)}if(m.top<i.top||m.bottom>i.bottom){const w={...g.attrs,rowspan:Math.min(m.bottom,i.bottom)-Math.max(m.top,i.top)};m.top<i.top?g=g.type.createAndFill(w):g=g.type.create(w,g.content)}c.push(g)}o.push(e.child(u).copy(W.from(c)))}const l=this.isColSelection()&&this.isRowSelection()?e:o;return new Z(W.from(l),1,1)}replace(e,n=Z.empty){const r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){const{$from:l,$to:u}=i[o],c=e.mapping.slice(r);e.replace(c.map(l.pos),c.map(u.pos),o?Z.empty:n)}const s=Ee.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,n){this.replace(e,new Z(W.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=vt.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let o=0;o<s.length;o++)e(n.nodeAt(s[o]),i+s[o])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),i=vt.get(r),s=e.start(-1),o=i.findCell(e.pos-s),l=i.findCell(n.pos-s),u=e.node(0);return o.top<=l.top?(o.top>0&&(e=u.resolve(s+i.map[o.left])),l.bottom<i.height&&(n=u.resolve(s+i.map[i.width*(i.height-1)+l.right-1]))):(l.top>0&&(n=u.resolve(s+i.map[l.left])),o.bottom<i.height&&(e=u.resolve(s+i.map[i.width*(i.height-1)+o.right-1]))),new gs(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=vt.get(e),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const o=i+this.$anchorCell.nodeAfter.attrs.colspan,l=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,l)==n.width}eq(e){return e instanceof gs&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),i=vt.get(r),s=e.start(-1),o=i.findCell(e.pos-s),l=i.findCell(n.pos-s),u=e.node(0);return o.left<=l.left?(o.left>0&&(e=u.resolve(s+i.map[o.top*i.width])),l.right<i.width&&(n=u.resolve(s+i.map[i.width*(l.top+1)-1]))):(l.left>0&&(n=u.resolve(s+i.map[l.top*i.width])),o.right<i.width&&(e=u.resolve(s+i.map[i.width*(o.top+1)-1]))),new gs(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new gs(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new gs(e.resolve(n),e.resolve(r))}getBookmark(){return new Khe(this.$anchorCell.pos,this.$headCell.pos)}};pt.prototype.visible=!1;Ee.jsonID("cell",pt);var Khe=class SL{static{a(this,"_CellBookmark")}constructor(e,n){this.anchor=e,this.head=n}map(e){return new SL(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&hk(n,r)?new pt(n,r):Ee.near(r,1)}};function Yhe(t){if(!(t.selection instanceof pt))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(Sn.node(r,r+n.nodeSize,{class:"selectedCell"}))}),wt.create(t.doc,e)}a(Yhe,"drawCellSelection");function Jhe({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}a(Jhe,"isCellBoundarySelection");function Xhe({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&e.parentOffset===0}a(Xhe,"isTextSelectionAcrossCells");function Zhe(t,e,n){const r=(e||t).selection,i=(e||t).doc;let s,o;if(r instanceof pe&&(o=r.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")s=pt.create(i,r.from);else if(o=="row"){const l=i.resolve(r.from+1);s=pt.rowSelection(l,l)}else if(!n){const l=vt.get(r.node),u=r.from+1,c=u+l.map[l.width*l.height-1];s=pt.create(i,u+1,c)}}else r instanceof Ne&&Jhe(r)?s=Ne.create(i,r.from):r instanceof Ne&&Xhe(r)&&(s=Ne.create(i,r.$from.start(),r.$from.end()));return s&&(e||(e=t.tr)).setSelection(s),e}a(Zhe,"normalizeSelection");var Qhe=new Cd("fix-tables");function kL(t,e,n,r){const i=t.childCount,s=e.childCount;e:for(let o=0,l=0;o<s;o++){const u=e.child(o);for(let c=l,f=Math.min(i,o+3);c<f;c++)if(t.child(c)==u){l=c+1,n+=u.nodeSize;continue e}r(u,n),l<i&&t.child(l).sameMarkup(u)?kL(t.child(l),u,n+1,r):u.nodesBetween(0,u.content.size,r,n+1),n+=u.nodeSize}}a(kL,"changedDescendants");function ede(t,e){let n;const r=a((i,s)=>{i.type.spec.tableRole=="table"&&(n=tde(t,i,s,n))},"check");return e?e.doc!=t.doc&&kL(e.doc,t.doc,0,r):t.doc.descendants(r),n}a(ede,"fixTables");function tde(t,e,n,r){const i=vt.get(e);if(!i.problems)return r;r||(r=t.tr);const s=[];for(let u=0;u<i.height;u++)s.push(0);for(let u=0;u<i.problems.length;u++){const c=i.problems[u];if(c.type=="collision"){const f=e.nodeAt(c.pos);if(!f)continue;const h=f.attrs;for(let p=0;p<h.rowspan;p++)s[c.row+p]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,ll(h,h.colspan-c.n,c.n))}else if(c.type=="missing")s[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const f=e.nodeAt(c.pos);if(!f)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...f.attrs,rowspan:f.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const f=e.nodeAt(c.pos);if(!f)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...f.attrs,colwidth:c.colwidth})}}let o,l;for(let u=0;u<s.length;u++)s[u]&&(o==null&&(o=u),l=u);for(let u=0,c=n+1;u<i.height;u++){const f=e.child(u),h=c+f.nodeSize,p=s[u];if(p>0){let m="cell";f.firstChild&&(m=f.firstChild.type.spec.tableRole);const g=[];for(let _=0;_<p;_++){const w=yn(t.schema)[m].createAndFill();w&&g.push(w)}const y=(u==0||o==u-1)&&l==u?c+1:h-1;r.insert(r.mapping.map(y),g)}c=h}return r.setMeta(Qhe,{fixTables:!0})}a(tde,"fixTable");function Zi(t){const e=t.selection,n=Fy(t),r=n.node(-1),i=n.start(-1),s=vt.get(r);return{...e instanceof pt?s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s.findCell(n.pos-i),tableStart:i,map:s,table:r}}a(Zi,"selectedRect");function AL(t,{map:e,tableStart:n,table:r},i){let s=i>0?-1:0;Ghe(e,r,i+s)&&(s=i==0||i==e.width?null:0);for(let o=0;o<e.height;o++){const l=o*e.width+i;if(i>0&&i<e.width&&e.map[l-1]==e.map[l]){const u=e.map[l],c=r.nodeAt(u);t.setNodeMarkup(t.mapping.map(n+u),null,vL(c.attrs,i-e.colCount(u))),o+=c.attrs.rowspan-1}else{const u=s==null?yn(r.type.schema).cell:r.nodeAt(e.map[l+s]).type,c=e.positionAt(o,i,r);t.insert(t.mapping.map(n+c),u.createAndFill())}}return t}a(AL,"addColumn");function DSe(t,e){if(!hi(t))return!1;if(e){const n=Zi(t);e(AL(t.tr,n,n.left))}return!0}a(DSe,"addColumnBefore");function MSe(t,e){if(!hi(t))return!1;if(e){const n=Zi(t);e(AL(t.tr,n,n.right))}return!0}a(MSe,"addColumnAfter");function nde(t,{map:e,table:n,tableStart:r},i){const s=t.mapping.maps.length;for(let o=0;o<e.height;){const l=o*e.width+i,u=e.map[l],c=n.nodeAt(u),f=c.attrs;if(i>0&&e.map[l-1]==u||i<e.width-1&&e.map[l+1]==u)t.setNodeMarkup(t.mapping.slice(s).map(r+u),null,ll(f,i-e.colCount(u)));else{const h=t.mapping.slice(s).map(r+u);t.delete(h,h+c.nodeSize)}o+=f.rowspan}}a(nde,"removeColumn");function PSe(t,e){if(!hi(t))return!1;if(e){const n=Zi(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;nde(r,n,i),i!=n.left;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=vt.get(s)}e(r)}return!0}a(PSe,"deleteColumn");function rde(t,e,n){var r;const i=yn(e.type.schema).header_cell;for(let s=0;s<t.width;s++)if(((r=e.nodeAt(t.map[s+n*t.width]))==null?void 0:r.type)!=i)return!1;return!0}a(rde,"rowIsHeader");function TL(t,{map:e,tableStart:n,table:r},i){var s;let o=n;for(let c=0;c<i;c++)o+=r.child(c).nodeSize;const l=[];let u=i>0?-1:0;rde(e,r,i+u)&&(u=i==0||i==e.height?null:0);for(let c=0,f=e.width*i;c<e.width;c++,f++)if(i>0&&i<e.height&&e.map[f]==e.map[f-e.width]){const h=e.map[f],p=r.nodeAt(h).attrs;t.setNodeMarkup(n+h,null,{...p,rowspan:p.rowspan+1}),c+=p.colspan-1}else{const h=u==null?yn(r.type.schema).cell:(s=r.nodeAt(e.map[f+u*e.width]))==null?void 0:s.type,p=h?.createAndFill();p&&l.push(p)}return t.insert(o,yn(r.type.schema).row.create(null,l)),t}a(TL,"addRow");function LSe(t,e){if(!hi(t))return!1;if(e){const n=Zi(t);e(TL(t.tr,n,n.top))}return!0}a(LSe,"addRowBefore");function FSe(t,e){if(!hi(t))return!1;if(e){const n=Zi(t);e(TL(t.tr,n,n.bottom))}return!0}a(FSe,"addRowAfter");function ide(t,{map:e,table:n,tableStart:r},i){let s=0;for(let c=0;c<i;c++)s+=n.child(c).nodeSize;const o=s+n.child(i).nodeSize,l=t.mapping.maps.length;t.delete(s+r,o+r);const u=new Set;for(let c=0,f=i*e.width;c<e.width;c++,f++){const h=e.map[f];if(!u.has(h)){if(u.add(h),i>0&&h==e.map[f-e.width]){const p=n.nodeAt(h).attrs;t.setNodeMarkup(t.mapping.slice(l).map(h+r),null,{...p,rowspan:p.rowspan-1}),c+=p.colspan-1}else if(i<e.height&&h==e.map[f+e.width]){const p=n.nodeAt(h),m=p.attrs,g=p.type.create({...m,rowspan:p.attrs.rowspan-1},p.content),y=e.positionAt(i+1,c,n);t.insert(t.mapping.slice(l).map(r+y),g),c+=m.colspan-1}}}}a(ide,"removeRow");function $Se(t,e){if(!hi(t))return!1;if(e){const n=Zi(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;ide(r,n,i),i!=n.top;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=vt.get(n.table)}e(r)}return!0}a($Se,"deleteRow");function MI(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}a(MI,"isEmpty");function sde({width:t,height:e,map:n},r){let i=r.top*t+r.left,s=i,o=(r.bottom-1)*t+r.left,l=i+(r.right-r.left-1);for(let u=r.top;u<r.bottom;u++){if(r.left>0&&n[s]==n[s-1]||r.right<t&&n[l]==n[l+1])return!0;s+=t,l+=t}for(let u=r.left;u<r.right;u++){if(r.top>0&&n[i]==n[i-t]||r.bottom<e&&n[o]==n[o+t])return!0;i++,o++}return!1}a(sde,"cellsOverlapRectangle");function BSe(t,e){const n=t.selection;if(!(n instanceof pt)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Zi(t),{map:i}=r;if(sde(i,r))return!1;if(e){const s=t.tr,o={};let l=W.empty,u,c;for(let f=r.top;f<r.bottom;f++)for(let h=r.left;h<r.right;h++){const p=i.map[f*i.width+h],m=r.table.nodeAt(p);if(!(o[p]||!m))if(o[p]=!0,u==null)u=p,c=m;else{MI(m)||(l=l.append(m.content));const g=s.mapping.map(p+r.tableStart);s.delete(g,g+m.nodeSize)}}if(u==null||c==null)return!0;if(s.setNodeMarkup(u+r.tableStart,null,{...vL(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),rowspan:r.bottom-r.top}),l.size){const f=u+1+c.content.size,h=MI(c)?u+1:f;s.replaceWith(h+r.tableStart,f+r.tableStart,l)}s.setSelection(new pt(s.doc.resolve(u+r.tableStart))),e(s)}return!0}a(BSe,"mergeCells");function USe(t,e){const n=yn(t.schema);return ode(({node:r})=>n[r.type.spec.tableRole])(t,e)}a(USe,"splitCell");function ode(t){return(e,n)=>{var r;const i=e.selection;let s,o;if(i instanceof pt){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;s=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(s=Whe(i.$from),!s)return!1;o=(r=Tc(i.$from))==null?void 0:r.pos}if(s==null||o==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let l=s.attrs;const u=[],c=l.colwidth;l.rowspan>1&&(l={...l,rowspan:1}),l.colspan>1&&(l={...l,colspan:1});const f=Zi(e),h=e.tr;for(let m=0;m<f.right-f.left;m++)u.push(c?{...l,colwidth:c&&c[m]?[c[m]]:null}:l);let p;for(let m=f.top;m<f.bottom;m++){let g=f.map.positionAt(m,f.left,f.table);m==f.top&&(g+=s.nodeSize);for(let y=f.left,_=0;y<f.right;y++,_++)y==f.left&&m==f.top||h.insert(p=h.mapping.map(g+f.tableStart,1),t({node:s,row:m,col:y}).createAndFill(u[_]))}h.setNodeMarkup(o,t({node:s,row:f.top,col:f.left}),u[0]),i instanceof pt&&h.setSelection(new pt(h.doc.resolve(i.$anchorCell.pos),p?h.doc.resolve(p):void 0)),n(h)}return!0}}a(ode,"splitCellWithType");function zSe(t,e){return function(n,r){if(!hi(n))return!1;const i=Fy(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const s=n.tr;n.selection instanceof pt?n.selection.forEachCell((o,l)=>{o.attrs[t]!==e&&s.setNodeMarkup(l,null,{...o.attrs,[t]:e})}):s.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),r(s)}return!0}}a(zSe,"setCellAttr");function ade(t){return function(e,n){if(!hi(e))return!1;if(n){const r=yn(e.schema),i=Zi(e),s=e.tr,o=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),l=o.map(u=>i.table.nodeAt(u));for(let u=0;u<o.length;u++)l[u].type==r.header_cell&&s.setNodeMarkup(i.tableStart+o[u],r.cell,l[u].attrs);if(s.steps.length==0)for(let u=0;u<o.length;u++)s.setNodeMarkup(i.tableStart+o[u],r.header_cell,l[u].attrs);n(s)}return!0}}a(ade,"deprecated_toggleHeader");function PI(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const s=e.table.nodeAt(r[i]);if(s&&s.type!==n.header_cell)return!1}return!0}a(PI,"isHeaderEnabledByType");function dk(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?ade(t):function(n,r){if(!hi(n))return!1;if(r){const i=yn(n.schema),s=Zi(n),o=n.tr,l=PI("row",s,i),u=PI("column",s,i),f=(t==="column"?l:t==="row"?u:!1)?1:0,h=t=="column"?{left:0,top:f,right:1,bottom:s.map.height}:t=="row"?{left:f,top:0,right:s.map.width,bottom:1}:s,p=t=="column"?u?i.cell:i.header_cell:t=="row"?l?i.cell:i.header_cell:i.cell;s.map.cellsInRect(h).forEach(m=>{const g=m+s.tableStart,y=o.doc.nodeAt(g);y&&o.setNodeMarkup(g,p,y.attrs)}),r(o)}return!0}}a(dk,"toggleHeader");dk("row",{useDeprecatedLogic:!0});dk("column",{useDeprecatedLogic:!0});var jSe=dk("cell",{useDeprecatedLogic:!0});function lde(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const s=t.node(-1).child(r),o=s.lastChild;if(o)return i-1-o.nodeSize;i-=s.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const s=n.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}return null}a(lde,"findNextCell");function VSe(t){return function(e,n){if(!hi(e))return!1;const r=lde(Fy(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(Ne.between(i,qhe(i))).scrollIntoView())}return!0}}a(VSe,"goToNextCell");function WSe(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}a(WSe,"deleteTable");function Up(t,e){const n=t.selection;if(!(n instanceof pt))return!1;if(e){const r=t.tr,i=yn(t.schema).cell.createAndFill().content;n.forEachCell((s,o)=>{s.content.eq(i)||r.replace(r.mapping.map(o+1),r.mapping.map(o+s.nodeSize-1),new Z(i,0,0))}),r.docChanged&&e(r)}return!0}a(Up,"deleteCellSelection");function ude(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const i=e.child(0),s=i.type.spec.tableRole,o=i.type.schema,l=[];if(s=="row")for(let u=0;u<e.childCount;u++){let c=e.child(u).content;const f=u?0:Math.max(0,n-1),h=u<e.childCount-1?0:Math.max(0,r-1);(f||h)&&(c=tE(yn(o).row,new Z(c,f,h)).content),l.push(c)}else if(s=="cell"||s=="header_cell")l.push(n||r?tE(yn(o).row,new Z(e,n,r)).content:e);else return null;return cde(o,l)}a(ude,"pastedCells");function cde(t,e){const n=[];for(let i=0;i<e.length;i++){const s=e[i];for(let o=s.childCount-1;o>=0;o--){const{rowspan:l,colspan:u}=s.child(o).attrs;for(let c=i;c<i+l;c++)n[c]=(n[c]||0)+u}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(W.empty),n[i]<r){const s=yn(t).cell.createAndFill(),o=[];for(let l=n[i];l<r;l++)o.push(s);e[i]=e[i].append(W.from(o))}return{height:e.length,width:r,rows:e}}a(cde,"ensureRectangular");function tE(t,e){const n=t.createAndFill();return new v4(n).replace(0,n.content.size,e).doc}a(tE,"fitSlice");function fde({width:t,height:e,rows:n},r,i){if(t!=r){const s=[],o=[];for(let l=0;l<n.length;l++){const u=n[l],c=[];for(let f=s[l]||0,h=0;f<r;h++){let p=u.child(h%u.childCount);f+p.attrs.colspan>r&&(p=p.type.createChecked(ll(p.attrs,p.attrs.colspan,f+p.attrs.colspan-r),p.content)),c.push(p),f+=p.attrs.colspan;for(let m=1;m<p.attrs.rowspan;m++)s[l+m]=(s[l+m]||0)+p.attrs.colspan}o.push(W.from(c))}n=o,t=r}if(e!=i){const s=[];for(let o=0,l=0;o<i;o++,l++){const u=[],c=n[l%e];for(let f=0;f<c.childCount;f++){let h=c.child(f);o+h.attrs.rowspan>i&&(h=h.type.create({...h.attrs,rowspan:Math.max(1,i-h.attrs.rowspan)},h.content)),u.push(h)}s.push(W.from(u))}n=s,e=i}return{width:t,height:e,rows:n}}a(fde,"clipCells");function hde(t,e,n,r,i,s,o){const l=t.doc.type.schema,u=yn(l);let c,f;if(i>e.width)for(let h=0,p=0;h<e.height;h++){const m=n.child(h);p+=m.nodeSize;const g=[];let y;m.lastChild==null||m.lastChild.type==u.cell?y=c||(c=u.cell.createAndFill()):y=f||(f=u.header_cell.createAndFill());for(let _=e.width;_<i;_++)g.push(y);t.insert(t.mapping.slice(o).map(p-1+r),g)}if(s>e.height){const h=[];for(let g=0,y=(e.height-1)*e.width;g<Math.max(e.width,i);g++){const _=g>=e.width?!1:n.nodeAt(e.map[y+g]).type==u.header_cell;h.push(_?f||(f=u.header_cell.createAndFill()):c||(c=u.cell.createAndFill()))}const p=u.row.create(null,W.from(h)),m=[];for(let g=e.height;g<s;g++)m.push(p);t.insert(t.mapping.slice(o).map(r+n.nodeSize-2),m)}return!!(c||f)}a(hde,"growTable");function LI(t,e,n,r,i,s,o,l){if(o==0||o==e.height)return!1;let u=!1;for(let c=i;c<s;c++){const f=o*e.width+c,h=e.map[f];if(e.map[f-e.width]==h){u=!0;const p=n.nodeAt(h),{top:m,left:g}=e.findCell(h);t.setNodeMarkup(t.mapping.slice(l).map(h+r),null,{...p.attrs,rowspan:o-m}),t.insert(t.mapping.slice(l).map(e.positionAt(o,g,n)),p.type.createAndFill({...p.attrs,rowspan:m+p.attrs.rowspan-o})),c+=p.attrs.colspan-1}}return u}a(LI,"isolateHorizontal");function FI(t,e,n,r,i,s,o,l){if(o==0||o==e.width)return!1;let u=!1;for(let c=i;c<s;c++){const f=c*e.width+o,h=e.map[f];if(e.map[f-1]==h){u=!0;const p=n.nodeAt(h),m=e.colCount(h),g=t.mapping.slice(l).map(h+r);t.setNodeMarkup(g,null,ll(p.attrs,o-m,p.attrs.colspan-(o-m))),t.insert(g+p.nodeSize,p.type.createAndFill(ll(p.attrs,0,o-m))),c+=p.attrs.rowspan-1}}return u}a(FI,"isolateVertical");function $I(t,e,n,r,i){let s=n?t.doc.nodeAt(n-1):t.doc;if(!s)throw new Error("No table found");let o=vt.get(s);const{top:l,left:u}=r,c=u+i.width,f=l+i.height,h=t.tr;let p=0;function m(){if(s=n?h.doc.nodeAt(n-1):h.doc,!s)throw new Error("No table found");o=vt.get(s),p=h.mapping.maps.length}a(m,"recomp"),hde(h,o,s,n,c,f,p)&&m(),LI(h,o,s,n,u,c,l,p)&&m(),LI(h,o,s,n,u,c,f,p)&&m(),FI(h,o,s,n,l,f,u,p)&&m(),FI(h,o,s,n,l,f,c,p)&&m();for(let g=l;g<f;g++){const y=o.positionAt(g,u,s),_=o.positionAt(g,c,s);h.replace(h.mapping.slice(p).map(y+n),h.mapping.slice(p).map(_+n),new Z(i.rows[g-l],0,0))}m(),h.setSelection(new pt(h.doc.resolve(n+o.positionAt(l,u,s)),h.doc.resolve(n+o.positionAt(f-1,c-1,s)))),e(h)}a($I,"insertCells");var dde=tk({ArrowLeft:zp("horiz",-1),ArrowRight:zp("horiz",1),ArrowUp:zp("vert",-1),ArrowDown:zp("vert",1),"Shift-ArrowLeft":jp("horiz",-1),"Shift-ArrowRight":jp("horiz",1),"Shift-ArrowUp":jp("vert",-1),"Shift-ArrowDown":jp("vert",1),Backspace:Up,"Mod-Backspace":Up,Delete:Up,"Mod-Delete":Up});function _m(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}a(_m,"maybeSetSelection");function zp(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;if(s instanceof pt)return _m(n,r,Ee.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const o=xL(i,t,e);if(o==null)return!1;if(t=="horiz")return _m(n,r,Ee.near(n.doc.resolve(s.head+e),e));{const l=n.doc.resolve(o),u=EL(l,t,e);let c;return u?c=Ee.near(u,1):e<0?c=Ee.near(n.doc.resolve(l.before(-1)),-1):c=Ee.near(n.doc.resolve(l.after(-1)),1),_m(n,r,c)}}}a(zp,"arrow$1");function jp(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;let o;if(s instanceof pt)o=s;else{const u=xL(i,t,e);if(u==null)return!1;o=new pt(n.doc.resolve(u))}const l=EL(o.$headCell,t,e);return l?_m(n,r,new pt(o.$anchorCell,l)):!1}}a(jp,"shiftArrow");function pde(t,e){const n=t.state.doc,r=Tc(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new pt(r))),!0):!1}a(pde,"handleTripleClick");function mde(t,e,n){if(!hi(t.state))return!1;let r=ude(n);const i=t.state.selection;if(i instanceof pt){r||(r={width:1,height:1,rows:[W.from(tE(yn(t.state.schema).cell,n))]});const s=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),l=vt.get(s).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return r=fde(r,l.right-l.left,l.bottom-l.top),$I(t.state,t.dispatch,o,l,r),!0}else if(r){const s=Fy(t.state),o=s.start(-1);return $I(t.state,t.dispatch,o,vt.get(s.node(-1)).findCell(s.pos-o),r),!0}else return!1}a(mde,"handlePaste");function gde(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=BI(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof pt)s(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=Tc(t.state.selection.$anchor))!=null&&((n=S_(t,e))==null?void 0:n.pos)!=i.pos)s(i,e),e.preventDefault();else if(!r)return;function s(u,c){let f=S_(t,c);const h=po.getState(t.state)==null;if(!f||!hk(u,f))if(h)f=u;else return;const p=new pt(u,f);if(h||!t.state.selection.eq(p)){const m=t.state.tr.setSelection(p);h&&m.setMeta(po,u.pos),t.dispatch(m)}}a(s,"setCellSelection");function o(){t.root.removeEventListener("mouseup",o),t.root.removeEventListener("dragstart",o),t.root.removeEventListener("mousemove",l),po.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(po,-1))}a(o,"stop");function l(u){const c=u,f=po.getState(t.state);let h;if(f!=null)h=t.state.doc.resolve(f);else if(BI(t,c.target)!=r&&(h=S_(t,e),!h))return o();h&&s(h,c)}a(l,"move"),t.root.addEventListener("mouseup",o),t.root.addEventListener("dragstart",o),t.root.addEventListener("mousemove",l)}a(gde,"handleMouseDown");function xL(t,e,n){if(!(t.state.selection instanceof Ne))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const l=r.before(i),u=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(u)?l:null}}return null}a(xL,"atEndOfCell");function BI(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}a(BI,"domInCell");function S_(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?Tc(t.state.doc.resolve(n.pos)):null}a(S_,"cellUnderMouse");var yde=class{static{a(this,"TableView")}constructor(t,e){this.node=t,this.defaultCellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${e}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),nE(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,nE(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function nE(t,e,n,r,i,s){var o;let l=0,u=!0,c=e.firstChild;const f=t.firstChild;if(f){for(let h=0,p=0;h<f.childCount;h++){const{colspan:m,colwidth:g}=f.child(h).attrs;for(let y=0;y<m;y++,p++){const _=i==p?s:g&&g[y],w=_?_+"px":"";if(l+=_||r,_||(u=!1),c)c.style.width!=w&&(c.style.width=w),c=c.nextSibling;else{const S=document.createElement("col");S.style.width=w,e.appendChild(S)}}}for(;c;){const h=c.nextSibling;(o=c.parentNode)==null||o.removeChild(c),c=h}u?(n.style.width=l+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=l+"px")}}a(nE,"updateColumnsOnResize");var er=new Cd("tableColumnResizing");function HSe({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=yde,lastColumnResizable:i=!0}={}){const s=new Ac({key:er,state:{init(o,l){var u,c;const f=(c=(u=s.spec)==null?void 0:u.props)==null?void 0:c.nodeViews,h=yn(l.schema).table.name;return r&&f&&(f[h]=(p,m)=>new r(p,n,m)),new _de(-1,!1)},apply(o,l){return l.apply(o)}},props:{attributes:a(o=>{const l=er.getState(o);return l&&l.activeHandle>-1?{class:"resize-cursor"}:{}},"attributes"),handleDOMEvents:{mousemove:a((o,l)=>{bde(o,l,t,i)},"mousemove"),mouseleave:a(o=>{wde(o)},"mouseleave"),mousedown:a((o,l)=>{Ede(o,l,e,n)},"mousedown")},decorations:a(o=>{const l=er.getState(o);if(l&&l.activeHandle>-1)return Tde(o,l.activeHandle)},"decorations"),nodeViews:{}}});return s}a(HSe,"columnResizing");var _de=class bm{static{a(this,"_ResizeState")}constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(er);if(r&&r.setHandle!=null)return new bm(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new bm(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);return eE(e.doc.resolve(i))||(i=-1),new bm(i,n.dragging)}return n}};function bde(t,e,n,r){const i=er.getState(t.state);if(i&&!i.dragging){const s=Sde(e.target);let o=-1;if(s){const{left:l,right:u}=s.getBoundingClientRect();e.clientX-l<=n?o=UI(t,e,"left",n):u-e.clientX<=n&&(o=UI(t,e,"right",n))}if(o!=i.activeHandle){if(!r&&o!==-1){const l=t.state.doc.resolve(o),u=l.node(-1),c=vt.get(u),f=l.start(-1);if(c.colCount(l.pos-f)+l.nodeAfter.attrs.colspan-1==c.width-1)return}CL(t,o)}}}a(bde,"handleMouseMove");function wde(t){const e=er.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&CL(t,-1)}a(wde,"handleMouseLeave");function Ede(t,e,n,r){var i;const s=(i=t.dom.ownerDocument.defaultView)!=null?i:window,o=er.getState(t.state);if(!o||o.activeHandle==-1||o.dragging)return!1;const l=t.state.doc.nodeAt(o.activeHandle),u=vde(t,o.activeHandle,l.attrs);t.dispatch(t.state.tr.setMeta(er,{setDragging:{startX:e.clientX,startWidth:u}}));function c(h){s.removeEventListener("mouseup",c),s.removeEventListener("mousemove",f);const p=er.getState(t.state);p?.dragging&&(kde(t,p.activeHandle,zI(p.dragging,h,n)),t.dispatch(t.state.tr.setMeta(er,{setDragging:null})))}a(c,"finish");function f(h){if(!h.which)return c(h);const p=er.getState(t.state);if(p&&p.dragging){const m=zI(p.dragging,h,n);jI(t,p.activeHandle,m,r)}}return a(f,"move"),jI(t,o.activeHandle,u,r),s.addEventListener("mouseup",c),s.addEventListener("mousemove",f),e.preventDefault(),!0}a(Ede,"handleMouseDown2");function vde(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=t.domAtPos(e);let l=s.node.childNodes[s.offset].offsetWidth,u=n;if(r)for(let c=0;c<n;c++)r[c]&&(l-=r[c],u--);return l/u}a(vde,"currentColWidth");function Sde(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}a(Sde,"domCellAround");function UI(t,e,n,r){const i=n=="right"?-r:r,s=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!s)return-1;const{pos:o}=s,l=Tc(t.state.doc.resolve(o));if(!l)return-1;if(n=="right")return l.pos;const u=vt.get(l.node(-1)),c=l.start(-1),f=u.map.indexOf(l.pos-c);return f%u.width==0?-1:c+u.map[f-1]}a(UI,"edgeCell");function zI(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}a(zI,"draggedWidth");function CL(t,e){t.dispatch(t.state.tr.setMeta(er,{setHandle:e}))}a(CL,"updateHandle");function kde(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),s=vt.get(i),o=r.start(-1),l=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1,u=t.state.tr;for(let c=0;c<s.height;c++){const f=c*s.width+l;if(c&&s.map[f]==s.map[f-s.width])continue;const h=s.map[f],p=i.nodeAt(h).attrs,m=p.colspan==1?0:l-s.colCount(h);if(p.colwidth&&p.colwidth[m]==n)continue;const g=p.colwidth?p.colwidth.slice():Ade(p.colspan);g[m]=n,u.setNodeMarkup(o+h,null,{...p,colwidth:g})}u.docChanged&&t.dispatch(u)}a(kde,"updateColumnWidth");function jI(t,e,n,r){const i=t.state.doc.resolve(e),s=i.node(-1),o=i.start(-1),l=vt.get(s).colCount(i.pos-o)+i.nodeAfter.attrs.colspan-1;let u=t.domAtPos(i.start(-1)).node;for(;u&&u.nodeName!="TABLE";)u=u.parentNode;u&&nE(s,u.firstChild,u,r,l,n)}a(jI,"displayColumnWidth");function Ade(t){return Array(t).fill(0)}a(Ade,"zeroes");function Tde(t,e){var n;const r=[],i=t.doc.resolve(e),s=i.node(-1);if(!s)return wt.empty;const o=vt.get(s),l=i.start(-1),u=o.colCount(i.pos-l)+i.nodeAfter.attrs.colspan-1;for(let c=0;c<o.height;c++){const f=u+c*o.width;if((u==o.width-1||o.map[f]!=o.map[f+1])&&(c==0||o.map[f]!=o.map[f-o.width])){const h=o.map[f],p=l+h+s.nodeAt(h).nodeSize-1,m=document.createElement("div");m.className="column-resize-handle",(n=er.getState(t))!=null&&n.dragging&&r.push(Sn.node(l+h,l+h+s.nodeAt(h).nodeSize,{class:"column-resize-dragging"})),r.push(Sn.widget(p,m))}}return wt.create(t.doc,r)}a(Tde,"handleDecorations");function qSe({allowTableNodeSelection:t=!1}={}){return new Ac({key:po,state:{init(){return null},apply(e,n){const r=e.getMeta(po);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:s}=e.mapping.mapResult(n);return i?null:s}},props:{decorations:Yhe,handleDOMEvents:{mousedown:gde},createSelectionBetween(e){return po.getState(e.state)!=null?e.state.selection:null},handleTripleClick:pde,handleKeyDown:dde,handlePaste:mde},appendTransaction(e,n,r){return Zhe(r,ede(r,n),t)}})}a(qSe,"tableEditing");function GSe(t={}){return new Ac({view(e){return new xde(e,t)}})}a(GSe,"dropCursor");class xde{static{a(this,"DropCursorView")}constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=a(o=>{this[i](o)},"handler");return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let l=e.nodeBefore,u=e.nodeAfter;if(l||u){let c=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(c){let f=c.getBoundingClientRect(),h=l?f.bottom:f.top;l&&u&&(h=(h+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:f.left,right:f.right,top:h-this.width/2,bottom:h+this.width/2}}}}if(!r){let l=this.editorView.coordsAtPos(this.cursorPos);r={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let l=i.getBoundingClientRect();s=l.left-i.scrollLeft,o=l.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=y4(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}class Et extends Ee{static{a(this,"GapCursor")}constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Et.valid(r)?new Et(r):Ee.near(r)}content(){return Z.empty}eq(e){return e instanceof Et&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Et(e.resolve(n.pos))}getBookmark(){return new pk(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Cde(e)||!Ide(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Et.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let l=e.node(o);if(n>0?e.indexAfter(o)<l.childCount:e.index(o)>0){s=l.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let u=e.doc.resolve(i);if(Et.valid(u))return u}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!pe.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let l=e.doc.resolve(i);if(Et.valid(l))return l}return null}}}Et.prototype.visible=!1;Et.findFrom=Et.findGapCursorFrom;Ee.jsonID("gapcursor",Et);class pk{static{a(this,"GapBookmark")}constructor(e){this.pos=e}map(e){return new pk(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Et.valid(n)?new Et(n):Ee.near(n)}}function Cde(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}a(Cde,"closedBefore");function Ide(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}a(Ide,"closedAfter");function KSe(){return new Ac({props:{decorations:Dde,createSelectionBetween(t,e,n){return e.pos==n.pos&&Et.valid(n)?new Et(n):null},handleClick:Ode,handleKeyDown:Rde,handleDOMEvents:{beforeinput:Nde}}})}a(KSe,"gapCursor");const Rde=tk({ArrowLeft:Vp("horiz",-1),ArrowRight:Vp("horiz",1),ArrowUp:Vp("vert",-1),ArrowDown:Vp("vert",1)});function Vp(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,l=e>0?o.$to:o.$from,u=o.empty;if(o instanceof Ne){if(!s.endOfTextblock(n)||l.depth==0)return!1;u=!1,l=r.doc.resolve(e>0?l.after():l.before())}let c=Et.findGapCursorFrom(l,e,u);return c?(i&&i(r.tr.setSelection(new Et(c))),!0):!1}}a(Vp,"arrow");function Ode(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Et.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&pe.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Et(r))),!0)}a(Ode,"handleClick");function Nde(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Et))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=W.empty;for(let o=r.length-1;o>=0;o--)i=W.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new Z(i,0,0));return s.setSelection(Ne.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}a(Nde,"beforeinput");function Dde(t){if(!(t.selection instanceof Et))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",wt.create(t.doc,[Sn.widget(t.selection.head,e,{key:"gapcursor"})])}a(Dde,"drawGapCursor");var f0=200,Wt=a(function(){},"RopeSequence");Wt.prototype.append=a(function(e){return e.length?(e=Wt.from(e),!this.length&&e||e.length<f0&&this.leafAppend(e)||this.length<f0&&e.leafPrepend(this)||this.appendInner(e)):this},"append");Wt.prototype.prepend=a(function(e){return e.length?Wt.from(e).append(this):this},"prepend");Wt.prototype.appendInner=a(function(e){return new Mde(this,e)},"appendInner");Wt.prototype.slice=a(function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Wt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))},"slice");Wt.prototype.get=a(function(e){if(!(e<0||e>=this.length))return this.getInner(e)},"get");Wt.prototype.forEach=a(function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)},"forEach");Wt.prototype.map=a(function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i},"map");Wt.from=a(function(e){return e instanceof Wt?e:e&&e.length?new IL(e):Wt.empty},"from");var IL=function(t){function e(r){t.call(this),this.values=r}a(e,"Leaf"),t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=a(function(){return this.values},"flatten"),e.prototype.sliceInner=a(function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},"sliceInner"),e.prototype.getInner=a(function(i){return this.values[i]},"getInner"),e.prototype.forEachInner=a(function(i,s,o,l){for(var u=s;u<o;u++)if(i(this.values[u],l+u)===!1)return!1},"forEachInner"),e.prototype.forEachInvertedInner=a(function(i,s,o,l){for(var u=s-1;u>=o;u--)if(i(this.values[u],l+u)===!1)return!1},"forEachInvertedInner"),e.prototype.leafAppend=a(function(i){if(this.length+i.length<=f0)return new e(this.values.concat(i.flatten()))},"leafAppend"),e.prototype.leafPrepend=a(function(i){if(this.length+i.length<=f0)return new e(i.flatten().concat(this.values))},"leafPrepend"),n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Wt);Wt.empty=new IL([]);var Mde=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return a(e,"Append"),t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=a(function(){return this.left.flatten().concat(this.right.flatten())},"flatten"),e.prototype.getInner=a(function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},"getInner"),e.prototype.forEachInner=a(function(r,i,s,o){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(s,l),o)===!1||s>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,s)-l,o+l)===!1)return!1},"forEachInner"),e.prototype.forEachInvertedInner=a(function(r,i,s,o){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(s,l)-l,o+l)===!1||s<l&&this.left.forEachInvertedInner(r,Math.min(i,l),s,o)===!1)return!1},"forEachInvertedInner"),e.prototype.sliceInner=a(function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},"sliceInner"),e.prototype.leafAppend=a(function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},"leafAppend"),e.prototype.leafPrepend=a(function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},"leafPrepend"),e.prototype.appendInner=a(function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},"appendInner"),e}(Wt);const Pde=500;class Ur{static{a(this,"Branch")}constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,l,u,c=[],f=[];return this.items.forEach((h,p)=>{if(!h.step){i||(i=this.remapping(r,p+1),s=i.maps.length),s--,f.push(h);return}if(i){f.push(new Ai(h.map));let m=h.step.map(i.slice(s)),g;m&&o.maybeStep(m).doc&&(g=o.mapping.maps[o.mapping.maps.length-1],c.push(new Ai(g,void 0,void 0,c.length+f.length))),s--,g&&i.appendMap(g,s)}else o.maybeStep(h.step);if(h.selection)return l=i?h.selection.map(i.slice(s)):h.selection,u=new Ur(this.items.slice(0,r).append(f.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:o,selection:l}}addTransform(e,n,r,i){let s=[],o=this.eventCount,l=this.items,u=!i&&l.length?l.get(l.length-1):null;for(let f=0;f<e.steps.length;f++){let h=e.steps[f].invert(e.docs[f]),p=new Ai(e.mapping.maps[f],h,n),m;(m=u&&u.merge(p))&&(p=m,f?s.pop():l=l.slice(0,l.length-1)),s.push(p),n&&(o++,n=void 0),i||(u=p)}let c=o-r.depth;return c>Fde&&(l=Lde(l,c),o-=c),new Ur(l.append(s),o)}remapping(e,n){let r=new yu;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new Ur(this.items.append(e.map(n=>new Ai(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(p=>{p.selection&&l--},i);let u=n;this.items.forEach(p=>{let m=s.getMirror(--u);if(m==null)return;o=Math.min(o,m);let g=s.maps[m];if(p.step){let y=e.steps[m].invert(e.docs[m]),_=p.selection&&p.selection.map(s.slice(u+1,m));_&&l++,r.push(new Ai(g,y,_))}else r.push(new Ai(g))},i);let c=[];for(let p=n;p<o;p++)c.push(new Ai(s.maps[p]));let f=this.items.slice(0,i).append(c).append(r),h=new Ur(f,l);return h.emptyItemCount()>Pde&&(h=h.compress(this.items.length-r.length)),h}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,l)=>{if(l>=e)i.push(o),o.selection&&s++;else if(o.step){let u=o.step.map(n.slice(r)),c=u&&u.getMap();if(r--,c&&n.appendMap(c,r),u){let f=o.selection&&o.selection.map(n.slice(r));f&&s++;let h=new Ai(c.invert(),u,f),p,m=i.length-1;(p=i.length&&i[m].merge(h))?i[m]=p:i.push(h)}}else o.map&&r--},this.items.length,0),new Ur(Wt.from(i.reverse()),s)}}Ur.empty=new Ur(Wt.empty,0);function Lde(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}a(Lde,"cutOffEvents");class Ai{static{a(this,"Item")}constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ai(n.getMap().invert(),n,this.selection)}}}class ro{static{a(this,"HistoryState")}constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const Fde=20;function $de(t,e,n,r){let i=n.getMeta(Pa),s;if(i)return i.historyState;n.getMeta(zde)&&(t=new ro(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(Pa))return o.getMeta(Pa).redo?new ro(t.done.addTransform(n,void 0,r,wm(e)),t.undone,VI(n.mapping.maps),t.prevTime,t.prevComposition):new ro(t.done,t.undone.addTransform(n,void 0,r,wm(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),u=t.prevTime==0||!o&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!Bde(n,t.prevRanges)),c=o?k_(t.prevRanges,n.mapping):VI(n.mapping.maps);return new ro(t.done.addTransform(n,u?e.selection.getBookmark():void 0,r,wm(e)),Ur.empty,c,n.time,l??t.prevComposition)}else return(s=n.getMeta("rebased"))?new ro(t.done.rebased(n,s),t.undone.rebased(n,s),k_(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new ro(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),k_(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}a($de,"applyTransaction");function Bde(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}a(Bde,"isAdjacentTo");function VI(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,o)=>e.push(s,o));return e}a(VI,"rangesFor");function k_(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}a(k_,"mapRanges");function Ude(t,e,n){let r=wm(e),i=Pa.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),l=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),u=new ro(n?l:s.remaining,n?s.remaining:l,null,0,-1);return s.transform.setSelection(o).setMeta(Pa,{redo:n,historyState:u})}a(Ude,"histTransaction");let A_=!1,WI=null;function wm(t){let e=t.plugins;if(WI!=e){A_=!1,WI=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){A_=!0;break}}return A_}a(wm,"mustPreserveItems");const Pa=new Cd("history"),zde=new Cd("closeHistory");function YSe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ac({key:Pa,state:{init(){return new ro(Ur.empty,Ur.empty,null,0,-1)},apply(e,n,r){return $de(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?jde:r=="historyRedo"?Vde:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}a(YSe,"history");function RL(t,e){return(n,r)=>{let i=Pa.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=Ude(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}a(RL,"buildCommand");const jde=RL(!1,!0),Vde=RL(!0,!0),HI={};function Wde(t){let e=HI[t];if(e)return e;e=HI[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);e.push(r)}for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return e}a(Wde,"getDecodeCache");function Qu(t,e){typeof e!="string"&&(e=Qu.defaultChars);const n=Wde(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(r){let i="";for(let s=0,o=r.length;s<o;s+=3){const l=parseInt(r.slice(s+1,s+3),16);if(l<128){i+=n[l];continue}if((l&224)===192&&s+3<o){const u=parseInt(r.slice(s+4,s+6),16);if((u&192)===128){const c=l<<6&1984|u&63;c<128?i+="":i+=String.fromCharCode(c),s+=3;continue}}if((l&240)===224&&s+6<o){const u=parseInt(r.slice(s+4,s+6),16),c=parseInt(r.slice(s+7,s+9),16);if((u&192)===128&&(c&192)===128){const f=l<<12&61440|u<<6&4032|c&63;f<2048||f>=55296&&f<=57343?i+="":i+=String.fromCharCode(f),s+=6;continue}}if((l&248)===240&&s+9<o){const u=parseInt(r.slice(s+4,s+6),16),c=parseInt(r.slice(s+7,s+9),16),f=parseInt(r.slice(s+10,s+12),16);if((u&192)===128&&(c&192)===128&&(f&192)===128){let h=l<<18&1835008|u<<12&258048|c<<6&4032|f&63;h<65536||h>1114111?i+="":(h-=65536,i+=String.fromCharCode(55296+(h>>10),56320+(h&1023))),s+=9;continue}}i+=""}return i})}a(Qu,"decode$1");Qu.defaultChars=";/?:@&=+$,#";Qu.componentChars="";const qI={};function Hde(t){let e=qI[t];if(e)return e;e=qI[t]=[];for(let n=0;n<128;n++){const r=String.fromCharCode(n);/^[0-9a-z]$/i.test(r)?e.push(r):e.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<t.length;n++)e[t.charCodeAt(n)]=t[n];return e}a(Hde,"getEncodeCache");function Nd(t,e,n){typeof e!="string"&&(n=e,e=Nd.defaultChars),typeof n>"u"&&(n=!0);const r=Hde(e);let i="";for(let s=0,o=t.length;s<o;s++){const l=t.charCodeAt(s);if(n&&l===37&&s+2<o&&/^[0-9a-f]{2}$/i.test(t.slice(s+1,s+3))){i+=t.slice(s,s+3),s+=2;continue}if(l<128){i+=r[l];continue}if(l>=55296&&l<=57343){if(l>=55296&&l<=56319&&s+1<o){const u=t.charCodeAt(s+1);if(u>=56320&&u<=57343){i+=encodeURIComponent(t[s]+t[s+1]),s++;continue}}i+="%EF%BF%BD";continue}i+=encodeURIComponent(t[s])}return i}a(Nd,"encode$2");Nd.defaultChars=";/?:@&=+$,-_.!~*'()#";Nd.componentChars="-_.!~*'()";function mk(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}a(mk,"format");function h0(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}a(h0,"Url");const qde=/^([a-z0-9.+-]+:)/i,Gde=/:[0-9]*$/,Kde=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Yde=["<",">",'"',"`"," ","\r",`
`,"	"],Jde=["{","}","|","\\","^","`"].concat(Yde),Xde=["'"].concat(Jde),GI=["%","/","?",";","#"].concat(Xde),KI=["/","?","#"],Zde=255,YI=/^[+a-z0-9A-Z_-]{0,63}$/,Qde=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,JI={javascript:!0,"javascript:":!0},XI={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function gk(t,e){if(t&&t instanceof h0)return t;const n=new h0;return n.parse(t,e),n}a(gk,"urlParse");h0.prototype.parse=function(t,e){let n,r,i,s=t;if(s=s.trim(),!e&&t.split("#").length===1){const c=Kde.exec(s);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}let o=qde.exec(s);if(o&&(o=o[0],n=o.toLowerCase(),this.protocol=o,s=s.substr(o.length)),(e||o||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i=s.substr(0,2)==="//",i&&!(o&&JI[o])&&(s=s.substr(2),this.slashes=!0)),!JI[o]&&(i||o&&!XI[o])){let c=-1;for(let g=0;g<KI.length;g++)r=s.indexOf(KI[g]),r!==-1&&(c===-1||r<c)&&(c=r);let f,h;c===-1?h=s.lastIndexOf("@"):h=s.lastIndexOf("@",c),h!==-1&&(f=s.slice(0,h),s=s.slice(h+1),this.auth=f),c=-1;for(let g=0;g<GI.length;g++)r=s.indexOf(GI[g]),r!==-1&&(c===-1||r<c)&&(c=r);c===-1&&(c=s.length),s[c-1]===":"&&c--;const p=s.slice(0,c);s=s.slice(c),this.parseHost(p),this.hostname=this.hostname||"";const m=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!m){const g=this.hostname.split(/\./);for(let y=0,_=g.length;y<_;y++){const w=g[y];if(w&&!w.match(YI)){let S="";for(let T=0,N=w.length;T<N;T++)w.charCodeAt(T)>127?S+="x":S+=w[T];if(!S.match(YI)){const T=g.slice(0,y),N=g.slice(y+1),O=w.match(Qde);O&&(T.push(O[1]),N.unshift(O[2])),N.length&&(s=N.join(".")+s),this.hostname=T.join(".");break}}}}this.hostname.length>Zde&&(this.hostname=""),m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const l=s.indexOf("#");l!==-1&&(this.hash=s.substr(l),s=s.slice(0,l));const u=s.indexOf("?");return u!==-1&&(this.search=s.substr(u),s=s.slice(0,u)),s&&(this.pathname=s),XI[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};h0.prototype.parseHost=function(t){let e=Gde.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const epe=Object.freeze(Object.defineProperty({__proto__:null,decode:Qu,encode:Nd,format:mk,parse:gk},Symbol.toStringTag,{value:"Module"})),OL=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,NL=/[\0-\x1F\x7F-\x9F]/,tpe=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,yk=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,DL=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,ML=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,npe=Object.freeze(Object.defineProperty({__proto__:null,Any:OL,Cc:NL,Cf:tpe,P:yk,S:DL,Z:ML},Symbol.toStringTag,{value:"Module"})),rpe=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),ipe=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var T_;const spe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),ope=(T_=String.fromCodePoint)!==null&&T_!==void 0?T_:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),e+=String.fromCharCode(t),e};function ape(t){var e;return t>=55296&&t<=57343||t>1114111?65533:(e=spe.get(t))!==null&&e!==void 0?e:t}a(ape,"replaceCodePoint");var jt;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(jt||(jt={}));const lpe=32;var wo;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(wo||(wo={}));function rE(t){return t>=jt.ZERO&&t<=jt.NINE}a(rE,"isNumber");function upe(t){return t>=jt.UPPER_A&&t<=jt.UPPER_F||t>=jt.LOWER_A&&t<=jt.LOWER_F}a(upe,"isHexadecimalCharacter");function cpe(t){return t>=jt.UPPER_A&&t<=jt.UPPER_Z||t>=jt.LOWER_A&&t<=jt.LOWER_Z||rE(t)}a(cpe,"isAsciiAlphaNumeric");function fpe(t){return t===jt.EQUALS||cpe(t)}a(fpe,"isEntityInAttributeInvalidEnd");var Ft;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(Ft||(Ft={}));var mo;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(mo||(mo={}));class hpe{static{a(this,"EntityDecoder")}constructor(e,n,r){this.decodeTree=e,this.emitCodePoint=n,this.errors=r,this.state=Ft.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=mo.Strict}startEntity(e){this.decodeMode=e,this.state=Ft.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,n){switch(this.state){case Ft.EntityStart:return e.charCodeAt(n)===jt.NUM?(this.state=Ft.NumericStart,this.consumed+=1,this.stateNumericStart(e,n+1)):(this.state=Ft.NamedEntity,this.stateNamedEntity(e,n));case Ft.NumericStart:return this.stateNumericStart(e,n);case Ft.NumericDecimal:return this.stateNumericDecimal(e,n);case Ft.NumericHex:return this.stateNumericHex(e,n);case Ft.NamedEntity:return this.stateNamedEntity(e,n)}}stateNumericStart(e,n){return n>=e.length?-1:(e.charCodeAt(n)|lpe)===jt.LOWER_X?(this.state=Ft.NumericHex,this.consumed+=1,this.stateNumericHex(e,n+1)):(this.state=Ft.NumericDecimal,this.stateNumericDecimal(e,n))}addToNumericResult(e,n,r,i){if(n!==r){const s=r-n;this.result=this.result*Math.pow(i,s)+parseInt(e.substr(n,s),i),this.consumed+=s}}stateNumericHex(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(rE(i)||upe(i))n+=1;else return this.addToNumericResult(e,r,n,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(e,r,n,16),-1}stateNumericDecimal(e,n){const r=n;for(;n<e.length;){const i=e.charCodeAt(n);if(rE(i))n+=1;else return this.addToNumericResult(e,r,n,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(e,r,n,10),-1}emitNumericEntity(e,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===jt.SEMI)this.consumed+=1;else if(this.decodeMode===mo.Strict)return 0;return this.emitCodePoint(ape(this.result),this.consumed),this.errors&&(e!==jt.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,n){const{decodeTree:r}=this;let i=r[this.treeIndex],s=(i&wo.VALUE_LENGTH)>>14;for(;n<e.length;n++,this.excess++){const o=e.charCodeAt(n);if(this.treeIndex=dpe(r,i,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===mo.Attribute&&(s===0||fpe(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],s=(i&wo.VALUE_LENGTH)>>14,s!==0){if(o===jt.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==mo.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:n,decodeTree:r}=this,i=(r[n]&wo.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,i,this.consumed),(e=this.errors)===null||e===void 0||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,n,r){const{decodeTree:i}=this;return this.emitCodePoint(n===1?i[e]&~wo.VALUE_LENGTH:i[e+1],r),n===3&&this.emitCodePoint(i[e+2],r),r}end(){var e;switch(this.state){case Ft.NamedEntity:return this.result!==0&&(this.decodeMode!==mo.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Ft.NumericDecimal:return this.emitNumericEntity(0,2);case Ft.NumericHex:return this.emitNumericEntity(0,3);case Ft.NumericStart:return(e=this.errors)===null||e===void 0||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ft.EntityStart:return 0}}}function PL(t){let e="";const n=new hpe(t,r=>e+=ope(r));return a(function(i,s){let o=0,l=0;for(;(l=i.indexOf("&",l))>=0;){e+=i.slice(o,l),n.startEntity(s);const c=n.write(i,l+1);if(c<0){o=l+n.end();break}o=l+c,l=c===0?o+1:o}const u=e+i.slice(o);return e="",u},"decodeWithTrie")}a(PL,"getDecoder");function dpe(t,e,n,r){const i=(e&wo.BRANCH_LENGTH)>>7,s=e&wo.JUMP_TABLE;if(i===0)return s!==0&&r===s?n:-1;if(s){const u=r-s;return u<0||u>=i?-1:t[n+u]-1}let o=n,l=o+i-1;for(;o<=l;){const u=o+l>>>1,c=t[u];if(c<r)o=u+1;else if(c>r)l=u-1;else return t[u+i]}return-1}a(dpe,"determineBranch");const ppe=PL(rpe);PL(ipe);function LL(t,e=mo.Legacy){return ppe(t,e)}a(LL,"decodeHTML");function mpe(t){return Object.prototype.toString.call(t)}a(mpe,"_class$1");function _k(t){return mpe(t)==="[object String]"}a(_k,"isString$1");const gpe=Object.prototype.hasOwnProperty;function ype(t,e){return gpe.call(t,e)}a(ype,"has");function $y(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(r){t[r]=n[r]})}}),t}a($y,"assign$1");function FL(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))}a(FL,"arrayReplaceAt");function bk(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}a(bk,"isValidEntityCode");function d0(t){if(t>65535){t-=65536;const e=55296+(t>>10),n=56320+(t&1023);return String.fromCharCode(e,n)}return String.fromCharCode(t)}a(d0,"fromCodePoint");const $L=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,_pe=/&([a-z#][a-z0-9]{1,31});/gi,bpe=new RegExp($L.source+"|"+_pe.source,"gi"),wpe=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Epe(t,e){if(e.charCodeAt(0)===35&&wpe.test(e)){const r=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return bk(r)?d0(r):t}const n=LL(t);return n!==t?n:t}a(Epe,"replaceEntityPattern");function vpe(t){return t.indexOf("\\")<0?t:t.replace($L,"$1")}a(vpe,"unescapeMd");function ec(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(bpe,function(e,n,r){return n||Epe(e,r)})}a(ec,"unescapeAll");const Spe=/[&<>"]/,kpe=/[&<>"]/g,Ape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Tpe(t){return Ape[t]}a(Tpe,"replaceUnsafeChar");function Ho(t){return Spe.test(t)?t.replace(kpe,Tpe):t}a(Ho,"escapeHtml");const xpe=/[.?*+^$[\]\\(){}|-]/g;function Cpe(t){return t.replace(xpe,"\\$&")}a(Cpe,"escapeRE$1");function st(t){switch(t){case 9:case 32:return!0}return!1}a(st,"isSpace");function $h(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}a($h,"isWhiteSpace");function Bh(t){return yk.test(t)||DL.test(t)}a(Bh,"isPunctChar");function Uh(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}a(Uh,"isMdAsciiPunct");function By(t){return t=t.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}a(By,"normalizeReference");const Ipe={mdurl:epe,ucmicro:npe},Rpe=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:FL,assign:$y,escapeHtml:Ho,escapeRE:Cpe,fromCodePoint:d0,has:ype,isMdAsciiPunct:Uh,isPunctChar:Bh,isSpace:st,isString:_k,isValidEntityCode:bk,isWhiteSpace:$h,lib:Ipe,normalizeReference:By,unescapeAll:ec,unescapeMd:vpe},Symbol.toStringTag,{value:"Module"}));function Ope(t,e,n){let r,i,s,o;const l=t.posMax,u=t.pos;for(t.pos=e+1,r=1;t.pos<l;){if(s=t.src.charCodeAt(t.pos),s===93&&(r--,r===0)){i=!0;break}if(o=t.pos,t.md.inline.skipToken(t),s===91){if(o===t.pos-1)r++;else if(n)return t.pos=u,-1}}let c=-1;return i&&(c=t.pos),t.pos=u,c}a(Ope,"parseLinkLabel");function Npe(t,e,n){let r,i=e;const s={ok:!1,pos:0,str:""};if(t.charCodeAt(i)===60){for(i++;i<n;){if(r=t.charCodeAt(i),r===10||r===60)return s;if(r===62)return s.pos=i+1,s.str=ec(t.slice(e+1,i)),s.ok=!0,s;if(r===92&&i+1<n){i+=2;continue}i++}return s}let o=0;for(;i<n&&(r=t.charCodeAt(i),!(r===32||r<32||r===127));){if(r===92&&i+1<n){if(t.charCodeAt(i+1)===32)break;i+=2;continue}if(r===40&&(o++,o>32))return s;if(r===41){if(o===0)break;o--}i++}return e===i||o!==0||(s.str=ec(t.slice(e,i)),s.pos=i,s.ok=!0),s}a(Npe,"parseLinkDestination");function Dpe(t,e,n,r){let i,s=e;const o={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)o.str=r.str,o.marker=r.marker;else{if(s>=n)return o;let l=t.charCodeAt(s);if(l!==34&&l!==39&&l!==40)return o;e++,s++,l===40&&(l=41),o.marker=l}for(;s<n;){if(i=t.charCodeAt(s),i===o.marker)return o.pos=s+1,o.str+=ec(t.slice(e,s)),o.ok=!0,o;if(i===40&&o.marker===41)return o;i===92&&s+1<n&&s++,s++}return o.can_continue=!0,o.str+=ec(t.slice(e,s)),o}a(Dpe,"parseLinkTitle");const Mpe=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:Npe,parseLinkLabel:Ope,parseLinkTitle:Dpe},Symbol.toStringTag,{value:"Module"})),Qi={};Qi.code_inline=function(t,e,n,r,i){const s=t[e];return"<code"+i.renderAttrs(s)+">"+Ho(s.content)+"</code>"};Qi.code_block=function(t,e,n,r,i){const s=t[e];return"<pre"+i.renderAttrs(s)+"><code>"+Ho(t[e].content)+`</code></pre>
`};Qi.fence=function(t,e,n,r,i){const s=t[e],o=s.info?ec(s.info).trim():"";let l="",u="";if(o){const f=o.split(/(\s+)/g);l=f[0],u=f.slice(2).join("")}let c;if(n.highlight?c=n.highlight(s.content,l,u)||Ho(s.content):c=Ho(s.content),c.indexOf("<pre")===0)return c+`
`;if(o){const f=s.attrIndex("class"),h=s.attrs?s.attrs.slice():[];f<0?h.push(["class",n.langPrefix+l]):(h[f]=h[f].slice(),h[f][1]+=" "+n.langPrefix+l);const p={attrs:h};return`<pre><code${i.renderAttrs(p)}>${c}</code></pre>
`}return`<pre><code${i.renderAttrs(s)}>${c}</code></pre>
`};Qi.image=function(t,e,n,r,i){const s=t[e];return s.attrs[s.attrIndex("alt")][1]=i.renderInlineAsText(s.children,n,r),i.renderToken(t,e,n)};Qi.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};Qi.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};Qi.text=function(t,e){return Ho(t[e].content)};Qi.html_block=function(t,e){return t[e].content};Qi.html_inline=function(t,e){return t[e].content};function xc(){this.rules=$y({},Qi)}a(xc,"Renderer");xc.prototype.renderAttrs=a(function(e){let n,r,i;if(!e.attrs)return"";for(i="",n=0,r=e.attrs.length;n<r;n++)i+=" "+Ho(e.attrs[n][0])+'="'+Ho(e.attrs[n][1])+'"';return i},"renderAttrs");xc.prototype.renderToken=a(function(e,n,r){const i=e[n];let s="";if(i.hidden)return"";i.block&&i.nesting!==-1&&n&&e[n-1].hidden&&(s+=`
`),s+=(i.nesting===-1?"</":"<")+i.tag,s+=this.renderAttrs(i),i.nesting===0&&r.xhtmlOut&&(s+=" /");let o=!1;if(i.block&&(o=!0,i.nesting===1&&n+1<e.length)){const l=e[n+1];(l.type==="inline"||l.hidden||l.nesting===-1&&l.tag===i.tag)&&(o=!1)}return s+=o?`>
`:">",s},"renderToken");xc.prototype.renderInline=function(t,e,n){let r="";const i=this.rules;for(let s=0,o=t.length;s<o;s++){const l=t[s].type;typeof i[l]<"u"?r+=i[l](t,s,e,n,this):r+=this.renderToken(t,s,e)}return r};xc.prototype.renderInlineAsText=function(t,e,n){let r="";for(let i=0,s=t.length;i<s;i++)switch(t[i].type){case"text":r+=t[i].content;break;case"image":r+=this.renderInlineAsText(t[i].children,e,n);break;case"html_inline":case"html_block":r+=t[i].content;break;case"softbreak":case"hardbreak":r+=`
`;break}return r};xc.prototype.render=function(t,e,n){let r="";const i=this.rules;for(let s=0,o=t.length;s<o;s++){const l=t[s].type;l==="inline"?r+=this.renderInline(t[s].children,e,n):typeof i[l]<"u"?r+=i[l](t,s,e,n,this):r+=this.renderToken(t,s,e,n)}return r};function jn(){this.__rules__=[],this.__cache__=null}a(jn,"Ruler");jn.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};jn.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){e.indexOf(r)<0&&e.push(r)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||t.__cache__[n].push(r.fn))})})};jn.prototype.at=function(t,e,n){const r=this.__find__(t),i=n||{};if(r===-1)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=i.alt||[],this.__cache__=null};jn.prototype.before=function(t,e,n,r){const i=this.__find__(t),s=r||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};jn.prototype.after=function(t,e,n,r){const i=this.__find__(t),s=r||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};jn.prototype.push=function(t,e,n){const r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null};jn.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const i=this.__find__(r);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!0,n.push(r)},this),this.__cache__=null,n};jn.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};jn.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const n=[];return t.forEach(function(r){const i=this.__find__(r);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[i].enabled=!1,n.push(r)},this),this.__cache__=null,n};jn.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};function di(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}a(di,"Token");di.prototype.attrIndex=a(function(e){if(!this.attrs)return-1;const n=this.attrs;for(let r=0,i=n.length;r<i;r++)if(n[r][0]===e)return r;return-1},"attrIndex");di.prototype.attrPush=a(function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},"attrPush");di.prototype.attrSet=a(function(e,n){const r=this.attrIndex(e),i=[e,n];r<0?this.attrPush(i):this.attrs[r]=i},"attrSet");di.prototype.attrGet=a(function(e){const n=this.attrIndex(e);let r=null;return n>=0&&(r=this.attrs[n][1]),r},"attrGet");di.prototype.attrJoin=a(function(e,n){const r=this.attrIndex(e);r<0?this.attrPush([e,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n},"attrJoin");function BL(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}a(BL,"StateCore");BL.prototype.Token=di;const Ppe=/\r\n?|\n/g,Lpe=/\0/g;function Fpe(t){let e;e=t.src.replace(Ppe,`
`),e=e.replace(Lpe,""),t.src=e}a(Fpe,"normalize");function $pe(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}a($pe,"block$1");function Bpe(t){const e=t.tokens;for(let n=0,r=e.length;n<r;n++){const i=e[n];i.type==="inline"&&t.md.inline.parse(i.content,t.md,t.env,i.children)}}a(Bpe,"inline$1");function Upe(t){return/^<a[>\s]/i.test(t)}a(Upe,"isLinkOpen$1");function zpe(t){return/^<\/a\s*>/i.test(t)}a(zpe,"isLinkClose$1");function jpe(t){const e=t.tokens;if(t.md.options.linkify)for(let n=0,r=e.length;n<r;n++){if(e[n].type!=="inline"||!t.md.linkify.pretest(e[n].content))continue;let i=e[n].children,s=0;for(let o=i.length-1;o>=0;o--){const l=i[o];if(l.type==="link_close"){for(o--;i[o].level!==l.level&&i[o].type!=="link_open";)o--;continue}if(l.type==="html_inline"&&(Upe(l.content)&&s>0&&s--,zpe(l.content)&&s++),!(s>0)&&l.type==="text"&&t.md.linkify.test(l.content)){const u=l.content;let c=t.md.linkify.match(u);const f=[];let h=l.level,p=0;c.length>0&&c[0].index===0&&o>0&&i[o-1].type==="text_special"&&(c=c.slice(1));for(let m=0;m<c.length;m++){const g=c[m].url,y=t.md.normalizeLink(g);if(!t.md.validateLink(y))continue;let _=c[m].text;c[m].schema?c[m].schema==="mailto:"&&!/^mailto:/i.test(_)?_=t.md.normalizeLinkText("mailto:"+_).replace(/^mailto:/,""):_=t.md.normalizeLinkText(_):_=t.md.normalizeLinkText("http://"+_).replace(/^http:\/\//,"");const w=c[m].index;if(w>p){const O=new t.Token("text","",0);O.content=u.slice(p,w),O.level=h,f.push(O)}const S=new t.Token("link_open","a",1);S.attrs=[["href",y]],S.level=h++,S.markup="linkify",S.info="auto",f.push(S);const T=new t.Token("text","",0);T.content=_,T.level=h,f.push(T);const N=new t.Token("link_close","a",-1);N.level=--h,N.markup="linkify",N.info="auto",f.push(N),p=c[m].lastIndex}if(p<u.length){const m=new t.Token("text","",0);m.content=u.slice(p),m.level=h,f.push(m)}e[n].children=i=FL(i,o,f)}}}}a(jpe,"linkify$1");const UL=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Vpe=/\((c|tm|r)\)/i,Wpe=/\((c|tm|r)\)/ig,Hpe={c:"",r:"",tm:""};function qpe(t,e){return Hpe[e.toLowerCase()]}a(qpe,"replaceFn");function Gpe(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&(r.content=r.content.replace(Wpe,qpe)),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}a(Gpe,"replace_scoped");function Kpe(t){let e=0;for(let n=t.length-1;n>=0;n--){const r=t[n];r.type==="text"&&!e&&UL.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),r.type==="link_open"&&r.info==="auto"&&e--,r.type==="link_close"&&r.info==="auto"&&e++}}a(Kpe,"replace_rare");function Ype(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(Vpe.test(t.tokens[e].content)&&Gpe(t.tokens[e].children),UL.test(t.tokens[e].content)&&Kpe(t.tokens[e].children))}a(Ype,"replace");const Jpe=/['"]/,ZI=/['"]/g,QI="";function Wp(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}a(Wp,"replaceAt");function Xpe(t,e){let n;const r=[];for(let i=0;i<t.length;i++){const s=t[i],o=t[i].level;for(n=r.length-1;n>=0&&!(r[n].level<=o);n--);if(r.length=n+1,s.type!=="text")continue;let l=s.content,u=0,c=l.length;e:for(;u<c;){ZI.lastIndex=u;const f=ZI.exec(l);if(!f)break;let h=!0,p=!0;u=f.index+1;const m=f[0]==="'";let g=32;if(f.index-1>=0)g=l.charCodeAt(f.index-1);else for(n=i-1;n>=0&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n--)if(t[n].content){g=t[n].content.charCodeAt(t[n].content.length-1);break}let y=32;if(u<c)y=l.charCodeAt(u);else for(n=i+1;n<t.length&&!(t[n].type==="softbreak"||t[n].type==="hardbreak");n++)if(t[n].content){y=t[n].content.charCodeAt(0);break}const _=Uh(g)||Bh(String.fromCharCode(g)),w=Uh(y)||Bh(String.fromCharCode(y)),S=$h(g),T=$h(y);if(T?h=!1:w&&(S||_||(h=!1)),S?p=!1:_&&(T||w||(p=!1)),y===34&&f[0]==='"'&&g>=48&&g<=57&&(p=h=!1),h&&p&&(h=_,p=w),!h&&!p){m&&(s.content=Wp(s.content,f.index,QI));continue}if(p)for(n=r.length-1;n>=0;n--){let N=r[n];if(r[n].level<o)break;if(N.single===m&&r[n].level===o){N=r[n];let O,M;m?(O=e.md.options.quotes[2],M=e.md.options.quotes[3]):(O=e.md.options.quotes[0],M=e.md.options.quotes[1]),s.content=Wp(s.content,f.index,M),t[N.token].content=Wp(t[N.token].content,N.pos,O),u+=M.length-1,N.token===i&&(u+=O.length-1),l=s.content,c=l.length,r.length=n;continue e}}h?r.push({token:i,pos:f.index,single:m,level:o}):p&&m&&(s.content=Wp(s.content,f.index,QI))}}}a(Xpe,"process_inlines");function Zpe(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!Jpe.test(t.tokens[e].content)||Xpe(t.tokens[e].children,t)}a(Zpe,"smartquotes");function Qpe(t){let e,n;const r=t.tokens,i=r.length;for(let s=0;s<i;s++){if(r[s].type!=="inline")continue;const o=r[s].children,l=o.length;for(e=0;e<l;e++)o[e].type==="text_special"&&(o[e].type="text");for(e=n=0;e<l;e++)o[e].type==="text"&&e+1<l&&o[e+1].type==="text"?o[e+1].content=o[e].content+o[e+1].content:(e!==n&&(o[n]=o[e]),n++);e!==n&&(o.length=n)}}a(Qpe,"text_join");const x_=[["normalize",Fpe],["block",$pe],["inline",Bpe],["linkify",jpe],["replacements",Ype],["smartquotes",Zpe],["text_join",Qpe]];function wk(){this.ruler=new jn;for(let t=0;t<x_.length;t++)this.ruler.push(x_[t][0],x_[t][1])}a(wk,"Core");wk.prototype.process=function(t){const e=this.ruler.getRules("");for(let n=0,r=e.length;n<r;n++)e[n](t)};wk.prototype.State=BL;function es(t,e,n,r){this.src=t,this.md=e,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let s=0,o=0,l=0,u=0,c=i.length,f=!1;o<c;o++){const h=i.charCodeAt(o);if(!f)if(st(h)){l++,h===9?u+=4-u%4:u++;continue}else f=!0;(h===10||o===c-1)&&(h!==10&&o++,this.bMarks.push(s),this.eMarks.push(o),this.tShift.push(l),this.sCount.push(u),this.bsCount.push(0),f=!1,l=0,u=0,s=o+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}a(es,"StateBlock");es.prototype.push=function(t,e,n){const r=new di(t,e,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};es.prototype.isEmpty=a(function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},"isEmpty");es.prototype.skipEmptyLines=a(function(e){for(let n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},"skipEmptyLines");es.prototype.skipSpaces=a(function(e){for(let n=this.src.length;e<n;e++){const r=this.src.charCodeAt(e);if(!st(r))break}return e},"skipSpaces");es.prototype.skipSpacesBack=a(function(e,n){if(e<=n)return e;for(;e>n;)if(!st(this.src.charCodeAt(--e)))return e+1;return e},"skipSpacesBack");es.prototype.skipChars=a(function(e,n){for(let r=this.src.length;e<r&&this.src.charCodeAt(e)===n;e++);return e},"skipChars");es.prototype.skipCharsBack=a(function(e,n,r){if(e<=r)return e;for(;e>r;)if(n!==this.src.charCodeAt(--e))return e+1;return e},"skipCharsBack");es.prototype.getLines=a(function(e,n,r,i){if(e>=n)return"";const s=new Array(n-e);for(let o=0,l=e;l<n;l++,o++){let u=0;const c=this.bMarks[l];let f=c,h;for(l+1<n||i?h=this.eMarks[l]+1:h=this.eMarks[l];f<h&&u<r;){const p=this.src.charCodeAt(f);if(st(p))p===9?u+=4-(u+this.bsCount[l])%4:u++;else if(f-c<this.tShift[l])u++;else break;f++}u>r?s[o]=new Array(u-r+1).join(" ")+this.src.slice(f,h):s[o]=this.src.slice(f,h)}return s.join("")},"getLines");es.prototype.Token=di;const eme=65536;function C_(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];return t.src.slice(n,r)}a(C_,"getLine");function eR(t){const e=[],n=t.length;let r=0,i=t.charCodeAt(r),s=!1,o=0,l="";for(;r<n;)i===124&&(s?(l+=t.substring(o,r-1),o=r):(e.push(l+t.substring(o,r)),l="",o=r+1)),s=i===92,r++,i=t.charCodeAt(r);return e.push(l+t.substring(o)),e}a(eR,"escapedSplit");function tme(t,e,n,r){if(e+2>n)return!1;let i=e+1;if(t.sCount[i]<t.blkIndent||t.sCount[i]-t.blkIndent>=4)return!1;let s=t.bMarks[i]+t.tShift[i];if(s>=t.eMarks[i])return!1;const o=t.src.charCodeAt(s++);if(o!==124&&o!==45&&o!==58||s>=t.eMarks[i])return!1;const l=t.src.charCodeAt(s++);if(l!==124&&l!==45&&l!==58&&!st(l)||o===45&&st(l))return!1;for(;s<t.eMarks[i];){const N=t.src.charCodeAt(s);if(N!==124&&N!==45&&N!==58&&!st(N))return!1;s++}let u=C_(t,e+1),c=u.split("|");const f=[];for(let N=0;N<c.length;N++){const O=c[N].trim();if(!O){if(N===0||N===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(O))return!1;O.charCodeAt(O.length-1)===58?f.push(O.charCodeAt(0)===58?"center":"right"):O.charCodeAt(0)===58?f.push("left"):f.push("")}if(u=C_(t,e).trim(),u.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4)return!1;c=eR(u),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop();const h=c.length;if(h===0||h!==f.length)return!1;if(r)return!0;const p=t.parentType;t.parentType="table";const m=t.md.block.ruler.getRules("blockquote"),g=t.push("table_open","table",1),y=[e,0];g.map=y;const _=t.push("thead_open","thead",1);_.map=[e,e+1];const w=t.push("tr_open","tr",1);w.map=[e,e+1];for(let N=0;N<c.length;N++){const O=t.push("th_open","th",1);f[N]&&(O.attrs=[["style","text-align:"+f[N]]]);const M=t.push("inline","",0);M.content=c[N].trim(),M.children=[],t.push("th_close","th",-1)}t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let S,T=0;for(i=e+2;i<n&&!(t.sCount[i]<t.blkIndent);i++){let N=!1;for(let M=0,k=m.length;M<k;M++)if(m[M](t,i,n,!0)){N=!0;break}if(N||(u=C_(t,i).trim(),!u)||t.sCount[i]-t.blkIndent>=4||(c=eR(u),c.length&&c[0]===""&&c.shift(),c.length&&c[c.length-1]===""&&c.pop(),T+=h-c.length,T>eme))break;if(i===e+2){const M=t.push("tbody_open","tbody",1);M.map=S=[e+2,0]}const O=t.push("tr_open","tr",1);O.map=[i,i+1];for(let M=0;M<h;M++){const k=t.push("td_open","td",1);f[M]&&(k.attrs=[["style","text-align:"+f[M]]]);const v=t.push("inline","",0);v.content=c[M]?c[M].trim():"",v.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return S&&(t.push("tbody_close","tbody",-1),S[1]=i),t.push("table_close","table",-1),y[1]=i,t.parentType=p,t.line=i,!0}a(tme,"table");function nme(t,e,n){if(t.sCount[e]-t.blkIndent<4)return!1;let r=e+1,i=r;for(;r<n;){if(t.isEmpty(r)){r++;continue}if(t.sCount[r]-t.blkIndent>=4){r++,i=r;continue}break}t.line=i;const s=t.push("code_block","code",0);return s.content=t.getLines(e,i,4+t.blkIndent,!1)+`
`,s.map=[e,t.line],!0}a(nme,"code");function rme(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||i+3>s)return!1;const o=t.src.charCodeAt(i);if(o!==126&&o!==96)return!1;let l=i;i=t.skipChars(i,o);let u=i-l;if(u<3)return!1;const c=t.src.slice(l,i),f=t.src.slice(i,s);if(o===96&&f.indexOf(String.fromCharCode(o))>=0)return!1;if(r)return!0;let h=e,p=!1;for(;h++,!(h>=n||(i=l=t.bMarks[h]+t.tShift[h],s=t.eMarks[h],i<s&&t.sCount[h]<t.blkIndent));)if(t.src.charCodeAt(i)===o&&!(t.sCount[h]-t.blkIndent>=4)&&(i=t.skipChars(i,o),!(i-l<u)&&(i=t.skipSpaces(i),!(i<s)))){p=!0;break}u=t.sCount[e],t.line=h+(p?1:0);const m=t.push("fence","code",0);return m.info=f,m.content=t.getLines(e+1,h,u,!0),m.markup=c,m.map=[e,t.line],!0}a(rme,"fence");function ime(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];const o=t.lineMax;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(i)!==62)return!1;if(r)return!0;const l=[],u=[],c=[],f=[],h=t.md.block.ruler.getRules("blockquote"),p=t.parentType;t.parentType="blockquote";let m=!1,g;for(g=e;g<n;g++){const T=t.sCount[g]<t.blkIndent;if(i=t.bMarks[g]+t.tShift[g],s=t.eMarks[g],i>=s)break;if(t.src.charCodeAt(i++)===62&&!T){let O=t.sCount[g]+1,M,k;t.src.charCodeAt(i)===32?(i++,O++,k=!1,M=!0):t.src.charCodeAt(i)===9?(M=!0,(t.bsCount[g]+O)%4===3?(i++,O++,k=!1):k=!0):M=!1;let v=O;for(l.push(t.bMarks[g]),t.bMarks[g]=i;i<s;){const A=t.src.charCodeAt(i);if(st(A))A===9?v+=4-(v+t.bsCount[g]+(k?1:0))%4:v++;else break;i++}m=i>=s,u.push(t.bsCount[g]),t.bsCount[g]=t.sCount[g]+1+(M?1:0),c.push(t.sCount[g]),t.sCount[g]=v-O,f.push(t.tShift[g]),t.tShift[g]=i-t.bMarks[g];continue}if(m)break;let N=!1;for(let O=0,M=h.length;O<M;O++)if(h[O](t,g,n,!0)){N=!0;break}if(N){t.lineMax=g,t.blkIndent!==0&&(l.push(t.bMarks[g]),u.push(t.bsCount[g]),f.push(t.tShift[g]),c.push(t.sCount[g]),t.sCount[g]-=t.blkIndent);break}l.push(t.bMarks[g]),u.push(t.bsCount[g]),f.push(t.tShift[g]),c.push(t.sCount[g]),t.sCount[g]=-1}const y=t.blkIndent;t.blkIndent=0;const _=t.push("blockquote_open","blockquote",1);_.markup=">";const w=[e,0];_.map=w,t.md.block.tokenize(t,e,g);const S=t.push("blockquote_close","blockquote",-1);S.markup=">",t.lineMax=o,t.parentType=p,w[1]=t.line;for(let T=0;T<f.length;T++)t.bMarks[T+e]=l[T],t.tShift[T+e]=f[T],t.sCount[T+e]=c[T],t.bsCount[T+e]=u[T];return t.blkIndent=y,!0}a(ime,"blockquote$1");function sme(t,e,n,r){const i=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let s=t.bMarks[e]+t.tShift[e];const o=t.src.charCodeAt(s++);if(o!==42&&o!==45&&o!==95)return!1;let l=1;for(;s<i;){const c=t.src.charCodeAt(s++);if(c!==o&&!st(c))return!1;c===o&&l++}if(l<3)return!1;if(r)return!0;t.line=e+1;const u=t.push("hr","hr",0);return u.map=[e,t.line],u.markup=Array(l+1).join(String.fromCharCode(o)),!0}a(sme,"hr$1");function tR(t,e){const n=t.eMarks[e];let r=t.bMarks[e]+t.tShift[e];const i=t.src.charCodeAt(r++);if(i!==42&&i!==45&&i!==43)return-1;if(r<n){const s=t.src.charCodeAt(r);if(!st(s))return-1}return r}a(tR,"skipBulletListMarker");function nR(t,e){const n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];let i=n;if(i+1>=r)return-1;let s=t.src.charCodeAt(i++);if(s<48||s>57)return-1;for(;;){if(i>=r)return-1;if(s=t.src.charCodeAt(i++),s>=48&&s<=57){if(i-n>=10)return-1;continue}if(s===41||s===46)break;return-1}return i<r&&(s=t.src.charCodeAt(i),!st(s))?-1:i}a(nR,"skipOrderedListMarker");function ome(t,e){const n=t.level+2;for(let r=e+2,i=t.tokens.length-2;r<i;r++)t.tokens[r].level===n&&t.tokens[r].type==="paragraph_open"&&(t.tokens[r+2].hidden=!0,t.tokens[r].hidden=!0,r+=2)}a(ome,"markTightParagraphs");function ame(t,e,n,r){let i,s,o,l,u=e,c=!0;if(t.sCount[u]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[u]-t.listIndent>=4&&t.sCount[u]<t.blkIndent)return!1;let f=!1;r&&t.parentType==="paragraph"&&t.sCount[u]>=t.blkIndent&&(f=!0);let h,p,m;if((m=nR(t,u))>=0){if(h=!0,o=t.bMarks[u]+t.tShift[u],p=Number(t.src.slice(o,m-1)),f&&p!==1)return!1}else if((m=tR(t,u))>=0)h=!1;else return!1;if(f&&t.skipSpaces(m)>=t.eMarks[u])return!1;if(r)return!0;const g=t.src.charCodeAt(m-1),y=t.tokens.length;h?(l=t.push("ordered_list_open","ol",1),p!==1&&(l.attrs=[["start",p]])):l=t.push("bullet_list_open","ul",1);const _=[u,0];l.map=_,l.markup=String.fromCharCode(g);let w=!1;const S=t.md.block.ruler.getRules("list"),T=t.parentType;for(t.parentType="list";u<n;){s=m,i=t.eMarks[u];const N=t.sCount[u]+m-(t.bMarks[u]+t.tShift[u]);let O=N;for(;s<i;){const F=t.src.charCodeAt(s);if(F===9)O+=4-(O+t.bsCount[u])%4;else if(F===32)O++;else break;s++}const M=s;let k;M>=i?k=1:k=O-N,k>4&&(k=1);const v=N+k;l=t.push("list_item_open","li",1),l.markup=String.fromCharCode(g);const A=[u,0];l.map=A,h&&(l.info=t.src.slice(o,m-1));const C=t.tight,x=t.tShift[u],I=t.sCount[u],D=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=v,t.tight=!0,t.tShift[u]=M-t.bMarks[u],t.sCount[u]=O,M>=i&&t.isEmpty(u+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,u,n,!0),(!t.tight||w)&&(c=!1),w=t.line-u>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=D,t.tShift[u]=x,t.sCount[u]=I,t.tight=C,l=t.push("list_item_close","li",-1),l.markup=String.fromCharCode(g),u=t.line,A[1]=u,u>=n||t.sCount[u]<t.blkIndent||t.sCount[u]-t.blkIndent>=4)break;let $=!1;for(let F=0,B=S.length;F<B;F++)if(S[F](t,u,n,!0)){$=!0;break}if($)break;if(h){if(m=nR(t,u),m<0)break;o=t.bMarks[u]+t.tShift[u]}else if(m=tR(t,u),m<0)break;if(g!==t.src.charCodeAt(m-1))break}return h?l=t.push("ordered_list_close","ol",-1):l=t.push("bullet_list_close","ul",-1),l.markup=String.fromCharCode(g),_[1]=u,t.line=u,t.parentType=T,c&&ome(t,y),!0}a(ame,"list$1");function lme(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e],o=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(i)!==91)return!1;function l(S){const T=t.lineMax;if(S>=T||t.isEmpty(S))return null;let N=!1;if(t.sCount[S]-t.blkIndent>3&&(N=!0),t.sCount[S]<0&&(N=!0),!N){const k=t.md.block.ruler.getRules("reference"),v=t.parentType;t.parentType="reference";let A=!1;for(let C=0,x=k.length;C<x;C++)if(k[C](t,S,T,!0)){A=!0;break}if(t.parentType=v,A)return null}const O=t.bMarks[S]+t.tShift[S],M=t.eMarks[S];return t.src.slice(O,M+1)}a(l,"getNextLine");let u=t.src.slice(i,s+1);s=u.length;let c=-1;for(i=1;i<s;i++){const S=u.charCodeAt(i);if(S===91)return!1;if(S===93){c=i;break}else if(S===10){const T=l(o);T!==null&&(u+=T,s=u.length,o++)}else if(S===92&&(i++,i<s&&u.charCodeAt(i)===10)){const T=l(o);T!==null&&(u+=T,s=u.length,o++)}}if(c<0||u.charCodeAt(c+1)!==58)return!1;for(i=c+2;i<s;i++){const S=u.charCodeAt(i);if(S===10){const T=l(o);T!==null&&(u+=T,s=u.length,o++)}else if(!st(S))break}const f=t.md.helpers.parseLinkDestination(u,i,s);if(!f.ok)return!1;const h=t.md.normalizeLink(f.str);if(!t.md.validateLink(h))return!1;i=f.pos;const p=i,m=o,g=i;for(;i<s;i++){const S=u.charCodeAt(i);if(S===10){const T=l(o);T!==null&&(u+=T,s=u.length,o++)}else if(!st(S))break}let y=t.md.helpers.parseLinkTitle(u,i,s);for(;y.can_continue;){const S=l(o);if(S===null)break;u+=S,i=s,s=u.length,o++,y=t.md.helpers.parseLinkTitle(u,i,s,y)}let _;for(i<s&&g!==i&&y.ok?(_=y.str,i=y.pos):(_="",i=p,o=m);i<s;){const S=u.charCodeAt(i);if(!st(S))break;i++}if(i<s&&u.charCodeAt(i)!==10&&_)for(_="",i=p,o=m;i<s;){const S=u.charCodeAt(i);if(!st(S))break;i++}if(i<s&&u.charCodeAt(i)!==10)return!1;const w=By(u.slice(1,c));return w?(r||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[w]>"u"&&(t.env.references[w]={title:_,href:h}),t.line=o),!0):!1}a(lme,"reference");const ume=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],cme="[a-zA-Z_:][a-zA-Z0-9:._-]*",fme="[^\"'=<>`\\x00-\\x20]+",hme="'[^']*'",dme='"[^"]*"',pme="(?:"+fme+"|"+hme+"|"+dme+")",mme="(?:\\s+"+cme+"(?:\\s*=\\s*"+pme+")?)",zL="<[A-Za-z][A-Za-z0-9\\-]*"+mme+"*\\s*\\/?>",jL="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",gme="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",yme="<[?][\\s\\S]*?[?]>",_me="<![A-Za-z][^>]*>",bme="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",wme=new RegExp("^(?:"+zL+"|"+jL+"|"+gme+"|"+yme+"|"+_me+"|"+bme+")"),Eme=new RegExp("^(?:"+zL+"|"+jL+")"),ql=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+ume.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Eme.source+"\\s*$"),/^$/,!1]];function vme(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(i)!==60)return!1;let o=t.src.slice(i,s),l=0;for(;l<ql.length&&!ql[l][0].test(o);l++);if(l===ql.length)return!1;if(r)return ql[l][2];let u=e+1;if(!ql[l][1].test(o)){for(;u<n&&!(t.sCount[u]<t.blkIndent);u++)if(i=t.bMarks[u]+t.tShift[u],s=t.eMarks[u],o=t.src.slice(i,s),ql[l][1].test(o)){o.length!==0&&u++;break}}t.line=u;const c=t.push("html_block","",0);return c.map=[e,u],c.content=t.getLines(e,u,t.blkIndent,!0),!0}a(vme,"html_block");function Sme(t,e,n,r){let i=t.bMarks[e]+t.tShift[e],s=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let o=t.src.charCodeAt(i);if(o!==35||i>=s)return!1;let l=1;for(o=t.src.charCodeAt(++i);o===35&&i<s&&l<=6;)l++,o=t.src.charCodeAt(++i);if(l>6||i<s&&!st(o))return!1;if(r)return!0;s=t.skipSpacesBack(s,i);const u=t.skipCharsBack(s,35,i);u>i&&st(t.src.charCodeAt(u-1))&&(s=u),t.line=e+1;const c=t.push("heading_open","h"+String(l),1);c.markup="########".slice(0,l),c.map=[e,t.line];const f=t.push("inline","",0);f.content=t.src.slice(i,s).trim(),f.map=[e,t.line],f.children=[];const h=t.push("heading_close","h"+String(l),-1);return h.markup="########".slice(0,l),!0}a(Sme,"heading$1");function kme(t,e,n){const r=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const i=t.parentType;t.parentType="paragraph";let s=0,o,l=e+1;for(;l<n&&!t.isEmpty(l);l++){if(t.sCount[l]-t.blkIndent>3)continue;if(t.sCount[l]>=t.blkIndent){let m=t.bMarks[l]+t.tShift[l];const g=t.eMarks[l];if(m<g&&(o=t.src.charCodeAt(m),(o===45||o===61)&&(m=t.skipChars(m,o),m=t.skipSpaces(m),m>=g))){s=o===61?1:2;break}}if(t.sCount[l]<0)continue;let p=!1;for(let m=0,g=r.length;m<g;m++)if(r[m](t,l,n,!0)){p=!0;break}if(p)break}if(!s)return!1;const u=t.getLines(e,l,t.blkIndent,!1).trim();t.line=l+1;const c=t.push("heading_open","h"+String(s),1);c.markup=String.fromCharCode(o),c.map=[e,t.line];const f=t.push("inline","",0);f.content=u,f.map=[e,t.line-1],f.children=[];const h=t.push("heading_close","h"+String(s),-1);return h.markup=String.fromCharCode(o),t.parentType=i,!0}a(kme,"lheading$1");function Ame(t,e,n){const r=t.md.block.ruler.getRules("paragraph"),i=t.parentType;let s=e+1;for(t.parentType="paragraph";s<n&&!t.isEmpty(s);s++){if(t.sCount[s]-t.blkIndent>3||t.sCount[s]<0)continue;let c=!1;for(let f=0,h=r.length;f<h;f++)if(r[f](t,s,n,!0)){c=!0;break}if(c)break}const o=t.getLines(e,s,t.blkIndent,!1).trim();t.line=s;const l=t.push("paragraph_open","p",1);l.map=[e,t.line];const u=t.push("inline","",0);return u.content=o,u.map=[e,t.line],u.children=[],t.push("paragraph_close","p",-1),t.parentType=i,!0}a(Ame,"paragraph$1");const Hp=[["table",tme,["paragraph","reference"]],["code",nme],["fence",rme,["paragraph","reference","blockquote","list"]],["blockquote",ime,["paragraph","reference","blockquote","list"]],["hr",sme,["paragraph","reference","blockquote","list"]],["list",ame,["paragraph","reference","blockquote"]],["reference",lme],["html_block",vme,["paragraph","reference","blockquote"]],["heading",Sme,["paragraph","reference","blockquote"]],["lheading",kme],["paragraph",Ame]];function Uy(){this.ruler=new jn;for(let t=0;t<Hp.length;t++)this.ruler.push(Hp[t][0],Hp[t][1],{alt:(Hp[t][2]||[]).slice()})}a(Uy,"ParserBlock");Uy.prototype.tokenize=function(t,e,n){const r=this.ruler.getRules(""),i=r.length,s=t.md.options.maxNesting;let o=e,l=!1;for(;o<n&&(t.line=o=t.skipEmptyLines(o),!(o>=n||t.sCount[o]<t.blkIndent));){if(t.level>=s){t.line=n;break}const u=t.line;let c=!1;for(let f=0;f<i;f++)if(c=r[f](t,o,n,!1),c){if(u>=t.line)throw new Error("block rule didn't increment state.line");break}if(!c)throw new Error("none of the block rules matched");t.tight=!l,t.isEmpty(t.line-1)&&(l=!0),o=t.line,o<n&&t.isEmpty(o)&&(l=!0,o++,t.line=o)}};Uy.prototype.parse=function(t,e,n,r){if(!t)return;const i=new this.State(t,e,n,r);this.tokenize(i,i.line,i.lineMax)};Uy.prototype.State=es;function Dd(t,e,n,r){this.src=t,this.env=n,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}a(Dd,"StateInline");Dd.prototype.pushPending=function(){const t=new di("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};Dd.prototype.push=function(t,e,n){this.pending&&this.pushPending();const r=new di(t,e,n);let i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(i),r};Dd.prototype.scanDelims=function(t,e){const n=this.posMax,r=this.src.charCodeAt(t),i=t>0?this.src.charCodeAt(t-1):32;let s=t;for(;s<n&&this.src.charCodeAt(s)===r;)s++;const o=s-t,l=s<n?this.src.charCodeAt(s):32,u=Uh(i)||Bh(String.fromCharCode(i)),c=Uh(l)||Bh(String.fromCharCode(l)),f=$h(i),h=$h(l),p=!h&&(!c||f||u),m=!f&&(!u||h||c);return{can_open:p&&(e||!m||u),can_close:m&&(e||!p||c),length:o}};Dd.prototype.Token=di;function Tme(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}a(Tme,"isTerminatorChar");function xme(t,e){let n=t.pos;for(;n<t.posMax&&!Tme(t.src.charCodeAt(n));)n++;return n===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}a(xme,"text$1");const Cme=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function Ime(t,e){if(!t.md.options.linkify||t.linkLevel>0)return!1;const n=t.pos,r=t.posMax;if(n+3>r||t.src.charCodeAt(n)!==58||t.src.charCodeAt(n+1)!==47||t.src.charCodeAt(n+2)!==47)return!1;const i=t.pending.match(Cme);if(!i)return!1;const s=i[1],o=t.md.linkify.matchAtStart(t.src.slice(n-s.length));if(!o)return!1;let l=o.url;if(l.length<=s.length)return!1;l=l.replace(/\*+$/,"");const u=t.md.normalizeLink(l);if(!t.md.validateLink(u))return!1;if(!e){t.pending=t.pending.slice(0,-s.length);const c=t.push("link_open","a",1);c.attrs=[["href",u]],c.markup="linkify",c.info="auto";const f=t.push("text","",0);f.content=t.md.normalizeLinkText(l);const h=t.push("link_close","a",-1);h.markup="linkify",h.info="auto"}return t.pos+=l.length-s.length,!0}a(Ime,"linkify");function Rme(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==10)return!1;const r=t.pending.length-1,i=t.posMax;if(!e)if(r>=0&&t.pending.charCodeAt(r)===32)if(r>=1&&t.pending.charCodeAt(r-1)===32){let s=r-1;for(;s>=1&&t.pending.charCodeAt(s-1)===32;)s--;t.pending=t.pending.slice(0,s),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(n++;n<i&&st(t.src.charCodeAt(n));)n++;return t.pos=n,!0}a(Rme,"newline$1");const Ek=[];for(let t=0;t<256;t++)Ek.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){Ek[t.charCodeAt(0)]=1});function Ome(t,e){let n=t.pos;const r=t.posMax;if(t.src.charCodeAt(n)!==92||(n++,n>=r))return!1;let i=t.src.charCodeAt(n);if(i===10){for(e||t.push("hardbreak","br",0),n++;n<r&&(i=t.src.charCodeAt(n),!!st(i));)n++;return t.pos=n,!0}let s=t.src[n];if(i>=55296&&i<=56319&&n+1<r){const l=t.src.charCodeAt(n+1);l>=56320&&l<=57343&&(s+=t.src[n+1],n++)}const o="\\"+s;if(!e){const l=t.push("text_special","",0);i<256&&Ek[i]!==0?l.content=s:l.content=o,l.markup=o,l.info="escape"}return t.pos=n+1,!0}a(Ome,"escape$3");function Nme(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==96)return!1;const i=n;n++;const s=t.posMax;for(;n<s&&t.src.charCodeAt(n)===96;)n++;const o=t.src.slice(i,n),l=o.length;if(t.backticksScanned&&(t.backticks[l]||0)<=i)return e||(t.pending+=o),t.pos+=l,!0;let u=n,c;for(;(c=t.src.indexOf("`",u))!==-1;){for(u=c+1;u<s&&t.src.charCodeAt(u)===96;)u++;const f=u-c;if(f===l){if(!e){const h=t.push("code_inline","code",0);h.markup=o,h.content=t.src.slice(n,c).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=u,!0}t.backticks[f]=c}return t.backticksScanned=!0,e||(t.pending+=o),t.pos+=l,!0}a(Nme,"backtick");function Dme(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==126)return!1;const i=t.scanDelims(t.pos,!0);let s=i.length;const o=String.fromCharCode(r);if(s<2)return!1;let l;s%2&&(l=t.push("text","",0),l.content=o,s--);for(let u=0;u<s;u+=2)l=t.push("text","",0),l.content=o+o,t.delimiters.push({marker:r,length:0,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0}a(Dme,"strikethrough_tokenize");function rR(t,e){let n;const r=[],i=e.length;for(let s=0;s<i;s++){const o=e[s];if(o.marker!==126||o.end===-1)continue;const l=e[o.end];n=t.tokens[o.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=t.tokens[l.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",t.tokens[l.token-1].type==="text"&&t.tokens[l.token-1].content==="~"&&r.push(l.token-1)}for(;r.length;){const s=r.pop();let o=s+1;for(;o<t.tokens.length&&t.tokens[o].type==="s_close";)o++;o--,s!==o&&(n=t.tokens[o],t.tokens[o]=t.tokens[s],t.tokens[s]=n)}}a(rR,"postProcess$1");function Mme(t){const e=t.tokens_meta,n=t.tokens_meta.length;rR(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&rR(t,e[r].delimiters)}a(Mme,"strikethrough_postProcess");const VL={tokenize:Dme,postProcess:Mme};function Pme(t,e){const n=t.pos,r=t.src.charCodeAt(n);if(e||r!==95&&r!==42)return!1;const i=t.scanDelims(t.pos,r===42);for(let s=0;s<i.length;s++){const o=t.push("text","",0);o.content=String.fromCharCode(r),t.delimiters.push({marker:r,length:i.length,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return t.pos+=i.length,!0}a(Pme,"emphasis_tokenize");function iR(t,e){const n=e.length;for(let r=n-1;r>=0;r--){const i=e[r];if(i.marker!==95&&i.marker!==42||i.end===-1)continue;const s=e[i.end],o=r>0&&e[r-1].end===i.end+1&&e[r-1].marker===i.marker&&e[r-1].token===i.token-1&&e[i.end+1].token===s.token+1,l=String.fromCharCode(i.marker),u=t.tokens[i.token];u.type=o?"strong_open":"em_open",u.tag=o?"strong":"em",u.nesting=1,u.markup=o?l+l:l,u.content="";const c=t.tokens[s.token];c.type=o?"strong_close":"em_close",c.tag=o?"strong":"em",c.nesting=-1,c.markup=o?l+l:l,c.content="",o&&(t.tokens[e[r-1].token].content="",t.tokens[e[i.end+1].token].content="",r--)}}a(iR,"postProcess");function Lme(t){const e=t.tokens_meta,n=t.tokens_meta.length;iR(t,t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&iR(t,e[r].delimiters)}a(Lme,"emphasis_post_process");const WL={tokenize:Pme,postProcess:Lme};function Fme(t,e){let n,r,i,s,o="",l="",u=t.pos,c=!0;if(t.src.charCodeAt(t.pos)!==91)return!1;const f=t.pos,h=t.posMax,p=t.pos+1,m=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(m<0)return!1;let g=m+1;if(g<h&&t.src.charCodeAt(g)===40){for(c=!1,g++;g<h&&(n=t.src.charCodeAt(g),!(!st(n)&&n!==10));g++);if(g>=h)return!1;if(u=g,i=t.md.helpers.parseLinkDestination(t.src,g,t.posMax),i.ok){for(o=t.md.normalizeLink(i.str),t.md.validateLink(o)?g=i.pos:o="",u=g;g<h&&(n=t.src.charCodeAt(g),!(!st(n)&&n!==10));g++);if(i=t.md.helpers.parseLinkTitle(t.src,g,t.posMax),g<h&&u!==g&&i.ok)for(l=i.str,g=i.pos;g<h&&(n=t.src.charCodeAt(g),!(!st(n)&&n!==10));g++);}(g>=h||t.src.charCodeAt(g)!==41)&&(c=!0),g++}if(c){if(typeof t.env.references>"u")return!1;if(g<h&&t.src.charCodeAt(g)===91?(u=g+1,g=t.md.helpers.parseLinkLabel(t,g),g>=0?r=t.src.slice(u,g++):g=m+1):g=m+1,r||(r=t.src.slice(p,m)),s=t.env.references[By(r)],!s)return t.pos=f,!1;o=s.href,l=s.title}if(!e){t.pos=p,t.posMax=m;const y=t.push("link_open","a",1),_=[["href",o]];y.attrs=_,l&&_.push(["title",l]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=g,t.posMax=h,!0}a(Fme,"link$1");function $me(t,e){let n,r,i,s,o,l,u,c,f="";const h=t.pos,p=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91)return!1;const m=t.pos+2,g=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(g<0)return!1;if(s=g+1,s<p&&t.src.charCodeAt(s)===40){for(s++;s<p&&(n=t.src.charCodeAt(s),!(!st(n)&&n!==10));s++);if(s>=p)return!1;for(c=s,l=t.md.helpers.parseLinkDestination(t.src,s,t.posMax),l.ok&&(f=t.md.normalizeLink(l.str),t.md.validateLink(f)?s=l.pos:f=""),c=s;s<p&&(n=t.src.charCodeAt(s),!(!st(n)&&n!==10));s++);if(l=t.md.helpers.parseLinkTitle(t.src,s,t.posMax),s<p&&c!==s&&l.ok)for(u=l.str,s=l.pos;s<p&&(n=t.src.charCodeAt(s),!(!st(n)&&n!==10));s++);else u="";if(s>=p||t.src.charCodeAt(s)!==41)return t.pos=h,!1;s++}else{if(typeof t.env.references>"u")return!1;if(s<p&&t.src.charCodeAt(s)===91?(c=s+1,s=t.md.helpers.parseLinkLabel(t,s),s>=0?i=t.src.slice(c,s++):s=g+1):s=g+1,i||(i=t.src.slice(m,g)),o=t.env.references[By(i)],!o)return t.pos=h,!1;f=o.href,u=o.title}if(!e){r=t.src.slice(m,g);const y=[];t.md.inline.parse(r,t.md,t.env,y);const _=t.push("image","img",0),w=[["src",f],["alt",""]];_.attrs=w,_.children=y,_.content=r,u&&w.push(["title",u])}return t.pos=s,t.posMax=p,!0}a($me,"image");const Bme=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Ume=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function zme(t,e){let n=t.pos;if(t.src.charCodeAt(n)!==60)return!1;const r=t.pos,i=t.posMax;for(;;){if(++n>=i)return!1;const o=t.src.charCodeAt(n);if(o===60)return!1;if(o===62)break}const s=t.src.slice(r+1,n);if(Ume.test(s)){const o=t.md.normalizeLink(s);if(!t.md.validateLink(o))return!1;if(!e){const l=t.push("link_open","a",1);l.attrs=[["href",o]],l.markup="autolink",l.info="auto";const u=t.push("text","",0);u.content=t.md.normalizeLinkText(s);const c=t.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return t.pos+=s.length+2,!0}if(Bme.test(s)){const o=t.md.normalizeLink("mailto:"+s);if(!t.md.validateLink(o))return!1;if(!e){const l=t.push("link_open","a",1);l.attrs=[["href",o]],l.markup="autolink",l.info="auto";const u=t.push("text","",0);u.content=t.md.normalizeLinkText(s);const c=t.push("link_close","a",-1);c.markup="autolink",c.info="auto"}return t.pos+=s.length+2,!0}return!1}a(zme,"autolink$1");function jme(t){return/^<a[>\s]/i.test(t)}a(jme,"isLinkOpen");function Vme(t){return/^<\/a\s*>/i.test(t)}a(Vme,"isLinkClose");function Wme(t){const e=t|32;return e>=97&&e<=122}a(Wme,"isLetter");function Hme(t,e){if(!t.md.options.html)return!1;const n=t.posMax,r=t.pos;if(t.src.charCodeAt(r)!==60||r+2>=n)return!1;const i=t.src.charCodeAt(r+1);if(i!==33&&i!==63&&i!==47&&!Wme(i))return!1;const s=t.src.slice(r).match(wme);if(!s)return!1;if(!e){const o=t.push("html_inline","",0);o.content=s[0],jme(o.content)&&t.linkLevel++,Vme(o.content)&&t.linkLevel--}return t.pos+=s[0].length,!0}a(Hme,"html_inline");const qme=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Gme=/^&([a-z][a-z0-9]{1,31});/i;function Kme(t,e){const n=t.pos,r=t.posMax;if(t.src.charCodeAt(n)!==38||n+1>=r)return!1;if(t.src.charCodeAt(n+1)===35){const s=t.src.slice(n).match(qme);if(s){if(!e){const o=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),l=t.push("text_special","",0);l.content=bk(o)?d0(o):d0(65533),l.markup=s[0],l.info="entity"}return t.pos+=s[0].length,!0}}else{const s=t.src.slice(n).match(Gme);if(s){const o=LL(s[0]);if(o!==s[0]){if(!e){const l=t.push("text_special","",0);l.content=o,l.markup=s[0],l.info="entity"}return t.pos+=s[0].length,!0}}}return!1}a(Kme,"entity");function sR(t){const e={},n=t.length;if(!n)return;let r=0,i=-2;const s=[];for(let o=0;o<n;o++){const l=t[o];if(s.push(0),(t[r].marker!==l.marker||i!==l.token-1)&&(r=o),i=l.token,l.length=l.length||0,!l.close)continue;e.hasOwnProperty(l.marker)||(e[l.marker]=[-1,-1,-1,-1,-1,-1]);const u=e[l.marker][(l.open?3:0)+l.length%3];let c=r-s[r]-1,f=c;for(;c>u;c-=s[c]+1){const h=t[c];if(h.marker===l.marker&&h.open&&h.end<0){let p=!1;if((h.close||l.open)&&(h.length+l.length)%3===0&&(h.length%3!==0||l.length%3!==0)&&(p=!0),!p){const m=c>0&&!t[c-1].open?s[c-1]+1:0;s[o]=o-c+m,s[c]=m,l.open=!1,h.end=o,h.close=!1,f=-1,i=-2;break}}}f!==-1&&(e[l.marker][(l.open?3:0)+(l.length||0)%3]=f)}}a(sR,"processDelimiters");function Yme(t){const e=t.tokens_meta,n=t.tokens_meta.length;sR(t.delimiters);for(let r=0;r<n;r++)e[r]&&e[r].delimiters&&sR(e[r].delimiters)}a(Yme,"link_pairs");function Jme(t){let e,n,r=0;const i=t.tokens,s=t.tokens.length;for(e=n=0;e<s;e++)i[e].nesting<0&&r--,i[e].level=r,i[e].nesting>0&&r++,i[e].type==="text"&&e+1<s&&i[e+1].type==="text"?i[e+1].content=i[e].content+i[e+1].content:(e!==n&&(i[n]=i[e]),n++);e!==n&&(i.length=n)}a(Jme,"fragments_join");const I_=[["text",xme],["linkify",Ime],["newline",Rme],["escape",Ome],["backticks",Nme],["strikethrough",VL.tokenize],["emphasis",WL.tokenize],["link",Fme],["image",$me],["autolink",zme],["html_inline",Hme],["entity",Kme]],R_=[["balance_pairs",Yme],["strikethrough",VL.postProcess],["emphasis",WL.postProcess],["fragments_join",Jme]];function Md(){this.ruler=new jn;for(let t=0;t<I_.length;t++)this.ruler.push(I_[t][0],I_[t][1]);this.ruler2=new jn;for(let t=0;t<R_.length;t++)this.ruler2.push(R_[t][0],R_[t][1])}a(Md,"ParserInline");Md.prototype.skipToken=function(t){const e=t.pos,n=this.ruler.getRules(""),r=n.length,i=t.md.options.maxNesting,s=t.cache;if(typeof s[e]<"u"){t.pos=s[e];return}let o=!1;if(t.level<i){for(let l=0;l<r;l++)if(t.level++,o=n[l](t,!0),t.level--,o){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;o||t.pos++,s[e]=t.pos};Md.prototype.tokenize=function(t){const e=this.ruler.getRules(""),n=e.length,r=t.posMax,i=t.md.options.maxNesting;for(;t.pos<r;){const s=t.pos;let o=!1;if(t.level<i){for(let l=0;l<n;l++)if(o=e[l](t,!1),o){if(s>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(o){if(t.pos>=r)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};Md.prototype.parse=function(t,e,n,r){const i=new this.State(t,e,n,r);this.tokenize(i);const s=this.ruler2.getRules(""),o=s.length;for(let l=0;l<o;l++)s[l](i)};Md.prototype.State=Dd;function Xme(t){const e={};t=t||{},e.src_Any=OL.source,e.src_Cc=NL.source,e.src_Z=ML.source,e.src_P=yk.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}a(Xme,"reFactory");function iE(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}a(iE,"assign");function zy(t){return Object.prototype.toString.call(t)}a(zy,"_class");function Zme(t){return zy(t)==="[object String]"}a(Zme,"isString");function Qme(t){return zy(t)==="[object Object]"}a(Qme,"isObject");function ege(t){return zy(t)==="[object RegExp]"}a(ege,"isRegExp");function oR(t){return zy(t)==="[object Function]"}a(oR,"isFunction");function tge(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}a(tge,"escapeRE");const HL={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function nge(t){return Object.keys(t||{}).reduce(function(e,n){return e||HL.hasOwnProperty(n)},!1)}a(nge,"isOptionsObj");const rge={"http:":{validate:a(function(t,e,n){const r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0},"validate")},"https:":"http:","ftp:":"http:","//":{validate:a(function(t,e,n){const r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0},"validate")},"mailto:":{validate:a(function(t,e,n){const r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0},"validate")}},ige="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",sge="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function oge(t){t.__index__=-1,t.__text_cache__=""}a(oge,"resetScanCache");function age(t){return function(e,n){const r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}a(age,"createValidator");function aR(){return function(t,e){e.normalize(t)}}a(aR,"createNormalizer");function p0(t){const e=t.re=Xme(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(ige),n.push(e.src_xn),e.src_tlds=n.join("|");function r(l){return l.replace("%TLDS%",e.src_tlds)}a(r,"untpl"),e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const i=[];t.__compiled__={};function s(l,u){throw new Error('(LinkifyIt) Invalid schema "'+l+'": '+u)}a(s,"schemaError"),Object.keys(t.__schemas__).forEach(function(l){const u=t.__schemas__[l];if(u===null)return;const c={validate:null,link:null};if(t.__compiled__[l]=c,Qme(u)){ege(u.validate)?c.validate=age(u.validate):oR(u.validate)?c.validate=u.validate:s(l,u),oR(u.normalize)?c.normalize=u.normalize:u.normalize?s(l,u):c.normalize=aR();return}if(Zme(u)){i.push(l);return}s(l,u)}),i.forEach(function(l){t.__compiled__[t.__schemas__[l]]&&(t.__compiled__[l].validate=t.__compiled__[t.__schemas__[l]].validate,t.__compiled__[l].normalize=t.__compiled__[t.__schemas__[l]].normalize)}),t.__compiled__[""]={validate:null,normalize:aR()};const o=Object.keys(t.__compiled__).filter(function(l){return l.length>0&&t.__compiled__[l]}).map(tge).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+o+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+o+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),oge(t)}a(p0,"compile");function lge(t,e){const n=t.__index__,r=t.__last_index__,i=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=i,this.text=i,this.url=i}a(lge,"Match");function sE(t,e){const n=new lge(t,e);return t.__compiled__[n.schema].normalize(n,t),n}a(sE,"createMatch");function lr(t,e){if(!(this instanceof lr))return new lr(t,e);e||nge(t)&&(e=t,t={}),this.__opts__=iE({},HL,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=iE({},rge,t),this.__compiled__={},this.__tlds__=sge,this.__tlds_replaced__=!1,this.re={},p0(this)}a(lr,"LinkifyIt");lr.prototype.add=a(function(e,n){return this.__schemas__[e]=n,p0(this),this},"add");lr.prototype.set=a(function(e){return this.__opts__=iE(this.__opts__,e),this},"set");lr.prototype.test=a(function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,r,i,s,o,l,u,c,f;if(this.re.schema_test.test(e)){for(u=this.re.schema_search,u.lastIndex=0;(n=u.exec(e))!==null;)if(s=this.testSchemaAt(e,n[2],u.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(o=r.index+r[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(f=e.indexOf("@"),f>=0&&(i=e.match(this.re.email_fuzzy))!==null&&(o=i.index+i[1].length,l=i.index+i[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&l>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=l))),this.__index__>=0},"test");lr.prototype.pretest=a(function(e){return this.re.pretest.test(e)},"pretest");lr.prototype.testSchemaAt=a(function(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0},"testSchemaAt");lr.prototype.match=a(function(e){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(sE(this,r)),r=this.__last_index__);let i=r?e.slice(r):e;for(;this.test(i);)n.push(sE(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null},"match");lr.prototype.matchAtStart=a(function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const r=this.testSchemaAt(e,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,sE(this,0)):null},"matchAtStart");lr.prototype.tlds=a(function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,i,s){return r!==s[i-1]}).reverse(),p0(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,p0(this),this)},"tlds");lr.prototype.normalize=a(function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)},"normalize");lr.prototype.onCompile=a(function(){},"onCompile");const wu=2147483647,Oi=36,vk=1,zh=26,uge=38,cge=700,qL=72,GL=128,KL="-",fge=/^xn--/,hge=/[^\0-\x7F]/,dge=/[\x2E\u3002\uFF0E\uFF61]/g,pge={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O_=Oi-vk,Ni=Math.floor,N_=String.fromCharCode;function io(t){throw new RangeError(pge[t])}a(io,"error");function mge(t,e){const n=[];let r=t.length;for(;r--;)n[r]=e(t[r]);return n}a(mge,"map");function YL(t,e){const n=t.split("@");let r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(dge,".");const i=t.split("."),s=mge(i,e).join(".");return r+s}a(YL,"mapDomain");function JL(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}a(JL,"ucs2decode");const gge=a(t=>String.fromCodePoint(...t),"ucs2encode"),yge=a(function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:Oi},"basicToDigit"),lR=a(function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},"digitToBasic"),XL=a(function(t,e,n){let r=0;for(t=n?Ni(t/cge):t>>1,t+=Ni(t/e);t>O_*zh>>1;r+=Oi)t=Ni(t/O_);return Ni(r+(O_+1)*t/(t+uge))},"adapt"),ZL=a(function(t){const e=[],n=t.length;let r=0,i=GL,s=qL,o=t.lastIndexOf(KL);o<0&&(o=0);for(let l=0;l<o;++l)t.charCodeAt(l)>=128&&io("not-basic"),e.push(t.charCodeAt(l));for(let l=o>0?o+1:0;l<n;){const u=r;for(let f=1,h=Oi;;h+=Oi){l>=n&&io("invalid-input");const p=yge(t.charCodeAt(l++));p>=Oi&&io("invalid-input"),p>Ni((wu-r)/f)&&io("overflow"),r+=p*f;const m=h<=s?vk:h>=s+zh?zh:h-s;if(p<m)break;const g=Oi-m;f>Ni(wu/g)&&io("overflow"),f*=g}const c=e.length+1;s=XL(r-u,c,u==0),Ni(r/c)>wu-i&&io("overflow"),i+=Ni(r/c),r%=c,e.splice(r++,0,i)}return String.fromCodePoint(...e)},"decode"),QL=a(function(t){const e=[];t=JL(t);const n=t.length;let r=GL,i=0,s=qL;for(const u of t)u<128&&e.push(N_(u));const o=e.length;let l=o;for(o&&e.push(KL);l<n;){let u=wu;for(const f of t)f>=r&&f<u&&(u=f);const c=l+1;u-r>Ni((wu-i)/c)&&io("overflow"),i+=(u-r)*c,r=u;for(const f of t)if(f<r&&++i>wu&&io("overflow"),f===r){let h=i;for(let p=Oi;;p+=Oi){const m=p<=s?vk:p>=s+zh?zh:p-s;if(h<m)break;const g=h-m,y=Oi-m;e.push(N_(lR(m+g%y,0))),h=Ni(g/y)}e.push(N_(lR(h,0))),s=XL(i,c,l===o),i=0,++l}++i,++r}return e.join("")},"encode$1"),_ge=a(function(t){return YL(t,function(e){return fge.test(e)?ZL(e.slice(4).toLowerCase()):e})},"toUnicode"),bge=a(function(t){return YL(t,function(e){return hge.test(e)?"xn--"+QL(e):e})},"toASCII"),eF={version:"2.3.1",ucs2:{decode:JL,encode:gge},decode:ZL,encode:QL,toASCII:bge,toUnicode:_ge},wge={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},Ege={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},vge={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},Sge={default:wge,zero:Ege,commonmark:vge},kge=/^(vbscript|javascript|file|data):/,Age=/^data:image\/(gif|png|jpeg|webp);/;function Tge(t){const e=t.trim().toLowerCase();return kge.test(e)?Age.test(e):!0}a(Tge,"validateLink");const tF=["http:","https:","mailto:"];function xge(t){const e=gk(t,!0);if(e.hostname&&(!e.protocol||tF.indexOf(e.protocol)>=0))try{e.hostname=eF.toASCII(e.hostname)}catch{}return Nd(mk(e))}a(xge,"normalizeLink");function Cge(t){const e=gk(t,!0);if(e.hostname&&(!e.protocol||tF.indexOf(e.protocol)>=0))try{e.hostname=eF.toUnicode(e.hostname)}catch{}return Qu(mk(e),Qu.defaultChars+"%")}a(Cge,"normalizeLinkText");function Cr(t,e){if(!(this instanceof Cr))return new Cr(t,e);e||_k(t)||(e=t||{},t="default"),this.inline=new Md,this.block=new Uy,this.core=new wk,this.renderer=new xc,this.linkify=new lr,this.validateLink=Tge,this.normalizeLink=xge,this.normalizeLinkText=Cge,this.utils=Rpe,this.helpers=$y({},Mpe),this.options={},this.configure(t),e&&this.set(e)}a(Cr,"MarkdownIt");Cr.prototype.set=function(t){return $y(this.options,t),this};Cr.prototype.configure=function(t){const e=this;if(_k(t)){const n=t;if(t=Sge[n],!t)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};Cr.prototype.enable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));const r=t.filter(function(i){return n.indexOf(i)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};Cr.prototype.disable=function(t,e){let n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){n=n.concat(this[i].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));const r=t.filter(function(i){return n.indexOf(i)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};Cr.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};Cr.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");const n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};Cr.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};Cr.prototype.parseInline=function(t,e){const n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};Cr.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};const Ige=new tce({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["div",["hr"]]}},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(t){return["h"+t.attrs.level,0]}},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:a(t=>({params:t.getAttribute("data-params")||""}),"getAttrs")}],toDOM(t){return["pre",t.attrs.params?{"data-params":t.attrs.params}:{},["code",0]]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1,tight:t.hasAttribute("data-tight")}}}],toDOM(t){return["ol",{start:t.attrs.order==1?null:t.attrs.order,"data-tight":t.attrs.tight?"true":null},0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:a(t=>({tight:t.hasAttribute("data-tight")}),"getAttrs")}],toDOM(t){return["ul",{"data-tight":t.attrs.tight?"true":null},0]}},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM(){return["li",0]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(t){return{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")}}}],toDOM(t){return["img",t.attrs]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:a(t=>t.type.name=="em","clearMark")}],toDOM(){return["em"]}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:a(t=>t.style.fontWeight!="normal"&&null,"getAttrs")},{style:"font-weight=400",clearMark:a(t=>t.type.name=="strong","clearMark")},{style:"font-weight",getAttrs:a(t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null,"getAttrs")}],toDOM(){return["strong"]}},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(t){return{href:t.getAttribute("href"),title:t.getAttribute("title")}}}],toDOM(t){return["a",t.attrs]}},code:{parseDOM:[{tag:"code"}],toDOM(){return["code"]}}}});function Rge(t,e){if(t.isText&&e.isText&&je.sameSet(t.marks,e.marks))return t.withText(t.text+e.text)}a(Rge,"maybeMerge");class Oge{static{a(this,"MarkdownParseState")}constructor(e,n){this.schema=e,this.tokenHandlers=n,this.stack=[{type:e.topNodeType,attrs:null,content:[],marks:je.none}]}top(){return this.stack[this.stack.length-1]}push(e){this.stack.length&&this.top().content.push(e)}addText(e){if(!e)return;let n=this.top(),r=n.content,i=r[r.length-1],s=this.schema.text(e,n.marks),o;i&&(o=Rge(i,s))?r[r.length-1]=o:r.push(s)}openMark(e){let n=this.top();n.marks=e.addToSet(n.marks)}closeMark(e){let n=this.top();n.marks=e.removeFromSet(n.marks)}parseTokens(e){for(let n=0;n<e.length;n++){let r=e[n],i=this.tokenHandlers[r.type];if(!i)throw new Error("Token type `"+r.type+"` not supported by Markdown parser");i(this,r,e,n)}}addNode(e,n,r){let i=this.top(),s=e.createAndFill(n,r,i?i.marks:[]);return s?(this.push(s),s):null}openNode(e,n){this.stack.push({type:e,attrs:n,content:[],marks:je.none})}closeNode(){let e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)}}function sf(t,e,n,r){return t.getAttrs?t.getAttrs(e,n,r):t.attrs instanceof Function?t.attrs(e):t.attrs}a(sf,"attrs");function D_(t,e){return t.noCloseToken||e=="code_inline"||e=="code_block"||e=="fence"}a(D_,"noCloseToken");function uR(t){return t[t.length-1]==`
`?t.slice(0,t.length-1):t}a(uR,"withoutTrailingNewline");function M_(){}a(M_,"noOp");function Nge(t,e){let n=Object.create(null);for(let r in e){let i=e[r];if(i.block){let s=t.nodeType(i.block);D_(i,r)?n[r]=(o,l,u,c)=>{o.openNode(s,sf(i,l,u,c)),o.addText(uR(l.content)),o.closeNode()}:(n[r+"_open"]=(o,l,u,c)=>o.openNode(s,sf(i,l,u,c)),n[r+"_close"]=o=>o.closeNode())}else if(i.node){let s=t.nodeType(i.node);n[r]=(o,l,u,c)=>o.addNode(s,sf(i,l,u,c))}else if(i.mark){let s=t.marks[i.mark];D_(i,r)?n[r]=(o,l,u,c)=>{o.openMark(s.create(sf(i,l,u,c))),o.addText(uR(l.content)),o.closeMark(s)}:(n[r+"_open"]=(o,l,u,c)=>o.openMark(s.create(sf(i,l,u,c))),n[r+"_close"]=o=>o.closeMark(s))}else if(i.ignore)D_(i,r)?n[r]=M_:(n[r+"_open"]=M_,n[r+"_close"]=M_);else throw new RangeError("Unrecognized parsing spec "+JSON.stringify(i))}return n.text=(r,i)=>r.addText(i.content),n.inline=(r,i)=>r.parseTokens(i.children),n.softbreak=n.softbreak||(r=>r.addText(" ")),n}a(Nge,"tokenHandlers");class Dge{static{a(this,"MarkdownParser")}constructor(e,n,r){this.schema=e,this.tokenizer=n,this.tokens=r,this.tokenHandlers=Nge(e,r)}parse(e,n={}){let r=new Oge(this.schema,this.tokenHandlers),i;r.parseTokens(this.tokenizer.parse(e,n));do i=r.closeNode();while(r.stack.length);return i||this.schema.topNodeType.createAndFill()}}function cR(t,e){for(;++e<t.length;)if(t[e].type!="list_item_open")return t[e].hidden;return!1}a(cR,"listIsTight");new Dge(Ige,Cr("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:a((t,e,n)=>({tight:cR(e,n)}),"getAttrs")},ordered_list:{block:"ordered_list",getAttrs:a((t,e,n)=>({order:+t.attrGet("start")||1,tight:cR(e,n)}),"getAttrs")},heading:{block:"heading",getAttrs:a(t=>({level:+t.tag.slice(1)}),"getAttrs")},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:a(t=>({params:t.info||""}),"getAttrs"),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:a(t=>({src:t.attrGet("src"),title:t.attrGet("title")||null,alt:t.children[0]&&t.children[0].content||null}),"getAttrs")},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:a(t=>({href:t.attrGet("href"),title:t.attrGet("title")||null}),"getAttrs")},code_inline:{mark:"code",noCloseToken:!0}});const Mge={open:"",close:"",mixable:!0};class Pge{static{a(this,"MarkdownSerializer")}constructor(e,n,r={}){this.nodes=e,this.marks=n,this.options=r}serialize(e,n={}){n=Object.assign({},this.options,n);let r=new Fge(this.nodes,this.marks,n);return r.renderContent(e),r.out}}const JSe=new Pge({blockquote(t,e){t.wrapBlock("> ",null,e,()=>t.renderContent(e))},code_block(t,e){const n=e.textContent.match(/`{3,}/gm),r=n?n.sort().slice(-1)[0]+"`":"```";t.write(r+(e.attrs.params||"")+`
`),t.text(e.textContent,!1),t.write(`
`),t.write(r),t.closeBlock(e)},heading(t,e){t.write(t.repeat("#",e.attrs.level)+" "),t.renderInline(e,!1),t.closeBlock(e)},horizontal_rule(t,e){t.write(e.attrs.markup||"---"),t.closeBlock(e)},bullet_list(t,e){t.renderList(e,"  ",()=>(e.attrs.bullet||"*")+" ")},ordered_list(t,e){let n=e.attrs.order||1,r=String(n+e.childCount-1).length,i=t.repeat(" ",r+2);t.renderList(e,i,s=>{let o=String(n+s);return t.repeat(" ",r-o.length)+o+". "})},list_item(t,e){t.renderContent(e)},paragraph(t,e){t.renderInline(e),t.closeBlock(e)},image(t,e){t.write("!["+t.esc(e.attrs.alt||"")+"]("+e.attrs.src.replace(/[\(\)]/g,"\\$&")+(e.attrs.title?' "'+e.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(t,e,n,r){for(let i=r+1;i<n.childCount;i++)if(n.child(i).type!=e.type){t.write(`\\
`);return}},text(t,e){t.text(e.text,!t.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open(t,e,n,r){return t.inAutolink=Lge(e,n,r),t.inAutolink?"<":"["},close(t,e,n,r){let{inAutolink:i}=t;return t.inAutolink=void 0,i?">":"]("+e.attrs.href.replace(/[\(\)"]/g,"\\$&")+(e.attrs.title?` "${e.attrs.title.replace(/"/g,'\\"')}"`:"")+")"},mixable:!0},code:{open(t,e,n,r){return fR(n.child(r),-1)},close(t,e,n,r){return fR(n.child(r-1),1)},escape:!1}});function fR(t,e){let n=/`+/g,r,i=0;if(t.isText)for(;r=n.exec(t.text);)i=Math.max(i,r[0].length);let s=i>0&&e>0?" `":"`";for(let o=0;o<i;o++)s+="`";return i>0&&e<0&&(s+=" "),s}a(fR,"backticksFor");function Lge(t,e,n){if(t.attrs.title||!/^\w+:/.test(t.attrs.href))return!1;let r=e.child(n);return!r.isText||r.text!=t.attrs.href||r.marks[r.marks.length-1]!=t?!1:n==e.childCount-1||!t.isInSet(e.child(n+1).marks)}a(Lge,"isPlainURL");let Fge=class{static{a(this,"MarkdownSerializerState")}constructor(e,n,r){this.nodes=e,this.marks=n,this.options=r,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,typeof this.options.tightLists>"u"&&(this.options.tightLists=!1),typeof this.options.hardBreakNodeName>"u"&&(this.options.hardBreakNodeName="hard_break")}flushClose(e=2){if(this.closed){if(this.atBlank()||(this.out+=`
`),e>1){let n=this.delim,r=/\s+$/.exec(n);r&&(n=n.slice(0,n.length-r[0].length));for(let i=1;i<e;i++)this.out+=n+`
`}this.closed=null}}getMark(e){let n=this.marks[e];if(!n){if(this.options.strict!==!1)throw new Error(`Mark type \`${e}\` not supported by Markdown renderer`);n=Mge}return n}wrapBlock(e,n,r,i){let s=this.delim;this.write(n??e),this.delim+=e,i(),this.delim=s,this.closeBlock(r)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+=`
`)}write(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)}closeBlock(e){this.closed=e}text(e,n=!0){let r=e.split(`
`);for(let i=0;i<r.length;i++)this.write(),!n&&r[i][0]=="["&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=n?this.esc(r[i],this.atBlockStart):r[i],i!=r.length-1&&(this.out+=`
`)}render(e,n,r){if(this.nodes[e.type.name])this.nodes[e.type.name](this,e,n,r);else{if(this.options.strict!==!1)throw new Error("Token type `"+e.type.name+"` not supported by Markdown renderer");e.type.isLeaf||(e.type.inlineContent?this.renderInline(e):this.renderContent(e),e.isBlock&&this.closeBlock(e))}}renderContent(e){e.forEach((n,r,i)=>this.render(n,e,i))}renderInline(e,n=!0){this.atBlockStart=n;let r=[],i="",s=a((o,l,u)=>{let c=o?o.marks:[];o&&o.type.name===this.options.hardBreakNodeName&&(c=c.filter(y=>{if(u+1==e.childCount)return!1;let _=e.child(u+1);return y.isInSet(_.marks)&&(!_.isText||/\S/.test(_.text))}));let f=i;if(i="",o&&o.isText&&c.some(y=>{let _=this.getMark(y.type.name);return _&&_.expelEnclosingWhitespace&&!y.isInSet(r)})){let[y,_,w]=/^(\s*)(.*)$/m.exec(o.text);_&&(f+=_,o=w?o.withText(w):null,o||(c=r))}if(o&&o.isText&&c.some(y=>{let _=this.getMark(y.type.name);return _&&_.expelEnclosingWhitespace&&(u==e.childCount-1||!y.isInSet(e.child(u+1).marks))})){let[y,_,w]=/^(.*?)(\s*)$/m.exec(o.text);w&&(i=w,o=_?o.withText(_):null,o||(c=r))}let h=c.length?c[c.length-1]:null,p=h&&this.getMark(h.type.name).escape===!1,m=c.length-(p?1:0);e:for(let y=0;y<m;y++){let _=c[y];if(!this.getMark(_.type.name).mixable)break;for(let w=0;w<r.length;w++){let S=r[w];if(!this.getMark(S.type.name).mixable)break;if(_.eq(S)){y>w?c=c.slice(0,w).concat(_).concat(c.slice(w,y)).concat(c.slice(y+1,m)):w>y&&(c=c.slice(0,y).concat(c.slice(y+1,w)).concat(_).concat(c.slice(w,m)));continue e}}}let g=0;for(;g<Math.min(r.length,m)&&c[g].eq(r[g]);)++g;for(;g<r.length;)this.text(this.markString(r.pop(),!1,e,u),!1);if(f&&this.text(f),o){for(;r.length<m;){let y=c[r.length];r.push(y),this.text(this.markString(y,!0,e,u),!1),this.atBlockStart=!1}p&&o.isText?this.text(this.markString(h,!0,e,u)+o.text+this.markString(h,!1,e,u+1),!1):this.render(o,e,u),this.atBlockStart=!1}o?.isText&&o.nodeSize>0&&(this.atBlockStart=!1)},"progress");e.forEach(s),s(null,0,e.childCount),this.atBlockStart=!1}renderList(e,n,r){this.closed&&this.closed.type==e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let i=typeof e.attrs.tight<"u"?e.attrs.tight:this.options.tightLists,s=this.inTightList;this.inTightList=i,e.forEach((o,l,u)=>{u&&i&&this.flushClose(1),this.wrapBlock(n,r(u),e,()=>this.render(o,e,u))}),this.inTightList=s}esc(e,n=!1){return e=e.replace(/[`*\\~\[\]_]/g,(r,i)=>r=="_"&&i>0&&i+1<e.length&&e[i-1].match(/\w/)&&e[i+1].match(/\w/)?r:"\\"+r),n&&(e=e.replace(/^(\+[ ]|[\-*>])/,"\\$&").replace(/^(\s*)(#{1,6})(\s|$)/,"$1\\$2$3").replace(/^(\s*\d+)\.\s/,"$1\\. ")),this.options.escapeExtraCharacters&&(e=e.replace(this.options.escapeExtraCharacters,"\\$&")),e}quote(e){let n=e.indexOf('"')==-1?'""':e.indexOf("'")==-1?"''":"()";return n[0]+e+n[1]}repeat(e,n){let r="";for(let i=0;i<n;i++)r+=e;return r}markString(e,n,r,i){let s=this.getMark(e.type.name),o=n?s.open:s.close;return typeof o=="string"?o:o(this,e,r,i)}getEnclosingWhitespace(e){return{leading:(e.match(/^(\s+)/)||[void 0])[0],trailing:(e.match(/(\s+)$/)||[void 0])[0]}}};var oE=!0,nF=!1,rF=!1,$ge=a(function(t,e){e&&(oE=!e.enabled,nF=!!e.label,rF=!!e.labelAfter),t.core.ruler.after("inline","github-task-lists",function(n){for(var r=n.tokens,i=2;i<r.length;i++)Uge(r,i)&&(zge(r[i],n.Token),hR(r[i-2],"class","task-list-item"+(oE?"":" enabled")),hR(r[Bge(r,i-2)],"class","contains-task-list"))})},"markdownItTaskLists");function hR(t,e,n){var r=t.attrIndex(e),i=[e,n];r<0?t.attrPush(i):t.attrs[r]=i}a(hR,"attrSet");function Bge(t,e){for(var n=t[e].level-1,r=e-1;r>=0;r--)if(t[r].level===n)return r;return-1}a(Bge,"parentToken");function Uge(t,e){return qge(t[e])&&Gge(t[e-1])&&Kge(t[e-2])&&Yge(t[e])}a(Uge,"isTodoItem");function zge(t,e){if(t.children.unshift(jge(t,e)),t.children[1].content=t.children[1].content.slice(3),t.content=t.content.slice(3),nF)if(rF){t.children.pop();var n="task-item-"+Math.ceil(Math.random()*(1e4*1e3)-1e3);t.children[0].content=t.children[0].content.slice(0,-1)+' id="'+n+'">',t.children.push(Hge(t.content,n,e))}else t.children.unshift(Vge(e)),t.children.push(Wge(e))}a(zge,"todoify");function jge(t,e){var n=new e("html_inline","",0),r=oE?' disabled="" ':"";return t.content.indexOf("[ ] ")===0?n.content='<input class="task-list-item-checkbox"'+r+'type="checkbox">':(t.content.indexOf("[x] ")===0||t.content.indexOf("[X] ")===0)&&(n.content='<input class="task-list-item-checkbox" checked=""'+r+'type="checkbox">'),n}a(jge,"makeCheckbox");function Vge(t){var e=new t("html_inline","",0);return e.content="<label>",e}a(Vge,"beginLabel");function Wge(t){var e=new t("html_inline","",0);return e.content="</label>",e}a(Wge,"endLabel");function Hge(t,e,n){var r=new n("html_inline","",0);return r.content='<label class="task-list-item-label" for="'+e+'">'+t+"</label>",r.attrs=[{for:e}],r}a(Hge,"afterLabel");function qge(t){return t.type==="inline"}a(qge,"isInline");function Gge(t){return t.type==="paragraph_open"}a(Gge,"isParagraph");function Kge(t){return t.type==="list_item_open"}a(Kge,"isListItem");function Yge(t){return t.content.indexOf("[ ] ")===0||t.content.indexOf("[x] ")===0||t.content.indexOf("[X] ")===0}a(Yge,"startsWithTodoMarkdown");const ZSe=oS($ge);function Jge(t){if(Array.isArray(t))return t}a(Jge,"_arrayWithHoles");function Xge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],u=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(u=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(f){c=!0,i=f}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return l}}a(Xge,"_iterableToArrayLimit");function aE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}a(aE,"_arrayLikeToArray$2");function iF(t,e){if(t){if(typeof t=="string")return aE(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aE(t,e):void 0}}a(iF,"_unsupportedIterableToArray$2");function Zge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a(Zge,"_nonIterableRest");function sF(t,e){return Jge(t)||Xge(t,e)||iF(t,e)||Zge()}a(sF,"_slicedToArray");var ul={},Pd={};Object.defineProperty(Pd,"__esModule",{value:!0});Pd.bind=void 0;function Qge(t,e){var n=e.type,r=e.listener,i=e.options;return t.addEventListener(n,r,i),a(function(){t.removeEventListener(n,r,i)},"unbind")}a(Qge,"bind");Pd.bind=Qge;var jy={},nu=Qb&&Qb.__assign||function(){return nu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},nu.apply(this,arguments)};Object.defineProperty(jy,"__esModule",{value:!0});jy.bindAll=void 0;var e0e=Pd;function dR(t){if(!(typeof t>"u"))return typeof t=="boolean"?{capture:t}:t}a(dR,"toOptions");function t0e(t,e){if(e==null)return t;var n=nu(nu({},t),{options:nu(nu({},dR(e)),dR(t.options))});return n}a(t0e,"getBinding");function n0e(t,e,n){var r=e.map(function(i){var s=t0e(i,n);return(0,e0e.bind)(t,s)});return a(function(){r.forEach(function(s){return s()})},"unbindAll")}a(n0e,"bindAll");jy.bindAll=n0e;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.bindAll=t.bind=void 0;var e=Pd;Object.defineProperty(t,"bind",{enumerable:!0,get:a(function(){return e.bind},"get")});var n=jy;Object.defineProperty(t,"bindAll",{enumerable:!0,get:a(function(){return n.bindAll},"get")})})(ul);var oF="data-pdnd-honey-pot";function aF(t){return t instanceof Element&&t.hasAttribute(oF)}a(aF,"isHoneyPotElement");function lF(t){var e=document.elementsFromPoint(t.x,t.y),n=sF(e,2),r=n[0],i=n[1];return r?aF(r)?i??null:r:null}a(lF,"getElementFromPointWithoutHoneypot");function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}a(jh,"_typeof");function r0e(t,e){if(jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}a(r0e,"toPrimitive");function i0e(t){var e=r0e(t,"string");return jh(e)=="symbol"?e:e+""}a(i0e,"toPropertyKey");function Sk(t,e,n){return(e=i0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}a(Sk,"_defineProperty");var uF=2147483647;function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}a(pR,"ownKeys$2");function mR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){Sk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}a(mR,"_objectSpread$2");var Vh=2,gR=Vh/2;function s0e(t){return{x:Math.floor(t.x),y:Math.floor(t.y)}}a(s0e,"floorToClosestPixel");function o0e(t){return{x:t.x-gR,y:t.y-gR}}a(o0e,"pullBackByHalfHoneyPotSize");function a0e(t){return{x:Math.max(t.x,0),y:Math.max(t.y,0)}}a(a0e,"preventGoingBackwardsOffScreen");function l0e(t){return{x:Math.min(t.x,window.innerWidth-Vh),y:Math.min(t.y,window.innerHeight-Vh)}}a(l0e,"preventGoingForwardsOffScreen");function yR(t){var e=t.client,n=l0e(a0e(o0e(s0e(e))));return DOMRect.fromRect({x:n.x,y:n.y,width:Vh,height:Vh})}a(yR,"getHoneyPotRectFor");function _R(t){var e=t.clientRect;return{left:"".concat(e.left,"px"),top:"".concat(e.top,"px"),width:"".concat(e.width,"px"),height:"".concat(e.height,"px")}}a(_R,"getRectStyles");function u0e(t){var e=t.client,n=t.clientRect;return e.x>=n.x&&e.x<=n.x+n.width&&e.y>=n.y&&e.y<=n.y+n.height}a(u0e,"isWithin");function c0e(t){var e=t.initial,n=document.createElement("div");n.setAttribute(oF,"true");var r=yR({client:e});Object.assign(n.style,mR(mR({backgroundColor:"transparent",position:"fixed",padding:0,margin:0,boxSizing:"border-box"},_R({clientRect:r})),{},{pointerEvents:"auto",zIndex:uF})),document.body.appendChild(n);var i=ul.bind(window,{type:"pointermove",listener:a(function(o){var l={x:o.clientX,y:o.clientY};r=yR({client:l}),Object.assign(n.style,_R({clientRect:r}))},"listener"),options:{capture:!0}});return a(function(o){var l=o.current;if(i(),u0e({client:l,clientRect:r})){n.remove();return}function u(){c(),n.remove()}a(u,"cleanup");var c=ul.bindAll(window,[{type:"pointerdown",listener:u},{type:"pointermove",listener:u},{type:"focusin",listener:u},{type:"focusout",listener:u},{type:"dragstart",listener:u},{type:"dragenter",listener:u},{type:"dragover",listener:u}],{capture:!0})},"finish")}a(c0e,"mountHoneyPot");function f0e(){var t=null;function e(){return t=null,ul.bind(window,{type:"pointermove",listener:a(function(i){t={x:i.clientX,y:i.clientY}},"listener"),options:{capture:!0}})}a(e,"bindEvents");function n(){var r=null;return a(function(s){var o=s.eventName,l=s.payload;if(o==="onDragStart"){var u,c=l.location.initial.input,f=(u=t)!==null&&u!==void 0?u:{x:c.clientX,y:c.clientY};r=c0e({initial:f})}if(o==="onDrop"){var h,p=l.location.current.input;(h=r)===null||h===void 0||h({current:{x:p.clientX,y:p.clientY}}),r=null,t=null}},"onPostEvent")}return a(n,"getOnPostDispatch"),{bindEvents:e,getOnPostDispatch:n}}a(f0e,"makeHoneyPotFix");function h0e(t){if(Array.isArray(t))return aE(t)}a(h0e,"_arrayWithoutHoles");function d0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}a(d0e,"_iterableToArray");function p0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a(p0e,"_nonIterableSpread");function cF(t){return h0e(t)||d0e(t)||iF(t)||p0e()}a(cF,"_toConsumableArray");function kk(t){var e=null;return a(function(){if(!e){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=t.apply(this,i);e={result:o}}return e.result},"wrapped")}a(kk,"once");var m0e=kk(a(function(){return navigator.userAgent.includes("Firefox")},"isFirefox2")),Vy=kk(a(function(){var e=navigator,n=e.userAgent;return n.includes("AppleWebKit")&&!n.includes("Chrome")},"isSafari2")),lE={isLeavingWindow:Symbol("leaving"),isEnteringWindow:Symbol("entering")};function g0e(t){var e=t.dragLeave;return Vy()?e.hasOwnProperty(lE.isLeavingWindow):!1}a(g0e,"isLeavingWindowInSafari");a(function(){if(typeof window>"u"||!Vy())return;function e(){return{enterCount:0,isOverWindow:!1}}a(e,"getInitialState");var n=e();function r(){n=e()}a(r,"resetState"),ul.bindAll(window,[{type:"dragstart",listener:a(function(){n.enterCount=0,n.isOverWindow=!0},"listener")},{type:"drop",listener:r},{type:"dragend",listener:r},{type:"dragenter",listener:a(function(s){!n.isOverWindow&&n.enterCount===0&&(s[lE.isEnteringWindow]=!0),n.isOverWindow=!0,n.enterCount++},"listener")},{type:"dragleave",listener:a(function(s){n.enterCount--,n.isOverWindow&&n.enterCount===0&&(s[lE.isLeavingWindow]=!0,n.isOverWindow=!1)},"listener")}],{capture:!0})},"fixSafari")();function y0e(t){return"nodeName"in t}a(y0e,"isNodeLike");function _0e(t){return y0e(t)&&t.ownerDocument!==document}a(_0e,"isFromAnotherWindow");function b0e(t){var e=t.dragLeave,n=e.type,r=e.relatedTarget;return n!=="dragleave"?!1:Vy()?g0e({dragLeave:e}):r==null?!0:m0e()?_0e(r):r instanceof HTMLIFrameElement}a(b0e,"isLeavingWindow");function w0e(t){var e=t.onDragEnd;return[{type:"pointermove",listener:function(){var n=0;return a(function(){if(n<20){n++;return}e()},"listener")}()},{type:"pointerdown",listener:e}]}a(w0e,"getBindingsForBrokenDrags");function Yf(t){return{altKey:t.altKey,button:t.button,buttons:t.buttons,ctrlKey:t.ctrlKey,metaKey:t.metaKey,shiftKey:t.shiftKey,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}a(Yf,"getInput");var E0e=a(function(e){var n=[],r=null,i=a(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];n=l,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))},"wrapperFn");return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i},"rafSchd"),P_=E0e(function(t){return t()}),qp=function(){var t=null;function e(r){var i=requestAnimationFrame(function(){t=null,r()});t={frameId:i,fn:r}}a(e,"schedule");function n(){t&&(cancelAnimationFrame(t.frameId),t.fn(),t=null)}return a(n,"flush"),{schedule:e,flush:n}}();function v0e(t){var e=t.source,n=t.initial,r=t.dispatchEvent,i={dropTargets:[]};function s(l){r(l),i={dropTargets:l.payload.location.current.dropTargets}}a(s,"safeDispatch");var o={start:a(function(u){var c=u.nativeSetDragImage,f={current:n,previous:i,initial:n};s({eventName:"onGenerateDragPreview",payload:{source:e,location:f,nativeSetDragImage:c}}),qp.schedule(function(){s({eventName:"onDragStart",payload:{source:e,location:f}})})},"start"),dragUpdate:a(function(u){var c=u.current;qp.flush(),P_.cancel(),s({eventName:"onDropTargetChange",payload:{source:e,location:{initial:n,previous:i,current:c}}})},"dragUpdate"),drag:a(function(u){var c=u.current;P_(function(){qp.flush();var f={initial:n,previous:i,current:c};s({eventName:"onDrag",payload:{source:e,location:f}})})},"drag"),drop:a(function(u){var c=u.current,f=u.updatedSourcePayload;qp.flush(),P_.cancel(),s({eventName:"onDrop",payload:{source:f??e,location:{current:c,previous:i,initial:n}}})},"drop")};return o}a(v0e,"makeDispatch");var uE={isActive:!1};function fF(){return!uE.isActive}a(fF,"canStart");function S0e(t){return t.dataTransfer?t.dataTransfer.setDragImage.bind(t.dataTransfer):null}a(S0e,"getNativeSetDragImage");function k0e(t){var e=t.current,n=t.next;if(e.length!==n.length)return!0;for(var r=0;r<e.length;r++)if(e[r].element!==n[r].element)return!0;return!1}a(k0e,"hasHierarchyChanged");function A0e(t){var e=t.event,n=t.dragType,r=t.getDropTargetsOver,i=t.dispatchEvent;if(!fF())return;var s=T0e({event:e,dragType:n,getDropTargetsOver:r});uE.isActive=!0;var o={current:s};L_({event:e,current:s.dropTargets});var l=v0e({source:n.payload,dispatchEvent:i,initial:s});function u(m){var g=k0e({current:o.current.dropTargets,next:m.dropTargets});o.current=m,g&&l.dragUpdate({current:o.current})}a(u,"updateState");function c(m){var g=Yf(m),y=aF(m.target)?lF({x:g.clientX,y:g.clientY}):m.target,_=r({target:y,input:g,source:n.payload,current:o.current.dropTargets});_.length&&(m.preventDefault(),L_({event:m,current:_})),u({dropTargets:_,input:g})}a(c,"onUpdateEvent");function f(){o.current.dropTargets.length&&u({dropTargets:[],input:o.current.input}),l.drop({current:o.current,updatedSourcePayload:null}),h()}a(f,"cancel");function h(){uE.isActive=!1,p()}a(h,"finish");var p=ul.bindAll(window,[{type:"dragover",listener:a(function(g){c(g),l.drag({current:o.current})},"listener")},{type:"dragenter",listener:c},{type:"dragleave",listener:a(function(g){b0e({dragLeave:g})&&(u({input:o.current.input,dropTargets:[]}),n.startedFrom==="external"&&f())},"listener")},{type:"drop",listener:a(function(g){if(o.current={dropTargets:o.current.dropTargets,input:Yf(g)},!o.current.dropTargets.length){f();return}g.preventDefault(),L_({event:g,current:o.current.dropTargets}),l.drop({current:o.current,updatedSourcePayload:n.type==="external"?n.getDropPayload(g):null}),h()},"listener")},{type:"dragend",listener:a(function(g){o.current={dropTargets:o.current.dropTargets,input:Yf(g)},f()},"listener")}].concat(cF(w0e({onDragEnd:f}))),{capture:!0});l.start({nativeSetDragImage:S0e(e)})}a(A0e,"start");function L_(t){var e,n=t.event,r=t.current,i=(e=r[0])===null||e===void 0?void 0:e.dropEffect;i!=null&&n.dataTransfer&&(n.dataTransfer.dropEffect=i)}a(L_,"setDropEffectOnEvent");function T0e(t){var e=t.event,n=t.dragType,r=t.getDropTargetsOver,i=Yf(e);if(n.startedFrom==="external")return{input:i,dropTargets:[]};var s=r({input:i,source:n.payload,target:e.target,current:[]});return{input:i,dropTargets:s}}a(T0e,"getStartLocation");var bR={canStart:fF,start:A0e},cE=new Map;function x0e(t){var e=t.typeKey,n=t.mount,r=cE.get(e);if(r)return r.usageCount++,r;var i={typeKey:e,unmount:n(),usageCount:1};return cE.set(e,i),i}a(x0e,"registerUsage");function C0e(t){var e=x0e(t);return a(function(){e.usageCount--,!(e.usageCount>0)&&(e.unmount(),cE.delete(t.typeKey))},"unregister")}a(C0e,"register$2");function Ak(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return a(function(){e.forEach(function(i){return i()})},"cleanup")}a(Ak,"combine");function hF(t,e){var n=e.attribute,r=e.value;return t.setAttribute(n,r),function(){return t.removeAttribute(n)}}a(hF,"addAttribute");function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}a(wR,"ownKeys$1");function Xs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){Sk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}a(Xs,"_objectSpread$1");function F_(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=I0e(t))||e){n&&(t=n);var r=0,i=a(function(){},"F2");return{s:i,n:a(function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},"n"),e:a(function(c){throw c},"e2"),f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,l=!1;return{s:a(function(){n=n.call(t)},"s"),n:a(function(){var c=n.next();return o=c.done,c},"n"),e:a(function(c){l=!0,s=c},"e2"),f:a(function(){try{o||n.return==null||n.return()}finally{if(l)throw s}},"f")}}a(F_,"_createForOfIteratorHelper$1");function I0e(t,e){if(t){if(typeof t=="string")return ER(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ER(t,e):void 0}}a(I0e,"_unsupportedIterableToArray$1");function ER(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}a(ER,"_arrayLikeToArray$1");function $_(t){return t.slice(0).reverse()}a($_,"copyReverse");function R0e(t){var e=t.typeKey,n=t.defaultDropEffect,r=new WeakMap,i="data-drop-target-for-".concat(e),s="[".concat(i,"]");function o(m){return r.set(m.element,m),function(){return r.delete(m.element)}}a(o,"addToRegistry");function l(m){return Ak(hF(m.element,{attribute:i,value:"true"}),o(m))}a(l,"dropTargetForConsumers");function u(m){var g,y,_,w,S=m.source,T=m.target,N=m.input,O=m.result,M=O===void 0?[]:O;if(T==null)return M;if(!(T instanceof Element))return T instanceof Node?u({source:S,target:T.parentElement,input:N,result:M}):M;var k=T.closest(s);if(k==null)return M;var v=r.get(k);if(v==null)return M;var A={input:N,source:S,element:v.element};if(v.canDrop&&!v.canDrop(A))return u({source:S,target:v.element.parentElement,input:N,result:M});var C=(g=(y=v.getData)===null||y===void 0?void 0:y.call(v,A))!==null&&g!==void 0?g:{},x=(_=(w=v.getDropEffect)===null||w===void 0?void 0:w.call(v,A))!==null&&_!==void 0?_:n,I={data:C,element:v.element,dropEffect:x,isActiveDueToStickiness:!1};return u({source:S,target:v.element.parentElement,input:N,result:[].concat(cF(M),[I])})}a(u,"getActualDropTargets");function c(m){var g=m.eventName,y=m.payload,_=F_(y.location.current.dropTargets),w;try{for(_.s();!(w=_.n()).done;){var S,T=w.value,N=r.get(T.element),O=Xs(Xs({},y),{},{self:T});N==null||(S=N[g])===null||S===void 0||S.call(N,O)}}catch(M){_.e(M)}finally{_.f()}}a(c,"notifyCurrent");var f={onGenerateDragPreview:c,onDrag:c,onDragStart:c,onDrop:c,onDropTargetChange:a(function(g){var y=g.payload,_=new Set(y.location.current.dropTargets.map(function(j){return j.element})),w=new Set,S=F_(y.location.previous.dropTargets),T;try{for(S.s();!(T=S.n()).done;){var N,O=T.value;w.add(O.element);var M=r.get(O.element),k=_.has(O.element),v=Xs(Xs({},y),{},{self:O});if(M==null||(N=M.onDropTargetChange)===null||N===void 0||N.call(M,v),!k){var A;M==null||(A=M.onDragLeave)===null||A===void 0||A.call(M,v)}}}catch(j){S.e(j)}finally{S.f()}var C=F_(y.location.current.dropTargets),x;try{for(C.s();!(x=C.n()).done;){var I,D,$=x.value;if(!w.has($.element)){var F=Xs(Xs({},y),{},{self:$}),B=r.get($.element);B==null||(I=B.onDropTargetChange)===null||I===void 0||I.call(B,F),B==null||(D=B.onDragEnter)===null||D===void 0||D.call(B,F)}}}catch(j){C.e(j)}finally{C.f()}},"onDropTargetChange")};function h(m){f[m.eventName](m)}a(h,"dispatchEvent");function p(m){var g=m.source,y=m.target,_=m.input,w=m.current,S=u({source:g,target:y,input:_});if(S.length>=w.length)return S;for(var T=$_(w),N=$_(S),O=[],M=0;M<T.length;M++){var k,v=T[M],A=N[M];if(A!=null){O.push(A);continue}var C=O[M-1],x=T[M-1];if(C?.element!==x?.element)break;var I=r.get(v.element);if(!I)break;var D={input:_,source:g,element:I.element};if(I.canDrop&&!I.canDrop(D)||!((k=I.getIsSticky)!==null&&k!==void 0&&k.call(I,D)))break;O.push(Xs(Xs({},v),{},{isActiveDueToStickiness:!0}))}return $_(O)}return a(p,"getIsOver"),{dropTargetForConsumers:l,getIsOver:p,dispatchEvent:h}}a(R0e,"makeDropTarget");function O0e(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=N0e(t))||e){n&&(t=n);var r=0,i=a(function(){},"F");return{s:i,n:a(function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},"n"),e:a(function(c){throw c},"e"),f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,l=!1;return{s:a(function(){n=n.call(t)},"s"),n:a(function(){var c=n.next();return o=c.done,c},"n"),e:a(function(c){l=!0,s=c},"e"),f:a(function(){try{o||n.return==null||n.return()}finally{if(l)throw s}},"f")}}a(O0e,"_createForOfIteratorHelper");function N0e(t,e){if(t){if(typeof t=="string")return vR(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vR(t,e):void 0}}a(N0e,"_unsupportedIterableToArray");function vR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}a(vR,"_arrayLikeToArray");function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}a(SR,"ownKeys");function D0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){Sk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}a(D0e,"_objectSpread");function M0e(){var t=new Set,e=null;function n(s){e&&(!s.canMonitor||s.canMonitor(e.canMonitorArgs))&&e.active.add(s)}a(n,"tryAddToActive");function r(s){var o=D0e({},s);return t.add(o),n(o),a(function(){t.delete(o),e&&e.active.delete(o)},"cleanup")}a(r,"monitorForConsumers");function i(s){var o=s.eventName,l=s.payload;if(o==="onGenerateDragPreview"){e={canMonitorArgs:{initial:l.location.initial,source:l.source},active:new Set};var u=O0e(t),c;try{for(u.s();!(c=u.n()).done;){var f=c.value;n(f)}}catch(_){u.e(_)}finally{u.f()}}if(e){for(var h=Array.from(e.active),p=0,m=h;p<m.length;p++){var g=m[p];if(e.active.has(g)){var y;(y=g[o])===null||y===void 0||y.call(g,l)}}o==="onDrop"&&(e.active.clear(),e=null)}}return a(i,"dispatchEvent"),{dispatchEvent:i,monitorForConsumers:r}}a(M0e,"makeMonitor");function P0e(t){var e=t.typeKey,n=t.mount,r=t.dispatchEventToSource,i=t.onPostDispatch,s=t.defaultDropEffect,o=M0e(),l=R0e({typeKey:e,defaultDropEffect:s});function u(h){r?.(h),l.dispatchEvent(h),o.dispatchEvent(h),i?.(h)}a(u,"dispatchEvent");function c(h){var p=h.event,m=h.dragType;bR.start({event:p,dragType:m,getDropTargetsOver:l.getIsOver,dispatchEvent:u})}a(c,"start");function f(){function h(){var p={canStart:bR.canStart,start:c};return n(p)}return a(h,"mountAdapter"),C0e({typeKey:e,mount:h})}return a(f,"registerUsage"),{registerUsage:f,dropTarget:l.dropTargetForConsumers,monitor:o.monitorForConsumers}}a(P0e,"makeAdapter");var L0e=kk(a(function(){return navigator.userAgent.toLocaleLowerCase().includes("android")},"isAndroid")),F0e="pdnd:android-fallback",kR="text/plain",$0e="text/uri-list",B0e="application/vnd.pdnd",m0=new WeakMap;function U0e(t){return m0.set(t.element,t),a(function(){m0.delete(t.element)},"cleanup")}a(U0e,"addToRegistry");var AR=f0e(),Tk=P0e({typeKey:"element",defaultDropEffect:"move",mount:a(function(e){return Ak(AR.bindEvents(),ul.bind(document,{type:"dragstart",listener:a(function(r){var i,s,o,l,u,c;if(e.canStart(r)&&!r.defaultPrevented&&r.dataTransfer){var f=r.target;if(!(f instanceof HTMLElement))return null;var h=m0.get(f);if(!h)return null;var p=Yf(r),m={element:h.element,dragHandle:(i=h.dragHandle)!==null&&i!==void 0?i:null,input:p};if(h.canDrag&&!h.canDrag(m))return r.preventDefault(),null;if(h.dragHandle){var g=lF({x:p.clientX,y:p.clientY});if(!h.dragHandle.contains(g))return r.preventDefault(),null}var y=(s=(o=h.getInitialDataForExternal)===null||o===void 0?void 0:o.call(h,m))!==null&&s!==void 0?s:null;if(y)for(var _=0,w=Object.entries(y);_<w.length;_++){var S=sF(w[_],2),T=S[0],N=S[1];r.dataTransfer.setData(T,N??"")}L0e()&&!r.dataTransfer.types.includes(kR)&&!r.dataTransfer.types.includes($0e)&&r.dataTransfer.setData(kR,F0e),r.dataTransfer.setData(B0e,"");var O={element:h.element,dragHandle:(l=h.dragHandle)!==null&&l!==void 0?l:null,data:(u=(c=h.getInitialData)===null||c===void 0?void 0:c.call(h,m))!==null&&u!==void 0?u:{}},M={type:"element",payload:O,startedFrom:"internal"};e.start({event:r,dragType:M})}},"listener")}))},"mount"),dispatchEventToSource:a(function(e){var n,r,i=e.eventName,s=e.payload;(n=m0.get(s.source.element))===null||n===void 0||(r=n[i])===null||r===void 0||r.call(n,s)},"dispatchEventToSource"),onPostDispatch:AR.getOnPostDispatch()}),QSe=Tk.dropTarget,z0e=Tk.monitor;function eke(t){return Ak(Tk.registerUsage(),U0e(t),hF(t.element,{attribute:"draggable",value:"true"}))}a(eke,"draggable");function j0e(){return{x:0,y:0}}a(j0e,"defaultOffset");function tke(t){var e=t.render,n=t.nativeSetDragImage,r=t.getOffset,i=r===void 0?j0e:r,s=document.createElement("div");Object.assign(s.style,{position:"fixed",top:0,left:0,zIndex:uF,pointerEvents:"none"}),document.body.append(s);var o=e({container:s});queueMicrotask(function(){var c=i({container:s});if(Vy()){var f=s.getBoundingClientRect();if(f.width===0)return;s.style.left="-".concat(f.width-1e-4,"px")}n?.(s,c.x,c.y)});function l(){u(),o?.(),document.body.removeChild(s)}a(l,"cleanup");var u=z0e({onDragStart:l,onDrop:l})}a(tke,"setCustomNativeDragPreview");var V0e=(t=>(t.PENDING="pending",t.IN_PROGRESS="in_progress",t.COMPLETED="completed",t.PAUSED="paused",t.ERROR="error",t.CANCELLED="cancelled",t))(V0e||{});/*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */const{entries:dF,setPrototypeOf:TR,isFrozen:W0e,getPrototypeOf:H0e,getOwnPropertyDescriptor:q0e}=Object;let{freeze:Nn,seal:Ir,create:pF}=Object,{apply:fE,construct:hE}=typeof Reflect<"u"&&Reflect;Nn||(Nn=a(function(e){return e},"freeze"));Ir||(Ir=a(function(e){return e},"seal"));fE||(fE=a(function(e,n,r){return e.apply(n,r)},"apply"));hE||(hE=a(function(e,n){return new e(...n)},"construct"));const Gp=Dn(Array.prototype.forEach),G0e=Dn(Array.prototype.lastIndexOf),xR=Dn(Array.prototype.pop),of=Dn(Array.prototype.push),K0e=Dn(Array.prototype.splice),Em=Dn(String.prototype.toLowerCase),B_=Dn(String.prototype.toString),CR=Dn(String.prototype.match),af=Dn(String.prototype.replace),Y0e=Dn(String.prototype.indexOf),J0e=Dn(String.prototype.trim),Lr=Dn(Object.prototype.hasOwnProperty),bn=Dn(RegExp.prototype.test),lf=X0e(TypeError);function Dn(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return fE(t,e,r)}}a(Dn,"unapply");function X0e(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return hE(t,n)}}a(X0e,"unconstruct");function Re(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Em;TR&&TR(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=n(i);s!==i&&(W0e(e)||(e[r]=s),i=s)}t[i]=!0}return t}a(Re,"addToSet");function Z0e(t){for(let e=0;e<t.length;e++)Lr(t,e)||(t[e]=null);return t}a(Z0e,"cleanArray");function ha(t){const e=pF(null);for(const[n,r]of dF(t))Lr(t,n)&&(Array.isArray(r)?e[n]=Z0e(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=ha(r):e[n]=r);return e}a(ha,"clone");function uf(t,e){for(;t!==null;){const r=q0e(t,e);if(r){if(r.get)return Dn(r.get);if(typeof r.value=="function")return Dn(r.value)}t=H0e(t)}function n(){return null}return a(n,"fallbackValue"),n}a(uf,"lookupGetter");const IR=Nn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),U_=Nn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),z_=Nn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Q0e=Nn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),j_=Nn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),eye=Nn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),RR=Nn(["#text"]),OR=Nn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),V_=Nn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),NR=Nn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Kp=Nn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),tye=Ir(/\{\{[\w\W]*|[\w\W]*\}\}/gm),nye=Ir(/<%[\w\W]*|[\w\W]*%>/gm),rye=Ir(/\$\{[\w\W]*/gm),iye=Ir(/^data-[\-\w.\u00B7-\uFFFF]+$/),sye=Ir(/^aria-[\-\w]+$/),mF=Ir(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),oye=Ir(/^(?:\w+script|data):/i),aye=Ir(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),gF=Ir(/^html$/i),lye=Ir(/^[a-z][.\w]*(-[.\w]+)+$/i);var DR=Object.freeze({__proto__:null,ARIA_ATTR:sye,ATTR_WHITESPACE:aye,CUSTOM_ELEMENT:lye,DATA_ATTR:iye,DOCTYPE_NAME:gF,ERB_EXPR:nye,IS_ALLOWED_URI:mF,IS_SCRIPT_OR_DATA:oye,MUSTACHE_EXPR:tye,TMPLIT_EXPR:rye});const cf={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},uye=a(function(){return typeof window>"u"?null:window},"getGlobal"),cye=a(function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},"_createTrustedTypesPolicy"),MR=a(function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},"_createHooksMap");function yF(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:uye();const e=a(ue=>yF(ue),"DOMPurify");if(e.version="3.2.5",e.removed=[],!t||!t.document||t.document.nodeType!==cf.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:l,Element:u,NodeFilter:c,NamedNodeMap:f=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:p,trustedTypes:m}=t,g=u.prototype,y=uf(g,"cloneNode"),_=uf(g,"remove"),w=uf(g,"nextSibling"),S=uf(g,"childNodes"),T=uf(g,"parentNode");if(typeof o=="function"){const ue=n.createElement("template");ue.content&&ue.content.ownerDocument&&(n=ue.content.ownerDocument)}let N,O="";const{implementation:M,createNodeIterator:k,createDocumentFragment:v,getElementsByTagName:A}=n,{importNode:C}=r;let x=MR();e.isSupported=typeof dF=="function"&&typeof T=="function"&&M&&M.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:I,ERB_EXPR:D,TMPLIT_EXPR:$,DATA_ATTR:F,ARIA_ATTR:B,IS_SCRIPT_OR_DATA:j,ATTR_WHITESPACE:Y,CUSTOM_ELEMENT:V}=DR;let{IS_ALLOWED_URI:K}=DR,J=null;const ne=Re({},[...IR,...U_,...z_,...j_,...RR]);let ie=null;const ot=Re({},[...OR,...V_,...NR,...Kp]);let fe=Object.seal(pF(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Me=null,yt=null,ts=!0,ns=!0,Or=!1,pi=!0,Wn=!1,rs=!0,Hn=!1,Q=!1,he=!1,Ze=!1,qe=!1,Ce=!1,Je=!0,Dt=!1;const ur="user-content-";let qn=!0,Gn=!1,Nr={},at=null;const Mt=Re({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let na=null;const Oc=Re({},["audio","video","img","source","image","track"]);let Dl=null;const jd=Re({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),mi="http://www.w3.org/1998/Math/MathML",ra="http://www.w3.org/2000/svg",cr="http://www.w3.org/1999/xhtml";let gi=cr,Nc=!1,Dc=null;const Mc=Re({},[mi,ra,cr],B_);let ia=Re({},["mi","mo","mn","ms","mtext"]),Ml=Re({},["annotation-xml"]);const sa=Re({},["title","style","font","a","script"]);let is=null;const Pc=["application/xhtml+xml","text/html"],Vs="text/html";let At=null,yi=null;const Vd=n.createElement("form"),Ws=a(function(P){return P instanceof RegExp||P instanceof Function},"isRegexOrFunction"),Pl=a(function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(yi&&yi===P)){if((!P||typeof P!="object")&&(P={}),P=ha(P),is=Pc.indexOf(P.PARSER_MEDIA_TYPE)===-1?Vs:P.PARSER_MEDIA_TYPE,At=is==="application/xhtml+xml"?B_:Em,J=Lr(P,"ALLOWED_TAGS")?Re({},P.ALLOWED_TAGS,At):ne,ie=Lr(P,"ALLOWED_ATTR")?Re({},P.ALLOWED_ATTR,At):ot,Dc=Lr(P,"ALLOWED_NAMESPACES")?Re({},P.ALLOWED_NAMESPACES,B_):Mc,Dl=Lr(P,"ADD_URI_SAFE_ATTR")?Re(ha(jd),P.ADD_URI_SAFE_ATTR,At):jd,na=Lr(P,"ADD_DATA_URI_TAGS")?Re(ha(Oc),P.ADD_DATA_URI_TAGS,At):Oc,at=Lr(P,"FORBID_CONTENTS")?Re({},P.FORBID_CONTENTS,At):Mt,Me=Lr(P,"FORBID_TAGS")?Re({},P.FORBID_TAGS,At):{},yt=Lr(P,"FORBID_ATTR")?Re({},P.FORBID_ATTR,At):{},Nr=Lr(P,"USE_PROFILES")?P.USE_PROFILES:!1,ts=P.ALLOW_ARIA_ATTR!==!1,ns=P.ALLOW_DATA_ATTR!==!1,Or=P.ALLOW_UNKNOWN_PROTOCOLS||!1,pi=P.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Wn=P.SAFE_FOR_TEMPLATES||!1,rs=P.SAFE_FOR_XML!==!1,Hn=P.WHOLE_DOCUMENT||!1,Ze=P.RETURN_DOM||!1,qe=P.RETURN_DOM_FRAGMENT||!1,Ce=P.RETURN_TRUSTED_TYPE||!1,he=P.FORCE_BODY||!1,Je=P.SANITIZE_DOM!==!1,Dt=P.SANITIZE_NAMED_PROPS||!1,qn=P.KEEP_CONTENT!==!1,Gn=P.IN_PLACE||!1,K=P.ALLOWED_URI_REGEXP||mF,gi=P.NAMESPACE||cr,ia=P.MATHML_TEXT_INTEGRATION_POINTS||ia,Ml=P.HTML_INTEGRATION_POINTS||Ml,fe=P.CUSTOM_ELEMENT_HANDLING||{},P.CUSTOM_ELEMENT_HANDLING&&Ws(P.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(fe.tagNameCheck=P.CUSTOM_ELEMENT_HANDLING.tagNameCheck),P.CUSTOM_ELEMENT_HANDLING&&Ws(P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(fe.attributeNameCheck=P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),P.CUSTOM_ELEMENT_HANDLING&&typeof P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(fe.allowCustomizedBuiltInElements=P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Wn&&(ns=!1),qe&&(Ze=!0),Nr&&(J=Re({},RR),ie=[],Nr.html===!0&&(Re(J,IR),Re(ie,OR)),Nr.svg===!0&&(Re(J,U_),Re(ie,V_),Re(ie,Kp)),Nr.svgFilters===!0&&(Re(J,z_),Re(ie,V_),Re(ie,Kp)),Nr.mathMl===!0&&(Re(J,j_),Re(ie,NR),Re(ie,Kp))),P.ADD_TAGS&&(J===ne&&(J=ha(J)),Re(J,P.ADD_TAGS,At)),P.ADD_ATTR&&(ie===ot&&(ie=ha(ie)),Re(ie,P.ADD_ATTR,At)),P.ADD_URI_SAFE_ATTR&&Re(Dl,P.ADD_URI_SAFE_ATTR,At),P.FORBID_CONTENTS&&(at===Mt&&(at=ha(at)),Re(at,P.FORBID_CONTENTS,At)),qn&&(J["#text"]=!0),Hn&&Re(J,["html","head","body"]),J.table&&(Re(J,["tbody"]),delete Me.tbody),P.TRUSTED_TYPES_POLICY){if(typeof P.TRUSTED_TYPES_POLICY.createHTML!="function")throw lf('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof P.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw lf('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');N=P.TRUSTED_TYPES_POLICY,O=N.createHTML("")}else N===void 0&&(N=cye(m,i)),N!==null&&typeof O=="string"&&(O=N.createHTML(""));Nn&&Nn(P),yi=P}},"_parseConfig"),Pt=Re({},[...U_,...z_,...Q0e]),Lc=Re({},[...j_,...eye]),oa=a(function(P){let q=T(P);(!q||!q.tagName)&&(q={namespaceURI:gi,tagName:"template"});const se=Em(P.tagName),tt=Em(q.tagName);return Dc[P.namespaceURI]?P.namespaceURI===ra?q.namespaceURI===cr?se==="svg":q.namespaceURI===mi?se==="svg"&&(tt==="annotation-xml"||ia[tt]):!!Pt[se]:P.namespaceURI===mi?q.namespaceURI===cr?se==="math":q.namespaceURI===ra?se==="math"&&Ml[tt]:!!Lc[se]:P.namespaceURI===cr?q.namespaceURI===ra&&!Ml[tt]||q.namespaceURI===mi&&!ia[tt]?!1:!Lc[se]&&(sa[se]||!Pt[se]):!!(is==="application/xhtml+xml"&&Dc[P.namespaceURI]):!1},"_checkValidNamespace"),tn=a(function(P){of(e.removed,{element:P});try{T(P).removeChild(P)}catch{_(P)}},"_forceRemove"),Ll=a(function(P,q){try{of(e.removed,{attribute:q.getAttributeNode(P),from:q})}catch{of(e.removed,{attribute:null,from:q})}if(q.removeAttribute(P),P==="is")if(Ze||qe)try{tn(q)}catch{}else try{q.setAttribute(P,"")}catch{}},"_removeAttribute"),Wd=a(function(P){let q=null,se=null;if(he)P="<remove></remove>"+P;else{const _t=CR(P,/^[\r\n\t ]+/);se=_t&&_t[0]}is==="application/xhtml+xml"&&gi===cr&&(P='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+P+"</body></html>");const tt=N?N.createHTML(P):P;if(gi===cr)try{q=new p().parseFromString(tt,is)}catch{}if(!q||!q.documentElement){q=M.createDocument(gi,"template",null);try{q.documentElement.innerHTML=Nc?O:tt}catch{}}const Lt=q.body||q.documentElement;return P&&se&&Lt.insertBefore(n.createTextNode(se),Lt.childNodes[0]||null),gi===cr?A.call(q,Hn?"html":"body")[0]:Hn?q.documentElement:Lt},"_initDocument"),ss=a(function(P){return k.call(P.ownerDocument||P,P,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},"_createNodeIterator"),Fc=a(function(P){return P instanceof h&&(typeof P.nodeName!="string"||typeof P.textContent!="string"||typeof P.removeChild!="function"||!(P.attributes instanceof f)||typeof P.removeAttribute!="function"||typeof P.setAttribute!="function"||typeof P.namespaceURI!="string"||typeof P.insertBefore!="function"||typeof P.hasChildNodes!="function")},"_isClobbered"),Hd=a(function(P){return typeof l=="function"&&P instanceof l},"_isNode");function Kn(ue,P,q){Gp(ue,se=>{se.call(e,P,q,yi)})}a(Kn,"_executeHooks");const qd=a(function(P){let q=null;if(Kn(x.beforeSanitizeElements,P,null),Fc(P))return tn(P),!0;const se=At(P.nodeName);if(Kn(x.uponSanitizeElement,P,{tagName:se,allowedTags:J}),P.hasChildNodes()&&!Hd(P.firstElementChild)&&bn(/<[/\w!]/g,P.innerHTML)&&bn(/<[/\w!]/g,P.textContent)||P.nodeType===cf.progressingInstruction||rs&&P.nodeType===cf.comment&&bn(/<[/\w]/g,P.data))return tn(P),!0;if(!J[se]||Me[se]){if(!Me[se]&&aa(se)&&(fe.tagNameCheck instanceof RegExp&&bn(fe.tagNameCheck,se)||fe.tagNameCheck instanceof Function&&fe.tagNameCheck(se)))return!1;if(qn&&!at[se]){const tt=T(P)||P.parentNode,Lt=S(P)||P.childNodes;if(Lt&&tt){const _t=Lt.length;for(let Ht=_t-1;Ht>=0;--Ht){const Pn=y(Lt[Ht],!0);Pn.__removalCount=(P.__removalCount||0)+1,tt.insertBefore(Pn,w(P))}}}return tn(P),!0}return P instanceof u&&!oa(P)||(se==="noscript"||se==="noembed"||se==="noframes")&&bn(/<\/no(script|embed|frames)/i,P.innerHTML)?(tn(P),!0):(Wn&&P.nodeType===cf.text&&(q=P.textContent,Gp([I,D,$],tt=>{q=af(q,tt," ")}),P.textContent!==q&&(of(e.removed,{element:P.cloneNode()}),P.textContent=q)),Kn(x.afterSanitizeElements,P,null),!1)},"_sanitizeElements"),Fl=a(function(P,q,se){if(Je&&(q==="id"||q==="name")&&(se in n||se in Vd))return!1;if(!(ns&&!yt[q]&&bn(F,q))){if(!(ts&&bn(B,q))){if(!ie[q]||yt[q]){if(!(aa(P)&&(fe.tagNameCheck instanceof RegExp&&bn(fe.tagNameCheck,P)||fe.tagNameCheck instanceof Function&&fe.tagNameCheck(P))&&(fe.attributeNameCheck instanceof RegExp&&bn(fe.attributeNameCheck,q)||fe.attributeNameCheck instanceof Function&&fe.attributeNameCheck(q))||q==="is"&&fe.allowCustomizedBuiltInElements&&(fe.tagNameCheck instanceof RegExp&&bn(fe.tagNameCheck,se)||fe.tagNameCheck instanceof Function&&fe.tagNameCheck(se))))return!1}else if(!Dl[q]){if(!bn(K,af(se,Y,""))){if(!((q==="src"||q==="xlink:href"||q==="href")&&P!=="script"&&Y0e(se,"data:")===0&&na[P])){if(!(Or&&!bn(j,af(se,Y,"")))){if(se)return!1}}}}}}return!0},"_isValidAttribute"),aa=a(function(P){return P!=="annotation-xml"&&CR(P,V)},"_isBasicCustomElement"),Dr=a(function(P){Kn(x.beforeSanitizeAttributes,P,null);const{attributes:q}=P;if(!q||Fc(P))return;const se={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ie,forceKeepAttr:void 0};let tt=q.length;for(;tt--;){const Lt=q[tt],{name:_t,namespaceURI:Ht,value:Pn}=Lt,Mr=At(_t);let mt=_t==="value"?Pn:J0e(Pn);if(se.attrName=Mr,se.attrValue=mt,se.keepAttr=!0,se.forceKeepAttr=void 0,Kn(x.uponSanitizeAttribute,P,se),mt=se.attrValue,Dt&&(Mr==="id"||Mr==="name")&&(Ll(_t,P),mt=ur+mt),rs&&bn(/((--!?|])>)|<\/(style|title)/i,mt)){Ll(_t,P);continue}if(se.forceKeepAttr||(Ll(_t,P),!se.keepAttr))continue;if(!pi&&bn(/\/>/i,mt)){Ll(_t,P);continue}Wn&&Gp([I,D,$],Kd=>{mt=af(mt,Kd," ")});const $l=At(P.nodeName);if(Fl($l,Mr,mt)){if(N&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!Ht)switch(m.getAttributeType($l,Mr)){case"TrustedHTML":{mt=N.createHTML(mt);break}case"TrustedScriptURL":{mt=N.createScriptURL(mt);break}}try{Ht?P.setAttributeNS(Ht,_t,mt):P.setAttribute(_t,mt),Fc(P)?tn(P):xR(e.removed)}catch{}}}Kn(x.afterSanitizeAttributes,P,null)},"_sanitizeAttributes"),Gd=a(function ue(P){let q=null;const se=ss(P);for(Kn(x.beforeSanitizeShadowDOM,P,null);q=se.nextNode();)Kn(x.uponSanitizeShadowNode,q,null),qd(q),Dr(q),q.content instanceof s&&ue(q.content);Kn(x.afterSanitizeShadowDOM,P,null)},"_sanitizeShadowDOM");return e.sanitize=function(ue){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=null,se=null,tt=null,Lt=null;if(Nc=!ue,Nc&&(ue="<!-->"),typeof ue!="string"&&!Hd(ue))if(typeof ue.toString=="function"){if(ue=ue.toString(),typeof ue!="string")throw lf("dirty is not a string, aborting")}else throw lf("toString is not a function");if(!e.isSupported)return ue;if(Q||Pl(P),e.removed=[],typeof ue=="string"&&(Gn=!1),Gn){if(ue.nodeName){const Pn=At(ue.nodeName);if(!J[Pn]||Me[Pn])throw lf("root node is forbidden and cannot be sanitized in-place")}}else if(ue instanceof l)q=Wd("<!---->"),se=q.ownerDocument.importNode(ue,!0),se.nodeType===cf.element&&se.nodeName==="BODY"||se.nodeName==="HTML"?q=se:q.appendChild(se);else{if(!Ze&&!Wn&&!Hn&&ue.indexOf("<")===-1)return N&&Ce?N.createHTML(ue):ue;if(q=Wd(ue),!q)return Ze?null:Ce?O:""}q&&he&&tn(q.firstChild);const _t=ss(Gn?ue:q);for(;tt=_t.nextNode();)qd(tt),Dr(tt),tt.content instanceof s&&Gd(tt.content);if(Gn)return ue;if(Ze){if(qe)for(Lt=v.call(q.ownerDocument);q.firstChild;)Lt.appendChild(q.firstChild);else Lt=q;return(ie.shadowroot||ie.shadowrootmode)&&(Lt=C.call(r,Lt,!0)),Lt}let Ht=Hn?q.outerHTML:q.innerHTML;return Hn&&J["!doctype"]&&q.ownerDocument&&q.ownerDocument.doctype&&q.ownerDocument.doctype.name&&bn(gF,q.ownerDocument.doctype.name)&&(Ht="<!DOCTYPE "+q.ownerDocument.doctype.name+`>
`+Ht),Wn&&Gp([I,D,$],Pn=>{Ht=af(Ht,Pn," ")}),N&&Ce?N.createHTML(Ht):Ht},e.setConfig=function(){let ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Pl(ue),Q=!0},e.clearConfig=function(){yi=null,Q=!1},e.isValidAttribute=function(ue,P,q){yi||Pl({});const se=At(ue),tt=At(P);return Fl(se,tt,q)},e.addHook=function(ue,P){typeof P=="function"&&of(x[ue],P)},e.removeHook=function(ue,P){if(P!==void 0){const q=G0e(x[ue],P);return q===-1?void 0:K0e(x[ue],q,1)[0]}return xR(x[ue])},e.removeHooks=function(ue){x[ue]=[]},e.removeAllHooks=function(){x=MR()},e}a(yF,"createDOMPurify");var nke=yF();function xk(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}a(xk,"_getDefaults");let Cl=xk();function _F(t){Cl=t}a(_F,"changeDefaults");const Jf={exec:a(()=>null,"exec")};function Ye(t,e=""){let n=typeof t=="string"?t:t.source;const r={replace:a((i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(kn.caret,"$1"),n=n.replace(i,o),r},"replace"),getRegex:a(()=>new RegExp(n,e),"getRegex")};return r}a(Ye,"edit");const kn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:a(t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),"listItemRegex"),nextBulletRegex:a(t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),"nextBulletRegex"),hrRegex:a(t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),"hrRegex"),fencesBeginRegex:a(t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),"fencesBeginRegex"),headingBeginRegex:a(t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),"headingBeginRegex"),htmlBeginRegex:a(t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i"),"htmlBeginRegex")},fye=/^(?:[ \t]*(?:\n|$))+/,hye=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,dye=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ld=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,pye=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Ck=/(?:[*+-]|\d{1,9}[.)])/,bF=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,wF=Ye(bF).replace(/bull/g,Ck).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),mye=Ye(bF).replace(/bull/g,Ck).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Ik=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,gye=/^[^\n]+/,Rk=/(?!\s*\])(?:\\.|[^\[\]\\])+/,yye=Ye(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Rk).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),_ye=Ye(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ck).getRegex(),Wy="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ok=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,bye=Ye("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Ok).replace("tag",Wy).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),EF=Ye(Ik).replace("hr",Ld).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wy).getRegex(),wye=Ye(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",EF).getRegex(),Nk={blockquote:wye,code:hye,def:yye,fences:dye,heading:pye,hr:Ld,html:bye,lheading:wF,list:_ye,newline:fye,paragraph:EF,table:Jf,text:gye},PR=Ye("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ld).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wy).getRegex(),Eye={...Nk,lheading:mye,table:PR,paragraph:Ye(Ik).replace("hr",Ld).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",PR).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wy).getRegex()},vye={...Nk,html:Ye(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ok).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Jf,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ye(Ik).replace("hr",Ld).replace("heading",` *#{1,6} *[^
]`).replace("lheading",wF).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Sye=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,kye=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,vF=/^( {2,}|\\)\n(?!\s*$)/,Aye=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Hy=/[\p{P}\p{S}]/u,Dk=/[\s\p{P}\p{S}]/u,SF=/[^\s\p{P}\p{S}]/u,Tye=Ye(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Dk).getRegex(),kF=/(?!~)[\p{P}\p{S}]/u,xye=/(?!~)[\s\p{P}\p{S}]/u,Cye=/(?:[^\s\p{P}\p{S}]|~)/u,Iye=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,AF=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Rye=Ye(AF,"u").replace(/punct/g,Hy).getRegex(),Oye=Ye(AF,"u").replace(/punct/g,kF).getRegex(),TF="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Nye=Ye(TF,"gu").replace(/notPunctSpace/g,SF).replace(/punctSpace/g,Dk).replace(/punct/g,Hy).getRegex(),Dye=Ye(TF,"gu").replace(/notPunctSpace/g,Cye).replace(/punctSpace/g,xye).replace(/punct/g,kF).getRegex(),Mye=Ye("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,SF).replace(/punctSpace/g,Dk).replace(/punct/g,Hy).getRegex(),Pye=Ye(/\\(punct)/,"gu").replace(/punct/g,Hy).getRegex(),Lye=Ye(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Fye=Ye(Ok).replace("(?:-->|$)","-->").getRegex(),$ye=Ye("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Fye).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),g0=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Bye=Ye(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",g0).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),xF=Ye(/^!?\[(label)\]\[(ref)\]/).replace("label",g0).replace("ref",Rk).getRegex(),CF=Ye(/^!?\[(ref)\](?:\[\])?/).replace("ref",Rk).getRegex(),Uye=Ye("reflink|nolink(?!\\()","g").replace("reflink",xF).replace("nolink",CF).getRegex(),Mk={_backpedal:Jf,anyPunctuation:Pye,autolink:Lye,blockSkip:Iye,br:vF,code:kye,del:Jf,emStrongLDelim:Rye,emStrongRDelimAst:Nye,emStrongRDelimUnd:Mye,escape:Sye,link:Bye,nolink:CF,punctuation:Tye,reflink:xF,reflinkSearch:Uye,tag:$ye,text:Aye,url:Jf},zye={...Mk,link:Ye(/^!?\[(label)\]\((.*?)\)/).replace("label",g0).getRegex(),reflink:Ye(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",g0).getRegex()},dE={...Mk,emStrongRDelimAst:Dye,emStrongLDelim:Oye,url:Ye(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},jye={...dE,br:Ye(vF).replace("{2,}","*").getRegex(),text:Ye(dE.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Yp={normal:Nk,gfm:Eye,pedantic:vye},ff={normal:Mk,gfm:dE,breaks:jye,pedantic:zye},Vye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},LR=a(t=>Vye[t],"getEscapeReplacement");function Ei(t,e){if(e){if(kn.escapeTest.test(t))return t.replace(kn.escapeReplace,LR)}else if(kn.escapeTestNoEncode.test(t))return t.replace(kn.escapeReplaceNoEncode,LR);return t}a(Ei,"escape$2");function FR(t){try{t=encodeURI(t).replace(kn.percentDecode,"%")}catch{return null}return t}a(FR,"cleanUrl");function $R(t,e){const n=t.replace(kn.findPipe,(s,o,l)=>{let u=!1,c=o;for(;--c>=0&&l[c]==="\\";)u=!u;return u?"|":" |"}),r=n.split(kn.splitPipe);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(kn.slashPipe,"|");return r}a($R,"splitCells");function hf(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}a(hf,"rtrim");function Wye(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}a(Wye,"findClosingBracket");function BR(t,e,n,r,i){const s=e.href,o=e.title||null,l=t[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;const u={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:o,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,u}a(BR,"outputLink");function Hye(t,e,n){const r=t.match(n.other.indentCodeCompensation);if(r===null)return e;const i=r[1];return e.split(`
`).map(s=>{const o=s.match(n.other.beginningSpace);if(o===null)return s;const[l]=o;return l.length>=i.length?s.slice(i.length):s}).join(`
`)}a(Hye,"indentCodeCompensation");class y0{static{a(this,"_Tokenizer")}options;rules;lexer;constructor(e){this.options=e||Cl}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:hf(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=Hye(r,n[3]||"",this.rules);return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(this.rules.other.endingHash.test(r)){const i=hf(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:hf(n[0],`
`)}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let r=hf(n[0],`
`).split(`
`),i="",s="";const o=[];for(;r.length>0;){let l=!1;const u=[];let c;for(c=0;c<r.length;c++)if(this.rules.other.blockquoteStart.test(r[c]))u.push(r[c]),l=!0;else if(!l)u.push(r[c]);else break;r=r.slice(c);const f=u.join(`
`),h=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${f}`:f,s=s?`${s}
${h}`:h;const p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(h,o,!0),this.lexer.state.top=p,r.length===0)break;const m=o.at(-1);if(m?.type==="code")break;if(m?.type==="blockquote"){const g=m,y=g.raw+`
`+r.join(`
`),_=this.blockquote(y);o[o.length-1]=_,i=i.substring(0,i.length-g.raw.length)+_.raw,s=s.substring(0,s.length-g.text.length)+_.text;break}else if(m?.type==="list"){const g=m,y=g.raw+`
`+r.join(`
`),_=this.list(y);o[o.length-1]=_,i=i.substring(0,i.length-m.raw.length)+_.raw,s=s.substring(0,s.length-g.raw.length)+_.raw,r=y.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:o,text:s}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim();const i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");const o=this.rules.other.listItemRegex(r);let l=!1;for(;e;){let c=!1,f="",h="";if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;f=n[0],e=e.substring(f.length);let p=n[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,S=>" ".repeat(3*S.length)),m=e.split(`
`,1)[0],g=!p.trim(),y=0;if(this.options.pedantic?(y=2,h=p.trimStart()):g?y=n[1].length+1:(y=n[2].search(this.rules.other.nonSpaceChar),y=y>4?1:y,h=p.slice(y),y+=n[1].length),g&&this.rules.other.blankLine.test(m)&&(f+=m+`
`,e=e.substring(m.length+1),c=!0),!c){const S=this.rules.other.nextBulletRegex(y),T=this.rules.other.hrRegex(y),N=this.rules.other.fencesBeginRegex(y),O=this.rules.other.headingBeginRegex(y),M=this.rules.other.htmlBeginRegex(y);for(;e;){const k=e.split(`
`,1)[0];let v;if(m=k,this.options.pedantic?(m=m.replace(this.rules.other.listReplaceNesting,"  "),v=m):v=m.replace(this.rules.other.tabCharGlobal,"    "),N.test(m)||O.test(m)||M.test(m)||S.test(m)||T.test(m))break;if(v.search(this.rules.other.nonSpaceChar)>=y||!m.trim())h+=`
`+v.slice(y);else{if(g||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||N.test(p)||O.test(p)||T.test(p))break;h+=`
`+m}!g&&!m.trim()&&(g=!0),f+=k+`
`,e=e.substring(k.length+1),p=v.slice(y)}}s.loose||(l?s.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(l=!0));let _=null,w;this.options.gfm&&(_=this.rules.other.listIsTask.exec(h),_&&(w=_[0]!=="[ ] ",h=h.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:f,task:!!_,checked:w,loose:!1,text:h,tokens:[]}),s.raw+=f}const u=s.items.at(-1);if(u)u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let c=0;c<s.items.length;c++)if(this.lexer.state.top=!1,s.items[c].tokens=this.lexer.blockTokens(s.items[c].text,[]),!s.loose){const f=s.items[c].tokens.filter(p=>p.type==="space"),h=f.length>0&&f.some(p=>this.rules.other.anyLine.test(p.raw));s.loose=h}if(s.loose)for(let c=0;c<s.items.length;c++)s.items[c].loose=!0;return s}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=n[2]?n[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!this.rules.other.tableDelimiter.test(n[2]))return;const r=$R(n[1]),i=n[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=n[3]?.trim()?n[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(const l of i)this.rules.other.tableAlignRight.test(l)?o.align.push("right"):this.rules.other.tableAlignCenter.test(l)?o.align.push("center"):this.rules.other.tableAlignLeft.test(l)?o.align.push("left"):o.align.push(null);for(let l=0;l<r.length;l++)o.header.push({text:r[l],tokens:this.lexer.inline(r[l]),header:!0,align:o.align[l]});for(const l of s)o.rows.push($R(l,o.header.length).map((u,c)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:o.align[c]})));return o}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:n[1]}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&this.rules.other.startATag.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;const o=hf(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{const o=Wye(n[2],"()");if(o===-2)return;if(o>-1){const u=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,u).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){const o=this.rules.other.pedanticHrefTitle.exec(i);o&&(i=o[1],s=o[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),BR(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer,this.rules)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=n[i.toLowerCase()];if(!s){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return BR(r,s,r[0],this.lexer,this.rules)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const o=[...i[0]].length-1;let l,u,c=o,f=0;const h=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,n=n.slice(-1*e.length+o);(i=h.exec(n))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(u=[...l].length,i[3]||i[4]){c+=u;continue}else if((i[5]||i[6])&&o%3&&!((o+u)%3)){f+=u;continue}if(c-=u,c>0)continue;u=Math.min(u,u+c+f);const p=[...i[0]][0].length,m=e.slice(0,o+i.index+p+u);if(Math.min(o,u)%2){const y=m.slice(1,-1);return{type:"em",raw:m,text:y,tokens:this.lexer.inlineTokens(y)}}const g=m.slice(2,-2);return{type:"strong",raw:m,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(this.rules.other.newLineCharGlobal," ");const i=this.rules.other.nonSpaceChar.test(r),s=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&s&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let r,i;return n[2]==="@"?(r=n[1],i="mailto:"+r):(r=n[1],i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let n;if(n=this.rules.inline.url.exec(e)){let r,i;if(n[2]==="@")r=n[0],i="mailto:"+r;else{let s;do s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(s!==n[0]);r=n[0],n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){const r=this.lexer.state.inRawBlock;return{type:"text",raw:n[0],text:n[0],escaped:r}}}}class Er{static{a(this,"_Lexer")}tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Cl,this.options.tokenizer=this.options.tokenizer||new y0,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:kn,block:Yp.normal,inline:ff.normal};this.options.pedantic?(n.block=Yp.pedantic,n.inline=ff.pedantic):this.options.gfm&&(n.block=Yp.gfm,this.options.breaks?n.inline=ff.breaks:n.inline=ff.gfm),this.tokenizer.rules=n}static get rules(){return{block:Yp,inline:ff}}static lex(e,n){return new Er(n).lex(e)}static lexInline(e,n){return new Er(n).inlineTokens(e)}lex(e){e=e.replace(kn.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){for(this.options.pedantic&&(e=e.replace(kn.tabCharGlobal,"    ").replace(kn.spaceLine,""));e;){let i;if(this.options.extensions?.block?.some(o=>(i=o.call({lexer:this},e,n))?(e=e.substring(i.raw.length),n.push(i),!0):!1))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);const o=n.at(-1);i.raw.length===1&&o!==void 0?o.raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);const o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+i.raw,o.text+=`
`+i.text,this.inlineQueue.at(-1).src=o.text):n.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);const o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+i.raw,o.text+=`
`+i.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),n.push(i);continue}let s=e;if(this.options.extensions?.startBlock){let o=1/0;const l=e.slice(1);let u;this.options.extensions.startBlock.forEach(c=>{u=c.call({lexer:this},l),typeof u=="number"&&u>=0&&(o=Math.min(o,u))}),o<1/0&&o>=0&&(s=e.substring(0,o+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){const o=n.at(-1);r&&o?.type==="paragraph"?(o.raw+=`
`+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(i),r=s.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);const o=n.at(-1);o?.type==="text"?(o.raw+=`
`+i.raw,o.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(i);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r=e,i=null;if(this.tokens.links){const l=Object.keys(this.tokens.links);if(l.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)l.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,o="";for(;e;){s||(o=""),s=!1;let l;if(this.options.extensions?.inline?.some(c=>(l=c.call({lexer:this},e,n))?(e=e.substring(l.raw.length),n.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);const c=n.at(-1);l.type==="text"&&c?.type==="text"?(c.raw+=l.raw,c.text+=l.text):n.push(l);continue}if(l=this.tokenizer.emStrong(e,r,o)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),n.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),n.push(l);continue}let u=e;if(this.options.extensions?.startInline){let c=1/0;const f=e.slice(1);let h;this.options.extensions.startInline.forEach(p=>{h=p.call({lexer:this},f),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(u=e.substring(0,c+1))}if(l=this.tokenizer.inlineText(u)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(o=l.raw.slice(-1)),s=!0;const c=n.at(-1);c?.type==="text"?(c.raw+=l.raw,c.text+=l.text):n.push(l);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}}class _0{static{a(this,"_Renderer")}options;parser;constructor(e){this.options=e||Cl}space(e){return""}code({text:e,lang:n,escaped:r}){const i=(n||"").match(kn.notSpaceStart)?.[0],s=e.replace(kn.endingNewline,"")+`
`;return i?'<pre><code class="language-'+Ei(i)+'">'+(r?s:Ei(s,!0))+`</code></pre>
`:"<pre><code>"+(r?s:Ei(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){const n=e.ordered,r=e.start;let i="";for(let l=0;l<e.items.length;l++){const u=e.items[l];i+=this.listitem(u)}const s=n?"ol":"ul",o=n&&r!==1?' start="'+r+'"':"";return"<"+s+o+`>
`+i+"</"+s+`>
`}listitem(e){let n="";if(e.task){const r=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+Ei(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):n+=r+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",r="";for(let s=0;s<e.header.length;s++)r+=this.tablecell(e.header[s]);n+=this.tablerow({text:r});let i="";for(let s=0;s<e.rows.length;s++){const o=e.rows[s];r="";for(let l=0;l<o.length;l++)r+=this.tablecell(o[l]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const n=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Ei(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:r}){const i=this.parser.parseInline(r),s=FR(e);if(s===null)return i;e=s;let o='<a href="'+e+'"';return n&&(o+=' title="'+Ei(n)+'"'),o+=">"+i+"</a>",o}image({href:e,title:n,text:r,tokens:i}){i&&(r=this.parser.parseInline(i,this.parser.textRenderer));const s=FR(e);if(s===null)return Ei(r);e=s;let o=`<img src="${e}" alt="${r}"`;return n&&(o+=` title="${Ei(n)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Ei(e.text)}}class Pk{static{a(this,"_TextRenderer")}strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class vr{static{a(this,"_Parser")}options;renderer;textRenderer;constructor(e){this.options=e||Cl,this.options.renderer=this.options.renderer||new _0,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Pk}static parse(e,n){return new vr(n).parse(e)}static parseInline(e,n){return new vr(n).parseInline(e)}parse(e,n=!0){let r="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions?.renderers?.[s.type]){const l=s,u=this.options.extensions.renderers[l.type].call({parser:this},l);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){r+=u||"";continue}}const o=s;switch(o.type){case"space":{r+=this.renderer.space(o);continue}case"hr":{r+=this.renderer.hr(o);continue}case"heading":{r+=this.renderer.heading(o);continue}case"code":{r+=this.renderer.code(o);continue}case"table":{r+=this.renderer.table(o);continue}case"blockquote":{r+=this.renderer.blockquote(o);continue}case"list":{r+=this.renderer.list(o);continue}case"html":{r+=this.renderer.html(o);continue}case"paragraph":{r+=this.renderer.paragraph(o);continue}case"text":{let l=o,u=this.renderer.text(l);for(;i+1<e.length&&e[i+1].type==="text";)l=e[++i],u+=`
`+this.renderer.text(l);n?r+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):r+=u;continue}default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}parseInline(e,n=this.renderer){let r="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions?.renderers?.[s.type]){const l=this.options.extensions.renderers[s.type].call({parser:this},s);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=l||"";continue}}const o=s;switch(o.type){case"escape":{r+=n.text(o);break}case"html":{r+=n.html(o);break}case"link":{r+=n.link(o);break}case"image":{r+=n.image(o);break}case"strong":{r+=n.strong(o);break}case"em":{r+=n.em(o);break}case"codespan":{r+=n.codespan(o);break}case"br":{r+=n.br(o);break}case"del":{r+=n.del(o);break}case"text":{r+=n.text(o);break}default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}}class vm{static{a(this,"_Hooks")}options;block;constructor(e){this.options=e||Cl}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Er.lex:Er.lexInline}provideParser(){return this.block?vr.parse:vr.parseInline}}class qye{static{a(this,"Marked")}defaults=xk();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=vr;Renderer=_0;TextRenderer=Pk;Lexer=Er;Tokenizer=y0;Hooks=vm;constructor(...e){this.use(...e)}walkTokens(e,n){let r=[];for(const i of e)switch(r=r.concat(n.call(this,i)),i.type){case"table":{const s=i;for(const o of s.header)r=r.concat(this.walkTokens(o.tokens,n));for(const o of s.rows)for(const l of o)r=r.concat(this.walkTokens(l.tokens,n));break}case"list":{const s=i;r=r.concat(this.walkTokens(s.items,n));break}default:{const s=i;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(o=>{const l=s[o].flat(1/0);r=r.concat(this.walkTokens(l,n))}):s.tokens&&(r=r.concat(this.walkTokens(s.tokens,n)))}}return r}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const o=n.renderers[s.name];o?n.renderers[s.name]=function(...l){let u=s.renderer.apply(this,l);return u===!1&&(u=o.apply(this,l)),u}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=n[s.level];o?o.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){const s=this.defaults.renderer||new _0(this.defaults);for(const o in r.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const l=o,u=r.renderer[l],c=s[l];s[l]=(...f)=>{let h=u.apply(s,f);return h===!1&&(h=c.apply(s,f)),h||""}}i.renderer=s}if(r.tokenizer){const s=this.defaults.tokenizer||new y0(this.defaults);for(const o in r.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const l=o,u=r.tokenizer[l],c=s[l];s[l]=(...f)=>{let h=u.apply(s,f);return h===!1&&(h=c.apply(s,f)),h}}i.tokenizer=s}if(r.hooks){const s=this.defaults.hooks||new vm;for(const o in r.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;const l=o,u=r.hooks[l],c=s[l];vm.passThroughHooks.has(o)?s[l]=f=>{if(this.defaults.async)return Promise.resolve(u.call(s,f)).then(p=>c.call(s,p));const h=u.call(s,f);return c.call(s,h)}:s[l]=(...f)=>{let h=u.apply(s,f);return h===!1&&(h=c.apply(s,f)),h}}i.hooks=s}if(r.walkTokens){const s=this.defaults.walkTokens,o=r.walkTokens;i.walkTokens=function(l){let u=[];return u.push(o.call(this,l)),s&&(u=u.concat(s.call(this,l))),u}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return Er.lex(e,n??this.defaults)}parser(e,n){return vr.parse(e,n??this.defaults)}parseMarkdown(e){return a((r,i)=>{const s={...i},o={...this.defaults,...s},l=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&s.async===!1)return l(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);const u=o.hooks?o.hooks.provideLexer():e?Er.lex:Er.lexInline,c=o.hooks?o.hooks.provideParser():e?vr.parse:vr.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(r):r).then(f=>u(f,o)).then(f=>o.hooks?o.hooks.processAllTokens(f):f).then(f=>o.walkTokens?Promise.all(this.walkTokens(f,o.walkTokens)).then(()=>f):f).then(f=>c(f,o)).then(f=>o.hooks?o.hooks.postprocess(f):f).catch(l);try{o.hooks&&(r=o.hooks.preprocess(r));let f=u(r,o);o.hooks&&(f=o.hooks.processAllTokens(f)),o.walkTokens&&this.walkTokens(f,o.walkTokens);let h=c(f,o);return o.hooks&&(h=o.hooks.postprocess(h)),h}catch(f){return l(f)}},"parse")}onError(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+Ei(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}}}const cl=new qye;function et(t,e){return cl.parse(t,e)}a(et,"marked");et.options=et.setOptions=function(t){return cl.setOptions(t),et.defaults=cl.defaults,_F(et.defaults),et};et.getDefaults=xk;et.defaults=Cl;et.use=function(...t){return cl.use(...t),et.defaults=cl.defaults,_F(et.defaults),et};et.walkTokens=function(t,e){return cl.walkTokens(t,e)};et.parseInline=cl.parseInline;et.Parser=vr;et.parser=vr.parse;et.Renderer=_0;et.TextRenderer=Pk;et.Lexer=Er;et.lexer=Er.lex;et.Tokenizer=y0;et.Hooks=vm;et.parse=et;et.options;et.setOptions;et.use;et.walkTokens;et.parseInline;vr.parse;Er.lex;const Gt=[];for(let t=0;t<256;++t)Gt.push((t+256).toString(16).slice(1));function Gye(t,e=0){return(Gt[t[e+0]]+Gt[t[e+1]]+Gt[t[e+2]]+Gt[t[e+3]]+"-"+Gt[t[e+4]]+Gt[t[e+5]]+"-"+Gt[t[e+6]]+Gt[t[e+7]]+"-"+Gt[t[e+8]]+Gt[t[e+9]]+"-"+Gt[t[e+10]]+Gt[t[e+11]]+Gt[t[e+12]]+Gt[t[e+13]]+Gt[t[e+14]]+Gt[t[e+15]]).toLowerCase()}a(Gye,"unsafeStringify");let W_;const Kye=new Uint8Array(16);function Yye(){if(!W_){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");W_=crypto.getRandomValues.bind(crypto)}return W_(Kye)}a(Yye,"rng");const Jye=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),UR={randomUUID:Jye};function rke(t,e,n){if(UR.randomUUID&&!e&&!t)return UR.randomUUID();t=t||{};const r=t.random??t.rng?.()??Yye();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Gye(r)}a(rke,"v4");function Xye(){function t(e){return new Promise(n=>{let r=new XMLHttpRequest;r.open(e.method,e.url,!0),Object.keys(e.headers).forEach(l=>r.setRequestHeader(l,e.headers[l]));let i=a((l,u)=>setTimeout(()=>{r.abort(),n({status:0,content:u,isTimedOut:!0})},l),"i"),s=i(e.connectTimeout,"Connection timeout"),o;r.onreadystatechange=()=>{r.readyState>r.OPENED&&o===void 0&&(clearTimeout(s),o=i(e.responseTimeout,"Socket timeout"))},r.onerror=()=>{r.status===0&&(clearTimeout(s),clearTimeout(o),n({content:r.responseText||"Network request failed",status:r.status,isTimedOut:!1}))},r.onload=()=>{clearTimeout(s),clearTimeout(o),n({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(e.data)})}return a(t,"r"),{send:t}}a(Xye,"m");function Zye(t){let e;const n=`algolia-client-js-${t.key}`;function r(){return e===void 0&&(e=t.localStorage||window.localStorage),e}a(r,"getStorage");function i(){return JSON.parse(r().getItem(n)||"{}")}a(i,"getNamespace");function s(l){r().setItem(n,JSON.stringify(l))}a(s,"setNamespace");function o(){const l=t.timeToLive?t.timeToLive*1e3:null,u=i(),c=Object.fromEntries(Object.entries(u).filter(([,h])=>h.timestamp!==void 0));if(s(c),!l)return;const f=Object.fromEntries(Object.entries(c).filter(([,h])=>{const p=new Date().getTime();return!(h.timestamp+l<p)}));s(f)}return a(o,"removeOutdatedCacheItems"),{get(l,u,c={miss:a(()=>Promise.resolve(),"miss")}){return Promise.resolve().then(()=>(o(),i()[JSON.stringify(l)])).then(f=>Promise.all([f?f.value:u(),f!==void 0])).then(([f,h])=>Promise.all([f,h||c.miss(f)])).then(([f])=>f)},set(l,u){return Promise.resolve().then(()=>{const c=i();return c[JSON.stringify(l)]={timestamp:new Date().getTime(),value:u},r().setItem(n,JSON.stringify(c)),u})},delete(l){return Promise.resolve().then(()=>{const u=i();delete u[JSON.stringify(l)],r().setItem(n,JSON.stringify(u))})},clear(){return Promise.resolve().then(()=>{r().removeItem(n)})}}}a(Zye,"createBrowserLocalStorageCache");function Qye(){return{get(t,e,n={miss:a(()=>Promise.resolve(),"miss")}){return e().then(i=>Promise.all([i,n.miss(i)])).then(([i])=>i)},set(t,e){return Promise.resolve(e)},delete(t){return Promise.resolve()},clear(){return Promise.resolve()}}}a(Qye,"createNullCache");function Tf(t){const e=[...t.caches],n=e.shift();return n===void 0?Qye():{get(r,i,s={miss:a(()=>Promise.resolve(),"miss")}){return n.get(r,i,s).catch(()=>Tf({caches:e}).get(r,i,s))},set(r,i){return n.set(r,i).catch(()=>Tf({caches:e}).set(r,i))},delete(r){return n.delete(r).catch(()=>Tf({caches:e}).delete(r))},clear(){return n.clear().catch(()=>Tf({caches:e}).clear())}}}a(Tf,"createFallbackableCache");function H_(t={serializable:!0}){let e={};return{get(n,r,i={miss:a(()=>Promise.resolve(),"miss")}){const s=JSON.stringify(n);if(s in e)return Promise.resolve(t.serializable?JSON.parse(e[s]):e[s]);const o=r();return o.then(l=>i.miss(l)).then(()=>o)},set(n,r){return e[JSON.stringify(n)]=t.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete(n){return delete e[JSON.stringify(n)],Promise.resolve()},clear(){return e={},Promise.resolve()}}}a(H_,"createMemoryCache");function e1e(t){const e={value:`Algolia for JavaScript (${t})`,add(n){const r=`; ${n.segment}${n.version!==void 0?` (${n.version})`:""}`;return e.value.indexOf(r)===-1&&(e.value=`${e.value}${r}`),e}};return e}a(e1e,"createAlgoliaAgent");function t1e(t,e,n="WithinHeaders"){const r={"x-algolia-api-key":e,"x-algolia-application-id":t};return{headers(){return n==="WithinHeaders"?r:{}},queryParameters(){return n==="WithinQueryParameters"?r:{}}}}a(t1e,"createAuth");function n1e({algoliaAgents:t,client:e,version:n}){const r=e1e(n).add({segment:e,version:n});return t.forEach(i=>r.add(i)),r}a(n1e,"getAlgoliaAgent");function r1e(){return{debug(t,e){return Promise.resolve()},info(t,e){return Promise.resolve()},error(t,e){return Promise.resolve()}}}a(r1e,"createNullLogger");var zR=2*60*1e3;function jR(t,e="up"){const n=Date.now();function r(){return e==="up"||Date.now()-n>zR}a(r,"isUp");function i(){return e==="timed out"&&Date.now()-n<=zR}return a(i,"isTimedOut"),{...t,status:e,lastUpdate:n,isUp:r,isTimedOut:i}}a(jR,"createStatefulHost");var IF=class extends Error{static{a(this,"AlgoliaError")}name="AlgoliaError";constructor(t,e){super(t),e&&(this.name=e)}},RF=class extends IF{static{a(this,"ErrorWithStackTrace")}stackTrace;constructor(t,e,n){super(t,n),this.stackTrace=e}},i1e=class extends RF{static{a(this,"RetryError")}constructor(t){super("Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support.",t,"RetryError")}},pE=class extends RF{static{a(this,"ApiError")}status;constructor(t,e,n,r="ApiError"){super(t,n,r),this.status=e}},s1e=class extends IF{static{a(this,"DeserializationError")}response;constructor(t,e){super(t,"DeserializationError"),this.response=e}},o1e=class extends pE{static{a(this,"DetailedApiError")}error;constructor(t,e,n,r){super(t,e,r,"DetailedApiError"),this.error=n}};function a1e(t){const e=t;for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1)),i=t[n];e[n]=t[r],e[r]=i}return e}a(a1e,"shuffle");function l1e(t,e,n){const r=u1e(n);let i=`${t.protocol}://${t.url}${t.port?`:${t.port}`:""}/${e.charAt(0)==="/"?e.substring(1):e}`;return r.length&&(i+=`?${r}`),i}a(l1e,"serializeUrl");function u1e(t){return Object.keys(t).filter(e=>t[e]!==void 0).sort().map(e=>`${e}=${encodeURIComponent(Object.prototype.toString.call(t[e])==="[object Array]"?t[e].join(","):t[e]).replace(/\+/g,"%20")}`).join("&")}a(u1e,"serializeQueryParameters");function c1e(t,e){if(t.method==="GET"||t.data===void 0&&e.data===void 0)return;const n=Array.isArray(t.data)?t.data:{...t.data,...e.data};return JSON.stringify(n)}a(c1e,"serializeData");function f1e(t,e,n){const r={Accept:"application/json",...t,...e,...n},i={};return Object.keys(r).forEach(s=>{const o=r[s];i[s.toLowerCase()]=o}),i}a(f1e,"serializeHeaders");function h1e(t){try{return JSON.parse(t.content)}catch(e){throw new s1e(e.message,t)}}a(h1e,"deserializeSuccess");function d1e({content:t,status:e},n){try{const r=JSON.parse(t);return"error"in r?new o1e(r.message,e,r.error,n):new pE(r.message,e,n)}catch{}return new pE(t,e,n)}a(d1e,"deserializeFailure");function p1e({isTimedOut:t,status:e}){return!t&&~~e===0}a(p1e,"isNetworkError");function m1e({isTimedOut:t,status:e}){return t||p1e({isTimedOut:t,status:e})||~~(e/100)!==2&&~~(e/100)!==4}a(m1e,"isRetryable");function g1e({status:t}){return~~(t/100)===2}a(g1e,"isSuccess");function y1e(t){return t.map(e=>OF(e))}a(y1e,"stackTraceWithoutCredentials");function OF(t){const e=t.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return{...t,request:{...t.request,headers:{...t.request.headers,...e}}}}a(OF,"stackFrameWithoutCredentials");function _1e({hosts:t,hostsCache:e,baseHeaders:n,logger:r,baseQueryParameters:i,algoliaAgent:s,timeouts:o,requester:l,requestsCache:u,responsesCache:c}){async function f(m){const g=await Promise.all(m.map(T=>e.get(T,()=>Promise.resolve(jR(T))))),y=g.filter(T=>T.isUp()),_=g.filter(T=>T.isTimedOut()),w=[...y,..._];return{hosts:w.length>0?w:m,getTimeout(T,N){return(_.length===0&&T===0?1:_.length+3+T)*N}}}a(f,"createRetryableOptions");async function h(m,g,y=!0){const _=[],w=c1e(m,g),S=f1e(n,m.headers,g.headers),T=m.method==="GET"?{...m.data,...g.data}:{},N={...i,...m.queryParameters,...T};if(s.value&&(N["x-algolia-agent"]=s.value),g&&g.queryParameters)for(const A of Object.keys(g.queryParameters))!g.queryParameters[A]||Object.prototype.toString.call(g.queryParameters[A])==="[object Object]"?N[A]=g.queryParameters[A]:N[A]=g.queryParameters[A].toString();let O=0;const M=a(async(A,C)=>{const x=A.pop();if(x===void 0)throw new i1e(y1e(_));const I={...o,...g.timeouts},D={data:w,headers:S,method:m.method,url:l1e(x,m.path,N),connectTimeout:C(O,I.connect),responseTimeout:C(O,y?I.read:I.write)},$=a(B=>{const j={request:D,response:B,host:x,triesLeft:A.length};return _.push(j),j},"pushToStackTrace"),F=await l.send(D);if(m1e(F)){const B=$(F);return F.isTimedOut&&O++,r.info("Retryable failure",OF(B)),await e.set(x,jR(x,F.isTimedOut?"timed out":"down")),M(A,C)}if(g1e(F))return h1e(F);throw $(F),d1e(F,_)},"retry"),k=t.filter(A=>A.accept==="readWrite"||(y?A.accept==="read":A.accept==="write")),v=await f(k);return M([...v.hosts].reverse(),v.getTimeout)}a(h,"retryableRequest");function p(m,g={}){const y=m.useReadTransporter||m.method==="GET";if(!y)return h(m,g,y);const _=a(()=>h(m,g),"createRetryableRequest");if((g.cacheable||m.cacheable)!==!0)return _();const S={request:m,requestOptions:g,transporter:{queryParameters:i,headers:n}};return c.get(S,()=>u.get(S,()=>u.set(S,_()).then(T=>Promise.all([u.delete(S),T]),T=>Promise.all([u.delete(S),Promise.reject(T)])).then(([T,N])=>N)),{miss:a(T=>c.set(S,T),"miss")})}return a(p,"createRequest"),{hostsCache:e,requester:l,timeouts:o,logger:r,algoliaAgent:s,baseHeaders:n,baseQueryParameters:i,hosts:t,request:p,requestsCache:u,responsesCache:c}}a(_1e,"createTransporter");var NF="5.21.0";function b1e(t){return[{url:`${t}-dsn.algolia.net`,accept:"read",protocol:"https"},{url:`${t}.algolia.net`,accept:"write",protocol:"https"}].concat(a1e([{url:`${t}-1.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${t}-2.algolianet.com`,accept:"readWrite",protocol:"https"},{url:`${t}-3.algolianet.com`,accept:"readWrite",protocol:"https"}]))}a(b1e,"getDefaultHosts");function w1e({appId:t,apiKey:e,authMode:n,algoliaAgents:r,...i}){const s=t1e(t,e,n),o=_1e({hosts:b1e(t),...i,algoliaAgent:n1e({algoliaAgents:r,client:"Lite",version:NF}),baseHeaders:{"content-type":"text/plain",...s.headers(),...i.baseHeaders},baseQueryParameters:{...s.queryParameters(),...i.baseQueryParameters}});return{transporter:o,appId:t,apiKey:e,clearCache(){return Promise.all([o.requestsCache.clear(),o.responsesCache.clear()]).then(()=>{})},get _ua(){return o.algoliaAgent.value},addAlgoliaAgent(l,u){o.algoliaAgent.add({segment:l,version:u})},setClientApiKey({apiKey:l}){!n||n==="WithinHeaders"?o.baseHeaders["x-algolia-api-key"]=l:o.baseQueryParameters["x-algolia-api-key"]=l},searchForHits(l,u){return this.search(l,u)},searchForFacets(l,u){return this.search(l,u)},customPost({path:l,parameters:u,body:c},f){if(!l)throw new Error("Parameter `path` is required when calling `customPost`.");const g={method:"POST",path:"/{path}".replace("{path}",l),queryParameters:u||{},headers:{},data:c||{}};return o.request(g,f)},getRecommendations(l,u){if(l&&Array.isArray(l)&&(l={requests:l}),!l)throw new Error("Parameter `getRecommendationsParams` is required when calling `getRecommendations`.");if(!l.requests)throw new Error("Parameter `getRecommendationsParams.requests` is required when calling `getRecommendations`.");const p={method:"POST",path:"/1/indexes/*/recommendations",queryParameters:{},headers:{},data:l,useReadTransporter:!0,cacheable:!0};return o.request(p,u)},search(l,u){if(l&&Array.isArray(l)&&(l={requests:l.map(({params:g,...y})=>y.type==="facet"?{...y,...g,type:"facet"}:{...y,...g,facet:void 0,maxFacetHits:void 0,facetQuery:void 0})}),!l)throw new Error("Parameter `searchMethodParams` is required when calling `search`.");if(!l.requests)throw new Error("Parameter `searchMethodParams.requests` is required when calling `search`.");const p={method:"POST",path:"/1/indexes/*/queries",queryParameters:{},headers:{},data:l,useReadTransporter:!0,cacheable:!0};return o.request(p,u)}}}a(w1e,"createLiteClient");function ike(t,e,n){return w1e({appId:t,apiKey:e,timeouts:{connect:1e3,read:2e3,write:3e4},logger:r1e(),requester:Xye(),algoliaAgents:[{segment:"Browser"}],authMode:"WithinQueryParameters",responsesCache:H_(),requestsCache:H_({serializable:!1}),hostsCache:Tf({caches:[Zye({key:`${NF}-${t}`}),H_()]}),...n})}a(ike,"liteClient");const E1e=a(t=>e=>{const n=t(e);return e.add(n),n},"createAddUniqueNumber"),v1e=a(t=>(e,n)=>(t.set(e,n),n),"createCache"),VR=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,DF=536870912,WR=DF*2,S1e=a((t,e)=>n=>{const r=e.get(n);let i=r===void 0?n.size:r<WR?r+1:0;if(!n.has(i))return t(n,i);if(n.size<DF){for(;n.has(i);)i=Math.floor(Math.random()*WR);return t(n,i)}if(n.size>VR)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;n.has(i);)i=Math.floor(Math.random()*VR);return t(n,i)},"createGenerateUniqueNumber"),MF=new WeakMap,k1e=v1e(MF),Lk=S1e(k1e,MF),HR=E1e(Lk),A1e=a(t=>typeof t.start=="function","isMessagePort"),qR=new WeakMap,T1e=a(t=>({...t,connect:a(({call:e})=>async()=>{const{port1:n,port2:r}=new MessageChannel,i=await e("connect",{port:n},[n]);return qR.set(r,i),r},"connect"),disconnect:a(({call:e})=>async n=>{const r=qR.get(n);if(r===void 0)throw new Error("The given port is not connected.");await e("disconnect",{portId:r})},"disconnect"),isSupported:a(({call:e})=>()=>e("isSupported"),"isSupported")}),"extendBrokerImplementation"),q_=new WeakMap,x1e=a(t=>{if(q_.has(t))return q_.get(t);const e=new Map;return q_.set(t,e),e},"createOrGetOngoingRequests"),PF=a(t=>{const e=T1e(t);return n=>{const r=x1e(n);n.addEventListener("message",({data:l})=>{const{id:u}=l;if(u!==null&&r.has(u)){const{reject:c,resolve:f}=r.get(u);r.delete(u),l.error===void 0?f(l.result):c(new Error(l.error.message))}}),A1e(n)&&n.start();const i=a((l,u=null,c=[])=>new Promise((f,h)=>{const p=Lk(r);r.set(p,{reject:h,resolve:f}),u===null?n.postMessage({id:p,method:l},c):n.postMessage({id:p,method:l,params:u},c)}),"call"),s=a((l,u,c=[])=>{n.postMessage({id:null,method:l,params:u},c)},"notify");let o={};for(const[l,u]of Object.entries(e))o={...o,[l]:u({call:i,notify:s})};return{...o}}},"createBroker"),G_=new Set,GR=new Set,df=new WeakMap,C1e=PF({deregister:a(({call:t})=>async e=>{const n=df.get(e);if(n===void 0)throw new Error("There is no encoder registered with the given port.");const r=await t("deregister",{encoderId:n});return G_.delete(n),df.delete(e),r},"deregister"),encode:a(({call:t})=>async(e,n)=>{const r=await t("encode",{encoderInstanceId:e,timeslice:n});return GR.delete(e),r},"encode"),instantiate:a(({call:t})=>async(e,n)=>{const r=HR(GR),i=await t("instantiate",{encoderInstanceId:r,mimeType:e,sampleRate:n});return{encoderInstanceId:r,port:i}},"instantiate"),register:a(({call:t})=>async e=>{if(df.has(e))throw new Error("");const n=HR(G_);df.set(e,n);try{return await t("register",{encoderId:n,port:e},[e])}catch(r){throw G_.delete(n),df.delete(e),r}},"register")}),I1e=a(t=>{const e=new Worker(t);return C1e(e)},"load$1"),R1e=`(()=>{var e={455:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,s=2*o,a=function(e,t){return function(r){var a=t.get(r),c=void 0===a?r.size:a<s?a+1:0;if(!r.has(c))return e(r,c);if(r.size<o){for(;r.has(c);)c=Math.floor(Math.random()*s);return e(r,c)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(c);)c=Math.floor(Math.random()*n);return e(r,c)}},c=new WeakMap,i=r(c),d=a(i,c),l=t(d);e.addUniqueNumber=l,e.generateUniqueNumber=d}(t)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(()=>{"use strict";var e=r(455);const t=new WeakMap,n=new WeakMap,o=(r=>{const o=(s=r,{...s,connect:({call:e})=>async()=>{const{port1:r,port2:n}=new MessageChannel,o=await e("connect",{port:r},[r]);return t.set(n,o),n},disconnect:({call:e})=>async r=>{const n=t.get(r);if(void 0===n)throw new Error("The given port is not connected.");await e("disconnect",{portId:n})},isSupported:({call:e})=>()=>e("isSupported")});var s;return t=>{const r=(e=>{if(n.has(e))return n.get(e);const t=new Map;return n.set(e,t),t})(t);t.addEventListener("message",(({data:e})=>{const{id:t}=e;if(null!==t&&r.has(t)){const{reject:n,resolve:o}=r.get(t);r.delete(t),void 0===e.error?o(e.result):n(new Error(e.error.message))}})),(e=>"function"==typeof e.start)(t)&&t.start();const s=(n,o=null,s=[])=>new Promise(((a,c)=>{const i=(0,e.generateUniqueNumber)(r);r.set(i,{reject:c,resolve:a}),null===o?t.postMessage({id:i,method:n},s):t.postMessage({id:i,method:n,params:o},s)})),a=(e,r,n=[])=>{t.postMessage({id:null,method:e,params:r},n)};let c={};for(const[e,t]of Object.entries(o))c={...c,[e]:t({call:s,notify:a})};return{...c}}})({characterize:({call:e})=>()=>e("characterize"),encode:({call:e})=>(t,r)=>e("encode",{recordingId:t,timeslice:r}),record:({call:e})=>async(t,r,n)=>{await e("record",{recordingId:t,sampleRate:r,typedArrays:n},n.map((({buffer:e})=>e)))}}),s=-32603,a=-32602,c=-32601,i=(e,t)=>Object.assign(new Error(e),{status:t}),d=e=>i('The handler of the method called "'.concat(e,'" returned an unexpected result.'),s),l=(e,t)=>async({data:{id:r,method:n,params:o}})=>{const a=t[n];try{if(void 0===a)throw(e=>i('The requested method called "'.concat(e,'" is not supported.'),c))(n);const t=void 0===o?a():a(o);if(void 0===t)throw(e=>i('The handler of the method called "'.concat(e,'" returned no required result.'),s))(n);const l=t instanceof Promise?await t:t;if(null===r){if(void 0!==l.result)throw d(n)}else{if(void 0===l.result)throw d(n);const{result:t,transferables:o=[]}=l;e.postMessage({id:r,result:t},o)}}catch(t){const{message:n,status:o=-32603}=t;e.postMessage({error:{code:o,message:n},id:r})}},u=new Map,h=(t,r,n)=>({...r,connect:({port:n})=>{n.start();const o=t(n,r),s=(0,e.generateUniqueNumber)(u);return u.set(s,(()=>{o(),n.close(),u.delete(s)})),{result:s}},disconnect:({portId:e})=>{const t=u.get(e);if(void 0===t)throw(e=>i('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),a))(e);return t(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=({data:t})=>e(null!==t),n.postMessage(t,[t])}))){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),w=(e,t,r=()=>!0)=>{const n=h(w,t,r),o=l(e,n);return e.addEventListener("message",o),()=>e.removeEventListener("message",o)},f=e=>{e.onmessage=null,e.close()},p=new Map,m=new Map,g=((e,t)=>r=>{const n=t.get(r);if(void 0===n)throw new Error("There was no encoder stored with the given id.");e.delete(n),t.delete(r)})(p,m),v=new Map,y=(e=>t=>{const r=e.get(t);if(void 0===r)throw new Error("There was no instance of an encoder stored with the given id.");return r})(v),M=((e,t)=>r=>{const n=t(r);return e.delete(r),n})(v,y),E=((e,t)=>r=>{const[n,o,s,a]=t(r);return s?new Promise((t=>{o.onmessage=({data:s})=>{0===s.length?(e(o),t(n.encode(r,null))):n.record(r,a,s)}})):n.encode(r,null)})(f,M),b=(e=>t=>{for(const[r,n]of Array.from(e.values()))if(r.test(t))return n;throw new Error("There is no encoder registered which could handle the given mimeType.")})(p),T=((e,t,r)=>(n,o,s)=>{if(t.has(n))throw new Error('There is already an encoder instance registered with an id called "'.concat(n,'".'));const a=r(o),{port1:c,port2:i}=new MessageChannel,d=[a,c,!0,s];return t.set(n,d),c.onmessage=({data:t})=>{0===t.length?(e(c),d[2]=!1):a.record(n,s,t.map((e=>"number"==typeof e?new Float32Array(e):e)))},i})(f,v,b),I=((e,t,r)=>async(n,o)=>{const s=r(o),a=await s.characterize(),c=a.toString();if(e.has(c))throw new Error("There is already an encoder stored which handles exactly the same mime types.");if(t.has(n))throw new Error('There is already an encoder registered with an id called "'.concat(n,'".'));return e.set(c,[a,s]),t.set(n,c),a})(p,m,o),A=(e=>(t,r)=>{const[n]=e(t);return n.encode(t,r)})(y);w(self,{deregister:async({encoderId:e})=>(g(e),{result:null}),encode:async({encoderInstanceId:e,timeslice:t})=>{const r=null===t?await E(e):await A(e,t);return{result:r,transferables:r}},instantiate:({encoderInstanceId:e,mimeType:t,sampleRate:r})=>{const n=T(e,t,r);return{result:n,transferables:[n]}},register:async({encoderId:e,port:t})=>({result:await I(e,t)})})})()})();`,O1e=new Blob([R1e],{type:"application/javascript; charset=utf-8"}),LF=URL.createObjectURL(O1e),Fk=I1e(LF),b0=Fk.encode,FF=Fk.instantiate,N1e=Fk.register;URL.revokeObjectURL(LF);const D1e=a(t=>(e,n)=>{if(t===null)throw new Error("A native BlobEvent could not be created.");return new t(e,n)},"createBlobEventFactory"),M1e=a((t,e)=>(n,r,i)=>{const s=[];let o=r,l=0;for(;l<n.byteLength;)if(o===null){const u=e(n,l);if(u===null)break;const{length:c,type:f}=u;o=f,l+=c}else{const u=t(n,l,o,i);if(u===null)break;const{content:c,length:f}=u;o=null,l+=f,c!==null&&s.push(c)}return{contents:s,currentElementType:o,offset:l}},"createDecodeWebMChunk"),P1e=a((t,e)=>class{static{a(this,"EventTarget")}constructor(r=null){this._listeners=new WeakMap,this._nativeEventTarget=r===null?t():r}addEventListener(r,i,s){if(i!==null){let o=this._listeners.get(i);o===void 0&&(o=e(this,i),typeof i=="function"&&this._listeners.set(i,o)),this._nativeEventTarget.addEventListener(r,o,s)}}dispatchEvent(r){return this._nativeEventTarget.dispatchEvent(r)}removeEventListener(r,i,s){const o=i===null?void 0:this._listeners.get(i);this._nativeEventTarget.removeEventListener(r,o===void 0?null:o,s)}},"createEventTargetConstructor$1"),L1e=a(t=>()=>{if(t===null)throw new Error("A native EventTarget could not be created.");return t.document.createElement("p")},"createEventTargetFactory"),F1e=a((t="")=>{try{return new DOMException(t,"InvalidModificationError")}catch(e){return e.code=13,e.message=t,e.name="InvalidModificationError",e}},"createInvalidModificationError"),$1e=a(()=>{try{return new DOMException("","InvalidStateError")}catch(t){return t.code=11,t.name="InvalidStateError",t}},"createInvalidStateError$1"),B1e=a((t,e,n,r,i,s,o)=>class extends s{static{a(this,"MediaRecorder")}constructor(u,c={}){const{mimeType:f}=c;if(o!==null&&(f===void 0||o.isTypeSupported!==void 0&&o.isTypeSupported(f))){const h=t(o,u,c);super(h),this._internalMediaRecorder=h}else if(f!==void 0&&i.some(h=>h.test(f)))super(),o!==null&&o.isTypeSupported!==void 0&&o.isTypeSupported("audio/webm; codecs=pcm")?this._internalMediaRecorder=r(this,o,u,f):this._internalMediaRecorder=n(this,u,f);else throw o!==null&&t(o,u,c),e();this._ondataavailable=null,this._onerror=null,this._onpause=null,this._onresume=null,this._onstart=null,this._onstop=null}get mimeType(){return this._internalMediaRecorder.mimeType}get ondataavailable(){return this._ondataavailable===null?this._ondataavailable:this._ondataavailable[0]}set ondataavailable(u){if(this._ondataavailable!==null&&this.removeEventListener("dataavailable",this._ondataavailable[1]),typeof u=="function"){const c=u.bind(this);this.addEventListener("dataavailable",c),this._ondataavailable=[u,c]}else this._ondataavailable=null}get onerror(){return this._onerror===null?this._onerror:this._onerror[0]}set onerror(u){if(this._onerror!==null&&this.removeEventListener("error",this._onerror[1]),typeof u=="function"){const c=u.bind(this);this.addEventListener("error",c),this._onerror=[u,c]}else this._onerror=null}get onpause(){return this._onpause===null?this._onpause:this._onpause[0]}set onpause(u){if(this._onpause!==null&&this.removeEventListener("pause",this._onpause[1]),typeof u=="function"){const c=u.bind(this);this.addEventListener("pause",c),this._onpause=[u,c]}else this._onpause=null}get onresume(){return this._onresume===null?this._onresume:this._onresume[0]}set onresume(u){if(this._onresume!==null&&this.removeEventListener("resume",this._onresume[1]),typeof u=="function"){const c=u.bind(this);this.addEventListener("resume",c),this._onresume=[u,c]}else this._onresume=null}get onstart(){return this._onstart===null?this._onstart:this._onstart[0]}set onstart(u){if(this._onstart!==null&&this.removeEventListener("start",this._onstart[1]),typeof u=="function"){const c=u.bind(this);this.addEventListener("start",c),this._onstart=[u,c]}else this._onstart=null}get onstop(){return this._onstop===null?this._onstop:this._onstop[0]}set onstop(u){if(this._onstop!==null&&this.removeEventListener("stop",this._onstop[1]),typeof u=="function"){const c=u.bind(this);this.addEventListener("stop",c),this._onstop=[u,c]}else this._onstop=null}get state(){return this._internalMediaRecorder.state}pause(){return this._internalMediaRecorder.pause()}resume(){return this._internalMediaRecorder.resume()}start(u){return this._internalMediaRecorder.start(u)}stop(){return this._internalMediaRecorder.stop()}static isTypeSupported(u){return o!==null&&o.isTypeSupported!==void 0&&o.isTypeSupported(u)||i.some(c=>c.test(u))}},"createMediaRecorderConstructor"),U1e=a(t=>t!==null&&t.BlobEvent!==void 0?t.BlobEvent:null,"createNativeBlobEventConstructor"),z1e=a(t=>t===null||t.MediaRecorder===void 0?null:t.MediaRecorder,"createNativeMediaRecorderConstructor"),j1e=a(t=>(e,n,r)=>{const i=new Map,s=new WeakMap,o=new WeakMap,l=[],u=new e(n,r),c=new WeakMap;return u.addEventListener("stop",({isTrusted:f})=>{f&&setTimeout(()=>l.shift())}),u.addEventListener=(f=>(h,p,m)=>{let g=p;if(typeof p=="function")if(h==="dataavailable"){const y=[];g=a(_=>{const[[w,S]=[!1,!1]]=l;w&&!S?y.push(_):p.call(u,_)},"patchedEventListener"),i.set(p,y),s.set(p,g)}else h==="error"?(g=a(y=>{y instanceof ErrorEvent?p.call(u,y):p.call(u,new ErrorEvent("error",{error:y.error}))},"patchedEventListener"),o.set(p,g)):h==="stop"&&(g=a(y=>{for(const[_,w]of i.entries())if(w.length>0){const[S]=w;w.length>1&&Object.defineProperty(S,"data",{value:new Blob(w.map(({data:T})=>T),{type:S.data.type})}),w.length=0,_.call(u,S)}p.call(u,y)},"patchedEventListener"),c.set(p,g));return f.call(u,h,g,m)})(u.addEventListener),u.removeEventListener=(f=>(h,p,m)=>{let g=p;if(typeof p=="function"){if(h==="dataavailable"){i.delete(p);const y=s.get(p);y!==void 0&&(g=y)}else if(h==="error"){const y=o.get(p);y!==void 0&&(g=y)}else if(h==="stop"){const y=c.get(p);y!==void 0&&(g=y)}}return f.call(u,h,g,m)})(u.removeEventListener),u.start=(f=>h=>{if(r.mimeType!==void 0&&r.mimeType.startsWith("audio/")&&n.getVideoTracks().length>0)throw t();return u.state==="inactive"&&l.push([h!==void 0,!0]),h===void 0?f.call(u):f.call(u,h)})(u.start),u.stop=(f=>()=>{u.state!=="inactive"&&(l[0][1]=!1),f.call(u)})(u.stop),u},"createNativeMediaRecorderFactory"),mE=a(()=>{try{return new DOMException("","NotSupportedError")}catch(t){return t.code=9,t.name="NotSupportedError",t}},"createNotSupportedError$1"),V1e=a(t=>(e,n,r,i=2)=>{const s=t(e,n);if(s===null)return s;const{length:o,value:l}=s;if(r==="master")return{content:null,length:o};if(n+o+l>e.byteLength)return null;if(r==="binary"){const u=(l/Float32Array.BYTES_PER_ELEMENT-1)/i,c=Array.from({length:i},()=>new Float32Array(u));for(let f=0;f<u;f+=1){const h=f*i+1;for(let p=0;p<i;p+=1)c[p][f]=e.getFloat32(n+o+(h+p)*Float32Array.BYTES_PER_ELEMENT,!0)}return{content:c,length:o+l}}return{content:null,length:o+l}},"createReadElementContent"),W1e=a(t=>(e,n)=>{const r=t(e,n);if(r===null)return r;const{length:i,value:s}=r;return s===35?{length:i,type:"binary"}:s===46||s===97||s===88713574||s===106212971||s===139690087||s===172351395||s===256095861?{length:i,type:"master"}:{length:i,type:"unknown"}},"createReadElementType"),H1e=a(t=>(e,n)=>{const r=t(e,n);if(r===null)return r;const i=n+Math.floor((r-1)/8);if(i+r>e.byteLength)return null;let o=e.getUint8(i)&(1<<8-r%8)-1;for(let l=1;l<r;l+=1)o=(o<<8)+e.getUint8(i+l);return{length:r,value:o}},"createReadVariableSizeInteger"),KR=Symbol.observable||"@@observable";function q1e(t){return Symbol.observable||(typeof t=="function"&&t.prototype&&t.prototype[Symbol.observable]?(t.prototype[KR]=t.prototype[Symbol.observable],delete t.prototype[Symbol.observable]):(t[KR]=t[Symbol.observable],delete t[Symbol.observable])),t}a(q1e,"patch");const Jp=a(()=>{},"noop"),YR=a(t=>{throw t},"rethrow");function G1e(t){return t?t.next&&t.error&&t.complete?t:{complete:(t.complete??Jp).bind(t),error:(t.error??YR).bind(t),next:(t.next??Jp).bind(t)}:{complete:Jp,error:YR,next:Jp}}a(G1e,"toObserver");const K1e=a(t=>(e,n,r)=>t(i=>{const s=a(o=>i.next(o),"listener");return e.addEventListener(n,s,r),()=>e.removeEventListener(n,s,r)}),"createOn"),Y1e=a((t,e)=>{const n=a(()=>{},"emptyFunction"),r=a(i=>typeof i[0]=="function","isNextFunction");return i=>{const s=a((...o)=>{const l=i(r(o)?e({next:o[0]}):e(...o));return l!==void 0?l:n},"subscribe");return s[Symbol.observable]=()=>({subscribe:a((...o)=>({unsubscribe:s(...o)}),"subscribe")}),t(s)}},"createWrapSubscribeFunction"),J1e=Y1e(q1e,G1e),$F=K1e(J1e),X1e=a((t,e,n)=>async r=>{const i=new t([n],{type:"application/javascript; charset=utf-8"}),s=e.createObjectURL(i);try{await r(s)}finally{e.revokeObjectURL(s)}},"createAddRecorderAudioWorkletModule"),Z1e=a(t=>({data:e})=>{const{id:n}=e;if(n!==null){const r=t.get(n);if(r!==void 0){const{reject:i,resolve:s}=r;t.delete(n),e.error===void 0?s(e.result):i(new Error(e.error.message))}}},"createListener"),Q1e=a(t=>(e,n)=>(r,i=[])=>new Promise((s,o)=>{const l=t(e);e.set(l,{reject:o,resolve:s}),n.postMessage({id:l,...r},i)}),"createPostMessageFactory"),e_e=a((t,e,n,r)=>(i,s,o={})=>{const l=new i(s,"recorder-audio-worklet-processor",{...o,channelCountMode:"explicit",numberOfInputs:1,numberOfOutputs:0}),u=new Map,c=e(u,l.port),f=n(l.port,"message")(t(u));l.port.start();let h="inactive";return Object.defineProperties(l,{pause:{get(){return async()=>(r(["recording"],h),h="paused",c({method:"pause"}))}},port:{get(){throw new Error("The port of a RecorderAudioWorkletNode can't be accessed.")}},record:{get(){return async p=>(r(["inactive"],h),h="recording",c({method:"record",params:{encoderPort:p}},[p]))}},resume:{get(){return async()=>(r(["paused"],h),h="recording",c({method:"resume"}))}},stop:{get(){return async()=>{r(["paused","recording"],h),h="stopped";try{await c({method:"stop"})}finally{f()}}}}}),l},"createRecorderAudioWorkletNodeFactory"),t_e=a((t,e)=>{if(!t.includes(e))throw new Error(`Expected the state to be ${t.map(n=>`"${n}"`).join(" or ")} but it was "${e}".`)},"validateState"),n_e='(()=>{"use strict";class e extends AudioWorkletProcessor{constructor(){super(),this._encoderPort=null,this._numberOfChannels=0,this._state="inactive",this.port.onmessage=({data:e})=>{"pause"===e.method?"active"===this._state||"recording"===this._state?(this._state="paused",this._sendAcknowledgement(e.id)):this._sendUnexpectedStateError(e.id):"record"===e.method?"inactive"===this._state?(this._encoderPort=e.params.encoderPort,this._state="active",this._sendAcknowledgement(e.id)):this._sendUnexpectedStateError(e.id):"resume"===e.method?"paused"===this._state?(this._state="active",this._sendAcknowledgement(e.id)):this._sendUnexpectedStateError(e.id):"stop"===e.method?"active"!==this._state&&"paused"!==this._state&&"recording"!==this._state||null===this._encoderPort?this._sendUnexpectedStateError(e.id):(this._stop(this._encoderPort),this._sendAcknowledgement(e.id)):"number"==typeof e.id&&this.port.postMessage({error:{code:-32601,message:"The requested method is not supported."},id:e.id})}}process([e]){if("inactive"===this._state||"paused"===this._state)return!0;if("active"===this._state){if(void 0===e)throw new Error("No channelData was received for the first input.");if(0===e.length)return!0;this._state="recording"}if("recording"===this._state&&null!==this._encoderPort){if(void 0===e)throw new Error("No channelData was received for the first input.");return 0===e.length?this._encoderPort.postMessage(Array.from({length:this._numberOfChannels},(()=>128))):(this._encoderPort.postMessage(e,e.map((({buffer:e})=>e))),this._numberOfChannels=e.length),!0}return!1}_sendAcknowledgement(e){this.port.postMessage({id:e,result:null})}_sendUnexpectedStateError(e){this.port.postMessage({error:{code:-32603,message:"The internal state does not allow to process the given message."},id:e})}_stop(e){e.postMessage([]),e.close(),this._encoderPort=null,this._state="stopped"}}e.parameterDescriptors=[],registerProcessor("recorder-audio-worklet-processor",e)})();',r_e=X1e(Blob,URL,n_e),i_e=e_e(Z1e,Q1e(Lk),$F,t_e),JR=a((t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),"createExtendedExponentialRampToValueAutomationEvent"),XR=a((t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),"createExtendedLinearRampToValueAutomationEvent"),gE=a((t,e)=>({startTime:e,type:"setValue",value:t}),"createSetValueAutomationEvent"),BF=a((t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),"createSetValueCurveAutomationEvent"),UF=a((t,e,{startTime:n,target:r,timeConstant:i})=>r+(e-r)*Math.exp((n-t)/i),"getTargetValueAtTime"),ru=a(t=>t.type==="exponentialRampToValue","isExponentialRampToValueAutomationEvent"),w0=a(t=>t.type==="linearRampToValue","isLinearRampToValueAutomationEvent"),so=a(t=>ru(t)||w0(t),"isAnyRampToValueAutomationEvent"),$k=a(t=>t.type==="setValue","isSetValueAutomationEvent"),ws=a(t=>t.type==="setValueCurve","isSetValueCurveAutomationEvent"),E0=a((t,e,n,r)=>{const i=t[e];return i===void 0?r:so(i)||$k(i)?i.value:ws(i)?i.values[i.values.length-1]:UF(n,E0(t,e-1,i.startTime,r),i)},"getValueOfAutomationEventAtIndexAtTime"),ZR=a((t,e,n,r,i)=>n===void 0?[r.insertTime,i]:so(n)?[n.endTime,n.value]:$k(n)?[n.startTime,n.value]:ws(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,E0(t,e-1,n.startTime,i)],"getEndTimeAndValueOfPreviousAutomationEvent"),yE=a(t=>t.type==="cancelAndHold","isCancelAndHoldAutomationEvent"),_E=a(t=>t.type==="cancelScheduledValues","isCancelScheduledValuesAutomationEvent"),Zs=a(t=>yE(t)||_E(t)?t.cancelTime:ru(t)||w0(t)?t.endTime:t.startTime,"getEventTime"),QR=a((t,e,n,{endTime:r,value:i})=>n===i?i:0<n&&0<i||n<0&&i<0?n*(i/n)**((t-e)/(r-e)):0,"getExponentialRampValueAtTime"),eO=a((t,e,n,{endTime:r,value:i})=>n+(t-e)/(r-e)*(i-n),"getLinearRampValueAtTime"),s_e=a((t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},"interpolateValue"),o_e=a((t,{duration:e,startTime:n,values:r})=>{const i=(t-n)/e*(r.length-1);return s_e(r,i)},"getValueCurveValueAtTime"),Xp=a(t=>t.type==="setTarget","isSetTargetAutomationEvent");class a_e{static{a(this,"AutomationEventList")}constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Zs(e);if(yE(e)||_E(e)){const r=this._automationEvents.findIndex(s=>_E(e)&&ws(s)?s.startTime+s.duration>=n:Zs(s)>=n),i=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),yE(e)){const s=this._automationEvents[this._automationEvents.length-1];if(i!==void 0&&so(i)){if(s!==void 0&&Xp(s))throw new Error("The internal list is malformed.");const o=s===void 0?i.insertTime:ws(s)?s.startTime+s.duration:Zs(s),l=s===void 0?this._defaultValue:ws(s)?s.values[s.values.length-1]:s.value,u=ru(i)?QR(n,o,l,i):eO(n,o,l,i),c=ru(i)?JR(u,n,this._currenTime):XR(u,n,this._currenTime);this._automationEvents.push(c)}if(s!==void 0&&Xp(s)&&this._automationEvents.push(gE(this.getValue(n),n)),s!==void 0&&ws(s)&&s.startTime+s.duration>n){const o=n-s.startTime,l=(s.values.length-1)/s.duration,u=Math.max(2,1+Math.ceil(o*l)),c=o/(u-1)*l,f=s.values.slice(0,u);if(c<1)for(let h=1;h<u;h+=1){const p=c*h%1;f[h]=s.values[h-1]*(1-p)+s.values[h]*p}this._automationEvents[this._automationEvents.length-1]=BF(f,s.startTime,o)}}}else{const r=this._automationEvents.findIndex(o=>Zs(o)>n),i=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(i!==void 0&&ws(i)&&Zs(i)+i.duration>n)return!1;const s=ru(e)?JR(e.value,e.endTime,this._currenTime):w0(e)?XR(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(s);else{if(ws(e)&&n+e.duration>Zs(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,s)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>Zs(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),i=r[0];Xp(i)&&r.unshift(gE(E0(this._automationEvents,n-2,i.startTime,this._defaultValue),i.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>Zs(o)>e),r=this._automationEvents[n],i=(n===-1?this._automationEvents.length:n)-1,s=this._automationEvents[i];if(s!==void 0&&Xp(s)&&(r===void 0||!so(r)||r.insertTime>e))return UF(e,E0(this._automationEvents,i-1,s.startTime,this._defaultValue),s);if(s!==void 0&&$k(s)&&(r===void 0||!so(r)))return s.value;if(s!==void 0&&ws(s)&&(r===void 0||!so(r)||s.startTime+s.duration>e))return e<s.startTime+s.duration?o_e(e,s):s.values[s.values.length-1];if(s!==void 0&&so(s)&&(r===void 0||!so(r)))return s.value;if(r!==void 0&&ru(r)){const[o,l]=ZR(this._automationEvents,i,s,r,this._defaultValue);return QR(e,o,l,r)}if(r!==void 0&&w0(r)){const[o,l]=ZR(this._automationEvents,i,s,r,this._defaultValue);return eO(e,o,l,r)}return this._defaultValue}}const l_e=a(t=>({cancelTime:t,type:"cancelAndHold"}),"createCancelAndHoldAutomationEvent"),u_e=a(t=>({cancelTime:t,type:"cancelScheduledValues"}),"createCancelScheduledValuesAutomationEvent"),c_e=a((t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),"createExponentialRampToValueAutomationEvent"),f_e=a((t,e)=>({endTime:e,type:"linearRampToValue",value:t}),"createLinearRampToValueAutomationEvent"),h_e=a((t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),"createSetTargetAutomationEvent"),d_e=a(()=>new DOMException("","AbortError"),"createAbortError"),p_e=a(t=>(e,n,[r,i,s],o)=>{t(e[i],[n,r,s],l=>l[0]===n&&l[1]===r,o)},"createAddActiveInputConnectionToAudioNode"),m_e=a(t=>(e,n,r)=>{const i=[];for(let s=0;s<r.numberOfInputs;s+=1)i.push(new Set);t.set(e,{activeInputs:i,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},"createAddAudioNodeConnections"),g_e=a(t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},"createAddAudioParamConnections"),tc=new WeakSet,zF=new WeakMap,jF=new WeakMap,VF=new WeakMap,WF=new WeakMap,HF=new WeakMap,qF=new WeakMap,bE=new WeakMap,wE=new WeakMap,EE=new WeakMap,GF={construct(){return GF}},y_e=a(t=>{try{const e=new Proxy(t,GF);new e}catch{return!1}return!0},"isConstructible"),tO=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,nO=a((t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),i=r.match(tO);for(;i!==null;){const s=i[1].slice(1,-1),o=i[0].replace(/([\s]+)?;?$/,"").replace(s,new URL(s,e).toString());n.push(o),r=r.slice(i[0].length).replace(/^[\s]+/,""),i=r.match(tO)}return[n.join(";"),r]},"splitImportStatements"),rO=a(t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},"verifyParameterDescriptors"),iO=a(t=>{if(!y_e(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},"verifyProcessorCtor"),__e=a((t,e,n,r,i,s,o,l,u,c,f,h,p)=>{let m=0;return(g,y,_={credentials:"omit"})=>{const w=f.get(g);if(w!==void 0&&w.has(y))return Promise.resolve();const S=c.get(g);if(S!==void 0){const O=S.get(y);if(O!==void 0)return O}const T=s(g),N=T.audioWorklet===void 0?i(y).then(([O,M])=>{const[k,v]=nO(O,M),A=`${k};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${v}
})})(window,'_AWGS')`;return n(A)}).then(()=>{const O=p._AWGS.pop();if(O===void 0)throw new SyntaxError;r(T.currentTime,T.sampleRate,()=>O(class{static{a(this,"AudioWorkletProcessor")}},void 0,(M,k)=>{if(M.trim()==="")throw e();const v=wE.get(T);if(v!==void 0){if(v.has(M))throw e();iO(k),rO(k.parameterDescriptors),v.set(M,k)}else iO(k),rO(k.parameterDescriptors),wE.set(T,new Map([[M,k]]))},T.sampleRate,void 0,void 0))}):Promise.all([i(y),Promise.resolve(t(h,h))]).then(([[O,M],k])=>{const v=m+1;m=v;const[A,C]=nO(O,M),$=`${A};((AudioWorkletProcessor,registerProcessor)=>{${C}
})(${k?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${k?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${k?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${v}',class extends AudioWorkletProcessor{process(){return !1}})`,F=new Blob([$],{type:"application/javascript; charset=utf-8"}),B=URL.createObjectURL(F);return T.audioWorklet.addModule(B,_).then(()=>{if(l(T))return T;const j=o(T);return j.audioWorklet.addModule(B,_).then(()=>j)}).then(j=>{if(u===null)throw new SyntaxError;try{new u(j,`__sac${v}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(B))});return S===void 0?c.set(g,new Map([[y,N]])):S.set(y,N),N.then(()=>{const O=f.get(g);O===void 0?f.set(g,new Set([y])):O.add(y)}).finally(()=>{const O=c.get(g);O!==void 0&&O.delete(y)}),N}},"createAddAudioWorkletModule"),li=a((t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},"getValueForKey"),qy=a((t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},"pickElementFromSet"),KF=a((t,e,n,r)=>{const i=li(t,e),s=qy(i,o=>o[0]===n&&o[1]===r);return i.size===0&&t.delete(e),s},"deletePassiveInputConnectionToAudioNode"),Fd=a(t=>li(qF,t),"getEventListenersOfAudioNode"),v0=a(t=>{if(tc.has(t))throw new Error("The AudioNode is already stored.");tc.add(t),Fd(t).forEach(e=>e(!0))},"setInternalStateToActive"),YF=a(t=>"port"in t,"isAudioWorkletNode"),Bk=a(t=>{if(!tc.has(t))throw new Error("The AudioNode is not stored.");tc.delete(t),Fd(t).forEach(e=>e(!1))},"setInternalStateToPassive"),vE=a((t,e)=>{!YF(t)&&e.every(n=>n.size===0)&&Bk(t)},"setInternalStateToPassiveWhenNecessary"),b_e=a((t,e,n,r,i,s,o,l,u,c,f,h,p)=>{const m=new WeakMap;return(g,y,_,w,S)=>{const{activeInputs:T,passiveInputs:N}=s(y),{outputs:O}=s(g),M=l(g),k=a(v=>{const A=u(y),C=u(g);if(v){const x=KF(N,g,_,w);t(T,g,x,!1),!S&&!h(g)&&n(C,A,_,w),p(y)&&v0(y)}else{const x=r(T,g,_,w);e(N,w,x,!1),!S&&!h(g)&&i(C,A,_,w);const I=o(y);if(I===0)f(y)&&vE(y,T);else{const D=m.get(y);D!==void 0&&clearTimeout(D),m.set(y,setTimeout(()=>{f(y)&&vE(y,T)},I*1e3))}}},"eventListener");return c(O,[y,_,w],v=>v[0]===y&&v[1]===_&&v[2]===w,!0)?(M.add(k),f(g)?t(T,g,[_,w,k],!0):e(N,w,[g,_,k],!0),!0):!1}},"createAddConnectionToAudioNode"),w_e=a(t=>(e,n,[r,i,s],o)=>{const l=e.get(r);l===void 0?e.set(r,new Set([[i,n,s]])):t(l,[i,n,s],u=>u[0]===i&&u[1]===n,o)},"createAddPassiveInputConnectionToAudioNode"),E_e=a(t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const i=a(()=>{n.removeEventListener("ended",i),n.disconnect(r),r.disconnect()},"disconnect");n.addEventListener("ended",i)},"createAddSilentConnection"),v_e=a(t=>(e,n)=>{t(e).add(n)},"createAddUnrenderedAudioWorkletNode"),JF=a((t,e)=>t.context===e,"isOwnedByContext"),sO=a(t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},"testAudioBufferCopyChannelMethodsOutOfBoundsSupport"),Il=a(()=>new DOMException("","IndexSizeError"),"createIndexSizeError"),S_e=a(t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?Il():r}})(t.getChannelData)},"wrapAudioBufferGetChannelDataMethod"),k_e={numberOfChannels:1},A_e=a((t,e,n,r,i,s,o,l)=>{let u=null;return class XF{static{a(this,"AudioBuffer")}constructor(f){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:p,sampleRate:m}={...k_e,...f};u===null&&(u=new i(1,1,44100));const g=r!==null&&e(s,s)?new r({length:h,numberOfChannels:p,sampleRate:m}):u.createBuffer(p,h,m);if(g.numberOfChannels===0)throw n();return typeof g.copyFromChannel!="function"?(o(g),S_e(g)):e(sO,()=>sO(g))||l(g),t.add(g),g}static[Symbol.hasInstance](f){return f!==null&&typeof f=="object"&&Object.getPrototypeOf(f)===XF.prototype||t.has(f)}}},"createAudioBufferConstructor"),Gy=-34028234663852886e22,Uk=-Gy,La=a(t=>tc.has(t),"isActiveAudioNode"),T_e={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},x_e=a((t,e,n,r,i,s,o,l)=>class extends t{static{a(this,"AudioBufferSourceNode")}constructor(c,f){const h=s(c),p={...T_e,...f},m=i(h,p),g=o(h),y=g?e():null;super(c,!1,m,y),this._audioBufferSourceNodeRenderer=y,this._isBufferNullified=!1,this._isBufferSet=p.buffer!==null,this._nativeAudioBufferSourceNode=m,this._onended=null,this._playbackRate=n(this,g,m.playbackRate,Uk,Gy)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(c){if(this._nativeAudioBufferSourceNode.buffer=c,c!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(c){this._nativeAudioBufferSourceNode.loop=c}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(c){this._nativeAudioBufferSourceNode.loopEnd=c}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(c){this._nativeAudioBufferSourceNode.loopStart=c}get onended(){return this._onended}set onended(c){const f=typeof c=="function"?l(this,c):null;this._nativeAudioBufferSourceNode.onended=f;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===f?c:h}get playbackRate(){return this._playbackRate}start(c=0,f=0,h){if(this._nativeAudioBufferSourceNode.start(c,f,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[c,f]:[c,f,h]),this.context.state!=="closed"){v0(this);const p=a(()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",p),La(this)&&Bk(this)},"resetInternalStateToPassive");this._nativeAudioBufferSourceNode.addEventListener("ended",p)}}stop(c=0){this._nativeAudioBufferSourceNode.stop(c),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=c)}},"createAudioBufferSourceNodeConstructor"),C_e=a((t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,l=null;const u=a(async(c,f)=>{let h=n(c);const p=JF(h,f);if(!p){const m={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(f,m),o!==null&&h.start(...o),l!==null&&h.stop(l)}return s.set(f,h),p?await t(f,c.playbackRate,h.playbackRate):await r(f,c.playbackRate,h.playbackRate),await i(c,f,h),h},"createAudioBufferSourceNode");return{set start(c){o=c},set stop(c){l=c},render(c,f){const h=s.get(f);return h!==void 0?Promise.resolve(h):u(c,f)}}},"createAudioBufferSourceNodeRendererFactory"),I_e=a(t=>"playbackRate"in t,"isAudioBufferSourceNode"),R_e=a(t=>"frequency"in t&&"gain"in t,"isBiquadFilterNode"),O_e=a(t=>"offset"in t,"isConstantSourceNode"),N_e=a(t=>!("frequency"in t)&&"gain"in t,"isGainNode"),D_e=a(t=>"detune"in t&&"frequency"in t&&!("gain"in t),"isOscillatorNode"),M_e=a(t=>"pan"in t,"isStereoPannerNode"),An=a(t=>li(zF,t),"getAudioNodeConnections"),$d=a(t=>li(VF,t),"getAudioParamConnections"),SE=a((t,e)=>{const{activeInputs:n}=An(t);n.forEach(i=>i.forEach(([s])=>{e.includes(t)||SE(s,[...e,t])}));const r=I_e(t)?[t.playbackRate]:YF(t)?Array.from(t.parameters.values()):R_e(t)?[t.Q,t.detune,t.frequency,t.gain]:O_e(t)?[t.offset]:N_e(t)?[t.gain]:D_e(t)?[t.detune,t.frequency]:M_e(t)?[t.pan]:[];for(const i of r){const s=$d(i);s!==void 0&&s.activeInputs.forEach(([o])=>SE(o,e))}La(t)&&Bk(t)},"deactivateActiveAudioNodeInputConnections"),P_e=a(t=>{SE(t.destination,[])},"deactivateAudioGraph"),L_e=a(t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),"isValidLatencyHint"),F_e=a((t,e,n,r,i,s,o,l)=>class extends t{static{a(this,"AudioDestinationNode")}constructor(c,f){const h=s(c),p=o(h),m=i(h,f,p),g=p?e(l):null;super(c,!1,m,g),this._isNodeOfNativeOfflineAudioContext=p,this._nativeAudioDestinationNode=m}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(c){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(c>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=c}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(c){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=c}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},"createAudioDestinationNodeConstructor"),$_e=a(t=>{const e=new WeakMap,n=a(async(r,i)=>{const s=i.destination;return e.set(i,s),await t(r,i,s),s},"createAudioDestinationNode");return{render(r,i){const s=e.get(i);return s!==void 0?Promise.resolve(s):n(r,i)}}},"createAudioDestinationNodeRenderer"),B_e=a((t,e,n,r,i,s,o,l)=>(u,c)=>{const f=c.listener,h=a(()=>{const O=new Float32Array(1),M=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),k=o(c);let v=!1,A=[0,0,-1,0,1,0],C=[0,0,0];const x=a(()=>{if(v)return;v=!0;const F=r(c,256,9,0);F.onaudioprocess=({inputBuffer:B})=>{const j=[s(B,O,0),s(B,O,1),s(B,O,2),s(B,O,3),s(B,O,4),s(B,O,5)];j.some((V,K)=>V!==A[K])&&(f.setOrientation(...j),A=j);const Y=[s(B,O,6),s(B,O,7),s(B,O,8)];Y.some((V,K)=>V!==C[K])&&(f.setPosition(...Y),C=Y)},M.connect(F)},"createScriptProcessorNode"),I=a(F=>B=>{B!==A[F]&&(A[F]=B,f.setOrientation(...A))},"createSetOrientation"),D=a(F=>B=>{B!==C[F]&&(C[F]=B,f.setPosition(...C))},"createSetPosition"),$=a((F,B,j)=>{const Y=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:B});Y.connect(M,0,F),Y.start(),Object.defineProperty(Y.offset,"defaultValue",{get(){return B}});const V=t({context:u},k,Y.offset,Uk,Gy);return l(V,"value",K=>()=>K.call(V),K=>J=>{try{K.call(V,J)}catch(ne){if(ne.code!==9)throw ne}x(),k&&j(J)}),V.cancelAndHoldAtTime=(K=>k?()=>{throw i()}:(...J)=>{const ne=K.apply(V,J);return x(),ne})(V.cancelAndHoldAtTime),V.cancelScheduledValues=(K=>k?()=>{throw i()}:(...J)=>{const ne=K.apply(V,J);return x(),ne})(V.cancelScheduledValues),V.exponentialRampToValueAtTime=(K=>k?()=>{throw i()}:(...J)=>{const ne=K.apply(V,J);return x(),ne})(V.exponentialRampToValueAtTime),V.linearRampToValueAtTime=(K=>k?()=>{throw i()}:(...J)=>{const ne=K.apply(V,J);return x(),ne})(V.linearRampToValueAtTime),V.setTargetAtTime=(K=>k?()=>{throw i()}:(...J)=>{const ne=K.apply(V,J);return x(),ne})(V.setTargetAtTime),V.setValueAtTime=(K=>k?()=>{throw i()}:(...J)=>{const ne=K.apply(V,J);return x(),ne})(V.setValueAtTime),V.setValueCurveAtTime=(K=>k?()=>{throw i()}:(...J)=>{const ne=K.apply(V,J);return x(),ne})(V.setValueCurveAtTime),V},"createFakeAudioParam");return{forwardX:$(0,0,I(0)),forwardY:$(1,0,I(1)),forwardZ:$(2,-1,I(2)),positionX:$(6,0,D(0)),positionY:$(7,0,D(1)),positionZ:$(8,0,D(2)),upX:$(3,0,I(3)),upY:$(4,1,I(4)),upZ:$(5,0,I(5))}},"createFakeAudioParams"),{forwardX:p,forwardY:m,forwardZ:g,positionX:y,positionY:_,positionZ:w,upX:S,upY:T,upZ:N}=f.forwardX===void 0?h():f;return{get forwardX(){return p},get forwardY(){return m},get forwardZ(){return g},get positionX(){return y},get positionY(){return _},get positionZ(){return w},get upX(){return S},get upY(){return T},get upZ(){return N}}},"createAudioListenerFactory"),S0=a(t=>"context"in t,"isAudioNode"),Bd=a(t=>S0(t[0]),"isAudioNodeOutputConnection"),Rl=a((t,e,n,r)=>{for(const i of t)if(n(i)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},"insertElementInSet"),oO=a((t,e,[n,r],i)=>{Rl(t,[e,n,r],s=>s[0]===e&&s[1]===n,i)},"addActiveInputConnectionToAudioParam"),aO=a((t,[e,n,r],i)=>{const s=t.get(e);s===void 0?t.set(e,new Set([[n,r]])):Rl(s,[n,r],o=>o[0]===n,i)},"addPassiveInputConnectionToAudioParam"),ZF=a(t=>"inputs"in t,"isNativeAudioNodeFaker"),kE=a((t,e,n,r)=>{if(ZF(e)){const i=e.inputs[r];return t.connect(i,n,0),[i,n,0]}return t.connect(e,n,r),[e,n,r]},"connectNativeAudioNodeToNativeAudioNode"),QF=a((t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},"deleteActiveInputConnection"),U_e=a((t,e,n)=>qy(t,r=>r[0]===e&&r[1]===n),"deleteActiveInputConnectionToAudioParam"),e8=a((t,e)=>{if(!Fd(t).delete(e))throw new Error("Missing the expected event listener.")},"deleteEventListenerOfAudioNode"),t8=a((t,e,n)=>{const r=li(t,e),i=qy(r,s=>s[0]===n);return r.size===0&&t.delete(e),i},"deletePassiveInputConnectionToAudioParam"),AE=a((t,e,n,r)=>{ZF(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},"disconnectNativeAudioNodeFromNativeAudioNode"),Qr=a(t=>li(jF,t),"getNativeAudioNode"),Wh=a(t=>li(WF,t),"getNativeAudioParam"),fl=a(t=>bE.has(t),"isPartOfACycle"),Sm=a(t=>!tc.has(t),"isPassiveAudioNode"),lO=a((t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),i=t.createGain(),s=t.createBuffer(1,2,44100),o=s.getChannelData(0);o[0]=1,o[1]=1;const l=t.createBufferSource();l.buffer=s,l.loop=!0,l.connect(r).connect(t.destination),l.connect(i),l.disconnect(i),r.onaudioprocess=u=>{const c=u.inputBuffer.getChannelData(0);Array.prototype.some.call(c,f=>f===1)?n(!0):n(!1),l.stop(),r.onaudioprocess=null,l.disconnect(r),r.disconnect(t.destination)},l.start()}}),"testAudioNodeDisconnectMethodSupport"),K_=a((t,e)=>{const n=new Map;for(const r of t)for(const i of r){const s=n.get(i);n.set(i,s===void 0?1:s+1)}n.forEach((r,i)=>e(i,r))},"visitEachAudioNodeOnce"),k0=a(t=>"context"in t,"isNativeAudioNode$1"),z_e=a(t=>{const e=new Map;t.connect=(n=>(r,i=0,s=0)=>{const o=k0(r)?n(r,i,s):n(r,i),l=e.get(r);return l===void 0?e.set(r,[{input:s,output:i}]):l.every(u=>u.input!==s||u.output!==i)&&l.push({input:s,output:i}),o})(t.connect.bind(t)),t.disconnect=(n=>(r,i,s)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[o,l]of e){const u=l.filter(c=>c.output!==r);u.length===0?e.delete(o):e.set(o,u)}else if(e.has(r))if(i===void 0)e.delete(r);else{const o=e.get(r);if(o!==void 0){const l=o.filter(u=>u.output!==i&&(u.input!==s||s===void 0));l.length===0?e.delete(r):e.set(r,l)}}for(const[o,l]of e)l.forEach(u=>{k0(o)?t.connect(o,u.output,u.input):t.connect(o,u.output)})})(t.disconnect)},"wrapAudioNodeDisconnectMethod"),j_e=a((t,e,n,r)=>{const{activeInputs:i,passiveInputs:s}=$d(e),{outputs:o}=An(t),l=Fd(t),u=a(c=>{const f=Qr(t),h=Wh(e);if(c){const p=t8(s,t,n);oO(i,t,p,!1),!r&&!fl(t)&&f.connect(h,n)}else{const p=U_e(i,t,n);aO(s,p,!1),!r&&!fl(t)&&f.disconnect(h,n)}},"eventListener");return Rl(o,[e,n],c=>c[0]===e&&c[1]===n,!0)?(l.add(u),La(t)?oO(i,t,[n,u],!0):aO(s,[t,n,u],!0),!0):!1},"addConnectionToAudioParamOfAudioContext"),V_e=a((t,e,n,r)=>{const{activeInputs:i,passiveInputs:s}=An(e),o=QF(i[r],t,n);return o===null?[KF(s,t,n,r)[2],!1]:[o[2],!0]},"deleteInputConnectionOfAudioNode"),W_e=a((t,e,n)=>{const{activeInputs:r,passiveInputs:i}=$d(e),s=QF(r,t,n);return s===null?[t8(i,t,n)[1],!1]:[s[2],!0]},"deleteInputConnectionOfAudioParam"),zk=a((t,e,n,r,i)=>{const[s,o]=V_e(t,n,r,i);if(s!==null&&(e8(t,s),o&&!e&&!fl(t)&&AE(Qr(t),Qr(n),r,i)),La(n)){const{activeInputs:l}=An(n);vE(n,l)}},"deleteInputsOfAudioNode"),jk=a((t,e,n,r)=>{const[i,s]=W_e(t,n,r);i!==null&&(e8(t,i),s&&!e&&!fl(t)&&Qr(t).disconnect(Wh(n),r))},"deleteInputsOfAudioParam"),H_e=a((t,e)=>{const n=An(t),r=[];for(const i of n.outputs)Bd(i)?zk(t,e,...i):jk(t,e,...i),r.push(i[0]);return n.outputs.clear(),r},"deleteAnyConnection"),q_e=a((t,e,n)=>{const r=An(t),i=[];for(const s of r.outputs)s[1]===n&&(Bd(s)?zk(t,e,...s):jk(t,e,...s),i.push(s[0]),r.outputs.delete(s));return i},"deleteConnectionAtOutput"),G_e=a((t,e,n,r,i)=>{const s=An(t);return Array.from(s.outputs).filter(o=>o[0]===n&&(r===void 0||o[1]===r)&&(i===void 0||o[2]===i)).map(o=>(Bd(o)?zk(t,e,...o):jk(t,e,...o),s.outputs.delete(o),o[0]))},"deleteConnectionToDestination"),K_e=a((t,e,n,r,i,s,o,l,u,c,f,h,p,m,g,y)=>class extends c{static{a(this,"AudioNode")}constructor(w,S,T,N){super(T),this._context=w,this._nativeAudioNode=T;const O=f(w);h(O)&&n(lO,()=>lO(O,y))!==!0&&z_e(T),jF.set(this,T),qF.set(this,new Set),w.state!=="closed"&&S&&v0(this),t(this,N,T)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(w){this._nativeAudioNode.channelCount=w}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(w){this._nativeAudioNode.channelCountMode=w}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(w){this._nativeAudioNode.channelInterpretation=w}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(w,S=0,T=0){if(S<0||S>=this._nativeAudioNode.numberOfOutputs)throw i();const N=f(this._context),O=g(N);if(p(w)||m(w))throw s();if(S0(w)){const v=Qr(w);try{const C=kE(this._nativeAudioNode,v,S,T),x=Sm(this);(O||x)&&this._nativeAudioNode.disconnect(...C),this.context.state!=="closed"&&!x&&Sm(w)&&v0(w)}catch(C){throw C.code===12?s():C}if(e(this,w,S,T,O)){const C=u([this],w);K_(C,r(O))}return w}const M=Wh(w);if(M.name==="playbackRate"&&M.maxValue===1024)throw o();try{this._nativeAudioNode.connect(M,S),(O||Sm(this))&&this._nativeAudioNode.disconnect(M,S)}catch(v){throw v.code===12?s():v}if(j_e(this,w,S,O)){const v=u([this],w);K_(v,r(O))}}disconnect(w,S,T){let N;const O=f(this._context),M=g(O);if(w===void 0)N=H_e(this,M);else if(typeof w=="number"){if(w<0||w>=this.numberOfOutputs)throw i();N=q_e(this,M,w)}else{if(S!==void 0&&(S<0||S>=this.numberOfOutputs)||S0(w)&&T!==void 0&&(T<0||T>=w.numberOfInputs))throw i();if(N=G_e(this,M,w,S,T),N.length===0)throw s()}for(const k of N){const v=u([this],k);K_(v,l)}}},"createAudioNodeConstructor"),Y_e=a((t,e,n,r,i,s,o,l,u,c,f,h,p)=>(m,g,y,_=null,w=null)=>{const S=y.value,T=new a_e(S),N=g?r(T):null,O={get defaultValue(){return S},get maxValue(){return _===null?y.maxValue:_},get minValue(){return w===null?y.minValue:w},get value(){return y.value},set value(M){y.value=M,O.setValueAtTime(M,m.context.currentTime)},cancelAndHoldAtTime(M){if(typeof y.cancelAndHoldAtTime=="function")N===null&&T.flush(m.context.currentTime),T.add(i(M)),y.cancelAndHoldAtTime(M);else{const k=Array.from(T).pop();N===null&&T.flush(m.context.currentTime),T.add(i(M));const v=Array.from(T).pop();y.cancelScheduledValues(M),k!==v&&v!==void 0&&(v.type==="exponentialRampToValue"?y.exponentialRampToValueAtTime(v.value,v.endTime):v.type==="linearRampToValue"?y.linearRampToValueAtTime(v.value,v.endTime):v.type==="setValue"?y.setValueAtTime(v.value,v.startTime):v.type==="setValueCurve"&&y.setValueCurveAtTime(v.values,v.startTime,v.duration))}return O},cancelScheduledValues(M){return N===null&&T.flush(m.context.currentTime),T.add(s(M)),y.cancelScheduledValues(M),O},exponentialRampToValueAtTime(M,k){if(M===0)throw new RangeError;if(!Number.isFinite(k)||k<0)throw new RangeError;const v=m.context.currentTime;return N===null&&T.flush(v),Array.from(T).length===0&&(T.add(c(S,v)),y.setValueAtTime(S,v)),T.add(o(M,k)),y.exponentialRampToValueAtTime(M,k),O},linearRampToValueAtTime(M,k){const v=m.context.currentTime;return N===null&&T.flush(v),Array.from(T).length===0&&(T.add(c(S,v)),y.setValueAtTime(S,v)),T.add(l(M,k)),y.linearRampToValueAtTime(M,k),O},setTargetAtTime(M,k,v){return N===null&&T.flush(m.context.currentTime),T.add(u(M,k,v)),y.setTargetAtTime(M,k,v),O},setValueAtTime(M,k){return N===null&&T.flush(m.context.currentTime),T.add(c(M,k)),y.setValueAtTime(M,k),O},setValueCurveAtTime(M,k,v){const A=M instanceof Float32Array?M:new Float32Array(M);if(h!==null&&h.name==="webkitAudioContext"){const C=k+v,x=m.context.sampleRate,I=Math.ceil(k*x),D=Math.floor(C*x),$=D-I,F=new Float32Array($);for(let j=0;j<$;j+=1){const Y=(A.length-1)/v*((I+j)/x-k),V=Math.floor(Y),K=Math.ceil(Y);F[j]=V===K?A[V]:(1-(Y-V))*A[V]+(1-(K-Y))*A[K]}N===null&&T.flush(m.context.currentTime),T.add(f(F,k,v)),y.setValueCurveAtTime(F,k,v);const B=D/x;B<C&&p(O,F[F.length-1],B),p(O,A[A.length-1],C)}else N===null&&T.flush(m.context.currentTime),T.add(f(A,k,v)),y.setValueCurveAtTime(A,k,v);return O}};return n.set(O,y),e.set(O,m),t(O,N),O},"createAudioParamFactory"),J_e=a(t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:i}=n;e.exponentialRampToValueAtTime(i,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:i}=n;e.linearRampToValueAtTime(i,r)}else if(n.type==="setTarget"){const{startTime:r,target:i,timeConstant:s}=n;e.setTargetAtTime(i,r,s)}else if(n.type==="setValue"){const{startTime:r,value:i}=n;e.setValueAtTime(i,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:i,values:s}=n;e.setValueCurveAtTime(s,i,r)}else throw new Error("Can't apply an unknown automation.")}}),"createAudioParamRenderer");class n8{static{a(this,"ReadOnlyMap")}constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,i)=>e.call(n,r,i,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const X_e={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Z_e=a((t,e,n,r,i,s,o,l,u,c,f,h,p,m)=>class extends e{static{a(this,"AudioWorkletNode")}constructor(y,_,w){var S;const T=l(y),N=u(T),O=f({...X_e,...w});p(O);const M=wE.get(T),k=M?.get(_),v=N||T.state!=="closed"?T:(S=o(T))!==null&&S!==void 0?S:T,A=i(v,N?null:y.baseLatency,c,_,k,O),C=N?r(_,O,k):null;super(y,!0,A,C);const x=[];A.parameters.forEach((D,$)=>{const F=n(this,N,D);x.push([$,F])}),this._nativeAudioWorkletNode=A,this._onprocessorerror=null,this._parameters=new n8(x),N&&t(T,this);const{activeInputs:I}=s(this);h(A,I)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(y){const _=typeof y=="function"?m(this,y):null;this._nativeAudioWorkletNode.onprocessorerror=_;const w=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=w!==null&&w===_?y:w}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}},"createAudioWorkletNodeConstructor");function A0(t,e,n,r,i){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,i);else{const s=t.getChannelData(r);if(e[n].byteLength===0)e[n]=s.slice(i,i+128);else{const o=new Float32Array(s.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}a(A0,"copyFromChannel");const r8=a((t,e,n,r,i)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,i):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],i)},"copyToChannel"),T0=a((t,e)=>{const n=[];for(let r=0;r<t;r+=1){const i=[],s=typeof e=="number"?e:e[r];for(let o=0;o<s;o+=1)i.push(new Float32Array(128));n.push(i)}return n},"createNestedArrays"),Q_e=a((t,e)=>{const n=li(EE,t),r=Qr(e);return li(n,r)},"getAudioWorkletProcessor"),ebe=a(async(t,e,n,r,i,s,o)=>{const l=e===null?Math.ceil(t.context.length/128)*128:e.length,u=r.channelCount*r.numberOfInputs,c=i.reduce((_,w)=>_+w,0),f=c===0?null:n.createBuffer(c,l,n.sampleRate);if(s===void 0)throw new Error("Missing the processor constructor.");const h=An(t),p=await Q_e(n,t),m=T0(r.numberOfInputs,r.channelCount),g=T0(r.numberOfOutputs,i),y=Array.from(t.parameters.keys()).reduce((_,w)=>({..._,[w]:new Float32Array(128)}),{});for(let _=0;_<l;_+=128){if(r.numberOfInputs>0&&e!==null)for(let w=0;w<r.numberOfInputs;w+=1)for(let S=0;S<r.channelCount;S+=1)A0(e,m[w],S,S,_);s.parameterDescriptors!==void 0&&e!==null&&s.parameterDescriptors.forEach(({name:w},S)=>{A0(e,y,w,u+S,_)});for(let w=0;w<r.numberOfInputs;w+=1)for(let S=0;S<i[w];S+=1)g[w][S].byteLength===0&&(g[w][S]=new Float32Array(128));try{const w=m.map((T,N)=>h.activeInputs[N].size===0?[]:T),S=o(_/n.sampleRate,n.sampleRate,()=>p.process(w,g,y));if(f!==null)for(let T=0,N=0;T<r.numberOfOutputs;T+=1){for(let O=0;O<i[T];O+=1)r8(f,g[T],O,N+O,_);N+=i[T]}if(!S)break}catch(w){t.dispatchEvent(new ErrorEvent("processorerror",{colno:w.colno,filename:w.filename,lineno:w.lineno,message:w.message}));break}}return f},"processBuffer"),tbe=a((t,e,n,r,i,s,o,l,u,c,f,h,p,m,g,y)=>(_,w,S)=>{const T=new WeakMap;let N=null;const O=a(async(M,k)=>{let v=f(M),A=null;const C=JF(v,k),x=Array.isArray(w.outputChannelCount)?w.outputChannelCount:Array.from(w.outputChannelCount);if(h===null){const I=x.reduce((B,j)=>B+j,0),D=i(k,{channelCount:Math.max(1,I),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,I)}),$=[];for(let B=0;B<M.numberOfOutputs;B+=1)$.push(r(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:x[B]}));const F=o(k,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1});F.connect=e.bind(null,$),F.disconnect=u.bind(null,$),A=[D,$,F]}else C||(v=new h(k,_));if(T.set(k,A===null?v:A[2]),A!==null){if(N===null){if(S===void 0)throw new Error("Missing the processor constructor.");if(p===null)throw new Error("Missing the native OfflineAudioContext constructor.");const j=M.channelCount*M.numberOfInputs,Y=S.parameterDescriptors===void 0?0:S.parameterDescriptors.length,V=j+Y;N=ebe(M,V===0?null:await a(async()=>{const J=new p(V,Math.ceil(M.context.length/128)*128,k.sampleRate),ne=[],ie=[];for(let Me=0;Me<w.numberOfInputs;Me+=1)ne.push(o(J,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1})),ie.push(i(J,{channelCount:w.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:w.channelCount}));const ot=await Promise.all(Array.from(M.parameters.values()).map(async Me=>{const yt=s(J,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Me.value});return await m(J,Me,yt.offset),yt})),fe=r(J,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,j+Y)});for(let Me=0;Me<w.numberOfInputs;Me+=1){ne[Me].connect(ie[Me]);for(let yt=0;yt<w.channelCount;yt+=1)ie[Me].connect(fe,yt,Me*w.channelCount+yt)}for(const[Me,yt]of ot.entries())yt.connect(fe,0,j+Me),yt.start(0);return fe.connect(J.destination),await Promise.all(ne.map(Me=>g(M,J,Me))),y(J)},"renderBuffer")(),k,w,x,S,c)}const I=await N,D=n(k,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[$,F,B]=A;I!==null&&(D.buffer=I,D.start(0)),D.connect($);for(let j=0,Y=0;j<M.numberOfOutputs;j+=1){const V=F[j];for(let K=0;K<x[j];K+=1)$.connect(V,Y+K,K);Y+=x[j]}return B}if(C)for(const[I,D]of M.parameters.entries())await t(k,D,v.parameters.get(I));else for(const[I,D]of M.parameters.entries())await m(k,D,v.parameters.get(I));return await g(M,k,v),v},"createAudioNode");return{render(M,k){l(k,M);const v=T.get(k);return v!==void 0?Promise.resolve(v):O(M,k)}}},"createAudioWorkletNodeRendererFactory"),nbe=a((t,e)=>(n,r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t.get(n);if(s!==void 0)return s;try{const o=r();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(l=>(t.delete(n),e.set(n,l),l))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},"createCacheTestResult"),rbe=a(t=>(e,n,r)=>t(n,e,r),"createConnectAudioParam"),ibe=a(t=>(e,n,r=0,i=0)=>{const s=e[r];if(s===void 0)throw t();return k0(n)?s.connect(n,0,i):s.connect(n,0)},"createConnectMultipleOutputs"),sbe=a(t=>e=>(t[0]=e,t[0]),"createConvertNumberToUnsignedLong"),obe=a((t,e,n,r,i,s,o,l)=>(u,c)=>{const f=e.get(u);if(f===void 0)throw new Error("Missing the expected cycle count.");const h=s(u.context),p=l(h);if(f===c){if(e.delete(u),!p&&o(u)){const m=r(u),{outputs:g}=n(u);for(const y of g)if(Bd(y)){const _=r(y[0]);t(m,_,y[1],y[2])}else{const _=i(y[0]);m.connect(_,y[1])}}}else e.set(u,f-c)},"createDecrementCycleCounter"),abe=a(t=>(e,n,r,i)=>t(e[i],s=>s[0]===n&&s[1]===r),"createDeleteActiveInputConnectionToAudioNode"),lbe=a(t=>(e,n)=>{t(e).delete(n)},"createDeleteUnrenderedAudioWorkletNode"),ube=a(t=>"delayTime"in t,"isDelayNode"),cbe=a((t,e,n)=>a(function r(i,s){const o=S0(s)?s:n(t,s);if(ube(o))return[];if(i[0]===o)return[i];if(i.includes(o))return[];const{outputs:l}=e(o);return Array.from(l).map(u=>r([...i,o],u[0])).reduce((u,c)=>u.concat(c),[])},"detectCycles"),"createDetectCycles"),Zp=a((t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},"getOutputAudioNodeAtIndex"),fbe=a(t=>(e,n=void 0,r=void 0,i=0)=>n===void 0?e.forEach(s=>s.disconnect()):typeof n=="number"?Zp(t,e,n).disconnect():k0(n)?r===void 0?e.forEach(s=>s.disconnect(n)):i===void 0?Zp(t,e,r).disconnect(n,0):Zp(t,e,r).disconnect(n,0,i):r===void 0?e.forEach(s=>s.disconnect(n)):Zp(t,e,r).disconnect(n,0),"createDisconnectMultipleOutputs"),hbe=a(t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const i=t.document.head;if(i===null)r(new SyntaxError);else{const s=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),l=URL.createObjectURL(o),u=t.onerror,c=a(()=>{t.onerror=u,URL.revokeObjectURL(l)},"removeErrorEventListenerAndRevokeUrl");t.onerror=(f,h,p,m,g)=>{if(h===l||h===t.location.href&&p===1&&m===1)return c(),r(g),!1;if(u!==null)return u(f,h,p,m,g)},s.onerror=()=>{c(),r(new SyntaxError)},s.onload=()=>{c(),n()},s.src=l,s.type="module",i.appendChild(s)}}),"createEvaluateSource"),dbe=a(t=>class{static{a(this,"EventTarget")}constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,i){if(r!==null){let s=this._listeners.get(r);s===void 0&&(s=t(this,r),typeof r=="function"&&this._listeners.set(r,s)),this._nativeEventTarget.addEventListener(n,s,i)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,i){const s=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,s===void 0?null:s,i)}},"createEventTargetConstructor"),pbe=a(t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},"createExposeCurrentFrameAndCurrentTime"),mbe=a(t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},"createFetchSource"),gbe=a((t,e)=>n=>e(t,n),"createGetActiveAudioWorkletNodeInputs"),ybe=a(t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},"createGetAudioNodeRenderer"),_be=a(t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},"createGetAudioNodeTailTime"),bbe=a(t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},"createGetAudioParamRenderer"),wbe=a(t=>e=>t.get(e),"createGetBackupOfflineAudioContext"),ei=a(()=>new DOMException("","InvalidStateError"),"createInvalidStateError"),Ebe=a(t=>e=>{const n=t.get(e);if(n===void 0)throw ei();return n},"createGetNativeContext"),vbe=a((t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},"createGetOrCreateBackupOfflineAudioContext"),Sbe=a(t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},"createGetUnrenderedAudioWorkletNodes"),kbe=a(()=>new DOMException("","InvalidAccessError"),"createInvalidAccessError"),Abe=a((t,e,n,r,i,s)=>o=>(l,u)=>{const c=t.get(l);if(c===void 0){if(!o&&s(l)){const f=r(l),{outputs:h}=n(l);for(const p of h)if(Bd(p)){const m=r(p[0]);e(f,m,p[1],p[2])}else{const m=i(p[0]);f.disconnect(m,p[1])}}t.set(l,u)}else t.set(l,c+u)},"createIncrementCycleCounterFactory"),Tbe=a(t=>e=>t!==null&&e instanceof t,"createIsNativeAudioContext"),xbe=a(t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,"createIsNativeAudioNode"),Cbe=a(t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,"createIsNativeAudioParam"),Ibe=a(t=>e=>t!==null&&e instanceof t,"createIsNativeOfflineAudioContext"),Rbe=a(t=>t!==null&&t.isSecureContext,"createIsSecureContext"),Obe=a((t,e,n,r)=>class extends t{static{a(this,"MediaStreamAudioSourceNode")}constructor(s,o){const l=n(s),u=e(l,o);if(r(l))throw new TypeError;super(s,!0,u,null),this._nativeMediaStreamAudioSourceNode=u}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},"createMediaStreamAudioSourceNodeConstructor"),Nbe=a((t,e,n,r,i)=>class extends r{static{a(this,"MinimalAudioContext")}constructor(o={}){if(i===null)throw new Error("Missing the native AudioContext constructor.");let l;try{l=new i(o)}catch(f){throw f.code===12&&f.message==="sampleRate is not in range"?e():f}if(l===null)throw n();if(!L_e(o.latencyHint))throw new TypeError(`The provided value '${o.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(o.sampleRate!==void 0&&l.sampleRate!==o.sampleRate)throw e();super(l,2);const{latencyHint:u}=o,{sampleRate:c}=l;if(this._baseLatency=typeof l.baseLatency=="number"?l.baseLatency:u==="balanced"?512/c:u==="interactive"||u===void 0?256/c:u==="playback"?1024/c:Math.max(2,Math.min(128,Math.round(u*c/128)))*128/c,this._nativeAudioContext=l,i.name==="webkitAudioContext"?(this._nativeGainNode=l.createGain(),this._nativeOscillatorNode=l.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(l.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,l.state==="running"){this._state="suspended";const f=a(()=>{this._state==="suspended"&&(this._state=null),l.removeEventListener("statechange",f)},"revokeState");l.addEventListener("statechange",f)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),P_e(this)}))}resume(){return this._state==="suspended"?new Promise((o,l)=>{const u=a(()=>{this._nativeAudioContext.removeEventListener("statechange",u),this._nativeAudioContext.state==="running"?o():this.resume().then(o,l)},"resolvePromise");this._nativeAudioContext.addEventListener("statechange",u)}):this._nativeAudioContext.resume().catch(o=>{throw o===void 0||o.code===15?t():o})}suspend(){return this._nativeAudioContext.suspend().catch(o=>{throw o===void 0?t():o})}},"createMinimalAudioContextConstructor"),Dbe=a((t,e,n,r,i,s)=>class extends n{static{a(this,"MinimalBaseAudioContext")}constructor(l,u){super(l),this._nativeContext=l,HF.set(this,l),r(l)&&i.set(l,new Set),this._destination=new t(this,u),this._listener=e(this,l),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(l){const u=typeof l=="function"?s(this,l):null;this._nativeContext.onstatechange=u;const c=this._nativeContext.onstatechange;this._onstatechange=c!==null&&c===u?l:c}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},"createMinimalBaseAudioContextConstructor"),uO=a(t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},"testPromiseSupport"),Mbe=a((t,e)=>(n,r,i)=>{const s=new Set;return n.connect=(o=>(l,u=0,c=0)=>{const f=s.size===0;if(e(l))return o.call(n,l,u,c),t(s,[l,u,c],h=>h[0]===l&&h[1]===u&&h[2]===c,!0),f&&r(),l;o.call(n,l,u),t(s,[l,u],h=>h[0]===l&&h[1]===u,!0),f&&r()})(n.connect),n.disconnect=(o=>(l,u,c)=>{const f=s.size>0;if(l===void 0)o.apply(n),s.clear();else if(typeof l=="number"){o.call(n,l);for(const p of s)p[1]===l&&s.delete(p)}else{e(l)?o.call(n,l,u,c):o.call(n,l,u);for(const p of s)p[0]===l&&(u===void 0||p[1]===u)&&(c===void 0||p[2]===c)&&s.delete(p)}const h=s.size===0;f&&h&&i()})(n.disconnect),n},"createMonitorConnections"),ka=a((t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},"assignNativeAudioNodeOption"),Ud=a((t,e)=>{ka(t,e,"channelCount"),ka(t,e,"channelCountMode"),ka(t,e,"channelInterpretation")},"assignNativeAudioNodeOptions"),Pbe=a(t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,"createNativeAudioBufferConstructor"),Vk=a((t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},"assignNativeAudioNodeAudioParamValue"),Lbe=a(t=>{t.start=(e=>{let n=!1;return(r=0,i=0,s)=>{if(n)throw ei();e.call(t,r,i,s),n=!0}})(t.start)},"wrapAudioBufferSourceNodeStartMethodConsecutiveCalls"),i8=a(t=>{t.start=(e=>(n=0,r=0,i)=>{if(typeof i=="number"&&i<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,i)})(t.start)},"wrapAudioScheduledSourceNodeStartMethodNegativeParameters"),s8=a(t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},"wrapAudioScheduledSourceNodeStopMethodNegativeParameters"),Fbe=a((t,e,n,r,i,s,o,l,u,c,f)=>(h,p)=>{const m=h.createBufferSource();return Ud(m,p),Vk(m,p,"playbackRate"),ka(m,p,"buffer"),ka(m,p,"loop"),ka(m,p,"loopEnd"),ka(m,p,"loopStart"),e(n,()=>n(h))||Lbe(m),e(r,()=>r(h))||u(m),e(i,()=>i(h))||c(m,h),e(s,()=>s(h))||i8(m),e(o,()=>o(h))||f(m,h),e(l,()=>l(h))||s8(m),t(h,m),m},"createNativeAudioBufferSourceNodeFactory"),$be=a(t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,"createNativeAudioContextConstructor"),Bbe=a((t,e)=>(n,r,i)=>{const s=n.destination;if(s.channelCount!==r)try{s.channelCount=r}catch{}i&&s.channelCountMode!=="explicit"&&(s.channelCountMode="explicit"),s.maxChannelCount===0&&Object.defineProperty(s,"maxChannelCount",{value:r});const o=t(n,{channelCount:r,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return e(o,"channelCount",l=>()=>l.call(o),l=>u=>{l.call(o,u);try{s.channelCount=u}catch(c){if(u>s.maxChannelCount)throw c}}),e(o,"channelCountMode",l=>()=>l.call(o),l=>u=>{l.call(o,u),s.channelCountMode=u}),e(o,"channelInterpretation",l=>()=>l.call(o),l=>u=>{l.call(o,u),s.channelInterpretation=u}),Object.defineProperty(o,"maxChannelCount",{get:a(()=>s.maxChannelCount,"get")}),o.connect(s),o},"createNativeAudioDestinationNodeFactory"),Ube=a(t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,"createNativeAudioWorkletNodeConstructor"),zbe=a(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},"testClonabilityOfAudioWorkletNodeOptions"),jbe=a((t,e,n,r,i)=>(s,o,l,u,c,f)=>{if(l!==null)try{const h=new l(s,u,f),p=new Map;let m=null;if(Object.defineProperties(h,{channelCount:{get:a(()=>f.channelCount,"get"),set:a(()=>{throw t()},"set")},channelCountMode:{get:a(()=>"explicit","get"),set:a(()=>{throw t()},"set")},onprocessorerror:{get:a(()=>m,"get"),set:a(g=>{typeof m=="function"&&h.removeEventListener("processorerror",m),m=typeof g=="function"?g:null,typeof m=="function"&&h.addEventListener("processorerror",m)},"set")}}),h.addEventListener=(g=>(...y)=>{if(y[0]==="processorerror"){const _=typeof y[1]=="function"?y[1]:typeof y[1]=="object"&&y[1]!==null&&typeof y[1].handleEvent=="function"?y[1].handleEvent:null;if(_!==null){const w=p.get(y[1]);w!==void 0?y[1]=w:(y[1]=S=>{S.type==="error"?(Object.defineProperties(S,{type:{value:"processorerror"}}),_(S)):_(new ErrorEvent(y[0],{...S}))},p.set(_,y[1]))}}return g.call(h,"error",y[1],y[2]),g.call(h,...y)})(h.addEventListener),h.removeEventListener=(g=>(...y)=>{if(y[0]==="processorerror"){const _=p.get(y[1]);_!==void 0&&(p.delete(y[1]),y[1]=_)}return g.call(h,"error",y[1],y[2]),g.call(h,y[0],y[1],y[2])})(h.removeEventListener),f.numberOfOutputs!==0){const g=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(g).connect(s.destination),i(h,a(()=>g.disconnect(),"whenConnected"),a(()=>g.connect(s.destination),"whenDisconnected"))}return h}catch(h){throw h.code===11?r():h}if(c===void 0)throw r();return zbe(f),e(s,o,c,f)},"createNativeAudioWorkletNodeFactory"),Vbe=a((t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),"computeBufferSize"),Wbe=a(t=>new Promise((e,n)=>{const{port1:r,port2:i}=new MessageChannel;r.onmessage=({data:s})=>{r.close(),i.close(),e(s)},r.onmessageerror=({data:s})=>{r.close(),i.close(),n(s)},i.postMessage(t)}),"cloneAudioWorkletNodeOptions"),Hbe=a(async(t,e)=>{const n=await Wbe(e);return new t(n)},"createAudioWorkletProcessorPromise"),qbe=a((t,e,n,r)=>{let i=EE.get(t);i===void 0&&(i=new WeakMap,EE.set(t,i));const s=Hbe(n,r);return i.set(e,s),s},"createAudioWorkletProcessor"),Gbe=a((t,e,n,r,i,s,o,l,u,c,f,h,p)=>(m,g,y,_)=>{if(_.numberOfInputs===0&&_.numberOfOutputs===0)throw u();const w=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(w.some(Q=>Q<1))throw u();if(w.length!==_.numberOfOutputs)throw e();if(_.channelCountMode!=="explicit")throw u();const S=_.channelCount*_.numberOfInputs,T=w.reduce((Q,he)=>Q+he,0),N=y.parameterDescriptors===void 0?0:y.parameterDescriptors.length;if(S+N>6||T>6)throw u();const O=new MessageChannel,M=[],k=[];for(let Q=0;Q<_.numberOfInputs;Q+=1)M.push(o(m,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),k.push(i(m,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const v=[];if(y.parameterDescriptors!==void 0)for(const{defaultValue:Q,maxValue:he,minValue:Ze,name:qe}of y.parameterDescriptors){const Ce=s(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:_.parameterData[qe]!==void 0?_.parameterData[qe]:Q===void 0?0:Q});Object.defineProperties(Ce.offset,{defaultValue:{get:a(()=>Q===void 0?0:Q,"get")},maxValue:{get:a(()=>he===void 0?Uk:he,"get")},minValue:{get:a(()=>Ze===void 0?Gy:Ze,"get")}}),v.push(Ce)}const A=r(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,S+N)}),C=Vbe(g,m.sampleRate),x=l(m,C,S+N,Math.max(1,T)),I=i(m,{channelCount:Math.max(1,T),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,T)}),D=[];for(let Q=0;Q<_.numberOfOutputs;Q+=1)D.push(r(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:w[Q]}));for(let Q=0;Q<_.numberOfInputs;Q+=1){M[Q].connect(k[Q]);for(let he=0;he<_.channelCount;he+=1)k[Q].connect(A,he,Q*_.channelCount+he)}const $=new n8(y.parameterDescriptors===void 0?[]:y.parameterDescriptors.map(({name:Q},he)=>{const Ze=v[he];return Ze.connect(A,0,S+he),Ze.start(0),[Q,Ze.offset]}));A.connect(x);let F=_.channelInterpretation,B=null;const j=_.numberOfOutputs===0?[x]:D,Y={get bufferSize(){return C},get channelCount(){return _.channelCount},set channelCount(Q){throw n()},get channelCountMode(){return _.channelCountMode},set channelCountMode(Q){throw n()},get channelInterpretation(){return F},set channelInterpretation(Q){for(const he of M)he.channelInterpretation=Q;F=Q},get context(){return x.context},get inputs(){return M},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},get onprocessorerror(){return B},set onprocessorerror(Q){typeof B=="function"&&Y.removeEventListener("processorerror",B),B=typeof Q=="function"?Q:null,typeof B=="function"&&Y.addEventListener("processorerror",B)},get parameters(){return $},get port(){return O.port2},addEventListener(...Q){return x.addEventListener(Q[0],Q[1],Q[2])},connect:t.bind(null,j),disconnect:c.bind(null,j),dispatchEvent(...Q){return x.dispatchEvent(Q[0])},removeEventListener(...Q){return x.removeEventListener(Q[0],Q[1],Q[2])}},V=new Map;O.port1.addEventListener=(Q=>(...he)=>{if(he[0]==="message"){const Ze=typeof he[1]=="function"?he[1]:typeof he[1]=="object"&&he[1]!==null&&typeof he[1].handleEvent=="function"?he[1].handleEvent:null;if(Ze!==null){const qe=V.get(he[1]);qe!==void 0?he[1]=qe:(he[1]=Ce=>{f(m.currentTime,m.sampleRate,()=>Ze(Ce))},V.set(Ze,he[1]))}}return Q.call(O.port1,he[0],he[1],he[2])})(O.port1.addEventListener),O.port1.removeEventListener=(Q=>(...he)=>{if(he[0]==="message"){const Ze=V.get(he[1]);Ze!==void 0&&(V.delete(he[1]),he[1]=Ze)}return Q.call(O.port1,he[0],he[1],he[2])})(O.port1.removeEventListener);let K=null;Object.defineProperty(O.port1,"onmessage",{get:a(()=>K,"get"),set:a(Q=>{typeof K=="function"&&O.port1.removeEventListener("message",K),K=typeof Q=="function"?Q:null,typeof K=="function"&&(O.port1.addEventListener("message",K),O.port1.start())},"set")}),y.prototype.port=O.port1;let J=null;qbe(m,Y,y,_).then(Q=>J=Q);const ie=T0(_.numberOfInputs,_.channelCount),ot=T0(_.numberOfOutputs,w),fe=y.parameterDescriptors===void 0?[]:y.parameterDescriptors.reduce((Q,{name:he})=>({...Q,[he]:new Float32Array(128)}),{});let Me=!0;const yt=a(()=>{_.numberOfOutputs>0&&x.disconnect(I);for(let Q=0,he=0;Q<_.numberOfOutputs;Q+=1){const Ze=D[Q];for(let qe=0;qe<w[Q];qe+=1)I.disconnect(Ze,he+qe,qe);he+=w[Q]}},"disconnectOutputsGraph"),ts=new Map;x.onaudioprocess=({inputBuffer:Q,outputBuffer:he})=>{if(J!==null){const Ze=h(Y);for(let qe=0;qe<C;qe+=128){for(let Ce=0;Ce<_.numberOfInputs;Ce+=1)for(let Je=0;Je<_.channelCount;Je+=1)A0(Q,ie[Ce],Je,Je,qe);y.parameterDescriptors!==void 0&&y.parameterDescriptors.forEach(({name:Ce},Je)=>{A0(Q,fe,Ce,S+Je,qe)});for(let Ce=0;Ce<_.numberOfInputs;Ce+=1)for(let Je=0;Je<w[Ce];Je+=1)ot[Ce][Je].byteLength===0&&(ot[Ce][Je]=new Float32Array(128));try{const Ce=ie.map((Dt,ur)=>{if(Ze[ur].size>0)return ts.set(ur,C/128),Dt;const Gn=ts.get(ur);return Gn===void 0?[]:(Dt.every(Nr=>Nr.every(at=>at===0))&&(Gn===1?ts.delete(ur):ts.set(ur,Gn-1)),Dt)});Me=f(m.currentTime+qe/m.sampleRate,m.sampleRate,()=>J.process(Ce,ot,fe));for(let Dt=0,ur=0;Dt<_.numberOfOutputs;Dt+=1){for(let qn=0;qn<w[Dt];qn+=1)r8(he,ot[Dt],qn,ur+qn,qe);ur+=w[Dt]}}catch(Ce){Me=!1,Y.dispatchEvent(new ErrorEvent("processorerror",{colno:Ce.colno,filename:Ce.filename,lineno:Ce.lineno,message:Ce.message}))}if(!Me){for(let Ce=0;Ce<_.numberOfInputs;Ce+=1){M[Ce].disconnect(k[Ce]);for(let Je=0;Je<_.channelCount;Je+=1)k[qe].disconnect(A,Je,Ce*_.channelCount+Je)}if(y.parameterDescriptors!==void 0){const Ce=y.parameterDescriptors.length;for(let Je=0;Je<Ce;Je+=1){const Dt=v[Je];Dt.disconnect(A,0,S+Je),Dt.stop()}}A.disconnect(x),x.onaudioprocess=null,ns?yt():Wn();break}}}};let ns=!1;const Or=o(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),pi=a(()=>x.connect(Or).connect(m.destination),"connectFakeGraph"),Wn=a(()=>{x.disconnect(Or),Or.disconnect()},"disconnectFakeGraph"),rs=a(()=>{if(Me){Wn(),_.numberOfOutputs>0&&x.connect(I);for(let Q=0,he=0;Q<_.numberOfOutputs;Q+=1){const Ze=D[Q];for(let qe=0;qe<w[Q];qe+=1)I.connect(Ze,he+qe,qe);he+=w[Q]}}ns=!0},"whenConnected"),Hn=a(()=>{Me&&(pi(),yt()),ns=!1},"whenDisconnected");return pi(),p(Y,rs,Hn)},"createNativeAudioWorkletNodeFakerFactory"),Kbe=a((t,e)=>(n,r)=>{const i=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,i),Ud(i,r),i},"createNativeChannelMergerNodeFactory"),Ybe=a(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:a(()=>e,"get"),set:a(n=>{if(n!==e)throw ei()},"set")}),Object.defineProperty(t,"channelCountMode",{get:a(()=>"explicit","get"),set:a(n=>{if(n!=="explicit")throw ei()},"set")}),Object.defineProperty(t,"channelInterpretation",{get:a(()=>"discrete","get"),set:a(n=>{if(n!=="discrete")throw ei()},"set")})},"wrapChannelSplitterNode"),o8=a((t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Ud(n,e),Ybe(n),n},"createNativeChannelSplitterNode"),Jbe=a((t,e,n,r,i)=>(s,o)=>{if(s.createConstantSource===void 0)return n(s,o);const l=s.createConstantSource();return Ud(l,o),Vk(l,o,"offset"),e(r,()=>r(s))||i8(l),e(i,()=>i(s))||s8(l),t(s,l),l},"createNativeConstantSourceNodeFactory"),a8=a((t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),"interceptConnections"),Xbe=a((t,e,n,r)=>(i,{offset:s,...o})=>{const l=i.createBuffer(1,2,44100),u=e(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(i,{...o,gain:s}),f=l.getChannelData(0);f[0]=1,f[1]=1,u.buffer=l,u.loop=!0;const h={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(g){c.channelCount=g},get channelCountMode(){return c.channelCountMode},set channelCountMode(g){c.channelCountMode=g},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(g){c.channelInterpretation=g},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return u.onended},set onended(g){u.onended=g},addEventListener(...g){return u.addEventListener(g[0],g[1],g[2])},dispatchEvent(...g){return u.dispatchEvent(g[0])},removeEventListener(...g){return u.removeEventListener(g[0],g[1],g[2])},start(g=0){u.start.call(u,g)},stop(g=0){u.stop.call(u,g)}},p=a(()=>u.connect(c),"whenConnected"),m=a(()=>u.disconnect(c),"whenDisconnected");return t(i,u),r(a8(h,c),p,m)},"createNativeConstantSourceNodeFakerFactory"),qo=a((t,e)=>{const n=t.createGain();return Ud(n,e),Vk(n,e,"gain"),n},"createNativeGainNode"),Zbe=a((t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((s,o)=>s.id<o.id?-1:s.id>o.id?1:0);const r=n.slice(0,1),i=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(i,"mediaStream",{value:e}),i},"createNativeMediaStreamAudioSourceNode"),Qbe=a(t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,"createNativeOfflineAudioContextConstructor"),Wk=a((t,e,n,r)=>t.createScriptProcessor(e,n,r),"createNativeScriptProcessorNode"),Ol=a(()=>new DOMException("","NotSupportedError"),"createNotSupportedError"),ewe=a((t,e)=>(n,r,i)=>(t(r).replay(i),e(r,n,i)),"createRenderAutomation"),twe=a((t,e,n)=>async(r,i,s)=>{const o=t(r);await Promise.all(o.activeInputs.map((l,u)=>Array.from(l).map(async([c,f])=>{const p=await e(c).render(c,i),m=r.context.destination;!n(c)&&(r!==m||!n(r))&&p.connect(s,f,u)})).reduce((l,u)=>[...l,...u],[]))},"createRenderInputsOfAudioNode"),nwe=a((t,e,n)=>async(r,i,s)=>{const o=e(r);await Promise.all(Array.from(o.activeInputs).map(async([l,u])=>{const f=await t(l).render(l,i);n(l)||f.connect(s,u)}))},"createRenderInputsOfAudioParam"),rwe=a((t,e,n,r)=>i=>t(uO,()=>uO(i))?Promise.resolve(t(r,r)).then(s=>{if(!s){const o=n(i,512,0,1);i.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>i.currentTime,o.connect(i.destination)}return i.startRendering()}):new Promise(s=>{const o=e(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=l=>{o.disconnect(),s(l.renderedBuffer)},o.connect(i.destination),i.startRendering()}),"createRenderNativeOfflineAudioContext"),iwe=a(t=>(e,n)=>{t.set(e,n)},"createSetActiveAudioWorkletNodeInputs"),swe=a(t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},"createTestAudioBufferConstructorSupport"),owe=a((t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),i=URL.createObjectURL(n);let s=!1,o=!1;try{await r.audioWorklet.addModule(i);const l=new t(r,"a",{numberOfOutputs:0}),u=r.createOscillator();l.port.onmessage=()=>s=!0,l.onprocessorerror=()=>o=!0,u.connect(l),u.start(0),await r.startRendering(),await new Promise(c=>setTimeout(c))}catch{}finally{URL.revokeObjectURL(i)}return s&&!o},"createTestAudioWorkletProcessorPostMessageSupport"),awe=a((t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(i=>{n.oncomplete=()=>{r.disconnect(),i(n.currentTime!==0)},n.startRendering()})},"createTestOfflineAudioContextCurrentTimeSupport"),lwe=a(()=>new DOMException("","UnknownError"),"createUnknownError"),uwe=a(()=>typeof window>"u"?null:window,"createWindow$1"),cwe=a((t,e)=>n=>{n.copyFromChannel=(r,i,s=0)=>{const o=t(s),l=t(i);if(l>=n.numberOfChannels)throw e();const u=n.length,c=n.getChannelData(l),f=r.length;for(let h=o<0?-o:0;h+o<u&&h<f;h+=1)r[h]=c[h+o]},n.copyToChannel=(r,i,s=0)=>{const o=t(s),l=t(i);if(l>=n.numberOfChannels)throw e();const u=n.length,c=n.getChannelData(l),f=r.length;for(let h=o<0?-o:0;h+o<u&&h<f;h+=1)c[h+o]=r[h]}},"createWrapAudioBufferCopyChannelMethods"),fwe=a(t=>e=>{e.copyFromChannel=(n=>(r,i,s=0)=>{const o=t(s),l=t(i);if(o<e.length)return n.call(e,r,l,o)})(e.copyFromChannel),e.copyToChannel=(n=>(r,i,s=0)=>{const o=t(s),l=t(i);if(o<e.length)return n.call(e,r,l,o)})(e.copyToChannel)},"createWrapAudioBufferCopyChannelMethodsOutOfBounds"),hwe=a(t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",i=>()=>{const s=i.call(e);return s===r?null:s},i=>s=>i.call(e,s===null?r:s))},"createWrapAudioBufferSourceNodeStopMethodNullifiedBuffer"),dwe=a((t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:a(()=>1,"get"),set:a(()=>{throw t()},"set")}),Object.defineProperty(r,"channelCountMode",{get:a(()=>"explicit","get"),set:a(()=>{throw t()},"set")});const i=n.createBufferSource();e(r,a(()=>{const l=r.numberOfInputs;for(let u=0;u<l;u+=1)i.connect(r,0,u)},"whenConnected"),a(()=>i.disconnect(r),"whenDisconnected"))},"createWrapChannelMergerNode"),pwe=a((t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),"getFirstSample"),Hk=a((t,e,n,r)=>{let i=t;for(;!i.hasOwnProperty(e);)i=Object.getPrototypeOf(i);const{get:s,set:o}=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(t,e,{get:n(s),set:r(o)})},"overwriteAccessors"),mwe=a(t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),"sanitizeAudioWorkletNodeOptions"),l8=a((t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;l8(t,e,n+1e-7)}},"setValueAtTimeUntilPossible"),gwe=a(t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},"testAudioBufferSourceNodeStartMethodConsecutiveCallsSupport"),ywe=a(t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},"testAudioBufferSourceNodeStartMethodOffsetClampingSupport"),_we=a(t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},"testAudioBufferSourceNodeStopMethodNullifiedBufferSupport"),u8=a(t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},"testAudioScheduledSourceNodeStartMethodNegativeParametersSupport"),bwe=a(t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},"testAudioScheduledSourceNodeStopMethodConsecutiveCallsSupport"),c8=a(t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},"testAudioScheduledSourceNodeStopMethodNegativeParametersSupport"),wwe=a(t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},"testAudioWorkletNodeOptionsClonability"),Ewe=a(t=>{t.start=(e=>(n=0,r=0,i)=>{const s=t.buffer,o=s===null?r:Math.min(s.duration,r);s!==null&&o>s.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,i)})(t.start)},"wrapAudioBufferSourceNodeStartMethodOffsetClamping"),vwe=a((t,e)=>{const n=e.createGain();t.connect(n);const r=(i=>()=>{i.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),a8(t,n),t.stop=(i=>{let s=!1;return(o=0)=>{if(s)try{i.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else i.call(t,o),s=!0}})(t.stop)},"wrapAudioScheduledSourceNodeStopMethodConsecutiveCalls"),Ky=a((t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},"wrapEventListener$1"),Swe=p_e(Rl),kwe=w_e(Rl),Awe=abe(qy),Twe=new WeakMap,xwe=_be(Twe),Cc=nbe(new Map,new WeakMap),Gi=uwe(),f8=ybe(An),qk=twe(An,f8,fl),hl=Ebe(HF),Ic=Qbe(Gi),Ls=Ibe(Ic),h8=new WeakMap,d8=dbe(Ky),Yy=$be(Gi),Cwe=Tbe(Yy),p8=xbe(Gi),Iwe=Cbe(Gi),Hh=Ube(Gi),Jy=K_e(m_e(zF),b_e(Swe,kwe,kE,Awe,AE,An,xwe,Fd,Qr,Rl,La,fl,Sm),Cc,Abe(bE,AE,An,Qr,Wh,La),Il,kbe,Ol,obe(kE,bE,An,Qr,Wh,hl,La,Ls),cbe(h8,An,li),d8,hl,Cwe,p8,Iwe,Ls,Hh),Rwe=new WeakSet,cO=Pbe(Gi),m8=sbe(new Uint32Array(1)),Owe=cwe(m8,Il),Nwe=fwe(m8),Dwe=A_e(Rwe,Cc,Ol,cO,Ic,swe(cO),Owe,Nwe),Gk=E_e(qo),g8=nwe(f8,$d,fl),y8=rbe(g8),Xy=Fbe(Gk,Cc,gwe,ywe,_we,u8,bwe,c8,Ewe,hwe(Hk),vwe),_8=ewe(bbe($d),g8),Mwe=C_e(y8,Xy,Qr,_8,qk),Kk=Y_e(g_e(VF),h8,WF,J_e,l_e,u_e,c_e,f_e,h_e,gE,BF,Yy,l8),Pwe=x_e(Jy,Mwe,Kk,ei,Xy,hl,Ls,Ky),Lwe=F_e(Jy,$_e,Il,ei,Bbe(qo,Hk),hl,Ls,qk),Zy=Mbe(Rl,p8),Fwe=dwe(ei,Zy),Yk=Kbe(Yy,Fwe),$we=Xbe(Gk,Xy,qo,Zy),Jk=Jbe(Gk,Cc,$we,u8,c8),Bwe=rwe(Cc,qo,Wk,awe(qo,Ic)),Uwe=B_e(Kk,Yk,Jk,Wk,Ol,pwe,Ls,Hk),b8=new WeakMap,zwe=Dbe(Lwe,Uwe,d8,Ls,b8,Ky),w8=Rbe(Gi),Xk=pbe(Gi),E8=new WeakMap,jwe=vbe(E8,Ic),fO=w8?__e(Cc,Ol,hbe(Gi),Xk,mbe(d_e),hl,jwe,Ls,Hh,new WeakMap,new WeakMap,owe(Hh,Ic),Gi):void 0,Vwe=Obe(Jy,Zbe,hl,Ls),v8=Sbe(b8),Wwe=v_e(v8),S8=ibe(Il),Hwe=lbe(v8),k8=fbe(Il),A8=new WeakMap,qwe=gbe(A8,li),Gwe=Gbe(S8,Il,ei,Yk,o8,Jk,qo,Wk,Ol,k8,Xk,qwe,Zy),Kwe=jbe(ei,Gwe,qo,Ol,Zy),Ywe=tbe(y8,S8,Xy,Yk,o8,Jk,qo,Hwe,k8,Xk,Qr,Hh,Ic,_8,qk,Bwe),Jwe=wbe(E8),Xwe=iwe(A8),hO=w8?Z_e(Wwe,Jy,Kk,Ywe,Kwe,An,Jwe,hl,Ls,Hh,mwe,Xwe,wwe,Ky):void 0,Zwe=Nbe(ei,Ol,lwe,zwe,Yy),T8="Missing AudioWorklet support. Maybe this is not running in a secure context.",Qwe=a(async(t,e,n,r,i)=>{const{encoderInstanceId:s,port:o}=await FF(i,e.sampleRate);if(hO===void 0)throw new Error(T8);const l=t===null?null:new Pwe(e,{buffer:t}),u=new Vwe(e,{mediaStream:r}),c=i_e(hO,e,{channelCount:n});return{audioBufferSourceNode:l,encoderInstanceId:s,mediaStreamAudioSourceNode:u,port:o,recorderAudioWorkletNode:c}},"createPromisedAudioNodesEncoderInstanceIdAndPort"),eEe=a((t,e,n,r)=>(i,s,o)=>{var l;const u=(l=s.getAudioTracks()[0])===null||l===void 0?void 0:l.getSettings().sampleRate,c=new Zwe({latencyHint:"playback",sampleRate:u}),f=MediaRecorder.isTypeSupported("audio/mp4")?new Dwe({length:2688,sampleRate:c.sampleRate}):null,h=[],p=r_e(k=>{if(fO===void 0)throw new Error(T8);return fO(c,k)});let m=null,g=null,y=null,_=null,w=!0;const S=a(k=>{i.dispatchEvent(t("dataavailable",{data:new Blob(k,{type:o})}))},"dispatchDataAvailableEvent"),T=a(async(k,v)=>{const A=await b0(k,v);y===null?h.push(...A):(S(A),_=T(k,v))},"requestNextPartialRecording"),N=a(()=>(w=!0,c.resume()),"resume"),O=a(()=>{y!==null&&(m!==null&&(s.removeEventListener("addtrack",m),s.removeEventListener("removetrack",m)),g!==null&&clearTimeout(g),y.then(async({encoderInstanceId:k,mediaStreamAudioSourceNode:v,recorderAudioWorkletNode:A})=>{_!==null&&(_.catch(()=>{}),_=null),await A.stop(),v.disconnect(A);const C=await b0(k,null);y===null&&await M(),S([...h,...C]),h.length=0,i.dispatchEvent(new Event("stop"))}),y=null)},"stop"),M=a(()=>(w=!1,c.suspend()),"suspend");return M(),{get mimeType(){return o},get state(){return y===null?"inactive":w?"recording":"paused"},pause(){if(y===null)throw n();w&&(M(),i.dispatchEvent(new Event("pause")))},resume(){if(y===null)throw n();w||(N(),i.dispatchEvent(new Event("resume")))},start(k){var v;if(y!==null)throw n();if(s.getVideoTracks().length>0)throw r();i.dispatchEvent(new Event("start"));const A=s.getAudioTracks(),C=A.length===0?2:(v=A[0].getSettings().channelCount)!==null&&v!==void 0?v:2;y=Promise.all([N(),p.then(()=>Qwe(f,c,C,s,o))]).then(async([,{audioBufferSourceNode:I,encoderInstanceId:D,mediaStreamAudioSourceNode:$,port:F,recorderAudioWorkletNode:B}])=>($.connect(B),I!==null&&(await new Promise(j=>{I.onended=j,I.connect(B),I.start()}),I.disconnect(B)),await B.record(F),k!==void 0&&(_=T(D,k)),{encoderInstanceId:D,mediaStreamAudioSourceNode:$,recorderAudioWorkletNode:B}));const x=s.getTracks();m=a(()=>{O(),i.dispatchEvent(new ErrorEvent("error",{error:e()}))},"abortRecording"),s.addEventListener("addtrack",m),s.addEventListener("removetrack",m),g=setInterval(()=>{const I=s.getTracks();(I.length!==x.length||I.some((D,$)=>D!==x[$]))&&m!==null&&m()},1e3)},stop:O}},"createWebAudioMediaRecorderFactory");class Y_{static{a(this,"MultiBufferDataView")}constructor(e,n=0,r){if(n<0||r!==void 0&&r<0)throw new RangeError;const i=e.reduce((f,h)=>f+h.byteLength,0);if(n>i||r!==void 0&&n+r>i)throw new RangeError;const s=[],o=r===void 0?i-n:r,l=[];let u=0,c=n;for(const f of e)if(l.length===0)if(f.byteLength>c){u=f.byteLength-c;const h=u>o?o:u;s.push(new DataView(f,c,h)),l.push(f)}else c-=f.byteLength;else if(u<o){u+=f.byteLength;const h=u>o?f.byteLength-u+o:f.byteLength;s.push(new DataView(f,0,h)),l.push(f)}this._buffers=l,this._byteLength=o,this._byteOffset=c,this._dataViews=s,this._internalBuffer=new DataView(new ArrayBuffer(8))}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get byteOffset(){return this._byteOffset}getFloat32(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.setUint8(2,this.getUint8(e+2)),this._internalBuffer.setUint8(3,this.getUint8(e+3)),this._internalBuffer.getFloat32(0,n)}getFloat64(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.setUint8(2,this.getUint8(e+2)),this._internalBuffer.setUint8(3,this.getUint8(e+3)),this._internalBuffer.setUint8(4,this.getUint8(e+4)),this._internalBuffer.setUint8(5,this.getUint8(e+5)),this._internalBuffer.setUint8(6,this.getUint8(e+6)),this._internalBuffer.setUint8(7,this.getUint8(e+7)),this._internalBuffer.getFloat64(0,n)}getInt16(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.getInt16(0,n)}getInt32(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.setUint8(2,this.getUint8(e+2)),this._internalBuffer.setUint8(3,this.getUint8(e+3)),this._internalBuffer.getInt32(0,n)}getInt8(e){const[n,r]=this._findDataViewWithOffset(e);return n.getInt8(e-r)}getUint16(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.getUint16(0,n)}getUint32(e,n){return this._internalBuffer.setUint8(0,this.getUint8(e+0)),this._internalBuffer.setUint8(1,this.getUint8(e+1)),this._internalBuffer.setUint8(2,this.getUint8(e+2)),this._internalBuffer.setUint8(3,this.getUint8(e+3)),this._internalBuffer.getUint32(0,n)}getUint8(e){const[n,r]=this._findDataViewWithOffset(e);return n.getUint8(e-r)}setFloat32(e,n,r){this._internalBuffer.setFloat32(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1)),this.setUint8(e+2,this._internalBuffer.getUint8(2)),this.setUint8(e+3,this._internalBuffer.getUint8(3))}setFloat64(e,n,r){this._internalBuffer.setFloat64(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1)),this.setUint8(e+2,this._internalBuffer.getUint8(2)),this.setUint8(e+3,this._internalBuffer.getUint8(3)),this.setUint8(e+4,this._internalBuffer.getUint8(4)),this.setUint8(e+5,this._internalBuffer.getUint8(5)),this.setUint8(e+6,this._internalBuffer.getUint8(6)),this.setUint8(e+7,this._internalBuffer.getUint8(7))}setInt16(e,n,r){this._internalBuffer.setInt16(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1))}setInt32(e,n,r){this._internalBuffer.setInt32(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1)),this.setUint8(e+2,this._internalBuffer.getUint8(2)),this.setUint8(e+3,this._internalBuffer.getUint8(3))}setInt8(e,n){const[r,i]=this._findDataViewWithOffset(e);r.setInt8(e-i,n)}setUint16(e,n,r){this._internalBuffer.setUint16(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1))}setUint32(e,n,r){this._internalBuffer.setUint32(0,n,r),this.setUint8(e,this._internalBuffer.getUint8(0)),this.setUint8(e+1,this._internalBuffer.getUint8(1)),this.setUint8(e+2,this._internalBuffer.getUint8(2)),this.setUint8(e+3,this._internalBuffer.getUint8(3))}setUint8(e,n){const[r,i]=this._findDataViewWithOffset(e);r.setUint8(e-i,n)}_findDataViewWithOffset(e){let n=0;for(const r of this._dataViews){const i=n+r.byteLength;if(e>=n&&e<i)return[r,n];n=i}throw new RangeError}}const tEe=a((t,e,n)=>(r,i,s,o)=>{const l=[],u=new i(s,{mimeType:"audio/webm; codecs=pcm"});let c=null,f=a(()=>{},"stopRecording");const h=a(g=>{r.dispatchEvent(t("dataavailable",{data:new Blob(g,{type:o})}))},"dispatchDataAvailableEvent"),p=a(async(g,y)=>{const _=await b0(g,y);u.state==="inactive"?l.push(..._):(h(_),c=p(g,y))},"requestNextPartialRecording"),m=a(()=>{u.state!=="inactive"&&(c!==null&&(c.catch(()=>{}),c=null),f(),f=a(()=>{},"stopRecording"),u.stop())},"stop");return u.addEventListener("error",g=>{m(),r.dispatchEvent(new ErrorEvent("error",{error:g.error}))}),u.addEventListener("pause",()=>r.dispatchEvent(new Event("pause"))),u.addEventListener("resume",()=>r.dispatchEvent(new Event("resume"))),u.addEventListener("start",()=>r.dispatchEvent(new Event("start"))),{get mimeType(){return o},get state(){return u.state},pause(){return u.pause()},resume(){return u.resume()},start(g){const[y]=s.getAudioTracks();if(y!==void 0&&u.state==="inactive"){const{channelCount:_,sampleRate:w}=y.getSettings();if(_===void 0)throw new Error("The channelCount is not defined.");if(w===void 0)throw new Error("The sampleRate is not defined.");let S=!1,T=!1,N=0,O=FF(o,w);f=a(()=>{T=!0},"stopRecording");const M=$F(u,"dataavailable")(({data:k})=>{N+=1;const v=k.arrayBuffer();O=O.then(async({dataView:A=null,elementType:C=null,encoderInstanceId:x,port:I})=>{const D=await v;N-=1;const $=A===null?new Y_([D]):new Y_([...A.buffers,D],A.byteOffset);if(!S&&u.state==="recording"&&!T){const V=n($,0);if(V===null)return{dataView:$,elementType:C,encoderInstanceId:x,port:I};const{value:K}=V;if(K!==172351395)return{dataView:A,elementType:C,encoderInstanceId:x,port:I};S=!0}const{currentElementType:F,offset:B,contents:j}=e($,C,_),Y=B<$.byteLength?new Y_($.buffers,$.byteOffset+B):null;return j.forEach(V=>I.postMessage(V,V.map(({buffer:K})=>K))),N===0&&(u.state==="inactive"||T)&&(b0(x,null).then(V=>{h([...l,...V]),l.length=0,r.dispatchEvent(new Event("stop"))}),I.postMessage([]),I.close(),M()),{dataView:Y,elementType:F,encoderInstanceId:x,port:I}})});g!==void 0&&O.then(({encoderInstanceId:k})=>{T||(c=p(k,g))})}u.start(100)},stop:m}},"createWebmPcmMediaRecorderFactory"),nEe=a(()=>typeof window>"u"?null:window,"createWindow"),x8=a((t,e)=>{if(e>=t.byteLength)return null;const n=t.getUint8(e);if(n>127)return 1;if(n>63)return 2;if(n>31)return 3;if(n>15)return 4;if(n>7)return 5;if(n>3)return 6;if(n>1)return 7;if(n>0)return 8;const r=x8(t,e+1);return r===null?null:r+8},"readVariableSizeIntegerLength"),rEe=a((t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},"wrapEventListener"),C8=[],Zk=nEe(),iEe=U1e(Zk),I8=D1e(iEe),sEe=eEe(I8,F1e,$1e,mE),Qk=H1e(x8),oEe=V1e(Qk),aEe=W1e(Qk),lEe=M1e(oEe,aEe),uEe=tEe(I8,lEe,Qk),cEe=L1e(Zk),fEe=z1e(Zk),gke=B1e(j1e(mE),mE,sEe,uEe,C8,P1e(cEe,rEe),fEe),hEe=new WeakMap,yke=a(async t=>{const e=await N1e(t);C8.push(e),hEe.set(t,e)},"register"),dEe=PF({characterize:a(({call:t})=>()=>t("characterize"),"characterize"),encode:a(({call:t})=>(e,n)=>t("encode",{recordingId:e,timeslice:n}),"encode"),record:a(({call:t})=>async(e,n,r)=>{await t("record",{recordingId:e,sampleRate:n,typedArrays:r},r.map(({buffer:i})=>i))},"record")}),pEe=a(t=>{const e=new Worker(t);return dEe(e)},"load"),mEe=`(()=>{var e={455:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,s=536870912,a=2*s,o=function(e,t){return function(r){var o=t.get(r),i=void 0===o?r.size:o<a?o+1:0;if(!r.has(i))return e(r,i);if(r.size<s){for(;r.has(i);)i=Math.floor(Math.random()*a);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,c=r(i),l=o(c,i),u=t(l);e.addUniqueNumber=u,e.generateUniqueNumber=l}(t)}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}(()=>{"use strict";const e=-32603,t=-32602,n=-32601,s=(e,t)=>Object.assign(new Error(e),{status:t}),a=t=>s('The handler of the method called "'.concat(t,'" returned an unexpected result.'),e),o=(t,r)=>async({data:{id:o,method:i,params:c}})=>{const l=r[i];try{if(void 0===l)throw(e=>s('The requested method called "'.concat(e,'" is not supported.'),n))(i);const r=void 0===c?l():l(c);if(void 0===r)throw(t=>s('The handler of the method called "'.concat(t,'" returned no required result.'),e))(i);const u=r instanceof Promise?await r:r;if(null===o){if(void 0!==u.result)throw a(i)}else{if(void 0===u.result)throw a(i);const{result:e,transferables:r=[]}=u;t.postMessage({id:o,result:e},r)}}catch(e){const{message:r,status:n=-32603}=e;t.postMessage({error:{code:n,message:r},id:o})}};var i=r(455);const c=new Map,l=(e,r,n)=>({...r,connect:({port:t})=>{t.start();const n=e(t,r),s=(0,i.generateUniqueNumber)(c);return c.set(s,(()=>{n(),t.close(),c.delete(s)})),{result:s}},disconnect:({portId:e})=>{const r=c.get(e);if(void 0===r)throw(e=>s('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),t))(e);return r(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=({data:t})=>e(null!==t),n.postMessage(t,[t])}))){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),u=(e,t,r=()=>!0)=>{const n=l(u,t,r),s=o(e,n);return e.addEventListener("message",s),()=>e.removeEventListener("message",s)},d=e=>e.reduce(((e,t)=>e+t.length),0),h=(e,t)=>{const r=[];let n=0;e:for(;n<t;){const t=e.length;for(let s=0;s<t;s+=1){const t=e[s];void 0===r[s]&&(r[s]=[]);const a=t.shift();if(void 0===a)break e;r[s].push(a),0===s&&(n+=a.length)}}if(n>t){const s=n-t;r.forEach(((t,r)=>{const n=t.pop(),a=n.length-s;t.push(n.subarray(0,a)),e[r].unshift(n.subarray(a))}))}return r},f=new Map,m=(e=>(t,r,n)=>{const s=e.get(t);if(void 0===s){const s={channelDataArrays:n.map((e=>[e])),isComplete:!0,sampleRate:r};return e.set(t,s),s}return s.channelDataArrays.forEach(((e,t)=>e.push(n[t]))),s})(f),p=((e,t)=>(r,n,s,a)=>{const o=s>>3,i="subsequent"===n?0:44,c=r.length,l=e(r[0]),u=new ArrayBuffer(l*c*o+i),d=new DataView(u);return"subsequent"!==n&&t(d,s,c,"complete"===n?l:Number.POSITIVE_INFINITY,a),r.forEach(((e,t)=>{let r=i+t*o;e.forEach((e=>{const t=e.length;for(let n=0;n<t;n+=1){const t=e[n];d.setInt16(r,t<0?32768*Math.max(-1,t):32767*Math.min(1,t),!0),r+=c*o}}))})),[u]})(d,((e,t,r,n,s)=>{const a=t>>3,o=Math.min(n*r*a,4294967251);e.setUint32(0,1380533830),e.setUint32(4,o+36,!0),e.setUint32(8,1463899717),e.setUint32(12,1718449184),e.setUint32(16,16,!0),e.setUint16(20,1,!0),e.setUint16(22,r,!0),e.setUint32(24,s,!0),e.setUint32(28,s*r*a,!0),e.setUint16(32,r*a,!0),e.setUint16(34,t,!0),e.setUint32(36,1684108385),e.setUint32(40,o,!0)})),v=new Map;u(self,{characterize:()=>({result:/^audio\\/wav$/}),encode:({recordingId:e,timeslice:t})=>{const r=v.get(e);void 0!==r&&(v.delete(e),r.reject(new Error("Another request was made to initiate an encoding.")));const n=f.get(e);if(null!==t){if(void 0===n||d(n.channelDataArrays[0])*(1e3/n.sampleRate)<t)return new Promise(((r,n)=>{v.set(e,{reject:n,resolve:r,timeslice:t})}));const r=h(n.channelDataArrays,Math.ceil(t*(n.sampleRate/1e3))),s=p(r,n.isComplete?"initial":"subsequent",16,n.sampleRate);return n.isComplete=!1,{result:s,transferables:s}}if(void 0!==n){const t=p(n.channelDataArrays,n.isComplete?"complete":"subsequent",16,n.sampleRate);return f.delete(e),{result:t,transferables:t}}return{result:[],transferables:[]}},record:({recordingId:e,sampleRate:t,typedArrays:r})=>{const n=m(e,t,r),s=v.get(e);if(void 0!==s&&d(n.channelDataArrays[0])*(1e3/t)>=s.timeslice){const r=h(n.channelDataArrays,Math.ceil(s.timeslice*(t/1e3))),a=p(r,n.isComplete?"initial":"subsequent",16,t);n.isComplete=!1,v.delete(e),s.resolve({result:a,transferables:a})}return{result:null}}})})()})();`,gEe=new Blob([mEe],{type:"application/javascript; charset=utf-8"}),R8=URL.createObjectURL(gEe),yEe=pEe(R8),_ke=yEe.connect;URL.revokeObjectURL(R8);function O8(t,e=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.min(n,Math.max(e,t))}a(O8,"clamp");function eA(t,e){const n=typeof t=="string"&&!e?`${t}Context`:e,r=Symbol(n);return[a(o=>{const l=yO(r,o);if(l||l===null)return l;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(t)?`one of the following components: ${t.join(", ")}`:`\`${t}\``}`)},"injectContext"),a(o=>(_O(r,o),o),"provideContext")]}a(eA,"createContext");function N8(t){return t?t.flatMap(e=>e.type===J_?N8(e.children):[e]):[]}a(N8,"renderSlotFragments");const[_Ee,bke]=eA("ConfigProvider");typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const bEe=a(t=>typeof t<"u","isDef"),wEe=vi;function Qy(t){var e;const n=vi(t);return(e=n?.$el)!=null?e:n}a(Qy,"unrefElement");function EEe(){const t=Am(!1),e=dl();return e&&qh(()=>{t.value=!0},e),t}a(EEe,"useMounted");function vEe(t){return JSON.parse(JSON.stringify(t))}a(vEe,"cloneFnJSON");function SEe(t,e,n,r={}){var i,s,o;const{clone:l=!1,passive:u=!1,eventName:c,deep:f=!1,defaultValue:h,shouldEmit:p}=r,m=dl(),g=n||m?.emit||((i=m?.$emit)==null?void 0:i.bind(m))||((o=(s=m?.proxy)==null?void 0:s.$emit)==null?void 0:o.bind(m?.proxy));let y=c;y=y||`update:${e.toString()}`;const _=a(T=>l?typeof l=="function"?l(T):vEe(T):T,"cloneFn"),w=a(()=>bEe(t[e])?_(t[e]):h,"getValue2"),S=a(T=>{p?p(T)&&g(y,T):g(y,T)},"triggerEmit");if(u){const T=w(),N=le(T);let O=!1;return St(()=>t[e],M=>{O||(O=!0,N.value=_(M),Eu(()=>O=!1))}),St(N,M=>{!O&&(M!==t[e]||f)&&S(M)},{deep:f}),N}else return be({get(){return w()},set(T){S(T)}})}a(SEe,"useVModel");function kEe(t){const e=_Ee({dir:le("ltr")});return be(()=>t?.value||e.dir?.value||"ltr")}a(kEe,"useDirection");function AEe(t){const e=dl(),n=e?.type.emits,r={};return n?.length||console.warn(`No emitted event found. Please check component: ${e?.type.__name}`),n?.forEach(i=>{r[l5(bO(i))]=(...s)=>t(i,...s)}),r}a(AEe,"useEmitAsProps");function TEe(t){return be(()=>wEe(t)?!!Qy(t)?.closest("form"):!0)}a(TEe,"useFormControl");function Nl(){const t=dl(),e=le(),n=be(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:Qy(e)),r=Object.assign({},t.exposed),i={};for(const o in t.props)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:a(()=>t.props[o],"get")});if(Object.keys(r).length>0)for(const o in r)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:a(()=>r[o],"get")});Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:a(()=>t.vnode.el,"get")}),t.exposed=i;function s(o){e.value=o,o&&(Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:a(()=>o instanceof Element?o:o.$el,"get")}),t.exposed=i)}return a(s,"forwardRef"),{forwardRef:s,currentRef:e,currentElement:n}}a(Nl,"useForwardExpose");function xEe(t){const e=dl(),n=Object.keys(e?.type.props??{}).reduce((i,s)=>{const o=(e?.type.props[s]).default;return o!==void 0&&(i[s]=o),i},{}),r=mO(t);return be(()=>{const i={},s=e?.vnode.props??{};return Object.keys(s).forEach(o=>{i[bO(o)]=s[o]}),Object.keys({...n,...i}).reduce((o,l)=>(r.value[l]!==void 0&&(o[l]=r.value[l]),o),{})})}a(xEe,"useForwardProps");function wke(t,e){const n=xEe(t),r=e?AEe(e):{};return be(()=>({...n.value,...r}))}a(wke,"useForwardPropsEmits");function CEe(t){const e=le(),n=be(()=>e.value?.width??0),r=be(()=>e.value?.height??0);return qh(()=>{const i=Qy(t);if(i){e.value={width:i.offsetWidth,height:i.offsetHeight};const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let u,c;if("borderBoxSize"in l){const f=l.borderBoxSize,h=Array.isArray(f)?f[0]:f;u=h.inlineSize,c=h.blockSize}else u=i.offsetWidth,c=i.offsetHeight;e.value={width:u,height:c}});return s.observe(i,{box:"border-box"}),()=>s.unobserve(i)}else e.value=void 0}),{width:n,height:r}}a(CEe,"useSize");const TE=Tn({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:n}){return()=>{if(!n.default)return null;const r=N8(n.default()),i=r.findIndex(u=>u.type!==u5);if(i===-1)return r;const s=r[i];delete s.props?.ref;const o=s.props?Io(e,s.props):e,l=c5({...s,props:{}},o);return r.length===1?l:(r[i]=l,r)}}}),IEe=["area","img","input"],zd=Tn({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:n}){const r=t.asChild?"template":t.as;return typeof r=="string"&&IEe.includes(r)?()=>xf(r,e):r!=="template"?()=>xf(t.as,e,{default:n.default}):()=>xf(TE,e,{default:n.default})}});function xE(){const t=le(),e=be(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:Qy(t));return{primitiveElement:t,currentElement:e}}a(xE,"usePrimitiveElement");const dO="data-reka-collection-item";function tA(t={}){const{key:e="",isProvider:n=!1}=t,r=`${e}CollectionProvider`;let i;if(n){const f=le(new Map);i={collectionRef:le(),itemMap:f},_O(r,i)}else i=yO(r);const s=a((f=!1)=>{const h=i.collectionRef.value;if(!h)return[];const p=Array.from(h.querySelectorAll(`[${dO}]`)),g=Array.from(i.itemMap.value.values()).sort((y,_)=>p.indexOf(y.ref)-p.indexOf(_.ref));return f?g:g.filter(y=>y.ref.dataset.disabled!=="")},"getItems"),o=Tn({name:"CollectionSlot",setup(f,{slots:h}){const{primitiveElement:p,currentElement:m}=xE();return St(m,()=>{i.collectionRef.value=m.value}),()=>xf(TE,{ref:p},h)}}),l=Tn({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:a(()=>!0,"validator")}},setup(f,{slots:h,attrs:p}){const{primitiveElement:m,currentElement:g}=xE();return gO(y=>{if(g.value){const _=f5(g.value);i.itemMap.value.set(_,{ref:g.value,value:f.value}),y(()=>i.itemMap.value.delete(_))}}),()=>xf(TE,{...p,[dO]:"",ref:m},h)}}),u=be(()=>Array.from(i.itemMap.value.values())),c=be(()=>i.itemMap.value.size);return{getItems:s,reactiveItems:u,itemMapSize:c,CollectionSlot:o,CollectionItem:l}}a(tA,"useCollection");var REe=Tn({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){return(e,n)=>(un(),$n(oe(zd),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:ti(()=>[Fs(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),OEe=REe,NEe=Tn({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(t){const e=t,{primitiveElement:n,currentElement:r}=xE(),i=be(()=>e.checked??e.value);return St(i,(s,o)=>{if(!r.value)return;const l=r.value,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(f&&s!==o){const h=new Event("input",{bubbles:!0}),p=new Event("change",{bubbles:!0});f.call(l,s),l.dispatchEvent(h),l.dispatchEvent(p)}}),(s,o)=>(un(),$n(OEe,Io({ref_key:"primitiveElement",ref:n},{...e,...s.$attrs},{as:"input"}),null,16))}}),pO=NEe,DEe=Tn({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(t){const e=t,n=be(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),r=be(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"||e.value===null||e.value===void 0?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((i,s)=>typeof i=="object"?Object.entries(i).map(([o,l])=>({name:`${e.name}[${s}][${o}]`,value:l})):{name:`${e.name}[${s}]`,value:i}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([i,s])=>({name:`${e.name}[${i}]`,value:s})):[]);return(i,s)=>(un(),LA(J_,null,[wO(" We render single input if it's required "),n.value?(un(),$n(pO,Io({key:i.name},{...e,...i.$attrs},{name:i.name,value:i.value}),null,16,["name","value"])):(un(!0),LA(J_,{key:1},h5(r.value,o=>(un(),$n(pO,Io({key:o.name},{ref_for:!0},{...e,...i.$attrs},{name:o.name,value:o.value}),null,16,["name","value"]))),128))],2112))}}),MEe=DEe;function PEe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}a(PEe,"getNextSortedValues");function D8(t,e,n){const s=100/(n-e)*(t-e);return O8(s,0,100)}a(D8,"convertValueToPercentage");function LEe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}a(LEe,"getLabel");function FEe(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}a(FEe,"getClosestValueIndex");function $Ee(t,e,n){const r=t/2,s=nA([0,50],[0,r]);return(r-s(e)*n)*n}a($Ee,"getThumbInBoundsOffset");function BEe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}a(BEe,"getStepsBetweenValues");function UEe(t,e){if(e>0){const n=BEe(t);return Math.min(...n)>=e}return!0}a(UEe,"hasMinStepsBetweenValues");function nA(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}a(nA,"linearScale");function zEe(t){return(String(t).split(".")[1]||"").length}a(zEe,"getDecimalCount");function jEe(t,e){const n=10**e;return Math.round(t*n)/n}a(jEe,"roundValue");const M8=["PageUp","PageDown"],P8=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],L8={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageUp","ArrowUp","ArrowLeft"]},[F8,$8]=eA(["SliderVertical","SliderHorizontal"]);var VEe=Tn({__name:"SliderHorizontal",props:{dir:{type:String,required:!1},min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const n=t,r=e,{max:i,min:s,dir:o,inverted:l}=vu(n),{forwardRef:u,currentElement:c}=Nl(),f=Rc(),h=le(),p=le(),m=be(()=>o?.value!=="rtl"&&!l.value||o?.value!=="ltr"&&l.value);function g(S,T){const N=p.value||c.value.getBoundingClientRect(),O=[...f.thumbElements.value][f.valueIndexToChangeRef.value],M=f.thumbAlignment.value==="contain"?O.clientWidth:0;!h.value&&!T&&f.thumbAlignment.value==="contain"&&(h.value=S.clientX-O.getBoundingClientRect().left);const k=[0,N.width-M],v=m.value?[s.value,i.value]:[i.value,s.value],A=nA(k,v);p.value=N;const C=T?S.clientX-N.left-M/2:S.clientX-N.left-(h.value??0);return A(C)}a(g,"getValueFromPointerEvent");const y=be(()=>m.value?"left":"right"),_=be(()=>m.value?"right":"left"),w=be(()=>m.value?1:-1);return $8({startEdge:y,endEdge:_,direction:w,size:"width"}),(S,T)=>(un(),$n(B8,{ref:oe(u),dir:oe(o),"data-orientation":"horizontal",style:IE({"--reka-slider-thumb-transform":!m.value&&oe(f).thumbAlignment.value==="overflow"?"translateX(50%)":"translateX(-50%)"}),onSlideStart:T[0]||(T[0]=N=>{const O=g(N,!0);r("slideStart",O)}),onSlideMove:T[1]||(T[1]=N=>{const O=g(N);r("slideMove",O)}),onSlideEnd:T[2]||(T[2]=()=>{p.value=void 0,h.value=void 0,r("slideEnd")}),onStepKeyDown:T[3]||(T[3]=N=>{const O=m.value?"from-left":"from-right",M=oe(L8)[O].includes(N.key);r("stepKeyDown",N,M?-1:1)}),onEndKeyDown:T[4]||(T[4]=N=>r("endKeyDown",N)),onHomeKeyDown:T[5]||(T[5]=N=>r("homeKeyDown",N))},{default:ti(()=>[Fs(S.$slots,"default")]),_:3},8,["dir","style"]))}}),WEe=VEe,HEe=Tn({__name:"SliderVertical",props:{min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const n=t,r=e,{max:i,min:s,inverted:o}=vu(n),l=Rc(),{forwardRef:u,currentElement:c}=Nl(),f=le(),h=le(),p=be(()=>!o.value);function m(w,S){const T=h.value||c.value.getBoundingClientRect(),N=[...l.thumbElements.value][l.valueIndexToChangeRef.value],O=l.thumbAlignment.value==="contain"?N.clientHeight:0;!f.value&&!S&&l.thumbAlignment.value==="contain"&&(f.value=w.clientY-N.getBoundingClientRect().top);const M=[0,T.height-O],k=p.value?[i.value,s.value]:[s.value,i.value],v=nA(M,k),A=S?w.clientY-T.top-O/2:w.clientY-T.top-(f.value??0);return h.value=T,v(A)}a(m,"getValueFromPointerEvent");const g=be(()=>p.value?"bottom":"top"),y=be(()=>p.value?"top":"bottom"),_=be(()=>p.value?1:-1);return $8({startEdge:g,endEdge:y,direction:_,size:"height"}),(w,S)=>(un(),$n(B8,{ref:oe(u),"data-orientation":"vertical",style:IE({"--reka-slider-thumb-transform":!p.value&&oe(l).thumbAlignment.value==="overflow"?"translateY(-50%)":"translateY(50%)"}),onSlideStart:S[0]||(S[0]=T=>{const N=m(T,!0);r("slideStart",N)}),onSlideMove:S[1]||(S[1]=T=>{const N=m(T);r("slideMove",N)}),onSlideEnd:S[2]||(S[2]=()=>{h.value=void 0,f.value=void 0,r("slideEnd")}),onStepKeyDown:S[3]||(S[3]=T=>{const N=p.value?"from-bottom":"from-top",O=oe(L8)[N].includes(T.key);r("stepKeyDown",T,O?-1:1)}),onEndKeyDown:S[4]||(S[4]=T=>r("endKeyDown",T)),onHomeKeyDown:S[5]||(S[5]=T=>r("homeKeyDown",T))},{default:ti(()=>[Fs(w.$slots,"default")]),_:3},8,["style"]))}}),qEe=HEe;const[Rc,GEe]=eA("SliderRoot");var KEe=Tn({inheritAttrs:!1,__name:"SliderRoot",props:{defaultValue:{type:Array,required:!1,default:a(()=>[0],"default")},modelValue:{type:[Array,null],required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},inverted:{type:Boolean,required:!1,default:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},minStepsBetweenThumbs:{type:Number,required:!1,default:0},thumbAlignment:{type:String,required:!1,default:"contain"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","valueCommit"],setup(t,{emit:e}){const n=t,r=e,{min:i,max:s,step:o,minStepsBetweenThumbs:l,orientation:u,disabled:c,thumbAlignment:f,dir:h}=vu(n),p=kEe(h),{forwardRef:m,currentElement:g}=Nl(),y=TEe(g),{CollectionSlot:_}=tA({isProvider:!0}),w=SEe(n,"modelValue",r,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),S=be(()=>Array.isArray(w.value)?[...w.value]:[]),T=le(0),N=le(S.value);function O(C){const x=FEe(S.value,C);v(C,x)}a(O,"handleSlideStart");function M(C){v(C,T.value)}a(M,"handleSlideMove");function k(){const C=N.value[T.value];S.value[T.value]!==C&&r("valueCommit",p5(S.value))}a(k,"handleSlideEnd");function v(C,x,{commit:I}={commit:!1}){const D=zEe(o.value),$=jEe(Math.round((C-i.value)/o.value)*o.value+i.value,D),F=O8($,i.value,s.value),B=PEe(S.value,F,x);if(UEe(B,l.value*o.value)){T.value=B.indexOf(F);const j=String(B)!==String(w.value);j&&I&&r("valueCommit",B),j&&(A.value[T.value]?.focus(),w.value=B)}}a(v,"updateValues");const A=le([]);return GEe({modelValue:w,currentModelValue:S,valueIndexToChangeRef:T,thumbElements:A,orientation:u,min:i,max:s,disabled:c,thumbAlignment:f}),(C,x)=>(un(),$n(oe(_),null,{default:ti(()=>[(un(),$n(d5(oe(u)==="horizontal"?WEe:qEe),Io(C.$attrs,{ref:oe(m),"as-child":C.asChild,as:C.as,min:oe(i),max:oe(s),dir:oe(p),inverted:C.inverted,"aria-disabled":oe(c),"data-disabled":oe(c)?"":void 0,onPointerdown:x[0]||(x[0]=()=>{oe(c)||(N.value=S.value)}),onSlideStart:x[1]||(x[1]=I=>!oe(c)&&O(I)),onSlideMove:x[2]||(x[2]=I=>!oe(c)&&M(I)),onSlideEnd:x[3]||(x[3]=I=>!oe(c)&&k()),onHomeKeyDown:x[4]||(x[4]=I=>!oe(c)&&v(oe(i),0,{commit:!0})),onEndKeyDown:x[5]||(x[5]=I=>!oe(c)&&v(oe(s),S.value.length-1,{commit:!0})),onStepKeyDown:x[6]||(x[6]=(I,D)=>{if(!oe(c)){const B=oe(M8).includes(I.key)||I.shiftKey&&oe(P8).includes(I.key)?10:1,j=T.value,Y=S.value[j],V=oe(o)*B*D;v(Y+V,j,{commit:!0})}})}),{default:ti(()=>[Fs(C.$slots,"default",{modelValue:oe(w)}),oe(y)&&C.name?(un(),$n(oe(MEe),{key:0,type:"number",value:oe(w),name:C.name,required:C.required,disabled:oe(c),step:oe(o)},null,8,["value","name","required","disabled","step"])):wO("v-if",!0)]),_:3},16,["as-child","as","min","max","dir","inverted","aria-disabled","data-disabled"]))]),_:3}))}}),Eke=KEe,YEe=Tn({__name:"SliderImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},emits:["slideStart","slideMove","slideEnd","homeKeyDown","endKeyDown","stepKeyDown"],setup(t,{emit:e}){const n=t,r=e,i=Rc();return(s,o)=>(un(),$n(oe(zd),Io({"data-slider-impl":""},n,{onKeydown:o[0]||(o[0]=l=>{l.key==="Home"?(r("homeKeyDown",l),l.preventDefault()):l.key==="End"?(r("endKeyDown",l),l.preventDefault()):oe(M8).concat(oe(P8)).includes(l.key)&&(r("stepKeyDown",l),l.preventDefault())}),onPointerdown:o[1]||(o[1]=l=>{const u=l.target;u.setPointerCapture(l.pointerId),l.preventDefault(),oe(i).thumbElements.value.includes(u)?u.focus():r("slideStart",l)}),onPointermove:o[2]||(o[2]=l=>{l.target.hasPointerCapture(l.pointerId)&&r("slideMove",l)}),onPointerup:o[3]||(o[3]=l=>{const u=l.target;u.hasPointerCapture(l.pointerId)&&(u.releasePointerCapture(l.pointerId),r("slideEnd",l))})}),{default:ti(()=>[Fs(s.$slots,"default")]),_:3},16))}}),B8=YEe,JEe=Tn({__name:"SliderRange",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=Rc(),n=F8();Nl();const r=be(()=>e.currentModelValue.value.map(o=>D8(o,e.min.value,e.max.value))),i=be(()=>e.currentModelValue.value.length>1?Math.min(...r.value):0),s=be(()=>100-Math.max(...r.value,0));return(o,l)=>(un(),$n(oe(zd),{"data-disabled":oe(e).disabled.value?"":void 0,"data-orientation":oe(e).orientation.value,"as-child":o.asChild,as:o.as,style:IE({[oe(n).startEdge.value]:`${i.value}%`,[oe(n).endEdge.value]:`${s.value}%`})},{default:ti(()=>[Fs(o.$slots,"default")]),_:3},8,["data-disabled","data-orientation","as-child","as","style"]))}}),vke=JEe,XEe=Tn({inheritAttrs:!1,__name:"SliderThumbImpl",props:{index:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t,n=Rc(),r=F8(),{forwardRef:i,currentElement:s}=Nl(),{CollectionItem:o}=tA(),l=be(()=>n.modelValue?.value?.[e.index]),u=be(()=>l.value===void 0?0:D8(l.value,n.min.value??0,n.max.value??100)),c=be(()=>LEe(e.index,n.modelValue?.value?.length??0)),f=CEe(s),h=be(()=>f[r.size].value),p=be(()=>n.thumbAlignment.value==="overflow"||!h.value?0:$Ee(h.value,u.value,r.direction.value)),m=EEe();return qh(()=>{n.thumbElements.value.push(s.value)}),m5(()=>{const g=n.thumbElements.value.findIndex(y=>y===s.value)??-1;n.thumbElements.value.splice(g,1)}),(g,y)=>(un(),$n(oe(o),null,{default:ti(()=>[g5(oe(zd),Io(g.$attrs,{ref:oe(i),role:"slider",tabindex:oe(n).disabled.value?void 0:0,"aria-label":g.$attrs["aria-label"]||c.value,"data-disabled":oe(n).disabled.value?"":void 0,"data-orientation":oe(n).orientation.value,"aria-valuenow":l.value,"aria-valuemin":oe(n).min.value,"aria-valuemax":oe(n).max.value,"aria-orientation":oe(n).orientation.value,"as-child":g.asChild,as:g.as,style:{transform:"var(--reka-slider-thumb-transform)",position:"absolute",[oe(r).startEdge.value]:`calc(${u.value}% + ${p.value}px)`,display:!oe(m)&&l.value===void 0?"none":void 0},onFocus:y[0]||(y[0]=()=>{oe(n).valueIndexToChangeRef.value=g.index})}),{default:ti(()=>[Fs(g.$slots,"default")]),_:3},16,["tabindex","aria-label","data-disabled","data-orientation","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","as-child","as","style"])]),_:3}))}}),ZEe=XEe,QEe=Tn({__name:"SliderThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=t,{getItems:n}=tA(),{forwardRef:r,currentElement:i}=Nl(),s=be(()=>i.value?n(!0).findIndex(o=>o.ref===i.value):-1);return(o,l)=>(un(),$n(ZEe,Io({ref:oe(r)},e,{index:s.value}),{default:ti(()=>[Fs(o.$slots,"default")]),_:3},16,["index"]))}}),Ske=QEe,eve=Tn({__name:"SliderTrack",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=Rc();return Nl(),(n,r)=>(un(),$n(oe(zd),{"as-child":n.asChild,as:n.as,"data-disabled":oe(e).disabled.value?"":void 0,"data-orientation":oe(e).orientation.value},{default:ti(()=>[Fs(n.$slots,"default")]),_:3},8,["as-child","as","data-disabled","data-orientation"]))}}),kke=eve;export{$Se as $,p4 as A,Z as B,ASe as C,xSe as D,Na as E,W as F,tce as G,r4 as H,en as I,oSe as J,kf as K,kc as L,aSe as M,pe as N,OSe as O,Ac as P,NSe as Q,Yt as R,Ee as S,v4 as T,wL as U,RSe as V,DSe as W,MSe as X,PSe as Y,LSe as Z,FSe as _,Cd as a,gve as a$,WSe as a0,BSe as a1,USe as a2,dk as a3,jSe as a4,zSe as a5,VSe as a6,ede as a7,pt as a8,HSe as a9,vve as aA,wve as aB,bve as aC,wj as aD,Ot as aE,ir as aF,FG as aG,Gve as aH,Lu as aI,zu as aJ,Kve as aK,Ed as aL,Yve as aM,Jve as aN,Zv as aO,eY as aP,He as aQ,oh as aR,Rve as aS,Ct as aT,Fve as aU,Zve as aV,Qve as aW,Wve as aX,ao as aY,lo as aZ,pve as a_,qSe as aa,GSe as ab,KSe as ac,jde as ad,Vde as ae,YSe as af,Cr as ag,JSe as ah,ZSe as ai,Fge as aj,u$ as ak,ml as al,ce as am,ive as an,rve as ao,Gr as ap,ib as aq,sve as ar,$E as as,We as at,Ta as au,MU as av,ove as aw,mve as ax,ave as ay,uve as az,wSe as b,iSe as b$,Ki as b0,lve as b1,dve as b2,_ve as b3,hve as b4,fve as b5,Eve as b6,yve as b7,cve as b8,PG as b9,et as bA,nke as bB,_0 as bC,RX as bD,Ive as bE,QK as bF,Ave as bG,$X as bH,rke as bI,LK as bJ,VG as bK,BY as bL,ly as bM,lZ as bN,xK as bO,Dve as bP,Nve as bQ,LQ as bR,ike as bS,PX as bT,$3 as bU,NK as bV,D3 as bW,ng as bX,bY,Uve as bZ,az as b_,pn as ba,kve as bb,tSe as bc,eSe as bd,vc as be,rSe as bf,nSe as bg,S3 as bh,MX as bi,iM as bj,$ve as bk,MG as bl,Bve as bm,jve as bn,v3 as bo,Mve as bp,si as bq,Vve as br,xve as bs,sSe as bt,QSe as bu,eke as bv,tke as bw,V0e as bx,$i as by,x3 as bz,xd as c,J3 as c0,zve as c1,Lve as c2,T3 as c3,RG as c4,Ove as c5,GG as c6,Hve as c7,vG as c8,Sve as c9,Pve as ca,qve as cb,uM as cc,Tve as cd,wke as ce,Eke as cf,kke as cg,vke as ch,Ske as ci,yM as cj,gke as ck,Cve as cl,yke as cm,_ke as cn,jY as co,Ne as d,lSe as e,f4 as f,bSe as g,gSe as h,uSe as i,mSe as j,dSe as k,Td as l,g4 as m,cSe as n,fSe as o,ySe as p,ESe as q,CSe as r,_Se as s,hSe as t,pSe as u,vSe as v,kSe as w,SSe as x,TSe as y,ISe as z};
//# sourceMappingURL=vendor-other-_sromytg.js.map
